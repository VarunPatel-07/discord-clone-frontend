/*! For license information please see app.js.LICENSE.txt */
(()=>{var e,t,i={4066:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=i.p+"index.html"},522:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=i.p+"privacy-policy.md"},3314:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=i.p+"readme-picture.png"},7453:(e,t,i)=>{var n;self.MonacoEnvironment=(n={editorWorkerService:"editor.worker.js",css:"css.worker.js",html:"html.worker.js",json:"json.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"},{globalAPI:!1,getWorkerUrl:function(e,t){var o=i.p,s=(o?o.replace(/\/$/,"")+"/":"")+n[t];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(s)){var r=String(window.location),a=r.substr(0,r.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(s.substring(0,a.length)!==a){/^(\/\/)/.test(s)&&(s=window.location.protocol+s);var l=new Blob(["/*"+t+'*/importScripts("'+s+'");'],{type:"application/javascript"});return URL.createObjectURL(l)}}return s}}),i(9477),i(236),i(1387),i(9317),i(4367),i(2102),i(5833),i(7885),i(5729),i(5125),i(3365),i(3740),i(4907),i(1895),i(6022),i(6917),i(2482),i(1633),i(8370),i(4125),i(1097),i(874),i(3588),i(628),i(2470),i(9427),i(9646),i(6353),i(4602),i(8782),i(7813),i(7830),i(7615),i(5766),i(76),i(7253),i(7061),i(5313),i(8956),i(8944),i(8766),i(3945),i(5048),i(2894),i(102),i(8762),i(1984),i(4804),i(8088),i(5662),i(4662),i(2614),i(2954),i(9607),i(1271),i(943),i(7181),i(6709),e.exports=i(6857),i(9126),i(9808),i(3598),i(2508),i(497),i(2094),i(6334),i(253),i(9540),i(8162),i(9556),i(6292),i(605),i(282),i(2429),i(4129),i(8765),i(3814),i(5067),i(1589),i(7820),i(927),i(6220),i(1526),i(4091),i(201),i(8423),i(7476),i(6745),i(3763),i(2323),i(6595),i(6831),i(6079),i(158),i(8698),i(2665),i(1944),i(7365),i(9796),i(5769),i(1714),i(6935),i(2893),i(7616),i(3335),i(6266),i(9723),i(5788),i(8746),i(4992),i(6563),i(7296),i(5098),i(3187),i(2026),i(6194),i(5566),i(6254),i(5734),i(191),i(3127),i(4483),i(840),i(7266),i(2375),i(6461),i(6628),i(185),i(7776),i(8118),i(6337),i(7530),i(5929),i(7918),i(6205),i(6837),i(8307),i(9585),i(8203),i(1905),i(4199)},8761:(e,t,i)=>{var n;self.MonacoEnvironment=(n={editorWorkerService:"editor.worker.js",css:"css.worker.js",html:"html.worker.js",json:"json.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"},{globalAPI:!1,getWorkerUrl:function(e,t){var o=i.p,s=(o?o.replace(/\/$/,"")+"/":"")+n[t];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(s)){var r=String(window.location),a=r.substr(0,r.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(s.substring(0,a.length)!==a){/^(\/\/)/.test(s)&&(s=window.location.protocol+s);var l=new Blob(["/*"+t+'*/importScripts("'+s+'");'],{type:"application/javascript"});return URL.createObjectURL(l)}}return s}}),i(9477),i(236),i(1387),i(9317),i(4367),i(2102),i(5833),i(7885),i(5729),i(5125),i(3365),i(3740),i(4907),i(1895),i(6022),i(6917),i(2482),i(1633),i(8370),i(4125),i(1097),i(874),i(3588),i(628),i(2470),i(9427),i(9646),i(6353),i(4602),i(8782),i(7813),i(7830),i(7615),i(5766),i(76),i(7253),i(7061),i(5313),i(8956),i(8944),i(8766),i(3945),i(5048),i(2894),i(102),i(8762),i(1984),i(4804),i(8088),i(5662),i(4662),i(2614),i(2954),i(9607),i(1271),i(943),i(7181),i(6709),e.exports=i(4775),i(9126),i(9808),i(3598),i(2508),i(497),i(2094),i(6334),i(253),i(9540),i(8162),i(9556),i(6292),i(605),i(282),i(2429),i(4129),i(8765),i(3814),i(5067),i(1589),i(7820),i(927),i(6220),i(1526),i(4091),i(201),i(8423),i(7476),i(6745),i(3763),i(2323),i(6595),i(6831),i(6079),i(158),i(8698),i(2665),i(1944),i(7365),i(9796),i(5769),i(1714),i(6935),i(2893),i(7616),i(3335),i(6266),i(9723),i(5788),i(8746),i(4992),i(6563),i(7296),i(5098),i(3187),i(2026),i(6194),i(5566),i(6254),i(5734),i(191),i(3127),i(4483),i(840),i(7266),i(2375),i(6461),i(6628),i(185),i(7776),i(8118),i(6337),i(7530),i(5929),i(7918),i(6205),i(6837),i(8307),i(9585),i(8203),i(1905),i(4199)},6268:(e,t,i)=>{"use strict";i.r(t),i.d(t,{PixelRatio:()=>d,addMatchMediaChangeListener:()=>l,getZoomFactor:()=>c,isAndroid:()=>_,isChrome:()=>p,isElectron:()=>v,isFirefox:()=>u,isSafari:()=>m,isStandalone:()=>C,isWebKit:()=>g,isWebkitWebView:()=>f});var n=i(4669),o=i(5976);class s{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}s.INSTANCE=new s;class r extends o.JT{constructor(){super(),this._onDidChange=this._register(new n.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(e){var t;null===(t=this._mediaQueryList)||void 0===t||t.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),e&&this._onDidChange.fire()}}class a extends o.JT{constructor(){super(),this._onDidChange=this._register(new n.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const e=this._register(new r);this._register(e.onDidChange((()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)})))}get value(){return this._value}_getPixelRatio(){const e=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}}function l(e,t){"string"==typeof e&&(e=window.matchMedia(e)),e.addEventListener("change",t)}const d=new class{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,o.dk)(new a)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}};function c(){return s.INSTANCE.getZoomFactor()}const h=navigator.userAgent,u=h.indexOf("Firefox")>=0,g=h.indexOf("AppleWebKit")>=0,p=h.indexOf("Chrome")>=0,m=!p&&h.indexOf("Safari")>=0,f=!p&&!m&&g,v=h.indexOf("Electron/")>=0,_=h.indexOf("Android")>=0;let b=!1;if(window.matchMedia){const e=window.matchMedia("(display-mode: standalone)");b=e.matches,l(e,(({matches:e})=>{b=e}))}function C(){return b}},161:(e,t,i)=>{"use strict";i.d(t,{D:()=>s});var n=i(6268),o=i(1432);const s={clipboard:{writeText:o.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:o.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:o.tY||n.isStandalone()?0:navigator.keyboard||n.isSafari?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},3547:(e,t,i)=>{"use strict";i.d(t,{P:()=>o,g:()=>n});const n={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:i(1170).v.text},o={CurrentDragAndDropData:void 0}},5321:(e,t,i)=>{"use strict";i.d(t,{$:()=>de,$Z:()=>ce,Ay:()=>H,Ce:()=>oe,Cp:()=>he,D6:()=>x,DI:()=>M,Dx:()=>L,FK:()=>P,Fx:()=>W,GQ:()=>b,H$:()=>ue,I8:()=>T,IC:()=>C,If:()=>O,OO:()=>U,PO:()=>g,R3:()=>ne,Re:()=>Q,Ro:()=>D,Uh:()=>ge,Uw:()=>p,V3:()=>pe,_0:()=>ee,_F:()=>_e,_h:()=>ve,_q:()=>be,dS:()=>j,dp:()=>E,eg:()=>Ce,fk:()=>q,go:()=>ie,i:()=>A,jL:()=>w,jg:()=>F,jt:()=>me,lI:()=>y,mc:()=>se,mu:()=>_,nm:()=>f,tw:()=>Z,uN:()=>Y,uU:()=>z,vL:()=>X,vY:()=>G,w:()=>R,wY:()=>fe,wn:()=>V,xQ:()=>N,zB:()=>J});var n=i(6268),o=i(161),s=i(9069),r=i(7448),a=i(7301),l=i(4669),d=i(921),c=i(5976),h=i(6663),u=i(1432);function g(e){for(;e.firstChild;)e.firstChild.remove()}function p(e){var t;return null!==(t=null==e?void 0:e.isConnected)&&void 0!==t&&t}class m{constructor(e,t,i,n){this._node=e,this._type=t,this._handler=i,this._options=n||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function f(e,t,i,n){return new m(e,t,i,n)}function v(e){return function(t){return e(new r.n(t))}}const _=function(e,t,i,n){let o=i;return"click"===t||"mousedown"===t?o=v(i):"keydown"!==t&&"keypress"!==t&&"keyup"!==t||(o=function(e){return function(t){return e(new s.y(t))}}(i)),f(e,t,o,n)},b=function(e,t,i){return function(e,t,i){return f(e,u.gn&&o.D.pointerEvents?Z.POINTER_DOWN:Z.MOUSE_DOWN,t,i)}(e,v(t),i)};function C(e,t,i){let n=null;const o=e=>s.fire(e),s=new l.Q5({onFirstListenerAdd:()=>{n||(n=new m(e,t,o,i))},onLastListenerRemove:()=>{n&&(n.dispose(),n=null)}});return s}let y,w,S=null;class k{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){(0,a.dL)(e)}}static sort(e,t){return t.priority-e.priority}}function L(e){return document.defaultView.getComputedStyle(e,null)}function x(e){if(e!==document.body)return new D(e.clientWidth,e.clientHeight);if(u.gn&&window.visualViewport)return new D(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new D(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new D(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new D(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}!function(){let e=[],t=null,i=!1,n=!1;const o=()=>{for(i=!1,t=e,e=[],n=!0;t.length>0;)t.sort(k.sort),t.shift().execute();n=!1};w=(t,n=0)=>{const s=new k(t,n);return e.push(s),i||(i=!0,function(e){if(!S){const e=e=>setTimeout((()=>e((new Date).getTime())),0);S=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||e}S.call(self,e)}(o)),s},y=(e,i)=>{if(n){const n=new k(e,i);return t.push(n),n}return w(e,i)}}();class I{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){const n=L(e);let o="0";return n&&(o=n.getPropertyValue?n.getPropertyValue(t):n.getAttribute(i)),I.convertToPixels(e,o)}static getBorderLeftWidth(e){return I.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return I.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return I.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return I.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return I.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return I.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return I.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return I.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return I.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return I.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return I.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return I.getDimension(e,"margin-bottom","marginBottom")}}class D{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new D(e,t):this}static is(e){return"object"==typeof e&&"number"==typeof e.height&&"number"==typeof e.width}static lift(e){return e instanceof D?e:new D(e.width,e.height)}static equals(e,t){return e===t||!(!e||!t)&&e.width===t.width&&e.height===t.height}}function N(e){let t=e.offsetParent,i=e.offsetTop,n=e.offsetLeft;for(;null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement;){i-=e.scrollTop;const o=B(e)?null:L(e);o&&(n-="rtl"!==o.direction?e.scrollLeft:-e.scrollLeft),e===t&&(n+=I.getBorderLeftWidth(e),i+=I.getBorderTopWidth(e),i+=e.offsetTop,n+=e.offsetLeft,t=e.offsetParent)}return{left:n,top:i}}function E(e,t,i){"number"==typeof t&&(e.style.width=`${t}px`),"number"==typeof i&&(e.style.height=`${i}px`)}function A(e){const t=e.getBoundingClientRect();return{left:t.left+M.scrollX,top:t.top+M.scrollY,width:t.width,height:t.height}}function T(e){let t=e,i=1;do{const e=L(t).zoom;null!=e&&"1"!==e&&(i*=e),t=t.parentElement}while(null!==t&&t!==document.documentElement);return i}D.None=new D(0,0);const M=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function R(e){const t=I.getMarginLeft(e)+I.getMarginRight(e);return e.offsetWidth+t}function P(e){const t=I.getBorderLeftWidth(e)+I.getBorderRightWidth(e),i=I.getPaddingLeft(e)+I.getPaddingRight(e);return e.offsetWidth-t-i}function O(e){const t=I.getBorderTopWidth(e)+I.getBorderBottomWidth(e),i=I.getPaddingTop(e)+I.getPaddingBottom(e);return e.offsetHeight-t-i}function V(e){const t=I.getMarginTop(e)+I.getMarginBottom(e);return e.offsetHeight+t}function F(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function W(e,t,i){for(;e&&e.nodeType===e.ELEMENT_NODE;){if(e.classList.contains(t))return e;if(i)if("string"==typeof i){if(e.classList.contains(i))return null}else if(e===i)return null;e=e.parentNode}return null}function z(e,t,i){return!!W(e,t,i)}function B(e){return e&&!!e.host&&!!e.mode}function U(e){return!!H(e)}function H(e){for(;e.parentNode;){if(e===document.body)return null;e=e.parentNode}return B(e)?e:null}function G(){let e=document.activeElement;for(;null==e?void 0:e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function j(e=document.getElementsByTagName("head")[0]){const t=document.createElement("style");return t.type="text/css",t.media="screen",e.appendChild(t),t}let K=null;function $(){return K||(K=j()),K}function q(e,t,i=$()){i&&t&&i.sheet.insertRule(e+"{"+t+"}",0)}function Y(e,t=$()){if(!t)return;const i=function(e){var t,i;return(null===(t=null==e?void 0:e.sheet)||void 0===t?void 0:t.rules)?e.sheet.rules:(null===(i=null==e?void 0:e.sheet)||void 0===i?void 0:i.cssRules)?e.sheet.cssRules:[]}(t),n=[];for(let t=0;t<i.length;t++)-1!==i[t].selectorText.indexOf(e)&&n.push(t);for(let e=n.length-1;e>=0;e--)t.sheet.deleteRule(n[e])}function Q(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}const Z={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:n.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:n.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:n.isWebKit?"webkitAnimationIteration":"animationiteration"},J={stop:function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}};function X(e){const t=[];for(let i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)t[i]=e.scrollTop,e=e.parentNode;return t}function ee(e,t){for(let i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)e.scrollTop!==t[i]&&(e.scrollTop=t[i]),e=e.parentNode}class te extends c.JT{constructor(e){super(),this._onDidFocus=this._register(new l.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new l.Q5),this.onDidBlur=this._onDidBlur.event;let t=te.hasFocusWithin(e),i=!1;const n=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},o=()=>{t&&(i=!0,window.setTimeout((()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())}),0))};this._refreshStateHandler=()=>{te.hasFocusWithin(e)!==t&&(t?o():n())},this._register(f(e,Z.FOCUS,n,!0)),this._register(f(e,Z.BLUR,o,!0)),this._register(f(e,Z.FOCUS_IN,(()=>this._refreshStateHandler()))),this._register(f(e,Z.FOCUS_OUT,(()=>this._refreshStateHandler())))}static hasFocusWithin(e){const t=H(e);return F(t?t.activeElement:document.activeElement,e)}}function ie(e){return new te(e)}function ne(e,...t){if(e.append(...t),1===t.length&&"string"!=typeof t[0])return t[0]}function oe(e,t){return e.insertBefore(t,e.firstChild),t}function se(e,...t){e.innerText="",ne(e,...t)}const re=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var ae;function le(e,t,i,...n){const o=re.exec(t);if(!o)throw new Error("Bad use of emmet");i=Object.assign({},i||{});const s=o[1]||"div";let r;return r=e!==ae.HTML?document.createElementNS(e,s):document.createElement(s),o[3]&&(r.id=o[3]),o[4]&&(r.className=o[4].replace(/\./g," ").trim()),Object.keys(i).forEach((e=>{const t=i[e];void 0!==t&&(/^on\w+$/.test(e)?r[e]=t:"selected"===e?t&&r.setAttribute(e,"true"):r.setAttribute(e,t))})),r.append(...n),r}function de(e,t,...i){return le(ae.HTML,e,t,...i)}function ce(...e){for(const t of e)t.style.display="",t.removeAttribute("aria-hidden")}function he(...e){for(const t of e)t.style.display="none",t.setAttribute("aria-hidden","true")}function ue(e){return Array.prototype.slice.call(document.getElementsByTagName(e),0)}function ge(e){const t=window.devicePixelRatio*e;return Math.max(1,Math.floor(t))/window.devicePixelRatio}function pe(e){window.open(e,"_blank","noopener")}function me(e){const t=()=>{e(),i=w(t)};let i=w(t);return(0,c.OF)((()=>i.dispose()))}function fe(e){return e?`url('${h.Gi.asBrowserUri(e).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function ve(e){return`'${e.replace(/'/g,"%27")}'`}function _e(e,t=!1){const i=document.createElement("a");return d.v5("afterSanitizeAttributes",(n=>{for(const o of["href","src"])if(n.hasAttribute(o)){const s=n.getAttribute(o);if("href"===o&&s.startsWith("#"))continue;if(i.href=s,!e.includes(i.protocol.replace(/:$/,""))){if(t&&"src"===o&&i.href.startsWith("data:"))continue;n.removeAttribute(o)}}})),(0,c.OF)((()=>{d.ok("afterSanitizeAttributes")}))}!function(e){e.HTML="http://www.w3.org/1999/xhtml",e.SVG="http://www.w3.org/2000/svg"}(ae||(ae={})),de.SVG=function(e,t,...i){return le(ae.SVG,e,t,...i)},h.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");class be extends l.Q5{constructor(){super(),this._subscriptions=new c.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(f(window,"keydown",(e=>{if(e.defaultPrevented)return;const t=new s.y(e);if(6!==t.keyCode||!e.repeat){if(e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===t.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=e,this.fire(this._keyStatus))}}),!0)),this._subscriptions.add(f(window,"keyup",(e=>{e.defaultPrevented||(!e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=e,this.fire(this._keyStatus)))}),!0)),this._subscriptions.add(f(document.body,"mousedown",(()=>{this._keyStatus.lastKeyPressed=void 0}),!0)),this._subscriptions.add(f(document.body,"mouseup",(()=>{this._keyStatus.lastKeyPressed=void 0}),!0)),this._subscriptions.add(f(document.body,"mousemove",(e=>{e.buttons&&(this._keyStatus.lastKeyPressed=void 0)}),!0)),this._subscriptions.add(f(window,"blur",(()=>{this.resetKeyStatus()})))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return be.instance||(be.instance=new be),be.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class Ce extends c.JT{constructor(e,t){super(),this.element=e,this.callbacks=t,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(f(this.element,Z.DRAG_ENTER,(e=>{this.counter++,this.dragStartTime=e.timeStamp,this.callbacks.onDragEnter(e)}))),this._register(f(this.element,Z.DRAG_OVER,(e=>{var t,i;e.preventDefault(),null===(i=(t=this.callbacks).onDragOver)||void 0===i||i.call(t,e,e.timeStamp-this.dragStartTime)}))),this._register(f(this.element,Z.DRAG_LEAVE,(e=>{this.counter--,0===this.counter&&(this.dragStartTime=0,this.callbacks.onDragLeave(e))}))),this._register(f(this.element,Z.DRAG_END,(e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(e)}))),this._register(f(this.element,Z.DROP,(e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(e)})))}}},921:(e,t,i)=>{"use strict";i.d(t,{Nw:()=>J,ok:()=>ee,v5:()=>X});var n=Object.hasOwnProperty,o=Object.setPrototypeOf,s=Object.isFrozen,r=Object.getPrototypeOf,a=Object.getOwnPropertyDescriptor,l=Object.freeze,d=Object.seal,c=Object.create,h="undefined"!=typeof Reflect&&Reflect,u=h.apply,g=h.construct;u||(u=function(e,t,i){return e.apply(t,i)}),l||(l=function(e){return e}),d||(d=function(e){return e}),g||(g=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(t))))});var p,m=L(Array.prototype.forEach),f=L(Array.prototype.pop),v=L(Array.prototype.push),_=L(String.prototype.toLowerCase),b=L(String.prototype.match),C=L(String.prototype.replace),y=L(String.prototype.indexOf),w=L(String.prototype.trim),S=L(RegExp.prototype.test),k=(p=TypeError,function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return g(p,t)});function L(e){return function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return u(e,t,n)}}function x(e,t){o&&o(e,null);for(var i=t.length;i--;){var n=t[i];if("string"==typeof n){var r=_(n);r!==n&&(s(t)||(t[i]=r),n=r)}e[n]=!0}return e}function I(e){var t=c(null),i=void 0;for(i in e)u(n,e,[i])&&(t[i]=e[i]);return t}function D(e,t){for(;null!==e;){var i=a(e,t);if(i){if(i.get)return L(i.get);if("function"==typeof i.value)return L(i.value)}e=r(e)}return function(e){return console.warn("fallback value for",e),null}}var N=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),A=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),T=l(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),M=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),R=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P=l(["#text"]),O=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),V=l(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),F=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),W=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),z=d(/\{\{[\s\S]*|[\s\S]*\}\}/gm),B=d(/<%[\s\S]*|[\s\S]*%>/gm),U=d(/^data-[\-\w.\u00B7-\uFFFF]/),H=d(/^aria-[\-\w]+$/),G=d(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),j=d(/^(?:\w+script|data):/i),K=d(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function q(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var Y=function(){return"undefined"==typeof window?null:window},Q=function(e,t){if("object"!==(void 0===e?"undefined":$(e))||"function"!=typeof e.createPolicy)return null;var i=null,n="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(n)&&(i=t.currentScript.getAttribute(n));var o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}},Z=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y(),i=function(t){return e(t)};if(i.version="2.3.1",i.removed=[],!t||!t.document||9!==t.document.nodeType)return i.isSupported=!1,i;var n=t.document,o=t.document,s=t.DocumentFragment,r=t.HTMLTemplateElement,a=t.Node,d=t.Element,c=t.NodeFilter,h=t.NamedNodeMap,u=void 0===h?t.NamedNodeMap||t.MozNamedAttrMap:h,g=t.Text,p=t.Comment,L=t.DOMParser,Z=t.trustedTypes,J=d.prototype,X=D(J,"cloneNode"),ee=D(J,"nextSibling"),te=D(J,"childNodes"),ie=D(J,"parentNode");if("function"==typeof r){var ne=o.createElement("template");ne.content&&ne.content.ownerDocument&&(o=ne.content.ownerDocument)}var oe=Q(Z,n),se=oe&&Ve?oe.createHTML(""):"",re=o,ae=re.implementation,le=re.createNodeIterator,de=re.createDocumentFragment,ce=re.getElementsByTagName,he=n.importNode,ue={};try{ue=I(o).documentMode?o.documentMode:{}}catch(e){}var ge={};i.isSupported="function"==typeof ie&&ae&&void 0!==ae.createHTMLDocument&&9!==ue;var pe=z,me=B,fe=U,ve=H,_e=j,be=K,Ce=G,ye=null,we=x({},[].concat(q(N),q(E),q(A),q(M),q(P))),Se=null,ke=x({},[].concat(q(O),q(V),q(F),q(W))),Le=null,xe=null,Ie=!0,De=!0,Ne=!1,Ee=!1,Ae=!1,Te=!1,Me=!1,Re=!1,Pe=!1,Oe=!0,Ve=!1,Fe=!0,We=!0,ze=!1,Be={},Ue=null,He=x({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ge=null,je=x({},["audio","video","img","source","image","track"]),Ke=null,$e=x({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qe="http://www.w3.org/1998/Math/MathML",Ye="http://www.w3.org/2000/svg",Qe="http://www.w3.org/1999/xhtml",Ze=Qe,Je=!1,Xe=null,et=o.createElement("form"),tt=function(e){Xe&&Xe===e||(e&&"object"===(void 0===e?"undefined":$(e))||(e={}),e=I(e),ye="ALLOWED_TAGS"in e?x({},e.ALLOWED_TAGS):we,Se="ALLOWED_ATTR"in e?x({},e.ALLOWED_ATTR):ke,Ke="ADD_URI_SAFE_ATTR"in e?x(I($e),e.ADD_URI_SAFE_ATTR):$e,Ge="ADD_DATA_URI_TAGS"in e?x(I(je),e.ADD_DATA_URI_TAGS):je,Ue="FORBID_CONTENTS"in e?x({},e.FORBID_CONTENTS):He,Le="FORBID_TAGS"in e?x({},e.FORBID_TAGS):{},xe="FORBID_ATTR"in e?x({},e.FORBID_ATTR):{},Be="USE_PROFILES"in e&&e.USE_PROFILES,Ie=!1!==e.ALLOW_ARIA_ATTR,De=!1!==e.ALLOW_DATA_ATTR,Ne=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ee=e.SAFE_FOR_TEMPLATES||!1,Ae=e.WHOLE_DOCUMENT||!1,Re=e.RETURN_DOM||!1,Pe=e.RETURN_DOM_FRAGMENT||!1,Oe=!1!==e.RETURN_DOM_IMPORT,Ve=e.RETURN_TRUSTED_TYPE||!1,Me=e.FORCE_BODY||!1,Fe=!1!==e.SANITIZE_DOM,We=!1!==e.KEEP_CONTENT,ze=e.IN_PLACE||!1,Ce=e.ALLOWED_URI_REGEXP||Ce,Ze=e.NAMESPACE||Qe,Ee&&(De=!1),Pe&&(Re=!0),Be&&(ye=x({},[].concat(q(P))),Se=[],!0===Be.html&&(x(ye,N),x(Se,O)),!0===Be.svg&&(x(ye,E),x(Se,V),x(Se,W)),!0===Be.svgFilters&&(x(ye,A),x(Se,V),x(Se,W)),!0===Be.mathMl&&(x(ye,M),x(Se,F),x(Se,W))),e.ADD_TAGS&&(ye===we&&(ye=I(ye)),x(ye,e.ADD_TAGS)),e.ADD_ATTR&&(Se===ke&&(Se=I(Se)),x(Se,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&x(Ke,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(Ue===He&&(Ue=I(Ue)),x(Ue,e.FORBID_CONTENTS)),We&&(ye["#text"]=!0),Ae&&x(ye,["html","head","body"]),ye.table&&(x(ye,["tbody"]),delete Le.tbody),l&&l(e),Xe=e)},it=x({},["mi","mo","mn","ms","mtext"]),nt=x({},["foreignobject","desc","title","annotation-xml"]),ot=x({},E);x(ot,A),x(ot,T);var st=x({},M);x(st,R);var rt=function(e){var t=ie(e);t&&t.tagName||(t={namespaceURI:Qe,tagName:"template"});var i=_(e.tagName),n=_(t.tagName);if(e.namespaceURI===Ye)return t.namespaceURI===Qe?"svg"===i:t.namespaceURI===qe?"svg"===i&&("annotation-xml"===n||it[n]):Boolean(ot[i]);if(e.namespaceURI===qe)return t.namespaceURI===Qe?"math"===i:t.namespaceURI===Ye?"math"===i&&nt[n]:Boolean(st[i]);if(e.namespaceURI===Qe){if(t.namespaceURI===Ye&&!nt[n])return!1;if(t.namespaceURI===qe&&!it[n])return!1;var o=x({},["title","style","font","a","script"]);return!st[i]&&(o[i]||!ot[i])}return!1},at=function(e){v(i.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=se}catch(t){e.remove()}}},lt=function(e,t){try{v(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){v(i.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Se[e])if(Re||Pe)try{at(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},dt=function(e){var t=void 0,i=void 0;if(Me)e="<remove></remove>"+e;else{var n=b(e,/^[\r\n\t ]+/);i=n&&n[0]}var s=oe?oe.createHTML(e):e;if(Ze===Qe)try{t=(new L).parseFromString(s,"text/html")}catch(e){}if(!t||!t.documentElement){t=ae.createDocument(Ze,"template",null);try{t.documentElement.innerHTML=Je?"":s}catch(e){}}var r=t.body||t.documentElement;return e&&i&&r.insertBefore(o.createTextNode(i),r.childNodes[0]||null),Ze===Qe?ce.call(t,Ae?"html":"body")[0]:Ae?t.documentElement:r},ct=function(e){return le.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},ht=function(e){return!(e instanceof g||e instanceof p||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof u&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI&&"function"==typeof e.insertBefore)},ut=function(e){return"object"===(void 0===a?"undefined":$(a))?e instanceof a:e&&"object"===(void 0===e?"undefined":$(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},gt=function(e,t,n){ge[e]&&m(ge[e],(function(e){e.call(i,t,n,Xe)}))},pt=function(e){var t=void 0;if(gt("beforeSanitizeElements",e,null),ht(e))return at(e),!0;if(b(e.nodeName,/[\u0080-\uFFFF]/))return at(e),!0;var n=_(e.nodeName);if(gt("uponSanitizeElement",e,{tagName:n,allowedTags:ye}),!ut(e.firstElementChild)&&(!ut(e.content)||!ut(e.content.firstElementChild))&&S(/<[/\w]/g,e.innerHTML)&&S(/<[/\w]/g,e.textContent))return at(e),!0;if("select"===n&&S(/<template/i,e.innerHTML))return at(e),!0;if(!ye[n]||Le[n]){if(We&&!Ue[n]){var o=ie(e)||e.parentNode,s=te(e)||e.childNodes;if(s&&o)for(var r=s.length-1;r>=0;--r)o.insertBefore(X(s[r],!0),ee(e))}return at(e),!0}return e instanceof d&&!rt(e)?(at(e),!0):"noscript"!==n&&"noembed"!==n||!S(/<\/no(script|embed)/i,e.innerHTML)?(Ee&&3===e.nodeType&&(t=e.textContent,t=C(t,pe," "),t=C(t,me," "),e.textContent!==t&&(v(i.removed,{element:e.cloneNode()}),e.textContent=t)),gt("afterSanitizeElements",e,null),!1):(at(e),!0)},mt=function(e,t,i){if(Fe&&("id"===t||"name"===t)&&(i in o||i in et))return!1;if(De&&!xe[t]&&S(fe,t));else if(Ie&&S(ve,t));else{if(!Se[t]||xe[t])return!1;if(Ke[t]);else if(S(Ce,C(i,be,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==y(i,"data:")||!Ge[e])if(Ne&&!S(_e,C(i,be,"")));else if(i)return!1}return!0},ft=function(e){var t=void 0,n=void 0,o=void 0,s=void 0;gt("beforeSanitizeAttributes",e,null);var r=e.attributes;if(r){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Se};for(s=r.length;s--;){var l=t=r[s],d=l.name,c=l.namespaceURI;if(n=w(t.value),o=_(d),a.attrName=o,a.attrValue=n,a.keepAttr=!0,a.forceKeepAttr=void 0,gt("uponSanitizeAttribute",e,a),n=a.attrValue,!a.forceKeepAttr&&(lt(d,e),a.keepAttr))if(S(/\/>/i,n))lt(d,e);else{Ee&&(n=C(n,pe," "),n=C(n,me," "));var h=e.nodeName.toLowerCase();if(mt(h,o,n))try{c?e.setAttributeNS(c,d,n):e.setAttribute(d,n),f(i.removed)}catch(e){}}}gt("afterSanitizeAttributes",e,null)}},vt=function e(t){var i=void 0,n=ct(t);for(gt("beforeSanitizeShadowDOM",t,null);i=n.nextNode();)gt("uponSanitizeShadowNode",i,null),pt(i)||(i.content instanceof s&&e(i.content),ft(i));gt("afterSanitizeShadowDOM",t,null)};return i.sanitize=function(e,o){var r=void 0,l=void 0,d=void 0,c=void 0,h=void 0;if((Je=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!ut(e)){if("function"!=typeof e.toString)throw k("toString is not a function");if("string"!=typeof(e=e.toString()))throw k("dirty is not a string, aborting")}if(!i.isSupported){if("object"===$(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(ut(e))return t.toStaticHTML(e.outerHTML)}return e}if(Te||tt(o),i.removed=[],"string"==typeof e&&(ze=!1),ze);else if(e instanceof a)1===(l=(r=dt("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?r=l:r.appendChild(l);else{if(!Re&&!Ee&&!Ae&&-1===e.indexOf("<"))return oe&&Ve?oe.createHTML(e):e;if(!(r=dt(e)))return Re?null:se}r&&Me&&at(r.firstChild);for(var u=ct(ze?e:r);d=u.nextNode();)3===d.nodeType&&d===c||pt(d)||(d.content instanceof s&&vt(d.content),ft(d),c=d);if(c=null,ze)return e;if(Re){if(Pe)for(h=de.call(r.ownerDocument);r.firstChild;)h.appendChild(r.firstChild);else h=r;return Oe&&(h=he.call(n,h,!0)),h}var g=Ae?r.outerHTML:r.innerHTML;return Ee&&(g=C(g,pe," "),g=C(g,me," ")),oe&&Ve?oe.createHTML(g):g},i.setConfig=function(e){tt(e),Te=!0},i.clearConfig=function(){Xe=null,Te=!1},i.isValidAttribute=function(e,t,i){Xe||tt({});var n=_(e),o=_(t);return mt(n,o,i)},i.addHook=function(e,t){"function"==typeof t&&(ge[e]=ge[e]||[],v(ge[e],t))},i.removeHook=function(e){ge[e]&&f(ge[e])},i.removeHooks=function(e){ge[e]&&(ge[e]=[])},i.removeAllHooks=function(){ge={}},i}();Z.version,Z.isSupported;const J=Z.sanitize,X=(Z.setConfig,Z.clearConfig,Z.isValidAttribute,Z.addHook),ee=Z.removeHook;Z.removeHooks,Z.removeAllHooks},4850:(e,t,i)=>{"use strict";i.d(t,{Y:()=>o,p:()=>s});var n=i(4669);class o{constructor(e,t,i){const o=e=>this.emitter.fire(e);this.emitter=new n.Q5({onFirstListenerAdd:()=>e.addEventListener(t,o,i),onLastListenerRemove:()=>e.removeEventListener(t,o,i)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function s(e){return e.preventDefault(),e.stopPropagation(),e}},8626:(e,t,i)=>{"use strict";i.d(t,{X:()=>s,Z:()=>n});class n{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){const t=o(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){const t=o(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){const t=o(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){const t=o(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){const t=o(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){const t=o(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){const t=o(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){const t=o(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){const t=o(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){const t=o(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function o(e){return"number"==typeof e?`${e}px`:e}function s(e){return new n(e)}},8764:(e,t,i)=>{"use strict";i.d(t,{BO:()=>s,IY:()=>o,az:()=>r});var n=i(5321);function o(e,t={}){const i=r(t);return i.textContent=e,i}function s(e,t={}){const i=r(t);return l(i,function(e,t){const i={type:1,children:[]};let n=0,o=i;const s=[],r=new a(e);for(;!r.eos();){let e=r.next();const i="\\"===e&&0!==d(r.peek(),t);if(i&&(e=r.next()),i||0===d(e,t)||e!==r.peek())if("\n"===e)2===o.type&&(o=s.pop()),o.children.push({type:8});else if(2!==o.type){const t={type:2,content:e};o.children.push(t),s.push(o),o=t}else o.content+=e;else{r.advance(),2===o.type&&(o=s.pop());const i=d(e,t);if(o.type===i||5===o.type&&6===i)o=s.pop();else{const e={type:i,children:[]};5===i&&(e.index=n,n++),o.children.push(e),s.push(o),o=e}}}return 2===o.type&&(o=s.pop()),s.length,i}(e,!!t.renderCodeSegments),t.actionHandler,t.renderCodeSegments),i}function r(e){const t=e.inline?"span":"div",i=document.createElement(t);return e.className&&(i.className=e.className),i}class a{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function l(e,t,i,o){let s;if(2===t.type)s=document.createTextNode(t.content||"");else if(3===t.type)s=document.createElement("b");else if(4===t.type)s=document.createElement("i");else if(7===t.type&&o)s=document.createElement("code");else if(5===t.type&&i){const e=document.createElement("a");i.disposables.add(n.mu(e,"click",(e=>{i.callback(String(t.index),e)}))),s=e}else 8===t.type?s=document.createElement("br"):1===t.type&&(s=e);s&&e!==s&&e.appendChild(s),s&&Array.isArray(t.children)&&t.children.forEach((e=>{l(s,e,i,o)}))}function d(e,t){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return t?7:0;default:return 0}}},3911:(e,t,i)=>{"use strict";i.d(t,{C:()=>s});var n=i(5321),o=i(5976);class s{constructor(){this._hooks=new o.SL,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,i,s,r){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=s,this._onStopCallback=r;let a=e;try{e.setPointerCapture(t),this._hooks.add((0,o.OF)((()=>{e.releasePointerCapture(t)})))}catch(e){a=window}this._hooks.add(n.nm(a,n.tw.POINTER_MOVE,(e=>{e.buttons===i?(e.preventDefault(),this._pointerMoveCallback(e)):this.stopMonitoring(!0)}))),this._hooks.add(n.nm(a,n.tw.POINTER_UP,(e=>this.stopMonitoring(!0))))}}},9069:(e,t,i)=>{"use strict";i.d(t,{y:()=>d});var n=i(6268),o=i(2258),s=i(8313),r=i(1432);const a=r.dz?256:2048,l=r.dz?2048:256;class d{constructor(e){this._standardKeyboardEventBrand=!0;const t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=function(e){if(e.charCode){const t=String.fromCharCode(e.charCode).toUpperCase();return o.kL.fromString(t)}const t=e.keyCode;if(3===t)return 7;if(n.isFirefox){if(59===t)return 80;if(107===t)return 81;if(109===t)return 83;if(r.dz&&224===t)return 57}else if(n.isWebKit){if(91===t)return 57;if(r.dz&&93===t)return 57;if(!r.dz&&92===t)return 57}return o.H_[t]||0}(t),this.code=t.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=a),this.altKey&&(t|=512),this.shiftKey&&(t|=1024),this.metaKey&&(t|=l),t|=e,t}_computeRuntimeKeybinding(){let e=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode),new s.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}},7448:(e,t,i)=>{"use strict";i.d(t,{n:()=>d,q:()=>c});var n=i(6268);let o=!1,s=null;function r(e){if(!e.parent||e.parent===e)return null;try{const t=e.location,i=e.parent.location;if("null"!==t.origin&&"null"!==i.origin&&t.origin!==i.origin)return o=!0,null}catch(e){return o=!0,null}return e.parent}class a{static getSameOriginWindowChain(){if(!s){s=[];let e,t=window;do{e=r(t),e?s.push({window:t,iframeElement:t.frameElement||null}):s.push({window:t,iframeElement:null}),t=e}while(t)}return s.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,n=0;const o=this.getSameOriginWindowChain();for(const e of o){if(i+=e.window.scrollY,n+=e.window.scrollX,e.window===t)break;if(!e.iframeElement)break;const o=e.iframeElement.getBoundingClientRect();i+=o.top,n+=o.left}return{top:i,left:n}}}var l=i(1432);class d{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,"number"==typeof e.pageX?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);const t=a.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class c{constructor(e,t=0,i=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t,e){const t=e,i=e;if(void 0!==t.wheelDeltaY)this.deltaY=t.wheelDeltaY/120;else if(void 0!==i.VERTICAL_AXIS&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?n.isFirefox&&!l.dz?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(void 0!==t.wheelDeltaX)n.isSafari&&l.ED?this.deltaX=-t.wheelDeltaX/120:this.deltaX=t.wheelDeltaX/120;else if(void 0!==i.HORIZONTAL_AXIS&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?n.isFirefox&&!l.dz?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},553:(e,t,i)=>{"use strict";i.d(t,{o:()=>l,t:()=>n});var n,o=i(5321),s=i(9488),r=i(9898),a=i(5976);!function(e){e.Tap="-monaco-gesturetap",e.Change="-monaco-gesturechange",e.Start="-monaco-gesturestart",e.End="-monaco-gesturesend",e.Contextmenu="-monaco-gesturecontextmenu"}(n||(n={}));class l extends a.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(o.nm(document,"touchstart",(e=>this.onTouchStart(e)),{passive:!1})),this._register(o.nm(document,"touchend",(e=>this.onTouchEnd(e)))),this._register(o.nm(document,"touchmove",(e=>this.onTouchMove(e)),{passive:!1}))}static addTarget(e){return l.isTouchDevice()?(l.INSTANCE||(l.INSTANCE=new l),l.INSTANCE.targets.push(e),{dispose:()=>{l.INSTANCE.targets=l.INSTANCE.targets.filter((t=>t!==e))}}):a.JT.None}static ignoreTarget(e){return l.isTouchDevice()?(l.INSTANCE||(l.INSTANCE=new l),l.INSTANCE.ignoreTargets.push(e),{dispose:()=>{l.INSTANCE.ignoreTargets=l.INSTANCE.ignoreTargets.filter((t=>t!==e))}}):a.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){const t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,o=e.targetTouches.length;i<o;i++){const o=e.targetTouches.item(i);this.activeTouches[o.identifier]={id:o.identifier,initialTarget:o.target,initialTimeStamp:t,initialPageX:o.pageX,initialPageY:o.pageY,rollingTimestamps:[t],rollingPageX:[o.pageX],rollingPageY:[o.pageY]};const s=this.newGestureEvent(n.Start,o.target);s.pageX=o.pageX,s.pageY=o.pageY,this.dispatchEvent(s)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){const t=Date.now(),i=Object.keys(this.activeTouches).length;for(let o=0,r=e.changedTouches.length;o<r;o++){const r=e.changedTouches.item(o);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("move of an UNKNOWN touch",r);continue}const a=this.activeTouches[r.identifier],d=Date.now()-a.initialTimeStamp;if(d<l.HOLD_DELAY&&Math.abs(a.initialPageX-s.Gb(a.rollingPageX))<30&&Math.abs(a.initialPageY-s.Gb(a.rollingPageY))<30){const e=this.newGestureEvent(n.Tap,a.initialTarget);e.pageX=s.Gb(a.rollingPageX),e.pageY=s.Gb(a.rollingPageY),this.dispatchEvent(e)}else if(d>=l.HOLD_DELAY&&Math.abs(a.initialPageX-s.Gb(a.rollingPageX))<30&&Math.abs(a.initialPageY-s.Gb(a.rollingPageY))<30){const e=this.newGestureEvent(n.Contextmenu,a.initialTarget);e.pageX=s.Gb(a.rollingPageX),e.pageY=s.Gb(a.rollingPageY),this.dispatchEvent(e)}else if(1===i){const e=s.Gb(a.rollingPageX),i=s.Gb(a.rollingPageY),n=s.Gb(a.rollingTimestamps)-a.rollingTimestamps[0],o=e-a.rollingPageX[0],r=i-a.rollingPageY[0],l=this.targets.filter((e=>a.initialTarget instanceof Node&&e.contains(a.initialTarget)));this.inertia(l,t,Math.abs(o)/n,o>0?1:-1,e,Math.abs(r)/n,r>0?1:-1,i)}this.dispatchEvent(this.newGestureEvent(n.End,a.initialTarget)),delete this.activeTouches[r.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){const i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===n.Tap){const t=(new Date).getTime();let i=0;i=t-this._lastSetTapCountTime>l.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=t,e.tapCount=i}else e.type!==n.Change&&e.type!==n.Contextmenu||(this._lastSetTapCountTime=0);for(let t=0;t<this.ignoreTargets.length;t++)if(e.initialTarget instanceof Node&&this.ignoreTargets[t].contains(e.initialTarget))return;this.targets.forEach((t=>{e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)}))}inertia(e,t,i,s,r,a,d,c){this.handle=o.jL((()=>{const o=Date.now(),h=o-t;let u=0,g=0,p=!0;i+=l.SCROLL_FRICTION*h,a+=l.SCROLL_FRICTION*h,i>0&&(p=!1,u=s*i*h),a>0&&(p=!1,g=d*a*h);const m=this.newGestureEvent(n.Change);m.translationX=u,m.translationY=g,e.forEach((e=>e.dispatchEvent(m))),p||this.inertia(e,o,i,s,r+u,a,d,c+g)}))}onTouchMove(e){const t=Date.now();for(let i=0,o=e.changedTouches.length;i<o;i++){const o=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("end of an UNKNOWN touch",o);continue}const r=this.activeTouches[o.identifier],a=this.newGestureEvent(n.Change,r.initialTarget);a.translationX=o.pageX-s.Gb(r.rollingPageX),a.translationY=o.pageY-s.Gb(r.rollingPageY),a.pageX=o.pageX,a.pageY=o.pageY,this.dispatchEvent(a),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(o.pageX),r.rollingPageY.push(o.pageY),r.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}l.SCROLL_FRICTION=-.005,l.HOLD_DELAY=700,l.CLEAR_TAP_COUNT_TIME=400,function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);s>3&&r&&Object.defineProperty(t,i,r)}([r.H],l,"isTouchDevice",null)},6033:(e,t,i)=>{"use strict";i.d(t,{Y:()=>g,g:()=>p});var n=i(6268),o=i(3547),s=i(5321),r=i(553),a=i(1433),l=i(4741),d=i(5976),c=i(1432),h=i(8401),u=i(3580);class g extends d.JT{constructor(e,t,i={}){super(),this.options=i,this._context=e||this,this._action=t,t instanceof l.aU&&this._register(t.onDidChange((e=>{this.element&&this.handleActionChangeEvent(e)})))}get action(){return this._action}handleActionChangeEvent(e){void 0!==e.enabled&&this.updateEnabled(),void 0!==e.checked&&this.updateChecked(),void 0!==e.class&&this.updateClass(),void 0!==e.label&&(this.updateLabel(),this.updateTooltip()),void 0!==e.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new l.Wi)),this._actionRunner}set actionRunner(e){this._actionRunner=e}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(r.o.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,n.isFirefox&&this._register((0,s.nm)(e,s.tw.DRAG_START,(e=>{var t;return null===(t=e.dataTransfer)||void 0===t?void 0:t.setData(o.g.TEXT,this._action.label)})))),this._register((0,s.nm)(t,r.t.Tap,(e=>this.onClick(e,!0)))),this._register((0,s.nm)(t,s.tw.MOUSE_DOWN,(e=>{i||s.zB.stop(e,!0),this._action.enabled&&0===e.button&&t.classList.add("active")}))),c.dz&&this._register((0,s.nm)(t,s.tw.CONTEXT_MENU,(e=>{0===e.button&&!0===e.ctrlKey&&this.onClick(e)}))),this._register((0,s.nm)(t,s.tw.CLICK,(e=>{s.zB.stop(e,!0),this.options&&this.options.isMenu||this.onClick(e)}))),this._register((0,s.nm)(t,s.tw.DBLCLICK,(e=>{s.zB.stop(e,!0)}))),[s.tw.MOUSE_UP,s.tw.MOUSE_OUT].forEach((e=>{this._register((0,s.nm)(t,e,(e=>{s.zB.stop(e),t.classList.remove("active")})))}))}onClick(e,t=!1){var i;s.zB.stop(e,!0);const n=h.Jp(this._context)?(null===(i=this.options)||void 0===i?void 0:i.useEventAsContext)?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,n)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.getAction().tooltip}updateTooltip(){var e;if(!this.element)return;const t=null!==(e=this.getTooltip())&&void 0!==e?e:"";this.element.setAttribute("aria-label",t),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(t):(this.customHover=(0,a.g)(this.options.hoverDelegate,this.element,t),this._store.add(this.customHover))):this.element.title=t}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class p extends g{constructor(e,t,i={}){super(e,t,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=(0,s.R3)(this.element,(0,s.$)("a.action-label"))),this.label&&(this._action.id===l.Z0.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,s.R3)(this.element,(0,s.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}getTooltip(){let e=null;return this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=u.NC({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),null!=e?e:void 0}updateClass(){var e;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):null===(e=this.label)||void 0===e||e.classList.remove("codicon")}updateEnabled(){var e,t;this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),null===(e=this.element)||void 0===e||e.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),null===(t=this.element)||void 0===t||t.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},317:(e,t,i)=>{"use strict";i.d(t,{o:()=>c});var n=i(5321),o=i(9069),s=i(6033),r=i(4741),a=i(4669),l=i(5976),d=i(8401);class c extends l.JT{constructor(e,t={}){var i,l,d,c,h,u;let g,p;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new a.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new a.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new a.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new a.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=t,this._context=null!==(i=t.context)&&void 0!==i?i:null,this._orientation=null!==(l=this.options.orientation)&&void 0!==l?l:0,this._triggerKeys={keyDown:null!==(c=null===(d=this.options.triggerKeys)||void 0===d?void 0:d.keyDown)&&void 0!==c&&c,keys:null!==(u=null===(h=this.options.triggerKeys)||void 0===h?void 0:h.keys)&&void 0!==u?u:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new r.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun((e=>this._onDidRun.fire(e)))),this._register(this._actionRunner.onBeforeRun((e=>this._onBeforeRun.fire(e)))),this._actionIds=[],this.viewItems=[],this.viewItemDisposables=new Map,this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==t.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:g=[15],p=[17];break;case 1:g=[16],p=[18],this.domNode.className+=" vertical"}this._register(n.nm(this.domNode,n.tw.KEY_DOWN,(e=>{const t=new o.y(e);let i=!0;const n="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;g&&(t.equals(g[0])||t.equals(g[1]))?i=this.focusPrevious():p&&(t.equals(p[0])||t.equals(p[1]))?i=this.focusNext():t.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():t.equals(14)?i=this.focusFirst():t.equals(13)?i=this.focusLast():t.equals(2)&&n instanceof s.Y&&n.trapsArrowNavigation?i=this.focusNext():this.isTriggerKeyEvent(t)?this._triggerKeys.keyDown?this.doTrigger(t):this.triggerKeyDown=!0:i=!1,i&&(t.preventDefault(),t.stopPropagation())}))),this._register(n.nm(this.domNode,n.tw.KEY_UP,(e=>{const t=new o.y(e);this.isTriggerKeyEvent(t)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(t)),t.preventDefault(),t.stopPropagation()):(t.equals(2)||t.equals(1026))&&this.updateFocusedItem()}))),this.focusTracker=this._register(n.go(this.domNode)),this._register(this.focusTracker.onDidBlur((()=>{n.vY()!==this.domNode&&n.jg(n.vY(),this.domNode)||(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)}))),this._register(this.focusTracker.onDidFocus((()=>this.updateFocusedItem()))),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(e){if(this.focusable=e,this.focusable){const e=this.viewItems.find((e=>e instanceof s.Y&&e.isEnabled()));e instanceof s.Y&&e.setFocusable(!0)}else this.viewItems.forEach((e=>{e instanceof s.Y&&e.setFocusable(!1)}))}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach((i=>{t=t||e.equals(i)})),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){const t=this.actionsList.children[e];if(n.jg(n.vY(),t)){this.focusedItem=e;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach((t=>t.setActionContext(e)))}get actionRunner(){return this._actionRunner}set actionRunner(e){e&&(this._actionRunner=e,this.viewItems.forEach((t=>t.actionRunner=e)))}getContainer(){return this.domNode}push(e,t={}){const i=Array.isArray(e)?e:[e];let o=d.hj(t.index)?t.index:null;i.forEach((e=>{const i=document.createElement("li");let r;i.className="action-item",i.setAttribute("role","presentation"),this.options.actionViewItemProvider&&(r=this.options.actionViewItemProvider(e)),r||(r=new s.g(this.context,e,Object.assign({hoverDelegate:this.options.hoverDelegate},t))),this.options.allowContextMenu||this.viewItemDisposables.set(r,n.nm(i,n.tw.CONTEXT_MENU,(e=>{n.zB.stop(e,!0)}))),r.actionRunner=this._actionRunner,r.setActionContext(this.context),r.render(i),this.focusable&&r instanceof s.Y&&0===this.viewItems.length&&r.setFocusable(!0),null===o||o<0||o>=this.actionsList.children.length?(this.actionsList.appendChild(i),this.viewItems.push(r),this._actionIds.push(e.id)):(this.actionsList.insertBefore(i,this.actionsList.children[o]),this.viewItems.splice(o,0,r),this._actionIds.splice(o,0,e.id),o++)})),"number"==typeof this.focusedItem&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,l.B9)(this.viewItems),this.viewItemDisposables.forEach((e=>e.dispose())),this.viewItemDisposables.clear(),this.viewItems=[],this._actionIds=[],n.PO(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(e){let t,i=!1;if(void 0===e?i=!0:"number"==typeof e?t=e:"boolean"==typeof e&&(i=e),i&&void 0===this.focusedItem){const e=this.viewItems.findIndex((e=>e.isEnabled()));this.focusedItem=-1===e?void 0:e,this.updateFocus(void 0,void 0,!0)}else void 0!==t&&(this.focusedItem=t),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e){if(void 0===this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=t,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===r.Z0.ID));return this.updateFocus(),!0}focusPrevious(e){if(void 0===this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===r.Z0.ID));return this.updateFocus(!0),!0}updateFocus(e,t,i=!1){var n;void 0===this.focusedItem&&this.actionsList.focus({preventScroll:t}),void 0!==this.previouslyFocusedItem&&this.previouslyFocusedItem!==this.focusedItem&&(null===(n=this.viewItems[this.previouslyFocusedItem])||void 0===n||n.blur());const o=void 0!==this.focusedItem&&this.viewItems[this.focusedItem];if(o){let n=!0;d.mf(o.focus)||(n=!1),this.options.focusOnlyEnabledItems&&d.mf(o.isEnabled)&&!o.isEnabled()&&(n=!1),o.action.id===r.Z0.ID&&(n=!1),n?(i||this.previouslyFocusedItem!==this.focusedItem)&&(o.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0)}}doTrigger(e){if(void 0===this.focusedItem)return;const t=this.viewItems[this.focusedItem];if(t instanceof s.Y){const i=null===t._context||void 0===t._context?e:t._context;this.run(t._action,i)}}run(e,t){return i=this,n=void 0,s=function*(){yield this._actionRunner.run(e,t)},new((o=void 0)||(o=Promise))((function(e,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(r,a)}l((s=s.apply(i,n||[])).next())}));var i,n,o,s}dispose(){(0,l.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},5152:(e,t,i)=>{"use strict";i.d(t,{Z9:()=>h,i7:()=>u,wW:()=>c});var n=i(5321),o=i(1432);let s,r,a,l,d;function c(e){s=document.createElement("div"),s.className="monaco-aria-container";const t=()=>{const e=document.createElement("div");return e.className="monaco-alert",e.setAttribute("role","alert"),e.setAttribute("aria-atomic","true"),s.appendChild(e),e};r=t(),a=t();const i=()=>{const e=document.createElement("div");return e.className="monaco-status",e.setAttribute("role","complementary"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),s.appendChild(e),e};l=i(),d=i(),e.appendChild(s)}function h(e){s&&(r.textContent!==e?(n.PO(a),g(r,e)):(n.PO(r),g(a,e)))}function u(e){s&&(o.dz?h(e):l.textContent!==e?(n.PO(d),g(l,e)):(n.PO(l),g(d,e)))}function g(e,t){n.PO(e),t.length>2e4&&(t=t.substr(0,2e4)),e.textContent=t,e.style.visibility="hidden",e.style.visibility="visible"}},8609:(e,t,i)=>{"use strict";i.d(t,{a:()=>o});var n=i(3046);function o(e){let t=e.definition;for(;t instanceof n.lA;)t=t.definition;return`.codicon-${e.id}:before { content: '${t.fontCharacter}'; }`}},7488:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(5321),o=i(1264),s=i(6248),r=i(7295);const a={badgeBackground:o.Il.fromHex("#4D4D4D"),badgeForeground:o.Il.fromHex("#FFFFFF")};class l{constructor(e,t){this.count=0,this.options=t||Object.create(null),(0,s.jB)(this.options,a,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,n.R3)(e,(0,n.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=(0,r.WU)(this.countFormat,this.count),this.element.title=(0,r.WU)(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}}},3070:(e,t,i)=>{"use strict";i.d(t,{V:()=>d});var n=i(5321),o=i(1307),s=i(7927),r=i(3794),a=i(4669);const l=i(3580).NC("defaultLabel","input");class d extends r.${constructor(e,t,i,r){var d;super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalToggles=[],this._onDidOptionChange=this._register(new a.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new a.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new a.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new a.Q5),this._onKeyUp=this._register(new a.Q5),this._onCaseSensitiveKeyDown=this._register(new a.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new a.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||l,this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground;const c=r.appendCaseSensitiveLabel||"",h=r.appendWholeWordsLabel||"",u=r.appendRegexLabel||"",g=r.history||[],p=!!r.flexibleHeight,m=!!r.flexibleWidth,f=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new s.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:g,showHistoryHint:r.showHistoryHint,flexibleHeight:p,flexibleWidth:m,flexibleMaxHeight:f})),this.regex=this._register(new o.eH({appendTitle:u,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.regex.onKeyDown((e=>{this._onRegexKeyDown.fire(e)}))),this.wholeWords=this._register(new o.Qx({appendTitle:h,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this.caseSensitive=this._register(new o.rk({appendTitle:c,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.caseSensitive.onKeyDown((e=>{this._onCaseSensitiveKeyDown.fire(e)})));const v=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,(e=>{if(e.equals(15)||e.equals(17)||e.equals(9)){const t=v.indexOf(document.activeElement);if(t>=0){let i=-1;e.equals(17)?i=(t+1)%v.length:e.equals(15)&&(i=0===t?v.length-1:t-1),e.equals(9)?(v[t].blur(),this.inputBox.focus()):i>=0&&v[i].focus(),n.zB.stop(e,!0)}}})),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this._showOptionButtons||(this.caseSensitive.domNode.style.display="none",this.wholeWords.domNode.style.display="none",this.regex.domNode.style.display="none");for(const e of null!==(d=null==r?void 0:r.additionalToggles)&&void 0!==d?d:[])this._register(e),this.controls.appendChild(e.domNode),this._register(e.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()}))),this.additionalToggles.push(e);this.additionalToggles.length>0&&(this.controls.style.display="block"),this.inputBox.paddingRight=(this._showOptionButtons?this.caseSensitive.width()+this.wholeWords.width()+this.regex.width():0)+this.additionalToggles.reduce(((e,t)=>e+t.width()),0),this.domNode.appendChild(this.controls),null==e||e.appendChild(this.domNode),this._register(n.nm(this.inputBox.inputElement,"compositionstart",(e=>{this.imeSessionInProgress=!0}))),this._register(n.nm(this.inputBox.inputElement,"compositionend",(e=>{this.imeSessionInProgress=!1,this._onInput.fire()}))),this.onkeydown(this.inputBox.inputElement,(e=>this._onKeyDown.fire(e))),this.onkeyup(this.inputBox.inputElement,(e=>this._onKeyUp.fire(e))),this.oninput(this.inputBox.inputElement,(e=>this._onInput.fire())),this.onmousedown(this.inputBox.inputElement,(e=>this._onMouseDown.fire(e)))}get onDidChange(){return this.inputBox.onDidChange}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable();for(const e of this.additionalToggles)e.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable();for(const e of this.additionalToggles)e.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);for(const t of this.additionalToggles)t.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(e){this.caseSensitive.checked=e}getWholeWords(){return this.wholeWords.checked}setWholeWords(e){this.wholeWords.checked=e}getRegex(){return this.regex.checked}setRegex(e){this.regex.checked=e,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(e){this.inputBox.showMessage(e)}clearMessage(){this.inputBox.hideMessage()}}},1307:(e,t,i)=>{"use strict";i.d(t,{Qx:()=>c,eH:()=>h,rk:()=>d});var n=i(2900),o=i(3046),s=i(3580);const r=s.NC("caseDescription","Match Case"),a=s.NC("wordsDescription","Match Whole Word"),l=s.NC("regexDescription","Use Regular Expression");class d extends n.Z{constructor(e){super({icon:o.lA.caseSensitive,title:r+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class c extends n.Z{constructor(e){super({icon:o.lA.wholeWord,title:a+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class h extends n.Z{constructor(e){super({icon:o.lA.regex,title:l+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}},4650:(e,t,i)=>{"use strict";i.d(t,{q:()=>r});var n=i(5321),o=i(6811),s=i(6248);class r{constructor(e,t){var i;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=null!==(i=null==t?void 0:t.supportIcons)&&void 0!==i&&i,this.domNode=n.R3(e,n.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(e,t=[],i="",n){e||(e=""),n&&(e=r.escapeNewLines(e,t)),this.didEverRender&&this.text===e&&this.title===i&&s.fS(this.highlights,t)||(this.text=e,this.title=i,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const i of this.highlights){if(i.end===i.start)continue;if(t<i.start){const s=this.text.substring(t,i.start);e.push(n.$("span",void 0,...this.supportIcons?(0,o.T)(s):[s])),t=i.end}const s=this.text.substring(i.start,i.end),r=n.$("span.highlight",void 0,...this.supportIcons?(0,o.T)(s):[s]);i.extraClasses&&r.classList.add(...i.extraClasses),e.push(r),t=i.end}if(t<this.text.length){const i=this.text.substring(t);e.push(n.$("span",void 0,...this.supportIcons?(0,o.T)(i):[i]))}n.mc(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i=0,n=0;return e.replace(/\r\n|\r|\n/g,((e,o)=>{n="\r\n"===e?-1:0,o+=i;for(const e of t)e.end<=o||(e.start>=o&&(e.start+=n),e.end>=o&&(e.end+=n));return i+=n,""}))}}},9834:(e,t,i)=>{"use strict";i.d(t,{g:()=>c});var n=i(5321),o=i(4650),s=i(1433),r=i(5976),a=i(6248),l=i(1134);class d{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class c extends r.JT{constructor(e,t){super(),this.customHovers=new Map,this.domNode=this._register(new d(n.R3(e,n.$(".monaco-icon-label")))),this.labelContainer=n.R3(this.domNode.element,n.$(".monaco-icon-label-container"));const i=n.R3(this.labelContainer,n.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new d(n.R3(this.labelContainer,n.$("span.monaco-icon-description-container")))),(null==t?void 0:t.supportHighlights)||(null==t?void 0:t.supportIcons)?this.nameNode=new u(i,!!t.supportIcons):this.nameNode=new h(i),(null==t?void 0:t.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new o.q(n.R3(this.descriptionContainer.element,n.$("span.label-description")),{supportIcons:!!t.supportIcons}):this.descriptionNodeFactory=()=>this._register(new d(n.R3(this.descriptionContainer.element,n.$("span.label-description")))),this.hoverDelegate=null==t?void 0:t.hoverDelegate}get element(){return this.domNode.element}setLabel(e,t,i){const n=["monaco-icon-label"];i&&(i.extraClasses&&n.push(...i.extraClasses),i.italic&&n.push("italic"),i.strikethrough&&n.push("strikethrough")),this.domNode.className=n.join(" "),this.setupHover((null==i?void 0:i.descriptionTitle)?this.labelContainer:this.element,null==i?void 0:i.title),this.nameNode.setLabel(e,i),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof o.q?(this.descriptionNode.set(t||"",i?i.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,null==i?void 0:i.descriptionTitle)):(this.descriptionNode.textContent=t||"",this.setupHover(this.descriptionNode.element,(null==i?void 0:i.descriptionTitle)||""),this.descriptionNode.empty=!t))}setupHover(e,t){const i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),t)if(this.hoverDelegate){const i=(0,s.g)(this.hoverDelegate,e,t);i&&this.customHovers.set(e,i)}else(0,s.O)(e,t);else e.removeAttribute("title")}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}}class h{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!(0,a.fS)(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=n.R3(this.container,n.$("a.label-name",{id:null==t?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){const o=e[i],s=(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${i}`;n.R3(this.container,n.$("a.label-name",{id:s,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},o)),i<e.length-1&&n.R3(this.container,n.$("span.label-separator",void 0,(null==t?void 0:t.separator)||"/"))}}}}class u{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!(0,a.fS)(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new o.q(n.R3(this.container,n.$("a.label-name",{id:null==t?void 0:t.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(e,null==t?void 0:t.matches,void 0,null==t?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const i=(null==t?void 0:t.separator)||"/",s=function(e,t,i){if(!i)return;let n=0;return e.map((e=>{const o={start:n,end:n+e.length},s=i.map((e=>l.e.intersect(o,e))).filter((e=>!l.e.isEmpty(e))).map((({start:e,end:t})=>({start:e-n,end:t-n})));return n=o.end+t.length,s}))}(e,i,null==t?void 0:t.matches);for(let r=0;r<e.length;r++){const a=e[r],l=s?s[r]:void 0,d=(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${r}`,c=n.$("a.label-name",{id:d,"data-icon-label-count":e.length,"data-icon-label-index":r,role:"treeitem"});new o.q(n.R3(this.container,c),{supportIcons:this.supportIcons}).set(a,l,void 0,null==t?void 0:t.labelEscapeNewLines),r<e.length-1&&n.R3(c,n.$("span.label-separator",void 0,i))}}}}},1433:(e,t,i)=>{"use strict";i.d(t,{O:()=>u,g:()=>p});var n=i(5321),o=i(5393),s=i(1050),r=i(9365),a=i(1212),l=i(5976),d=i(8401),c=i(3580),h=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function u(e,t){(0,d.HD)(t)?e.title=(0,a.x$)(t):(null==t?void 0:t.markdownNotSupportedFallback)?e.title=t.markdownNotSupportedFallback:e.removeAttribute("title")}class g{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}update(e,t,i){var n;return h(this,void 0,void 0,(function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let o;if(void 0===e||(0,d.HD)(e)||e instanceof HTMLElement)o=e;else if((0,d.mf)(e.markdown)){this._hoverWidget||this.show((0,c.NC)("iconLabel.loading","Loading..."),t),this._cancellationTokenSource=new s.A;const i=this._cancellationTokenSource.token;if(o=yield e.markdown(i),void 0===o&&(o=e.markdownNotSupportedFallback),this.isDisposed||i.isCancellationRequested)return}else o=null!==(n=e.markdown)&&void 0!==n?n:e.markdownNotSupportedFallback;this.show(o,t,i)}))}show(e,t,i){const n=this._hoverWidget;if(this.hasContent(e)){const o=Object.assign({content:e,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!n},i);this._hoverWidget=this.hoverDelegate.showHover(o,t)}null==n||n.dispose()}hasContent(e){return!(!e||(0,r.Fr)(e)&&!e.value)}get isDisposed(){var e;return null===(e=this._hoverWidget)||void 0===e?void 0:e.isDisposed}dispose(){var e,t;null===(e=this._hoverWidget)||void 0===e||e.dispose(),null===(t=this._cancellationTokenSource)||void 0===t||t.dispose(!0),this._cancellationTokenSource=void 0}}function p(e,t,i,s){let r,a;const d=(t,i)=>{var n;t&&(null==a||a.dispose(),a=void 0),i&&(null==r||r.dispose(),r=void 0),null===(n=e.onDidHideHover)||void 0===n||n.call(e)},c=(n,r,l)=>new o._F((()=>h(this,void 0,void 0,(function*(){a&&!a.isDisposed||(a=new g(e,l||t,n>0),yield a.update(i,r,s))}))),n),u=n.nm(t,n.tw.MOUSE_OVER,(()=>{if(r)return;const i=new l.SL;i.add(n.nm(t,n.tw.MOUSE_LEAVE,(e=>d(!1,e.fromElement===t)),!0)),i.add(n.nm(t,n.tw.MOUSE_DOWN,(()=>d(!0,!0)),!0));const o={targetElements:[t],dispose:()=>{}};if(void 0===e.placement||"mouse"===e.placement){const e=e=>{o.x=e.x+10,e.target instanceof HTMLElement&&e.target.classList.contains("action-label")&&d(!0,!0)};i.add(n.nm(t,n.tw.MOUSE_MOVE,e,!0))}i.add(c(e.delay,!1,o)),r=i}),!0);return{show:e=>{d(!1,!0),c(0,e)},hide:()=>{d(!0,!0)},update:(e,t)=>h(this,void 0,void 0,(function*(){i=e,yield null==a?void 0:a.update(i,void 0,t)})),dispose:()=>{u.dispose(),d(!0,!0)}}}},6811:(e,t,i)=>{"use strict";i.d(t,{T:()=>r});var n=i(5321),o=i(3046);const s=new RegExp(`(\\\\)?\\$\\((${o.dT.iconNameExpression}(?:${o.dT.iconModifierExpression})?)\\)`,"g");function r(e){const t=new Array;let i,n=0,o=0;for(;null!==(i=s.exec(e));){o=i.index||0,t.push(e.substring(n,o)),n=(i.index||0)+i[0].length;const[,s,r]=i;t.push(s?`$(${r})`:a({id:r}))}return n<e.length&&t.push(e.substring(n)),t}function a(e){const t=n.$("span");return t.classList.add(...o.dT.asClassNameArray(e)),t}},7927:(e,t,i)=>{"use strict";i.d(t,{p:()=>b,W:()=>_});var n=i(5321),o=i(4850),s=i(8764),r=i(317),a=i(5152),l=i(9802),d=i(3794),c=i(1264),h=i(4669);class u{constructor(e,t=0,i=e.length,n=t-1){this.items=e,this.start=t,this.end=i,this.index=n}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class g{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new u(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach((t=>e.push(t))),e}}var p=i(6248),m=i(3580);const f=n.$,v={inputBackground:c.Il.fromHex("#3C3C3C"),inputForeground:c.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:c.Il.fromHex("#55AAFF"),inputValidationInfoBackground:c.Il.fromHex("#063B49"),inputValidationWarningBorder:c.Il.fromHex("#B89500"),inputValidationWarningBackground:c.Il.fromHex("#352A05"),inputValidationErrorBorder:c.Il.fromHex("#BE1100"),inputValidationErrorBackground:c.Il.fromHex("#5A1D1D")};class _ extends d.${constructor(e,t,i){var s;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new h.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new h.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i||Object.create(null),(0,p.jB)(this.options,v,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(s=this.options.tooltip)&&void 0!==s?s:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=n.R3(e,f(".monaco-inputbox.idle"));const a=this.options.flexibleHeight?"textarea":"input",d=n.R3(this.element,f(".ibwrapper"));if(this.input=n.R3(d,f(a+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,(()=>this.element.classList.add("synthetic-focus"))),this.onblur(this.input,(()=>this.element.classList.remove("synthetic-focus"))),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=n.R3(d,f("div.mirror")),this.mirror.innerText="",this.scrollableElement=new l.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),n.R3(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll((e=>this.input.scrollTop=e.scrollTop)));const t=this._register(new o.Y(document,"selectionchange")),i=h.ju.filter(t.event,(()=>{const e=document.getSelection();return(null==e?void 0:e.anchorNode)===d}));this._register(i(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,(()=>this.onValueChange())),this.onblur(this.input,(()=>this.onBlur())),this.onfocus(this.input,(()=>this.onFocus())),this.ignoreGesture(this.input),setTimeout((()=>this.updateMirror()),0),this.options.actions&&(this.actionbar=this._register(new r.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:n.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return n.w(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;this.mirror&&(t=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)),this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const i=this.stylesForType(this.message.type);this.element.style.border=i.border?`1px solid ${i.border}`:"",(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null==e?void 0:e.type}stylesForType(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e;const t=()=>e.style.width=n.w(this.element)+"px";let i;this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:i=>{if(!this.message)return null;e=n.R3(i,f(".monaco-inputbox-container")),t();const o={inline:!0,className:"monaco-inputbox-message"},r=this.message.formatContent?(0,s.BO)(this.message.content,o):(0,s.IY)(this.message.content,o);r.classList.add(this.classForType(this.message.type));const a=this.stylesForType(this.message.type);return r.style.backgroundColor=a.background?a.background.toString():"",r.style.color=a.foreground?a.foreground.toString():"",r.style.border=a.border?`1px solid ${a.border}`:"",n.R3(e,r),null},onHide:()=>{this.state="closed"},layout:t}),i=3===this.message.type?m.NC("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?m.NC("alertWarningMessage","Warning: {0}",this.message.content):m.NC("alertInfoMessage","Info: {0}",this.message.content),a.Z9(i),this.state="open"}_hideMessage(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,t=10===e.charCodeAt(e.length-1)?" ":"";(e+t).replace(/\u000c/g,"")?this.mirror.textContent=e+t:this.mirror.innerText="",this.layout()}style(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",i=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor="inherit",this.input.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=n.wn(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,i=t.selectionStart,n=t.selectionEnd,o=t.value;null!==i&&null!==n&&(this.value=o.substr(0,i)+e+o.substr(n),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class b extends _{constructor(e,t,i){const n=m.NC({key:"history.inputbox.hint",comment:["Text will be prefixed with  plus a single space, then used as a hint where input field keeps history"]},"for history"),o=` or  ${n}`,s=` ( ${n})`;super(e,t,i),this._onDidFocus=this._register(new h.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new h.Q5),this.onDidBlur=this._onDidBlur.event,this.history=new g(i.history,100);const r=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(o)&&!this.placeholder.endsWith(s)&&this.history.getHistory().length){const e=this.placeholder.endsWith(")")?o:s,t=this.placeholder+e;i.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=t:this.setPlaceHolder(t)}};this.observer=new MutationObserver(((e,t)=>{e.forEach((e=>{e.target.textContent||r()}))})),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,(()=>r())),this.onblur(this.input,(()=>{const e=e=>{if(this.placeholder.endsWith(e)){const t=this.placeholder.slice(0,this.placeholder.length-e.length);return i.showPlaceholderOnFocus?this.placeholder=t:this.setPlaceHolder(t),!0}return!1};e(s)||e(o)}))}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),e&&(this.value=e,a.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,a.i7(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},5707:(e,t,i)=>{"use strict";i.d(t,{kX:()=>w,Bv:()=>x});var n=i(6268),o=i(3547),s=i(5321),r=i(4850),a=i(553),l=i(9802),d=i(9488),c=i(5393),h=i(9898),u=i(4669),g=i(5976),p=i(1134),m=i(6633);function f(e,t){const i=[];for(const n of t){if(e.start>=n.range.end)continue;if(e.end<n.range.start)break;const t=p.e.intersect(e,n.range);p.e.isEmpty(t)||i.push({range:t,size:n.size})}return i}function v({start:e,end:t},i){return{start:e+i,end:t+i}}class _{constructor(){this.groups=[],this._size=0}splice(e,t,i=[]){const n=i.length-t,o=f({start:0,end:e},this.groups),s=f({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map((e=>({range:v(e.range,n),size:e.size}))),r=i.map(((t,i)=>({range:{start:e+i,end:e+i+1},size:t.size})));this.groups=function(...e){return function(e){const t=[];let i=null;for(const n of e){const e=n.range.start,o=n.range.end,s=n.size;i&&s===i.size?i.range.end=o:(i={range:{start:e,end:o},size:s},t.push(i))}return t}(e.reduce(((e,t)=>e.concat(t)),[]))}(o,r,s),this._size=this.groups.reduce(((e,t)=>e+t.size*(t.range.end-t.range.start)),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;let t=0,i=0;for(const n of this.groups){const o=n.range.end-n.range.start,s=i+o*n.size;if(e<s)return t+Math.floor((e-i)/n.size);t+=o,i=s}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(const n of this.groups){const o=n.range.end-n.range.start,s=i+o;if(e<s)return t+(e-i)*n.size;t+=o*n.size,i=s}return-1}}class b{constructor(e){this.renderers=e,this.cache=new Map}alloc(e){let t=this.getTemplateCache(e).pop();if(!t){const i=(0,s.$)(".monaco-list-row");t={domNode:i,templateId:e,templateData:this.getRenderer(e).renderTemplate(i)}}return t}release(e){e&&this.releaseRow(e)}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(t.classList.remove("scrolling"),function(e){var t;try{null===(t=e.parentElement)||void 0===t||t.removeChild(e)}catch(e){}}(t)),this.getTemplateCache(i).push(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach(((e,t)=>{for(const i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null})),this.cache.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var C=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r};const y={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:e=>[e],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class w{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class S{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class k{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}class L{constructor(e){(null==e?void 0:e.getSetSize)?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(e,t,i)=>i,(null==e?void 0:e.getPosInSet)?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(e,t)=>t+1,(null==e?void 0:e.getRole)?this.getRole=e.getRole.bind(e):this.getRole=e=>"listitem",(null==e?void 0:e.isChecked)?this.isChecked=e.isChecked.bind(e):this.isChecked=e=>{}}}class x{constructor(e,t,i,n=y){var o,r,d,h,p,f,v,C,w,S;if(this.virtualDelegate=t,this.domId="list_id_"+ ++x.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new c.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=g.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=g.JT.None,this.onDragLeaveTimeout=g.JT.None,this.disposables=new g.SL,this._onDidChangeContentHeight=new u.Q5,this._horizontalScrolling=!1,n.horizontalScrolling&&n.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new _;for(const e of i)this.renderers.set(e.templateId,e);this.cache=this.disposables.add(new b(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof n.mouseSupport||n.mouseSupport),this._horizontalScrolling=null!==(o=n.horizontalScrolling)&&void 0!==o?o:y.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===n.additionalScrollHeight?0:n.additionalScrollHeight,this.accessibilityProvider=new L(n.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(null!==(r=n.transformOptimization)&&void 0!==r?r:y.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(a.o.addTarget(this.rowsContainer)),this.scrollable=new m.Rm({forceIntegerValues:!0,smoothScrollDuration:null!==(d=n.smoothScrolling)&&void 0!==d&&d?125:0,scheduleAtNextAnimationFrame:e=>(0,s.jL)(e)}),this.scrollableElement=this.disposables.add(new l.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:null!==(h=n.alwaysConsumeMouseWheel)&&void 0!==h?h:y.alwaysConsumeMouseWheel,horizontal:1,vertical:null!==(p=n.verticalScrollMode)&&void 0!==p?p:y.verticalScrollMode,useShadows:null!==(f=n.useShadows)&&void 0!==f?f:y.useShadows,mouseWheelScrollSensitivity:n.mouseWheelScrollSensitivity,fastScrollSensitivity:n.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,s.nm)(this.rowsContainer,a.t.Change,(e=>this.onTouchChange(e)))),this.disposables.add((0,s.nm)(this.scrollableElement.getDomNode(),"scroll",(e=>e.target.scrollTop=0))),this.disposables.add((0,s.nm)(this.domNode,"dragover",(e=>this.onDragOver(this.toDragEvent(e))))),this.disposables.add((0,s.nm)(this.domNode,"drop",(e=>this.onDrop(this.toDragEvent(e))))),this.disposables.add((0,s.nm)(this.domNode,"dragleave",(e=>this.onDragLeave(this.toDragEvent(e))))),this.disposables.add((0,s.nm)(this.domNode,"dragend",(e=>this.onDragEnd(e)))),this.setRowLineHeight=null!==(v=n.setRowLineHeight)&&void 0!==v?v:y.setRowLineHeight,this.setRowHeight=null!==(C=n.setRowHeight)&&void 0!==C?C:y.setRowHeight,this.supportDynamicHeights=null!==(w=n.supportDynamicHeights)&&void 0!==w?w:y.supportDynamicHeights,this.dnd=null!==(S=n.dnd)&&void 0!==S?S:y.dnd,this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const e of this.items)this.measureItemWidth(e);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,s.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){void 0!==e.additionalScrollHeight&&(this.additionalScrollHeight=e.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==e.smoothScrolling&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),void 0!==e.horizontalScrolling&&(this.horizontalScrolling=e.horizontalScrolling),void 0!==e.mouseWheelScrollSensitivity&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),void 0!==e.fastScrollSensitivity&&this.scrollableElement.updateOptions({fastScrollSensitivity:e.fastScrollSensitivity})}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){const n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o={start:e,end:e+t},s=p.e.intersect(n,o),r=new Map;for(let e=s.end-1;e>=s.start;e--){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){let i=r.get(t.templateId);i||(i=[],r.set(t.templateId,i));const n=this.renderers.get(t.templateId);n&&n.disposeElement&&n.disposeElement(t.element,e,t.row.templateData,t.size),i.push(t.row)}t.row=null}const a={start:e+t,end:this.items.length},l=p.e.intersect(a,n),d=p.e.relativeComplement(a,n),c=i.map((e=>({id:String(this.itemId++),element:e,templateId:this.virtualDelegate.getTemplateId(e),size:this.virtualDelegate.getHeight(e),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(e),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:g.JT.None,checkedDisposable:g.JT.None})));let h;0===e&&t>=this.items.length?(this.rangeMap=new _,this.rangeMap.splice(0,0,c),h=this.items,this.items=c):(this.rangeMap.splice(e,t,c),h=this.items.splice(e,t,...c));const u=i.length-t,m=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),f=v(l,u),b=p.e.intersect(m,f);for(let e=b.start;e<b.end;e++)this.updateItemInDOM(this.items[e],e);const C=p.e.relativeComplement(f,m);for(const e of C)for(let t=e.start;t<e.end;t++)this.removeItemFromDOM(t);const y=d.map((e=>v(e,u))),w=[{start:e,end:e+i.length},...y].map((e=>p.e.intersect(m,e))),S=this.getNextToLastElement(w);for(const e of w)for(let t=e.start;t<e.end;t++){const e=this.items[t],i=r.get(e.templateId),n=null==i?void 0:i.pop();this.insertItemInDOM(t,S,n)}for(const e of r.values())for(const t of e)this.cache.release(t);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),h.map((e=>e.element))}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,s.jL)((()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null})))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger((()=>this.updateScrollWidth())):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)void 0!==t.width&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:0===e?0:e+10})}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(e){return this.items[e].element}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){const i={height:"number"==typeof e?e:(0,s.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),void 0!==t&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof t?t:(0,s.FK)(this.domNode)})}render(e,t,i,n,o,s=!1){const r=this.getRenderRange(t,i),a=p.e.relativeComplement(r,e),l=p.e.relativeComplement(e,r),d=this.getNextToLastElement(a);if(s){const t=p.e.intersect(e,r);for(let e=t.start;e<t.end;e++)this.updateItemInDOM(this.items[e],e)}for(const e of a)for(let t=e.start;t<e.end;t++)this.insertItemInDOM(t,d);for(const e of l)for(let t=e.start;t<e.end;t++)this.removeItemFromDOM(t);void 0!==n&&(this.rowsContainer.style.left=`-${n}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&void 0!==o&&(this.rowsContainer.style.width=`${Math.max(o,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t,i){const n=this.items[e];n.row||(n.row=null!=i?i:this.cache.alloc(n.templateId));const o=this.accessibilityProvider.getRole(n.element)||"listitem";n.row.domNode.setAttribute("role",o);const r=this.accessibilityProvider.isChecked(n.element);if("boolean"==typeof r)n.row.domNode.setAttribute("aria-checked",String(!!r));else if(r){const e=e=>n.row.domNode.setAttribute("aria-checked",String(!!e));e(r.value),n.checkedDisposable=r.onDidChange(e)}n.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(n.row.domNode,t):this.rowsContainer.appendChild(n.row.domNode)),this.updateItemInDOM(n,e);const a=this.renderers.get(n.templateId);if(!a)throw new Error(`No renderer found for template id ${n.templateId}`);null==a||a.renderElement(n.element,e,n.row.templateData,n.size);const l=this.dnd.getDragURI(n.element);n.dragStartDisposable.dispose(),n.row.domNode.draggable=!!l,l&&(n.dragStartDisposable=(0,s.nm)(n.row.domNode,"dragstart",(e=>this.onDragStart(n.element,l,e)))),this.horizontalScrolling&&(this.measureItemWidth(n),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width=n.isFirefox?"-moz-fit-content":"fit-content",e.width=(0,s.FK)(e.row.domNode);const t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2==0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){const i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return u.ju.map(this.disposables.add(new r.Y(this.domNode,"click")).event,(e=>this.toMouseEvent(e)),this.disposables)}get onMouseDblClick(){return u.ju.map(this.disposables.add(new r.Y(this.domNode,"dblclick")).event,(e=>this.toMouseEvent(e)),this.disposables)}get onMouseMiddleClick(){return u.ju.filter(u.ju.map(this.disposables.add(new r.Y(this.domNode,"auxclick")).event,(e=>this.toMouseEvent(e)),this.disposables),(e=>1===e.browserEvent.button),this.disposables)}get onMouseDown(){return u.ju.map(this.disposables.add(new r.Y(this.domNode,"mousedown")).event,(e=>this.toMouseEvent(e)),this.disposables)}get onMouseOver(){return u.ju.map(this.disposables.add(new r.Y(this.domNode,"mouseover")).event,(e=>this.toMouseEvent(e)),this.disposables)}get onContextMenu(){return u.ju.any(u.ju.map(this.disposables.add(new r.Y(this.domNode,"contextmenu")).event,(e=>this.toMouseEvent(e)),this.disposables),u.ju.map(this.disposables.add(new r.Y(this.domNode,a.t.Contextmenu)).event,(e=>this.toGestureEvent(e)),this.disposables))}get onTouchStart(){return u.ju.map(this.disposables.add(new r.Y(this.domNode,"touchstart")).event,(e=>this.toTouchEvent(e)),this.disposables)}get onTap(){return u.ju.map(this.disposables.add(new r.Y(this.rowsContainer,a.t.Tap)).event,(e=>this.toGestureEvent(e)),this.disposables)}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){var n,r;if(!i.dataTransfer)return;const a=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(o.g.TEXT,t),i.dataTransfer.setDragImage){let e;this.dnd.getDragLabel&&(e=this.dnd.getDragLabel(a,i)),void 0===e&&(e=String(a.length));const t=(0,s.$)(".monaco-drag-image");t.textContent=e,document.body.appendChild(t),i.dataTransfer.setDragImage(t,-10,-10),setTimeout((()=>document.body.removeChild(t)),0)}this.currentDragData=new w(a),o.P.CurrentDragAndDropData=new S(a),null===(r=(n=this.dnd).onDragStart)||void 0===r||r.call(n,this.currentDragData,i)}onDragOver(e){var t;if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),o.P.CurrentDragAndDropData&&"vscode-ui"===o.P.CurrentDragAndDropData.getData())return!1;if(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(o.P.CurrentDragAndDropData)this.currentDragData=o.P.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new k}const i=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop="boolean"==typeof i?i:i.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let n;if(e.browserEvent.dataTransfer.dropEffect="boolean"!=typeof i&&0===i.effect?"copy":"move",n="boolean"!=typeof i&&i.feedback?i.feedback:void 0===e.index?[-1]:[e.index],n=(0,d.EB)(n).filter((e=>e>=-1&&e<this.length)).sort(((e,t)=>e-t)),n=-1===n[0]?[-1]:n,s=this.currentDragFeedback,r=n,Array.isArray(s)&&Array.isArray(r)?(0,d.fS)(s,r):s===r)return!0;var s,r;if(this.currentDragFeedback=n,this.currentDragFeedbackDisposable.dispose(),-1===n[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,g.OF)((()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")}));else{for(const e of n){const i=this.items[e];i.dropTarget=!0,null===(t=i.row)||void 0===t||t.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,g.OF)((()=>{var e;for(const t of n){const i=this.items[t];i.dropTarget=!1,null===(e=i.row)||void 0===e||e.domNode.classList.remove("drop-target")}}))}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,c.Vg)((()=>this.clearDragOverFeedback()),100),this.currentDragData&&(null===(i=(t=this.dnd).onDragLeave)||void 0===i||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,o.P.CurrentDragAndDropData=void 0,t&&e.browserEvent.dataTransfer&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){var t,i;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,o.P.CurrentDragAndDropData=void 0,null===(i=(t=this.dnd).onDragEnd)||void 0===i||i.call(t,e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=g.JT.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const e=(0,s.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,s.jt)(this.animateDragAndDropScrollTop.bind(this,e))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,c.Vg)((()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}),1e3),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(void 0===this.dragOverMouseY)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){const e=i.getAttribute("data-index");if(e){const t=Number(e);if(!isNaN(t))return t}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){const n=this.getRenderRange(e,t);let o,s;e===this.elementTop(n.start)?(o=n.start,s=0):n.end-n.start>1&&(o=n.start+1,s=this.elementTop(o)-e);let r=0;for(;;){const a=this.getRenderRange(e,t);let l=!1;for(let e=a.start;e<a.end;e++){const t=this.probeDynamicHeight(e);0!==t&&this.rangeMap.splice(e,1,[this.items[e]]),r+=t,l=l||0!==t}if(!l){0!==r&&this.eventuallyUpdateScrollDimensions();const t=p.e.relativeComplement(n,a);for(const e of t)for(let t=e.start;t<e.end;t++)this.items[t].row&&this.removeItemFromDOM(t);const l=p.e.relativeComplement(a,n);for(const e of l)for(let t=e.start;t<e.end;t++){const e=t+1,i=e<this.items.length?this.items[e].row:null,n=i?i.domNode:null;this.insertItemInDOM(t,n)}for(let e=a.start;e<a.end;e++)this.items[e].row&&this.updateItemInDOM(this.items[e],e);if("number"==typeof o){const t=this.scrollable.getFutureScrollPosition().scrollTop-e,n=this.elementTop(o)-s+t;this.setScrollTop(n,i)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(e){var t,i,n;const o=this.items[e];if(this.virtualDelegate.getDynamicHeight){const e=this.virtualDelegate.getDynamicHeight(o.element);if(null!==e){const t=o.size;return o.size=e,o.lastDynamicHeightWidth=this.renderWidth,e-t}}if(!o.hasDynamicHeight||o.lastDynamicHeightWidth===this.renderWidth)return 0;if(this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(o.element))return 0;const s=o.size;if(!this.setRowHeight&&o.row){const e=o.row.domNode.offsetHeight;return o.size=e,o.lastDynamicHeightWidth=this.renderWidth,e-s}const r=this.cache.alloc(o.templateId);r.domNode.style.height="",this.rowsContainer.appendChild(r.domNode);const a=this.renderers.get(o.templateId);return a&&(a.renderElement(o.element,e,r.templateData,void 0),null===(t=a.disposeElement)||void 0===t||t.call(a,o.element,e,r.templateData,void 0)),o.size=r.domNode.offsetHeight,null===(n=(i=this.virtualDelegate).setDynamicHeight)||void 0===n||n.call(i,o.element,o.size),o.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(r.domNode),this.cache.release(r),o.size-s}getNextToLastElement(e){const t=e[e.length-1];if(!t)return null;const i=this.items[t.end];return i&&i.row?i.row.domNode:null}getElementDomId(e){return`${this.domId}_${e}`}dispose(){var e;if(this.items){for(const t of this.items)if(t.row){const i=this.renderers.get(t.row.templateId);i&&(null===(e=i.disposeElement)||void 0===e||e.call(i,t.element,-1,t.row.templateData,void 0),i.disposeTemplate(t.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,g.B9)(this.disposables)}}x.InstanceCount=0,C([h.H],x.prototype,"onMouseClick",null),C([h.H],x.prototype,"onMouseDblClick",null),C([h.H],x.prototype,"onMouseMiddleClick",null),C([h.H],x.prototype,"onMouseDown",null),C([h.H],x.prototype,"onMouseOver",null),C([h.H],x.prototype,"onContextMenu",null),C([h.H],x.prototype,"onTouchStart",null),C([h.H],x.prototype,"onTap",null)},3799:(e,t,i)=>{"use strict";i.d(t,{wD:()=>B,aV:()=>Y,sx:()=>z,AA:()=>y,iK:()=>T,cK:()=>E,hD:()=>A,wn:()=>F,Zo:()=>V});var n=i(5321),o=i(4850),s=i(9069),r=i(553),a=i(5152);class l{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach((n=>n.splice(e,t,i)))}}var d=i(9488),c=i(5393),h=i(1264),u=i(9898),g=i(4669),p=i(5392),m=i(5976),f=i(9870),v=i(6248),_=i(1432),b=i(8401);class C extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}var y,w,S=i(5707),k=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},L=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class x{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,i){const n=this.renderedElements.findIndex((e=>e.templateData===i));if(n>=0){const e=this.renderedElements[n];this.trait.unrender(i),e.index=t}else{const e={index:t,templateData:i};this.renderedElements.push(e)}this.trait.renderIndex(t,i)}splice(e,t,i){const n=[];for(const o of this.renderedElements)o.index<e?n.push(o):o.index>=e+t&&n.push({index:o.index+i-t,templateData:o.templateData});this.renderedElements=n}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=this.renderedElements.findIndex((t=>t.templateData===e));t<0||this.renderedElements.splice(t,1)}}class I{constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new g.Q5,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new x(this)}splice(e,t,i){var n;t=Math.max(0,Math.min(t,this.length-e));const o=i.length-t,s=e+t,r=[...this.sortedIndexes.filter((t=>t<e)),...i.map(((t,i)=>t?i+e:-1)).filter((e=>-1!==e)),...this.sortedIndexes.filter((e=>e>=s)).map((e=>e+o))],a=this.length+o;if(this.sortedIndexes.length>0&&0===r.length&&a>0){const t=null!==(n=this.sortedIndexes.find((t=>t>=e)))&&void 0!==n?n:a-1;r.push(Math.min(t,a-1))}this.renderer.splice(e,t,i.length),this._set(r,r),this.length=a}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(j),t)}_set(e,t,i){const n=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const s=G(o,e);return this.renderer.renderIndexes(s),this._onChange.fire({indexes:e,browserEvent:i}),n}get(){return this.indexes}contains(e){return(0,d.ry)(this.sortedIndexes,e,j)>=0}dispose(){(0,m.B9)(this._onChange)}}k([u.H],I.prototype,"renderer",null);class D extends I{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class N{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,i.map((()=>!1)));const n=this.trait.get().map((e=>this.identityProvider.getId(this.view.element(e)).toString())),o=i.map((e=>n.indexOf(this.identityProvider.getId(e).toString())>-1));this.trait.splice(e,t,o)}}function E(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function A(e){return!!e.classList.contains("monaco-editor")||!e.classList.contains("monaco-list")&&!!e.parentElement&&A(e.parentElement)}function T(e){return!!("A"===e.tagName&&e.classList.contains("monaco-button")||"DIV"===e.tagName&&e.classList.contains("monaco-button-dropdown"))||!e.classList.contains("monaco-list")&&!!e.parentElement&&T(e.parentElement)}class M{constructor(e,t,i){this.list=e,this.view=t,this.disposables=new m.SL,this.multipleSelectionDisposables=new m.SL,this.onKeyDown.filter((e=>3===e.keyCode)).on(this.onEnter,this,this.disposables),this.onKeyDown.filter((e=>16===e.keyCode)).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter((e=>18===e.keyCode)).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter((e=>11===e.keyCode)).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter((e=>12===e.keyCode)).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter((e=>9===e.keyCode)).on(this.onEscape,this,this.disposables),!1!==i.multipleSelectionSupport&&this.onKeyDown.filter((e=>(_.dz?e.metaKey:e.ctrlKey)&&31===e.keyCode)).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(g.ju.chain(this.disposables.add(new o.Y(this.view.domNode,"keydown")).event).filter((e=>!E(e.target))).map((e=>new s.y(e))))}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),e.multipleSelectionSupport&&this.onKeyDown.filter((e=>(_.dz?e.metaKey:e.ctrlKey)&&31===e.keyCode)).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection((0,d.w6)(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}k([u.H],M.prototype,"onKeyDown",null),function(e){e[e.Automatic=0]="Automatic",e[e.Trigger=1]="Trigger"}(y||(y={})),function(e){e[e.Idle=0]="Idle",e[e.Typing=1]="Typing"}(w||(w={}));const R=new class{mightProducePrintableCharacter(e){return!(e.ctrlKey||e.metaKey||e.altKey)&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30||e.keyCode>=93&&e.keyCode<=102||e.keyCode>=80&&e.keyCode<=90)}};class P{constructor(e,t,i,n,o){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.keyboardNavigationEventFilter=n,this.delegate=o,this.enabled=!1,this.state=w.Idle,this.mode=y.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new m.SL,this.disposables=new m.SL,this.updateOptions(e.options)}updateOptions(e){var t,i;null===(t=e.typeNavigationEnabled)||void 0===t||t?this.enable():this.disable(),this.mode=null!==(i=e.typeNavigationMode)&&void 0!==i?i:y.Automatic}enable(){if(this.enabled)return;let e=!1;const t=this.enabledDisposables.add(g.ju.chain(this.enabledDisposables.add(new o.Y(this.view.domNode,"keydown")).event)).filter((e=>!E(e.target))).filter((()=>this.mode===y.Automatic||this.triggered)).map((e=>new s.y(e))).filter((t=>e||this.keyboardNavigationEventFilter(t))).filter((e=>this.delegate.mightProducePrintableCharacter(e))).forEach(o.p).map((e=>e.browserEvent.key)).event,i=g.ju.debounce(t,(()=>null),800,void 0,void 0,this.enabledDisposables);g.ju.reduce(g.ju.any(t,i),((e,t)=>null===t?null:(e||"")+t),void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),i(this.onClear,this,this.enabledDisposables),t((()=>e=!0),void 0,this.enabledDisposables),i((()=>e=!1),void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const i=null===(e=this.list.options.accessibilityProvider)||void 0===e?void 0:e.getAriaLabel(this.list.element(t[0]));i&&(0,a.Z9)(i)}this.previouslyFocused=-1}onInput(e){if(!e)return this.state=w.Idle,void(this.triggered=!1);const t=this.list.getFocus(),i=t.length>0?t[0]:0,n=this.state===w.Idle?1:0;this.state=w.Typing;for(let t=0;t<this.list.length;t++){const o=(i+t+n)%this.list.length,s=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(o)),r=s&&s.toString();if(void 0===r||(0,p.Ji)(e,r))return this.previouslyFocused=i,this.list.setFocus([o]),void this.list.reveal(o)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class O{constructor(e,t){this.list=e,this.view=t,this.disposables=new m.SL,this.disposables.add(g.ju.chain(this.disposables.add(new o.Y(t.domNode,"keydown")).event)).filter((e=>!E(e.target))).map((e=>new s.y(e))).filter((e=>!(2!==e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey))).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(0===t.length)return;const i=this.view.domElement(t[0]);if(!i)return;const n=i.querySelector("[tabIndex]");if(!(n&&n instanceof HTMLElement&&-1!==n.tabIndex))return;const o=window.getComputedStyle(n);"hidden"!==o.visibility&&"none"!==o.display&&(e.preventDefault(),e.stopPropagation(),n.focus())}dispose(){this.disposables.dispose()}}function V(e){return _.dz?e.browserEvent.metaKey:e.browserEvent.ctrlKey}function F(e){return e.browserEvent.shiftKey}const W={isSelectionSingleChangeEvent:V,isSelectionRangeChangeEvent:F};class z{constructor(e){this.list=e,this.disposables=new m.SL,this._onPointer=new g.Q5,this.onPointer=this._onPointer.event,!1!==e.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||W),this.mouseSupport=void 0===e.options.mouseSupport||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(r.o.addTarget(e.getHTMLElement()))),g.ju.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||W))}isSelectionSingleChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(e)}isSelectionRangeChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(e)}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){A(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(A(e.browserEvent.target))return;const t=void 0===e.index?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport)return;if(E(e.browserEvent.target)||A(e.browserEvent.target))return;const t=e.index;return void 0===t?(this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(e)||this.isSelectionChangeEvent(e)?this.changeSelection(e):(this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),(i=e.browserEvent)instanceof MouseEvent&&2===i.button||this.list.setSelection([t],e.browserEvent),void this._onPointer.fire(e));var i}onDoubleClick(e){if(E(e.browserEvent.target)||A(e.browserEvent.target))return;if(this.isSelectionChangeEvent(e))return;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(void 0===i){const e=this.list.getFocus()[0];i=null!=e?e:t,this.list.setAnchor(i)}const n=Math.min(i,t),o=Math.max(i,t),s=(0,d.w6)(n,o+1),r=this.list.getSelection(),a=function(e,t){const i=e.indexOf(t);if(-1===i)return[];const n=[];let o=i-1;for(;o>=0&&e[o]===t-(i-o);)n.push(e[o--]);for(n.reverse(),o=i;o<e.length&&e[o]===t+(o-i);)n.push(e[o++]);return n}(G(r,[i]),i);if(0===a.length)return;const l=G(s,function(e,t){const i=[];let n=0,o=0;for(;n<e.length||o<t.length;)if(n>=e.length)i.push(t[o++]);else if(o>=t.length)i.push(e[n++]);else{if(e[n]===t[o]){n++,o++;continue}e[n]<t[o]?i.push(e[n++]):o++}return i}(r,a));this.list.setSelection(l,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const i=this.list.getSelection(),n=i.filter((e=>e!==t));this.list.setFocus([t]),this.list.setAnchor(t),i.length===n.length?this.list.setSelection([...n,t],e.browserEvent):this.list.setSelection(n,e.browserEvent)}}dispose(){this.disposables.dispose()}}class B{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){const t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&(e.listBackground.isOpaque()?i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):_.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionOutline&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { outline-color: ${e.listFocusAndSelectionOutline} !important; }`),e.listFocusAndSelectionBackground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }\n\t\t\t`),e.listFocusAndSelectionForeground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }\n\t\t\t`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&i.push(`\n\t\t\t\t.monaco-list${t}.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),e.tableColumnsBorder&&i.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${e.tableColumnsBorder};\n\t\t\t}`),e.tableOddRowsBackgroundColor&&i.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${e.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=i.join("\n")}}const U={listFocusBackground:h.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:h.Il.fromHex("#0E639C"),listActiveSelectionForeground:h.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:h.Il.fromHex("#FFFFFF"),listFocusAndSelectionOutline:h.Il.fromHex("#90C2F9"),listFocusAndSelectionBackground:h.Il.fromHex("#094771"),listFocusAndSelectionForeground:h.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:h.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:h.Il.fromHex("#FFFFFF"),listHoverBackground:h.Il.fromHex("#2A2D2E"),listDropBackground:h.Il.fromHex("#383B3D"),treeIndentGuidesStroke:h.Il.fromHex("#a9a9a9"),tableColumnsBorder:h.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:h.Il.fromHex("#cccccc").transparent(.04)},H={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function G(e,t){const i=[];let n=0,o=0;for(;n<e.length||o<t.length;)if(n>=e.length)i.push(t[o++]);else if(o>=t.length)i.push(e[n++]);else{if(e[n]===t[o]){i.push(e[n]),n++,o++;continue}e[n]<t[o]?i.push(e[n++]):i.push(t[o++])}return i}const j=(e,t)=>e-t;class K{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map((t=>t.renderTemplate(e)))}renderElement(e,t,i,n){let o=0;for(const s of this.renderers)s.renderElement(e,t,i[o++],n)}disposeElement(e,t,i,n){var o;let s=0;for(const r of this.renderers)null===(o=r.disposeElement)||void 0===o||o.call(r,e,t,i[s],n),s+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class ${constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){const n=this.accessibilityProvider.getAriaLabel(e);n?i.setAttribute("aria-label",n):i.removeAttribute("aria-label");const o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);"number"==typeof o?i.setAttribute("aria-level",`${o}`):i.removeAttribute("aria-level")}disposeTemplate(e){}}class q{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){var i,n;null===(n=(i=this.dnd).onDragStart)||void 0===n||n.call(i,e,t)}onDragOver(e,t,i,n){return this.dnd.onDragOver(e,t,i,n)}onDragLeave(e,t,i,n){var o,s;null===(s=(o=this.dnd).onDragLeave)||void 0===s||s.call(o,e,t,i,n)}onDragEnd(e){var t,i;null===(i=(t=this.dnd).onDragEnd)||void 0===i||i.call(t,e)}drop(e,t,i,n){this.dnd.drop(e,t,i,n)}}class Y{constructor(e,t,i,o,s=H){var r,a,d,c;this.user=e,this._options=s,this.focus=new I("focused"),this.anchor=new I("anchor"),this.eventBufferer=new g.E7,this._ariaLabel="",this.disposables=new m.SL,this._onDidDispose=new g.Q5,this.onDidDispose=this._onDidDispose.event;const h=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(r=this._options.accessibilityProvider)||void 0===r?void 0:r.getWidgetRole():"list";this.selection=new D("listbox"!==h),(0,v.jB)(s,U,!1);const u=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=s.accessibilityProvider,this.accessibilityProvider&&(u.push(new $(this.accessibilityProvider)),null===(d=(a=this.accessibilityProvider).onDidChangeActiveDescendant)||void 0===d||d.call(a,this.onDidChangeActiveDescendant,this,this.disposables)),o=o.map((e=>new K(e.templateId,[...u,e])));const p=Object.assign(Object.assign({},s),{dnd:s.dnd&&new q(this,s.dnd)});if(this.view=new S.Bv(t,i,o,p),this.view.domNode.setAttribute("role",h),s.styleController)this.styleController=s.styleController(this.view.domId);else{const e=(0,n.dS)(this.view.domNode);this.styleController=new B(e,this.view.domId)}if(this.spliceable=new l([new N(this.focus,this.view,s.identityProvider),new N(this.selection,this.view,s.identityProvider),new N(this.anchor,this.view,s.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new O(this,this.view)),("boolean"!=typeof s.keyboardSupport||s.keyboardSupport)&&(this.keyboardController=new M(this,this.view,s),this.disposables.add(this.keyboardController)),s.keyboardNavigationLabelProvider){const e=s.keyboardNavigationDelegate||R;this.typeNavigationController=new P(this,this.view,s.keyboardNavigationLabelProvider,null!==(c=s.keyboardNavigationEventFilter)&&void 0!==c?c:()=>!0,e),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(s),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return g.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),(e=>this.toListEvent(e)),this.disposables)}get onDidChangeSelection(){return g.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),(e=>this.toListEvent(e)),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=this.disposables.add(g.ju.chain(this.disposables.add(new o.Y(this.view.domNode,"keydown")).event)).map((e=>new s.y(e))).filter((t=>e=58===t.keyCode||t.shiftKey&&68===t.keyCode)).map(o.p).filter((()=>!1)).event,i=this.disposables.add(g.ju.chain(this.disposables.add(new o.Y(this.view.domNode,"keyup")).event)).forEach((()=>e=!1)).map((e=>new s.y(e))).filter((e=>58===e.keyCode||e.shiftKey&&68===e.keyCode)).map(o.p).map((({browserEvent:e})=>{const t=this.getFocus(),i=t.length?t[0]:void 0;return{index:i,element:void 0!==i?this.view.element(i):void 0,anchor:void 0!==i?this.view.domElement(i):this.view.domNode,browserEvent:e}})).event,n=this.disposables.add(g.ju.chain(this.view.onContextMenu)).filter((t=>!e)).map((({element:e,index:t,browserEvent:i})=>({element:e,index:t,anchor:{x:i.pageX+1,y:i.pageY},browserEvent:i}))).event;return g.ju.any(t,i,n)}get onKeyDown(){return this.disposables.add(new o.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return g.ju.signal(this.disposables.add(new o.Y(this.view.domNode,"focus",!0)).event)}createMouseController(e){return new z(this)}updateOptions(e={}){var t,i;this._options=Object.assign(Object.assign({},this._options),e),null===(t=this.typeNavigationController)||void 0===t||t.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),null===(i=this.keyboardController)||void 0===i||i.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new C(this.user,`Invalid start index: ${e}`);if(t<0)throw new C(this.user,`Invalid delete count: ${t}`);0===t&&0===i.length||this.eventBufferer.bufferEvents((()=>this.spliceable.splice(e,t,i)))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const t of e)if(t<0||t>=this.length)throw new C(this.user,`Invalid index ${t}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map((e=>this.view.element(e)))}setAnchor(e){if(void 0!==e){if(e<0||e>=this.length)throw new C(this.user,`Invalid index ${e}`);this.anchor.set([e])}else this.anchor.set([])}getAnchor(){return(0,d.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return void 0===e?void 0:this.element(e)}setFocus(e,t){for(const t of e)if(t<0||t>=this.length)throw new C(this.user,`Invalid index ${t}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,n){if(0===this.length)return;const o=this.focus.get(),s=this.findNextIndex(o.length>0?o[0]+e:0,t,n);s>-1&&this.setFocus([s],i)}focusPrevious(e=1,t=!1,i,n){if(0===this.length)return;const o=this.focus.get(),s=this.findPreviousIndex(o.length>0?o[0]-e:0,t,n);s>-1&&this.setFocus([s],i)}focusNextPage(e,t){return L(this,void 0,void 0,(function*(){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=0===i?0:i-1;const n=this.getFocus()[0];if(n!==i&&(void 0===n||i>n)){const o=this.findPreviousIndex(i,!1,t);o>-1&&n!==o?this.setFocus([o],e):this.setFocus([i],e)}else{const o=this.view.getScrollTop();let s=o+this.view.renderHeight;i>n&&(s-=this.view.elementHeight(i)),this.view.setScrollTop(s),this.view.getScrollTop()!==o&&(this.setFocus([]),yield(0,c.Vs)(0),yield this.focusNextPage(e,t))}}))}focusPreviousPage(e,t){return L(this,void 0,void 0,(function*(){let i;const n=this.view.getScrollTop();i=0===n?this.view.indexAt(n):this.view.indexAfter(n-1);const o=this.getFocus()[0];if(o!==i&&(void 0===o||o>=i)){const n=this.findNextIndex(i,!1,t);n>-1&&o!==n?this.setFocus([n],e):this.setFocus([i],e)}else{const i=n;this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==i&&(this.setFocus([]),yield(0,c.Vs)(0),yield this.focusPreviousPage(e,t))}}))}focusLast(e,t){if(0===this.length)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(0===this.length)return;const n=this.findNextIndex(e,!1,i);n>-1&&this.setFocus([n],t)}findNextIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e>=this.length&&!t)return-1;if(e%=this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map((e=>this.view.element(e)))}reveal(e,t){if(e<0||e>=this.length)throw new C(this.user,`Invalid index ${e}`);const i=this.view.getScrollTop(),n=this.view.elementTop(e),o=this.view.elementHeight(e);if((0,b.hj)(t)){const e=o-this.view.renderHeight;this.view.setScrollTop(e*(0,f.uZ)(t,0,1)+n)}else{const e=n+o,t=i+this.view.renderHeight;n<i&&e>=t||(n<i||e>=t&&o>=this.view.renderHeight?this.view.setScrollTop(n):e>=t&&this.view.setScrollTop(e-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(e){return this.view.getElementDomId(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map((e=>this.view.element(e))),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let i;(null===(e=this.accessibilityProvider)||void 0===e?void 0:e.getActiveDescendantId)&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===e.length),this.view.domNode.classList.toggle("selection-single",1===e.length),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}k([u.H],Y.prototype,"onDidChangeFocus",null),k([u.H],Y.prototype,"onDidChangeSelection",null),k([u.H],Y.prototype,"onContextMenu",null),k([u.H],Y.prototype,"onKeyDown",null),k([u.H],Y.prototype,"onDidFocus",null)},6542:(e,t,i)=>{"use strict";i.d(t,{S:()=>n});const n="monaco-mouse-cursor-text"},3098:(e,t,i)=>{"use strict";i.d(t,{g:()=>b,l:()=>n});var n,o=i(5321),s=i(4850),r=i(553),a=i(5393),l=i(9898),d=i(4669),c=i(5976),h=i(1432),u=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r};!function(e){e.North="north",e.South="south",e.East="east",e.West="west"}(n||(n={}));const g=new d.Q5,p=new d.Q5;class m{constructor(){this.disposables=new c.SL}get onPointerMove(){return this.disposables.add(new s.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new s.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}u([l.H],m.prototype,"onPointerMove",null),u([l.H],m.prototype,"onPointerUp",null);class f{constructor(e){this.el=e,this.disposables=new c.SL}get onPointerMove(){return this.disposables.add(new s.Y(this.el,r.t.Change)).event}get onPointerUp(){return this.disposables.add(new s.Y(this.el,r.t.End)).event}dispose(){this.disposables.dispose()}}u([l.H],f.prototype,"onPointerMove",null),u([l.H],f.prototype,"onPointerUp",null);class v{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}u([l.H],v.prototype,"onPointerMove",null),u([l.H],v.prototype,"onPointerUp",null);const _="pointer-events-disabled";class b extends c.JT{constructor(e,t,i){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new a.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new d.Q5),this._onDidStart=this._register(new d.Q5),this._onDidChange=this._register(new d.Q5),this._onDidReset=this._register(new d.Q5),this._onDidEnd=this._register(new d.Q5),this.orthogonalStartSashDisposables=this._register(new c.SL),this.orthogonalStartDragHandleDisposables=this._register(new c.SL),this.orthogonalEndSashDisposables=this._register(new c.SL),this.orthogonalEndDragHandleDisposables=this._register(new c.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,o.R3)(e,(0,o.$)(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),h.dz&&this.el.classList.add("mac");const n=this._register(new s.Y(this.el,"mousedown")).event;this._register(n((e=>this.onPointerStart(e,new m)),this));const l=this._register(new s.Y(this.el,"dblclick")).event;this._register(l(this.onPointerDoublePress,this));const u=this._register(new s.Y(this.el,"mouseenter")).event;this._register(u((()=>b.onMouseEnter(this))));const v=this._register(new s.Y(this.el,"mouseleave")).event;this._register(v((()=>b.onMouseLeave(this)))),this._register(r.o.addTarget(this.el));const _=d.ju.map(this._register(new s.Y(this.el,r.t.Start)).event,(e=>{var t;return Object.assign(Object.assign({},e),{target:null!==(t=e.initialTarget)&&void 0!==t?t:null})}));this._register(_((e=>this.onPointerStart(e,new f(this.el))),this));const C=this._register(new s.Y(this.el,r.t.Tap)).event,y=d.ju.map(d.ju.filter(d.ju.debounce(C,((e,t)=>{var i;return{event:t,count:(null!==(i=null==e?void 0:e.count)&&void 0!==i?i:0)+1}}),250),(({count:e})=>2===e)),(({event:e})=>{var t;return Object.assign(Object.assign({},e),{target:null!==(t=e.initialTarget)&&void 0!==t?t:null})}));this._register(y(this.onPointerDoublePress,this)),"number"==typeof i.size?(this.size=i.size,0===i.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(g.event((e=>{this.size=e,this.layout()})))),this._register(p.event((e=>this.hoverDelay=e))),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",!1),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",0===e),this.el.classList.toggle("minimum",1===e),this.el.classList.toggle("maximum",2===e),this._state=e,this.onDidEnablementChange.fire(e))}set orthogonalStartSash(e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=t=>{this.orthogonalStartDragHandleDisposables.clear(),0!==t&&(this._orthogonalStartDragHandle=(0,o.R3)(this.el,(0,o.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,c.OF)((()=>this._orthogonalStartDragHandle.remove()))),this.orthogonalStartDragHandleDisposables.add(new s.Y(this._orthogonalStartDragHandle,"mouseenter")).event((()=>b.onMouseEnter(e)),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new s.Y(this._orthogonalStartDragHandle,"mouseleave")).event((()=>b.onMouseLeave(e)),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}set orthogonalEndSash(e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=t=>{this.orthogonalEndDragHandleDisposables.clear(),0!==t&&(this._orthogonalEndDragHandle=(0,o.R3)(this.el,(0,o.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,c.OF)((()=>this._orthogonalEndDragHandle.remove()))),this.orthogonalEndDragHandleDisposables.add(new s.Y(this._orthogonalEndDragHandle,"mouseenter")).event((()=>b.onMouseEnter(e)),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new s.Y(this._orthogonalEndDragHandle,"mouseleave")).event((()=>b.onMouseLeave(e)),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}onPointerStart(e,t){o.zB.stop(e);let i=!1;if(!e.__orthogonalSashEvent){const n=this.getOrthogonalSash(e);n&&(i=!0,e.__orthogonalSashEvent=!0,n.onPointerStart(e,new v(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new v(t))),!this.state)return;const n=(0,o.H$)("iframe");for(const e of n)e.classList.add(_);const s=e.pageX,r=e.pageY,a=e.altKey,l={startX:s,currentX:s,startY:r,currentY:r,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);const d=(0,o.dS)(this.el),u=()=>{let e="";e=i?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":h.dz?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":h.dz?"col-resize":"ew-resize",d.textContent=`* { cursor: ${e} !important; }`},g=new c.SL;u(),i||this.onDidEnablementChange.event(u,null,g),t.onPointerMove((e=>{o.zB.stop(e,!1);const t={startX:s,currentX:e.pageX,startY:r,currentY:e.pageY,altKey:a};this._onDidChange.fire(t)}),null,g),t.onPointerUp((e=>{o.zB.stop(e,!1),this.el.removeChild(d),this.el.classList.remove("active"),this._onDidEnd.fire(),g.dispose();for(const e of n)e.classList.remove(_)}),null,g),g.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger((()=>e.el.classList.add("hover")),e.hoverDelay).then(void 0,(()=>{})),!t&&e.linkedSash&&b.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&b.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){b.onMouseLeave(this)}layout(){if(0===this.orientation){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){if(e.target&&e.target instanceof HTMLElement)return e.target.classList.contains("orthogonal-drag-handle")?e.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash:void 0}dispose(){super.dispose(),this.el.remove()}}},9802:(e,t,i)=>{"use strict";i.d(t,{s$:()=>x,NB:()=>k,$Z:()=>L});var n=i(6268),o=i(5321),s=i(8626),r=i(7448),a=i(3911),l=i(3794),d=i(5393);class c extends l.${constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",void 0!==e.top&&(this.bgDomNode.style.top="0px"),void 0!==e.left&&(this.bgDomNode.style.left="0px"),void 0!==e.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==e.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...e.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",void 0!==e.top&&(this.domNode.style.top=e.top+"px"),void 0!==e.left&&(this.domNode.style.left=e.left+"px"),void 0!==e.bottom&&(this.domNode.style.bottom=e.bottom+"px"),void 0!==e.right&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new a.C),this._register(o.mu(this.bgDomNode,o.tw.POINTER_DOWN,(e=>this._arrowPointerDown(e)))),this._register(o.mu(this.domNode,o.tw.POINTER_DOWN,(e=>this._arrowPointerDown(e)))),this._pointerdownRepeatTimer=this._register(new d.zh),this._pointerdownScheduleRepeatTimer=this._register(new d._F)}_arrowPointerDown(e){e.target&&e.target instanceof Element&&(this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet((()=>{this._pointerdownRepeatTimer.cancelAndSet((()=>this._onActivate()),1e3/24)}),200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,(e=>{}),(()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()})),e.preventDefault())}}var h=i(5976);class u extends h.JT{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new d._F)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet((()=>{var e;null===(e=this._domNode)||void 0===e||e.setClassName(this._visibleClassName)}),0))}_hide(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,null===(t=this._domNode)||void 0===t||t.setClassName(this._invisibleClassName+(e?" fade":"")))}}var g=i(1432);class p extends l.${constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new u(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new a.C),this._shouldRender=!0,this.domNode=(0,s.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(o.nm(this.domNode.domNode,o.tw.POINTER_DOWN,(e=>this._domNodePointerDown(e))))}_createArrow(e){const t=this._register(new c(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,n){this.slider=(0,s.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),"number"==typeof i&&this.slider.setWidth(i),"number"==typeof n&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(o.nm(this.slider.domNode,o.tw.POINTER_DOWN,(e=>{0===e.button&&(e.preventDefault(),this._sliderPointerDown(e))}))),this.onclick(this.slider.domNode,(e=>{e.leftButton&&e.stopPropagation()}))}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){const t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderPointerPosition(e);i<=o&&o<=n?0===e.button&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,i;if(e.target===this.domNode.domNode&&"number"==typeof e.offsetX&&"number"==typeof e.offsetY)t=e.offsetX,i=e.offsetY;else{const n=o.i(this.domNode.domNode);t=e.pageX-n.left,i=e.pageY-n.top}const n=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(n):this._scrollbarState.getDesiredScrollPositionFromOffset(n)),0===e.button&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!(e.target&&e.target instanceof Element))return;const t=this._sliderPointerPosition(e),i=this._sliderOrthogonalPointerPosition(e),n=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,(e=>{const o=this._sliderOrthogonalPointerPosition(e),s=Math.abs(o-i);if(g.ED&&s>140)return void this._setDesiredScrollPositionNow(n.getScrollPosition());const r=this._sliderPointerPosition(e)-t;this._setDesiredScrollPositionNow(n.getDesiredScrollPositionFromDelta(r))}),(()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()})),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class m{constructor(e,t,i,n,o,s){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=n,this._scrollSize=o,this._scrollPosition=s,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new m(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,n,o){const s=Math.max(0,i-e),r=Math.max(0,s-2*t),a=n>0&&n>i;if(!a)return{computedAvailableSize:Math.round(s),computedIsNeeded:a,computedSliderSize:Math.round(r),computedSliderRatio:0,computedSliderPosition:0};const l=Math.round(Math.max(20,Math.floor(i*r/n))),d=(r-l)/(n-i),c=o*d;return{computedAvailableSize:Math.round(s),computedIsNeeded:a,computedSliderSize:Math.round(l),computedSliderRatio:d,computedSliderPosition:Math.round(c)}}_refreshComputedValues(){const e=m._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}var f=i(3046);class v extends p{constructor(e,t,i){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new m(t.horizontalHasArrows?t.arrowSize:0,2===t.horizontal?0:t.horizontalScrollbarSize,2===t.vertical?0:t.verticalScrollbarSize,n.width,n.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const e=(t.arrowSize-11)/2,i=(t.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:f.lA.scrollbarButtonLeft,top:i,left:e,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new r.q(null,1,0))}),this._createArrow({className:"scra",icon:f.lA.scrollbarButtonRight,top:i,left:void 0,bottom:void 0,right:e,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new r.q(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(2===e.horizontal?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}class _ extends p{constructor(e,t,i){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new m(t.verticalHasArrows?t.arrowSize:0,2===t.vertical?0:t.verticalScrollbarSize,0,n.height,n.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const e=(t.arrowSize-11)/2,i=(t.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:f.lA.scrollbarButtonUp,top:e,left:i,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new r.q(null,0,1))}),this._createArrow({className:"scra",icon:f.lA.scrollbarButtonDown,top:void 0,left:i,bottom:e,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new r.q(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}var b=i(4669),C=i(6633);class y{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}class w{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let e=1,t=0,i=1,n=this._rear;for(;;){const o=n===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[n].score*o,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}return t<=.5}accept(e,t,i){const n=new y(e,t,i);n.score=this._computeScore(n),-1===this._front&&-1===this._rear?(this._memory[0]=n,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=n)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;return-1===this._front&&-1===this._rear||this._memory[this._rear],this._isAlmostInt(e.deltaX)&&this._isAlmostInt(e.deltaY)||(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}w.INSTANCE=new w;class S extends l.${constructor(e,t,i){super(),this._onScroll=this._register(new b.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new b.Q5),e.style.overflow="hidden",this._options=function(e){const t={lazyRender:void 0!==e.lazyRender&&e.lazyRender,className:void 0!==e.className?e.className:"",useShadows:void 0===e.useShadows||e.useShadows,handleMouseWheel:void 0===e.handleMouseWheel||e.handleMouseWheel,flipAxes:void 0!==e.flipAxes&&e.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==e.consumeMouseWheelIfScrollbarIsNeeded&&e.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:void 0!==e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:void 0!==e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==e.fastScrollSensitivity?e.fastScrollSensitivity:5,scrollPredominantAxis:void 0===e.scrollPredominantAxis||e.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:void 0!==e.arrowSize?e.arrowSize:11,listenOnDomNode:void 0!==e.listenOnDomNode?e.listenOnDomNode:null,horizontal:void 0!==e.horizontal?e.horizontal:1,horizontalScrollbarSize:void 0!==e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:void 0!==e.horizontalHasArrows&&e.horizontalHasArrows,vertical:void 0!==e.vertical?e.vertical:1,verticalScrollbarSize:void 0!==e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:void 0!==e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:void 0!==e.verticalSliderSize?e.verticalSliderSize:0,scrollByPage:void 0!==e.scrollByPage&&e.scrollByPage};return t.horizontalSliderSize=void 0!==e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=void 0!==e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,g.dz&&(t.className+=" mac"),t}(t),this._scrollable=i,this._register(this._scrollable.onScroll((e=>{this._onWillScroll.fire(e),this._onDidScroll(e),this._onScroll.fire(e)})));const n={onMouseWheel:e=>this._onMouseWheel(e),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new _(this._scrollable,this._options,n)),this._horizontalScrollbar=this._register(new v(this._scrollable,this._options,n)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,s.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,s.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,s.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,(e=>this._onMouseOver(e))),this.onmouseleave(this._listenOnDomNode,(e=>this._onMouseLeave(e))),this._hideTimeout=this._register(new d._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,h.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,g.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){void 0!==e.handleMouseWheel&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==e.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),void 0!==e.fastScrollSensitivity&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),void 0!==e.scrollPredominantAxis&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),void 0!==e.horizontal&&(this._options.horizontal=e.horizontal),void 0!==e.vertical&&(this._options.vertical=e.vertical),void 0!==e.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),void 0!==e.verticalScrollbarSize&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),void 0!==e.scrollByPage&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=(0,h.B9)(this._mouseWheelToDispose),e)){const e=e=>{this._onMouseWheel(new r.q(e))};this._mouseWheelToDispose.push(o.nm(this._listenOnDomNode,o.tw.MOUSE_WHEEL,e,{passive:!1}))}}_onMouseWheel(e){const t=w.INSTANCE;{const i=window.devicePixelRatio/(0,n.getZoomFactor)();g.ED||g.IJ?t.accept(Date.now(),e.deltaX/i,e.deltaY/i):t.accept(Date.now(),e.deltaX,e.deltaY)}let i=!1;if(e.deltaY||e.deltaX){let n=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(n)>=Math.abs(o)?o=0:n=0),this._options.flipAxes&&([n,o]=[o,n]);const s=!g.dz&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!s||o||(o=n,n=0),e.browserEvent&&e.browserEvent.altKey&&(o*=this._options.fastScrollSensitivity,n*=this._options.fastScrollSensitivity);const r=this._scrollable.getFutureScrollPosition();let a={};if(n){const e=50*n,t=r.scrollTop-(e<0?Math.floor(e):Math.ceil(e));this._verticalScrollbar.writeScrollPosition(a,t)}if(o){const e=50*o,t=r.scrollLeft-(e<0?Math.floor(e):Math.ceil(e));this._horizontalScrollbar.writeScrollPosition(a,t)}a=this._scrollable.validateScrollPosition(a),(r.scrollLeft!==a.scrollLeft||r.scrollTop!==a.scrollTop)&&(this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(a):this._scrollable.setScrollPositionNow(a),i=!0)}let o=i;!o&&this._options.alwaysConsumeMouseWheel&&(o=!0),!o&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(o=!0),o&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,n=i?" left":"",o=t?" top":"",s=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${n}`),this._topShadowDomNode.setClassName(`shadow${o}`),this._topLeftShadowDomNode.setClassName(`shadow${s}${o}${n}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet((()=>this._hide()),500)}}class k extends S{constructor(e,t){(t=t||{}).mouseWheelSmoothScroll=!1;const i=new C.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:e=>o.jL(e)});super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class L extends S{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class x extends S{constructor(e,t){(t=t||{}).mouseWheelSmoothScroll=!1;const i=new C.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:e=>o.jL(e)});super(e,t,i),this._register(i),this._element=e,this.onScroll((e=>{e.scrollTopChanged&&(this._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(this._element.scrollLeft=e.scrollLeft)})),this.scanDomNode()}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},3937:(e,t,i)=>{"use strict";i.d(t,{M:()=>_,z:()=>b});var n=i(5321),o=i(3098),s=i(9802),r=i(9488),a=i(1264),l=i(4669),d=i(5976),c=i(9870),h=i(6633),u=i(8401);const g={separatorBorder:a.Il.transparent};class p{constructor(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,"number"==typeof i?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(e,t){var i,n;e!==this.visible&&(e?(this.size=(0,c.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),null===(n=(i=this.view).setVisible)||void 0===n||n.call(i,e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}}class m extends p{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class f extends p{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var v,_;!function(e){e[e.Idle=0]="Idle",e[e.Busy=1]="Busy"}(v||(v={})),function(e){e.Distribute={type:"distribute"},e.Split=function(e){return{type:"split",index:e}},e.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}}}(_||(_={}));class b extends d.JT{constructor(e,t={}){var i,o,r,a,d;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=v.Idle,this._onDidSashChange=this._register(new l.Q5),this._onDidSashReset=this._register(new l.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==(i=t.orientation)&&void 0!==i?i:0,this.inverseAltBehavior=null!==(o=t.inverseAltBehavior)&&void 0!==o&&o,this.proportionalLayout=null===(r=t.proportionalLayout)||void 0===r||r,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=(0,n.R3)(this.el,(0,n.$)(".sash-container")),this.viewContainer=(0,n.$)(".split-view-container"),this.scrollable=new h.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:n.jL}),this.scrollableElement=this._register(new s.$Z(this.viewContainer,{vertical:0===this.orientation?null!==(a=t.scrollbarVisibility)&&void 0!==a?a:1:2,horizontal:1===this.orientation?null!==(d=t.scrollbarVisibility)&&void 0!==d?d:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll((e=>{this.viewContainer.scrollTop=e.scrollTop,this.viewContainer.scrollLeft=e.scrollLeft}))),(0,n.R3)(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||g),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach(((e,t)=>{const i=u.o8(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},n=e.view;this.doAddView(n,i,t,!0)})),this.contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,n){this.doAddView(e,t,i,n)}layout(e,t){const i=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let t=0;t<this.viewItems.length;t++){const i=this.viewItems[t];i.size=(0,c.uZ)(Math.round(this.proportions[t]*e),i.minimumSize,i.maximumSize)}else{const t=(0,r.w6)(this.viewItems.length),n=t.filter((e=>1===this.viewItems[e].priority)),o=t.filter((e=>2===this.viewItems[e].priority));this.resize(this.viewItems.length-1,e-i,void 0,n,o)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map((e=>e.size/this.contentSize)))}onSashStart({sash:e,start:t,alt:i}){for(const e of this.viewItems)e.enabled=!1;const o=this.sashItems.findIndex((t=>t.sash===e)),s=(0,d.F8)((0,n.nm)(document.body,"keydown",(e=>a(this.sashDragState.current,e.altKey))),(0,n.nm)(document.body,"keyup",(()=>a(this.sashDragState.current,!1)))),a=(e,t)=>{const i=this.viewItems.map((e=>e.size));let n,a,l=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(t=!t),t)if(o===this.sashItems.length-1){const e=this.viewItems[o];l=(e.minimumSize-e.size)/2,d=(e.maximumSize-e.size)/2}else{const e=this.viewItems[o+1];l=(e.size-e.maximumSize)/2,d=(e.size-e.minimumSize)/2}if(!t){const e=(0,r.w6)(o,-1),t=(0,r.w6)(o+1,this.viewItems.length),s=e.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-i[t])),0),l=e.reduce(((e,t)=>e+(this.viewItems[t].viewMaximumSize-i[t])),0),d=0===t.length?Number.POSITIVE_INFINITY:t.reduce(((e,t)=>e+(i[t]-this.viewItems[t].minimumSize)),0),c=0===t.length?Number.NEGATIVE_INFINITY:t.reduce(((e,t)=>e+(i[t]-this.viewItems[t].viewMaximumSize)),0),h=Math.max(s,c),u=Math.min(d,l),g=this.findFirstSnapIndex(e),p=this.findFirstSnapIndex(t);if("number"==typeof g){const e=this.viewItems[g],t=Math.floor(e.viewMinimumSize/2);n={index:g,limitDelta:e.visible?h-t:h+t,size:e.size}}if("number"==typeof p){const e=this.viewItems[p],t=Math.floor(e.viewMinimumSize/2);a={index:p,limitDelta:e.visible?u+t:u-t,size:e.size}}}this.sashDragState={start:e,current:e,index:o,sizes:i,minDelta:l,maxDelta:d,alt:t,snapBefore:n,snapAfter:a,disposable:s}};a(t,i)}onSashChange({current:e}){const{index:t,start:i,sizes:n,alt:o,minDelta:s,maxDelta:r,snapBefore:a,snapAfter:l}=this.sashDragState;this.sashDragState.current=e;const d=e-i,c=this.resize(t,d,n,void 0,void 0,s,r,a,l);if(o){const e=t===this.sashItems.length-1,i=this.viewItems.map((e=>e.size)),n=e?t:t+1,o=this.viewItems[n],s=o.size-o.maximumSize,r=o.size-o.minimumSize,a=e?t-1:t+1;this.resize(a,-c,i,void 0,void 0,s,r)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const e of this.viewItems)e.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t="number"==typeof t?t:e.size,t=(0,c.uZ)(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(this.state!==v.Idle)throw new Error("Cant modify splitview");if(this.state=v.Busy,e<0||e>=this.viewItems.length)return;const i=(0,r.w6)(this.viewItems.length).filter((t=>t!==e)),n=[...i.filter((e=>1===this.viewItems[e].priority)),e],o=i.filter((e=>2===this.viewItems[e].priority)),s=this.viewItems[e];t=Math.round(t),t=(0,c.uZ)(t,s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(n,o),this.state=v.Idle}distributeViewSizes(){const e=[];let t=0;for(const i of this.viewItems)i.maximumSize-i.minimumSize>0&&(e.push(i),t+=i.size);const i=Math.floor(t/e.length);for(const t of e)t.size=(0,c.uZ)(i,t.minimumSize,t.maximumSize);const n=(0,r.w6)(this.viewItems.length),o=n.filter((e=>1===this.viewItems[e].priority)),s=n.filter((e=>2===this.viewItems[e].priority));this.relayout(o,s)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,s){if(this.state!==v.Idle)throw new Error("Cant modify splitview");this.state=v.Busy;const a=(0,n.$)(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(a):this.viewContainer.insertBefore(a,this.viewContainer.children.item(i));const c=e.onDidChange((e=>this.onViewChange(p,e))),h=(0,d.OF)((()=>this.viewContainer.removeChild(a))),u=(0,d.F8)(c,h);let g;g="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;const p=0===this.orientation?new m(a,e,g,u):new f(a,e,g,u);if(this.viewItems.splice(i,0,p),this.viewItems.length>1){const e={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},t=0===this.orientation?new o.g(this.sashContainer,{getHorizontalSashTop:e=>this.getSashPosition(e),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:1})):new o.g(this.sashContainer,{getVerticalSashLeft:e=>this.getSashPosition(e),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:0})),n=0===this.orientation?e=>({sash:t,start:e.startY,current:e.currentY,alt:e.altKey}):e=>({sash:t,start:e.startX,current:e.currentX,alt:e.altKey}),s=l.ju.map(t.onDidStart,n)(this.onSashStart,this),a=l.ju.map(t.onDidChange,n)(this.onSashChange,this),c=l.ju.map(t.onDidEnd,(()=>this.sashItems.findIndex((e=>e.sash===t)))),h=c(this.onSashEnd,this),u=t.onDidReset((()=>{const e=this.sashItems.findIndex((e=>e.sash===t)),i=(0,r.w6)(e,-1),n=(0,r.w6)(e+1,this.viewItems.length),o=this.findFirstSnapIndex(i),s=this.findFirstSnapIndex(n);("number"!=typeof o||this.viewItems[o].visible)&&("number"!=typeof s||this.viewItems[s].visible)&&this._onDidSashReset.fire(e)})),g=(0,d.F8)(s,a,h,u,t),p={sash:t,disposable:g};this.sashItems.splice(i-1,0,p)}let _;a.appendChild(e.element),"number"!=typeof t&&"split"===t.type&&(_=[t.index]),s||this.relayout([i],_),this.state=v.Idle,s||"number"==typeof t||"distribute"!==t.type||this.distributeViewSizes()}relayout(e,t){const i=this.viewItems.reduce(((e,t)=>e+t.size),0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map((e=>e.size)),n,o,s=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,d){if(e<0||e>=this.viewItems.length)return 0;const h=(0,r.w6)(e,-1),u=(0,r.w6)(e+1,this.viewItems.length);if(o)for(const e of o)(0,r.zI)(h,e),(0,r.zI)(u,e);if(n)for(const e of n)(0,r.al)(h,e),(0,r.al)(u,e);const g=h.map((e=>this.viewItems[e])),p=h.map((e=>i[e])),m=u.map((e=>this.viewItems[e])),f=u.map((e=>i[e])),v=h.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-i[t])),0),_=h.reduce(((e,t)=>e+(this.viewItems[t].maximumSize-i[t])),0),b=0===u.length?Number.POSITIVE_INFINITY:u.reduce(((e,t)=>e+(i[t]-this.viewItems[t].minimumSize)),0),C=0===u.length?Number.NEGATIVE_INFINITY:u.reduce(((e,t)=>e+(i[t]-this.viewItems[t].maximumSize)),0),y=Math.max(v,C,s),w=Math.min(b,_,a);let S=!1;if(l){const e=this.viewItems[l.index],i=t>=l.limitDelta;S=i!==e.visible,e.setVisible(i,l.size)}if(!S&&d){const e=this.viewItems[d.index],i=t<d.limitDelta;S=i!==e.visible,e.setVisible(i,d.size)}if(S)return this.resize(e,t,i,n,o,s,a);for(let e=0,i=t=(0,c.uZ)(t,y,w);e<g.length;e++){const t=g[e],n=(0,c.uZ)(p[e]+i,t.minimumSize,t.maximumSize);i-=n-p[e],t.size=n}for(let e=0,i=t;e<m.length;e++){const t=m[e],n=(0,c.uZ)(f[e]-i,t.minimumSize,t.maximumSize);i+=n-f[e],t.size=n}return t}distributeEmptySpace(e){const t=this.viewItems.reduce(((e,t)=>e+t.size),0);let i=this.size-t;const n=(0,r.w6)(this.viewItems.length-1,-1),o=n.filter((e=>1===this.viewItems[e].priority)),s=n.filter((e=>2===this.viewItems[e].priority));for(const e of s)(0,r.zI)(n,e);for(const e of o)(0,r.al)(n,e);"number"==typeof e&&(0,r.al)(n,e);for(let e=0;0!==i&&e<n.length;e++){const t=this.viewItems[n[e]],o=(0,c.uZ)(t.size+i,t.minimumSize,t.maximumSize);i-=o-t.size,t.size=o}}layoutViews(){this.contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach((e=>e.sash.layout())),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){0===this.orientation?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map((t=>e=t.size-t.minimumSize>0||e));e=!1;const i=this.viewItems.map((t=>e=t.maximumSize-t.size>0||e)),n=[...this.viewItems].reverse();e=!1;const o=n.map((t=>e=t.size-t.minimumSize>0||e)).reverse();e=!1;const s=n.map((t=>e=t.maximumSize-t.size>0||e)).reverse();let a=0;for(let e=0;e<this.sashItems.length;e++){const{sash:n}=this.sashItems[e];a+=this.viewItems[e].size;const l=!(t[e]&&s[e+1]),d=!(i[e]&&o[e+1]);if(l&&d){const i=(0,r.w6)(e,-1),s=(0,r.w6)(e+1,this.viewItems.length),l=this.findFirstSnapIndex(i),d=this.findFirstSnapIndex(s),c="number"==typeof l&&!this.viewItems[l].visible,h="number"==typeof d&&!this.viewItems[d].visible;c&&o[e]&&(a>0||this.startSnappingEnabled)?n.state=1:h&&t[e]&&(a<this.contentSize||this.endSnappingEnabled)?n.state=2:n.state=0}else n.state=l&&!d?1:!l&&d?2:3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const e=this.viewItems[t];if(e.visible&&e.snap)return t}for(const t of e){const e=this.viewItems[t];if(e.visible&&e.maximumSize-e.minimumSize>0)return;if(!e.visible&&e.snap)return t}}dispose(){super.dispose(),(0,d.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach((e=>e.disposable.dispose())),this.sashItems=[]}}},2900:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(3794),o=i(3046),s=i(1264),r=i(4669);const a={inputActiveOptionBorder:s.Il.fromHex("#007ACC00"),inputActiveOptionForeground:s.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:s.Il.fromHex("#0E639C50")};class l extends n.${constructor(e){super(),this._onChange=this._register(new r.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new r.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},a),e),this._checked=this._opts.isChecked;const t=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,t.push(...o.dT.asClassNameArray(this._icon))),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,(e=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),e.preventDefault())})),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,(e=>{if(10===e.keyCode||3===e.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),e.preventDefault(),void e.stopPropagation();this._onKeyDown.fire(e)}))}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},3794:(e,t,i)=>{"use strict";i.d(t,{$:()=>l});var n=i(5321),o=i(9069),s=i(7448),r=i(553),a=i(5976);class l extends a.JT{onclick(e,t){this._register(n.nm(e,n.tw.CLICK,(e=>t(new s.n(e)))))}onmousedown(e,t){this._register(n.nm(e,n.tw.MOUSE_DOWN,(e=>t(new s.n(e)))))}onmouseover(e,t){this._register(n.nm(e,n.tw.MOUSE_OVER,(e=>t(new s.n(e)))))}onmouseleave(e,t){this._register(n.nm(e,n.tw.MOUSE_LEAVE,(e=>t(new s.n(e)))))}onkeydown(e,t){this._register(n.nm(e,n.tw.KEY_DOWN,(e=>t(new o.y(e)))))}onkeyup(e,t){this._register(n.nm(e,n.tw.KEY_UP,(e=>t(new o.y(e)))))}oninput(e,t){this._register(n.nm(e,n.tw.INPUT,t))}onblur(e,t){this._register(n.nm(e,n.tw.BLUR,t))}onfocus(e,t){this._register(n.nm(e,n.tw.FOCUS,t))}ignoreGesture(e){r.o.ignoreTarget(e)}}},4741:(e,t,i)=>{"use strict";i.d(t,{Wi:()=>l,Z0:()=>d,aU:()=>a,eZ:()=>h,wY:()=>c,xw:()=>u});var n=i(4669),o=i(5976),s=i(3580),r=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class a extends o.JT{constructor(e,t="",i="",o=!0,s){super(),this._onDidChange=this._register(new n.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=o,this._actionCallback=s}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return r(this,void 0,void 0,(function*(){this._actionCallback&&(yield this._actionCallback(e))}))}}class l extends o.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new n.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new n.Q5),this.onDidRun=this._onDidRun.event}run(e,t){return r(this,void 0,void 0,(function*(){if(!e.enabled)return;let i;this._onBeforeRun.fire({action:e});try{yield this.runAction(e,t)}catch(e){i=e}this._onDidRun.fire({action:e,error:i})}))}runAction(e,t){return r(this,void 0,void 0,(function*(){yield e.run(t)}))}}class d extends a{constructor(e){super(d.ID,e,e?"separator text":"separator"),this.checked=!1,this.enabled=!1}}d.ID="vs.actions.separator";class c{constructor(e,t,i,n){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=e,this.label=t,this.class=n,this._actions=i}get actions(){return this._actions}dispose(){}run(){return r(this,void 0,void 0,(function*(){}))}}class h extends a{constructor(){super(h.ID,s.NC("submenu.empty","(empty)"),void 0,!1)}}function u(e){var t,i;return{id:e.id,label:e.label,class:void 0,enabled:null===(t=e.enabled)||void 0===t||t,checked:null!==(i=e.checked)&&void 0!==i&&i,run:()=>r(this,void 0,void 0,(function*(){return e.run()})),tooltip:e.label,dispose:()=>{}}}h.ID="vs.actions.empty"},9488:(e,t,i)=>{"use strict";function n(e,t=0){return e[e.length-(1+t)]}function o(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}function s(e,t,i=((e,t)=>e===t)){if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(let n=0,o=e.length;n<o;n++)if(!i(e[n],t[n]))return!1;return!0}function r(e,t){const i=e.length-1;t<i&&(e[t]=e[i]),e.pop()}function a(e,t,i){return function(n,o){let s=0,r=n-1;for(;s<=r;){const n=(s+r)/2|0,o=i(e[n],t);if(o<0)s=n+1;else{if(!(o>0))return n;r=n-1}}return-(s+1)}(e.length)}function l(e,t){let i=0,n=e.length;if(0===n)return 0;for(;i<n;){const o=Math.floor((i+n)/2);t(e[o])?n=o:i=o+1}return i}function d(e,t,i){if((e|=0)>=t.length)throw new TypeError("invalid index");const n=t[Math.floor(t.length*Math.random())],o=[],s=[],r=[];for(const e of t){const t=i(e,n);t<0?o.push(e):t>0?s.push(e):r.push(e)}return e<o.length?d(e,o,i):e<o.length+r.length?r[0]:d(e-(o.length+r.length),s,i)}function c(e,t){const i=[];let n;for(const o of e.slice(0).sort(t))n&&0===t(n[0],o)?n.push(o):(n=[o],i.push(n));return i}function h(e){return e.filter((e=>!!e))}function u(e){return!Array.isArray(e)||0===e.length}function g(e){return Array.isArray(e)&&e.length>0}function p(e,t=(e=>e)){const i=new Set;return e.filter((e=>{const n=t(e);return!i.has(n)&&(i.add(n),!0)}))}function m(e,t){const i=function(e,t){for(let i=e.length-1;i>=0;i--)if(t(e[i]))return i;return-1}(e,t);if(-1!==i)return e[i]}function f(e,t){return e.length>0?e[0]:t}function v(e,t){let i="number"==typeof t?e:0;"number"==typeof t?i=e:(i=0,t=e);const n=[];if(i<=t)for(let e=i;e<t;e++)n.push(e);else for(let e=i;e>t;e--)n.push(e);return n}function _(e,t,i){const n=e.slice(0,t),o=e.slice(t);return n.concat(i,o)}function b(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.unshift(t))}function C(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.push(t))}function y(e,t){for(const i of t)e.push(i)}function w(e){return Array.isArray(e)?e:[e]}function S(e,t,i,n){const o=k(e,t),s=e.splice(o,i);return function(e,t,i){const n=k(e,t),o=e.length,s=i.length;e.length=o+s;for(let t=o-1;t>=n;t--)e[t+s]=e[t];for(let t=0;t<s;t++)e[t+n]=i[t]}(e,o,n),s}function k(e,t){return t<0?Math.max(t+e.length,0):Math.min(t,e.length)}var L;function x(e,t){return(i,n)=>t(e(i),e(n))}i.d(t,{Dc:()=>D,EB:()=>p,Gb:()=>n,H9:()=>A,HW:()=>d,JH:()=>o,LS:()=>r,Of:()=>g,VJ:()=>E,XY:()=>u,Xh:()=>f,Zv:()=>_,_2:()=>w,al:()=>C,dF:()=>m,db:()=>S,fS:()=>s,fv:()=>I,jV:()=>N,kX:()=>h,lG:()=>l,ry:()=>a,tT:()=>x,vA:()=>y,vM:()=>c,w6:()=>v,zI:()=>b}),function(e){e.isLessThan=function(e){return e<0},e.isGreaterThan=function(e){return e>0},e.isNeitherLessOrGreaterThan=function(e){return 0===e},e.greaterThan=1,e.lessThan=-1,e.neitherLessOrGreaterThan=0}(L||(L={}));const I=(e,t)=>e-t;function D(e,t){if(0===e.length)return;let i=e[0];for(let n=1;n<e.length;n++){const o=e[n];t(o,i)>0&&(i=o)}return i}function N(e,t){if(0===e.length)return;let i=e[0];for(let n=1;n<e.length;n++){const o=e[n];t(o,i)>=0&&(i=o)}return i}function E(e,t){return D(e,((e,i)=>-t(e,i)))}class A{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){if(0!==this.length)return this.items[this.firstIdx]}dequeue(){const e=this.items[this.firstIdx];return this.firstIdx++,e}takeCount(e){const t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}}},5146:(e,t,i)=>{"use strict";function n(e,t){if(!e)throw new Error(t?`Assertion failed (${t})`:"Assertion Failed")}i.d(t,{ok:()=>n})},5393:(e,t,i)=>{"use strict";i.d(t,{Aq:()=>I,CR:()=>L,J8:()=>c,PG:()=>h,Ps:()=>b,To:()=>S,Ue:()=>k,Vg:()=>_,Vs:()=>v,_F:()=>C,eP:()=>u,jT:()=>x,ne:()=>p,pY:()=>w,rH:()=>f,vp:()=>m,zS:()=>N,zh:()=>y});var n=i(1050),o=i(7301),s=i(4669),r=i(5976),a=i(1432),l=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},d=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise((function(n,o){!function(e,t,i,n){Promise.resolve(n).then((function(t){e({value:t,done:i})}),t)}(n,o,(t=e[i](t)).done,t.value)}))}}};function c(e){return!!e&&"function"==typeof e.then}function h(e){const t=new n.A,i=e(t.token),s=new Promise(((e,n)=>{const s=t.token.onCancellationRequested((()=>{s.dispose(),t.dispose(),n(new o.FU)}));Promise.resolve(i).then((i=>{s.dispose(),t.dispose(),e(i)}),(e=>{s.dispose(),t.dispose(),n(e)}))}));return new class{cancel(){t.cancel()}then(e,t){return s.then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return s.finally(e)}}}function u(e,t,i){return new Promise(((n,o)=>{const s=t.onCancellationRequested((()=>{s.dispose(),n(i)}));e.then(n,o).finally((()=>s.dispose()))}))}class g{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const e=()=>{this.queuedPromise=null;const e=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,e};this.queuedPromise=new Promise((t=>{this.activePromise.then(e,e).then(t)}))}return new Promise(((e,t)=>{this.queuedPromise.then(e,t)}))}return this.activePromise=e(),new Promise(((e,t)=>{this.activePromise.then((t=>{this.activePromise=null,e(t)}),(e=>{this.activePromise=null,t(e)}))}))}}const p=Symbol("MicrotaskDelay");class m{constructor(e){this.defaultDelay=e,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(((e,t)=>{this.doResolve=e,this.doReject=t})).then((()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const e=this.task;return this.task=null,e()}})));const i=()=>{var e;this.deferred=null,null===(e=this.doResolve)||void 0===e||e.call(this,null)};return this.deferred=t===p?(e=>{let t=!0;return queueMicrotask((()=>{t&&(t=!1,e())})),{isTriggered:()=>t,dispose:()=>{t=!1}}})(i):((e,t)=>{let i=!0;const n=setTimeout((()=>{i=!1,t()}),e);return{isTriggered:()=>i,dispose:()=>{clearTimeout(n),i=!1}}})(t,i),this.completionPromise}isTriggered(){var e;return!!(null===(e=this.deferred)||void 0===e?void 0:e.isTriggered())}cancel(){var e;this.cancelTimeout(),this.completionPromise&&(null===(e=this.doReject)||void 0===e||e.call(this,new o.FU),this.completionPromise=null)}cancelTimeout(){var e;null===(e=this.deferred)||void 0===e||e.dispose(),this.deferred=null}dispose(){this.cancel()}}class f{constructor(e){this.delayer=new m(e),this.throttler=new g}trigger(e,t){return this.delayer.trigger((()=>this.throttler.queue(e)),t)}dispose(){this.delayer.dispose()}}function v(e,t){return t?new Promise(((i,n)=>{const s=setTimeout((()=>{r.dispose(),i()}),e),r=t.onCancellationRequested((()=>{clearTimeout(s),r.dispose(),n(new o.FU)}))})):h((t=>v(e,t)))}function _(e,t=0){const i=setTimeout(e,t);return(0,r.OF)((()=>clearTimeout(i)))}function b(e,t=(e=>!!e),i=null){let n=0;const o=e.length,s=()=>{if(n>=o)return Promise.resolve(i);const r=e[n++];return Promise.resolve(r()).then((e=>t(e)?Promise.resolve(e):s()))};return s()}class C{constructor(e,t){this._token=-1,"function"==typeof e&&"number"==typeof t&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout((()=>{this._token=-1,e()}),t)}setIfNotSet(e,t){-1===this._token&&(this._token=setTimeout((()=>{this._token=-1,e()}),t))}}class y{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval((()=>{e()}),t)}}class w{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var e;null===(e=this.runner)||void 0===e||e.call(this)}}let S;S="function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?e=>{(0,a.fn)((()=>{if(t)return;const i=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,i-Date.now())}))}));let t=!1;return{dispose(){t||(t=!0)}}}:(e,t)=>{const i=requestIdleCallback(e,"number"==typeof t?{timeout:t}:void 0);let n=!1;return{dispose(){n||(n=!0,cancelIdleCallback(i))}}};class k{constructor(e){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(e){this._error=e}finally{this._didRun=!0}},this._handle=S((()=>this._executor()))}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class L{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise(((e,t)=>{this.completeCallback=e,this.errorCallback=t}))}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(e){return new Promise((t=>{this.completeCallback(e),this.resolved=!0,t()}))}cancel(){new Promise((e=>{this.errorCallback(new o.FU),this.rejected=!0,e()}))}}var x;!function(e){e.settled=function(e){return l(this,void 0,void 0,(function*(){let t;const i=yield Promise.all(e.map((e=>e.then((e=>e),(e=>{t||(t=e)})))));if(void 0!==t)throw t;return i}))},e.withAsyncBody=function(e){return new Promise(((t,i)=>l(this,void 0,void 0,(function*(){try{yield e(t,i)}catch(e){i(e)}}))))}}(x||(x={}));class I{constructor(e){this._state=0,this._results=[],this._error=null,this._onStateChanged=new s.Q5,queueMicrotask((()=>l(this,void 0,void 0,(function*(){const t={emitOne:e=>this.emitOne(e),emitMany:e=>this.emitMany(e),reject:e=>this.reject(e)};try{yield Promise.resolve(e(t)),this.resolve()}catch(e){this.reject(e)}finally{t.emitOne=void 0,t.emitMany=void 0,t.reject=void 0}}))))}static fromArray(e){return new I((t=>{t.emitMany(e)}))}static fromPromise(e){return new I((t=>l(this,void 0,void 0,(function*(){t.emitMany(yield e)}))))}static fromPromises(e){return new I((t=>l(this,void 0,void 0,(function*(){yield Promise.all(e.map((e=>l(this,void 0,void 0,(function*(){return t.emitOne(yield e)})))))}))))}static merge(e){return new I((t=>l(this,void 0,void 0,(function*(){yield Promise.all(e.map((e=>{var i,n;return l(this,void 0,void 0,(function*(){var o,s;try{for(i=d(e);!(n=yield i.next()).done;){const e=n.value;t.emitOne(e)}}catch(e){o={error:e}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(o)throw o.error}}}))})))}))))}[Symbol.asyncIterator](){let e=0;return{next:()=>l(this,void 0,void 0,(function*(){for(;;){if(2===this._state)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(1===this._state)return{done:!0,value:void 0};yield s.ju.toPromise(this._onStateChanged.event)}}))}}static map(e,t){return new I((i=>l(this,void 0,void 0,(function*(){var n,o;try{for(var s,r=d(e);!(s=yield r.next()).done;){const e=s.value;i.emitOne(t(e))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=r.return)&&(yield o.call(r))}finally{if(n)throw n.error}}}))))}map(e){return I.map(this,e)}static filter(e,t){return new I((i=>l(this,void 0,void 0,(function*(){var n,o;try{for(var s,r=d(e);!(s=yield r.next()).done;){const e=s.value;t(e)&&i.emitOne(e)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=r.return)&&(yield o.call(r))}finally{if(n)throw n.error}}}))))}filter(e){return I.filter(this,e)}static coalesce(e){return I.filter(e,(e=>!!e))}coalesce(){return I.coalesce(this)}static toPromise(e){var t,i,n,o;return l(this,void 0,void 0,(function*(){const s=[];try{for(t=d(e);!(i=yield t.next()).done;){const e=i.value;s.push(e)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(n)throw n.error}}return s}))}toPromise(){return I.toPromise(this)}emitOne(e){0===this._state&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){0===this._state&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject(e){0===this._state&&(this._state=2,this._error=e,this._onStateChanged.fire())}}I.EMPTY=I.fromArray([]);class D extends I{constructor(e,t){super(t),this._source=e}cancel(){this._source.cancel()}}function N(e){const t=new n.A,i=e(t.token);return new D(t,(e=>l(this,void 0,void 0,(function*(){var n,s;const r=t.token.onCancellationRequested((()=>{r.dispose(),t.dispose(),e.reject(new o.FU)}));try{try{for(var a,l=d(i);!(a=yield l.next()).done;){const i=a.value;if(t.token.isCancellationRequested)return;e.emitOne(i)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(s=l.return)&&(yield s.call(l))}finally{if(n)throw n.error}}r.dispose(),t.dispose()}catch(i){r.dispose(),t.dispose(),e.reject(i)}}))))}},3060:(e,t,i)=>{"use strict";i.d(t,{Ag:()=>l,Cg:()=>h,KN:()=>s,Q$:()=>c,T4:()=>d,mP:()=>r,oq:()=>a});const n="undefined"!=typeof Buffer;let o;class s{constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}static wrap(e){return n&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new s(e)}toString(){return n?this.buffer.toString():(o||(o=new TextDecoder),o.decode(this.buffer))}}function r(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}function a(e,t,i){e[i+0]=255&t,t>>>=8,e[i+1]=255&t}function l(e,t){return e[t]*Math.pow(2,24)+e[t+1]*Math.pow(2,16)+e[t+2]*Math.pow(2,8)+e[t+3]}function d(e,t,i){e[i+3]=t,t>>>=8,e[i+2]=t,t>>>=8,e[i+1]=t,t>>>=8,e[i]=t}function c(e,t){return e[t]}function h(e,t,i){e[i]=t}},701:(e,t,i)=>{"use strict";i.d(t,{b:()=>o,t:()=>n});class n{constructor(e){this.fn=e,this.lastCache=void 0,this.lastArgKey=void 0}get(e){const t=JSON.stringify(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this.fn(e)),this.lastCache}}class o{constructor(e){this.fn=e,this._map=new Map}get cachedValues(){return this._map}get(e){if(this._map.has(e))return this._map.get(e);const t=this.fn(e);return this._map.set(e,t),t}}},1050:(e,t,i)=>{"use strict";i.d(t,{A:()=>a,T:()=>s});var n=i(4669);const o=Object.freeze((function(e,t){const i=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(i)}}}));var s;!function(e){e.isCancellationToken=function(t){return t===e.None||t===e.Cancelled||t instanceof r||!(!t||"object"!=typeof t)&&"boolean"==typeof t.isCancellationRequested&&"function"==typeof t.onCancellationRequested},e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.ju.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o})}(s||(s={}));class r{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?o:(this._emitter||(this._emitter=new n.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class a{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new r),this._token}cancel(){this._token?this._token instanceof r&&this._token.cancel():this._token=s.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof r&&this._token.dispose():this._token=s.None}}},3046:(e,t,i)=>{"use strict";function n(e){return e?e.replace(/\$\((.*?)\)/g,((e,t)=>` ${t} `)).trim():""}i.d(t,{JL:()=>n,dT:()=>s,lA:()=>o});class o{constructor(e,t,i){this.id=e,this.definition=t,this.description=i,o._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return o._allCodicons}}var s;o._allCodicons=[],o.add=new o("add",{fontCharacter:"\\ea60"}),o.plus=new o("plus",o.add.definition),o.gistNew=new o("gist-new",o.add.definition),o.repoCreate=new o("repo-create",o.add.definition),o.lightbulb=new o("lightbulb",{fontCharacter:"\\ea61"}),o.lightBulb=new o("light-bulb",{fontCharacter:"\\ea61"}),o.repo=new o("repo",{fontCharacter:"\\ea62"}),o.repoDelete=new o("repo-delete",{fontCharacter:"\\ea62"}),o.gistFork=new o("gist-fork",{fontCharacter:"\\ea63"}),o.repoForked=new o("repo-forked",{fontCharacter:"\\ea63"}),o.gitPullRequest=new o("git-pull-request",{fontCharacter:"\\ea64"}),o.gitPullRequestAbandoned=new o("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),o.recordKeys=new o("record-keys",{fontCharacter:"\\ea65"}),o.keyboard=new o("keyboard",{fontCharacter:"\\ea65"}),o.tag=new o("tag",{fontCharacter:"\\ea66"}),o.tagAdd=new o("tag-add",{fontCharacter:"\\ea66"}),o.tagRemove=new o("tag-remove",{fontCharacter:"\\ea66"}),o.person=new o("person",{fontCharacter:"\\ea67"}),o.personFollow=new o("person-follow",{fontCharacter:"\\ea67"}),o.personOutline=new o("person-outline",{fontCharacter:"\\ea67"}),o.personFilled=new o("person-filled",{fontCharacter:"\\ea67"}),o.gitBranch=new o("git-branch",{fontCharacter:"\\ea68"}),o.gitBranchCreate=new o("git-branch-create",{fontCharacter:"\\ea68"}),o.gitBranchDelete=new o("git-branch-delete",{fontCharacter:"\\ea68"}),o.sourceControl=new o("source-control",{fontCharacter:"\\ea68"}),o.mirror=new o("mirror",{fontCharacter:"\\ea69"}),o.mirrorPublic=new o("mirror-public",{fontCharacter:"\\ea69"}),o.star=new o("star",{fontCharacter:"\\ea6a"}),o.starAdd=new o("star-add",{fontCharacter:"\\ea6a"}),o.starDelete=new o("star-delete",{fontCharacter:"\\ea6a"}),o.starEmpty=new o("star-empty",{fontCharacter:"\\ea6a"}),o.comment=new o("comment",{fontCharacter:"\\ea6b"}),o.commentAdd=new o("comment-add",{fontCharacter:"\\ea6b"}),o.alert=new o("alert",{fontCharacter:"\\ea6c"}),o.warning=new o("warning",{fontCharacter:"\\ea6c"}),o.search=new o("search",{fontCharacter:"\\ea6d"}),o.searchSave=new o("search-save",{fontCharacter:"\\ea6d"}),o.logOut=new o("log-out",{fontCharacter:"\\ea6e"}),o.signOut=new o("sign-out",{fontCharacter:"\\ea6e"}),o.logIn=new o("log-in",{fontCharacter:"\\ea6f"}),o.signIn=new o("sign-in",{fontCharacter:"\\ea6f"}),o.eye=new o("eye",{fontCharacter:"\\ea70"}),o.eyeUnwatch=new o("eye-unwatch",{fontCharacter:"\\ea70"}),o.eyeWatch=new o("eye-watch",{fontCharacter:"\\ea70"}),o.circleFilled=new o("circle-filled",{fontCharacter:"\\ea71"}),o.primitiveDot=new o("primitive-dot",{fontCharacter:"\\ea71"}),o.closeDirty=new o("close-dirty",{fontCharacter:"\\ea71"}),o.debugBreakpoint=new o("debug-breakpoint",{fontCharacter:"\\ea71"}),o.debugBreakpointDisabled=new o("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),o.debugHint=new o("debug-hint",{fontCharacter:"\\ea71"}),o.primitiveSquare=new o("primitive-square",{fontCharacter:"\\ea72"}),o.edit=new o("edit",{fontCharacter:"\\ea73"}),o.pencil=new o("pencil",{fontCharacter:"\\ea73"}),o.info=new o("info",{fontCharacter:"\\ea74"}),o.issueOpened=new o("issue-opened",{fontCharacter:"\\ea74"}),o.gistPrivate=new o("gist-private",{fontCharacter:"\\ea75"}),o.gitForkPrivate=new o("git-fork-private",{fontCharacter:"\\ea75"}),o.lock=new o("lock",{fontCharacter:"\\ea75"}),o.mirrorPrivate=new o("mirror-private",{fontCharacter:"\\ea75"}),o.close=new o("close",{fontCharacter:"\\ea76"}),o.removeClose=new o("remove-close",{fontCharacter:"\\ea76"}),o.x=new o("x",{fontCharacter:"\\ea76"}),o.repoSync=new o("repo-sync",{fontCharacter:"\\ea77"}),o.sync=new o("sync",{fontCharacter:"\\ea77"}),o.clone=new o("clone",{fontCharacter:"\\ea78"}),o.desktopDownload=new o("desktop-download",{fontCharacter:"\\ea78"}),o.beaker=new o("beaker",{fontCharacter:"\\ea79"}),o.microscope=new o("microscope",{fontCharacter:"\\ea79"}),o.vm=new o("vm",{fontCharacter:"\\ea7a"}),o.deviceDesktop=new o("device-desktop",{fontCharacter:"\\ea7a"}),o.file=new o("file",{fontCharacter:"\\ea7b"}),o.fileText=new o("file-text",{fontCharacter:"\\ea7b"}),o.more=new o("more",{fontCharacter:"\\ea7c"}),o.ellipsis=new o("ellipsis",{fontCharacter:"\\ea7c"}),o.kebabHorizontal=new o("kebab-horizontal",{fontCharacter:"\\ea7c"}),o.mailReply=new o("mail-reply",{fontCharacter:"\\ea7d"}),o.reply=new o("reply",{fontCharacter:"\\ea7d"}),o.organization=new o("organization",{fontCharacter:"\\ea7e"}),o.organizationFilled=new o("organization-filled",{fontCharacter:"\\ea7e"}),o.organizationOutline=new o("organization-outline",{fontCharacter:"\\ea7e"}),o.newFile=new o("new-file",{fontCharacter:"\\ea7f"}),o.fileAdd=new o("file-add",{fontCharacter:"\\ea7f"}),o.newFolder=new o("new-folder",{fontCharacter:"\\ea80"}),o.fileDirectoryCreate=new o("file-directory-create",{fontCharacter:"\\ea80"}),o.trash=new o("trash",{fontCharacter:"\\ea81"}),o.trashcan=new o("trashcan",{fontCharacter:"\\ea81"}),o.history=new o("history",{fontCharacter:"\\ea82"}),o.clock=new o("clock",{fontCharacter:"\\ea82"}),o.folder=new o("folder",{fontCharacter:"\\ea83"}),o.fileDirectory=new o("file-directory",{fontCharacter:"\\ea83"}),o.symbolFolder=new o("symbol-folder",{fontCharacter:"\\ea83"}),o.logoGithub=new o("logo-github",{fontCharacter:"\\ea84"}),o.markGithub=new o("mark-github",{fontCharacter:"\\ea84"}),o.github=new o("github",{fontCharacter:"\\ea84"}),o.terminal=new o("terminal",{fontCharacter:"\\ea85"}),o.console=new o("console",{fontCharacter:"\\ea85"}),o.repl=new o("repl",{fontCharacter:"\\ea85"}),o.zap=new o("zap",{fontCharacter:"\\ea86"}),o.symbolEvent=new o("symbol-event",{fontCharacter:"\\ea86"}),o.error=new o("error",{fontCharacter:"\\ea87"}),o.stop=new o("stop",{fontCharacter:"\\ea87"}),o.variable=new o("variable",{fontCharacter:"\\ea88"}),o.symbolVariable=new o("symbol-variable",{fontCharacter:"\\ea88"}),o.array=new o("array",{fontCharacter:"\\ea8a"}),o.symbolArray=new o("symbol-array",{fontCharacter:"\\ea8a"}),o.symbolModule=new o("symbol-module",{fontCharacter:"\\ea8b"}),o.symbolPackage=new o("symbol-package",{fontCharacter:"\\ea8b"}),o.symbolNamespace=new o("symbol-namespace",{fontCharacter:"\\ea8b"}),o.symbolObject=new o("symbol-object",{fontCharacter:"\\ea8b"}),o.symbolMethod=new o("symbol-method",{fontCharacter:"\\ea8c"}),o.symbolFunction=new o("symbol-function",{fontCharacter:"\\ea8c"}),o.symbolConstructor=new o("symbol-constructor",{fontCharacter:"\\ea8c"}),o.symbolBoolean=new o("symbol-boolean",{fontCharacter:"\\ea8f"}),o.symbolNull=new o("symbol-null",{fontCharacter:"\\ea8f"}),o.symbolNumeric=new o("symbol-numeric",{fontCharacter:"\\ea90"}),o.symbolNumber=new o("symbol-number",{fontCharacter:"\\ea90"}),o.symbolStructure=new o("symbol-structure",{fontCharacter:"\\ea91"}),o.symbolStruct=new o("symbol-struct",{fontCharacter:"\\ea91"}),o.symbolParameter=new o("symbol-parameter",{fontCharacter:"\\ea92"}),o.symbolTypeParameter=new o("symbol-type-parameter",{fontCharacter:"\\ea92"}),o.symbolKey=new o("symbol-key",{fontCharacter:"\\ea93"}),o.symbolText=new o("symbol-text",{fontCharacter:"\\ea93"}),o.symbolReference=new o("symbol-reference",{fontCharacter:"\\ea94"}),o.goToFile=new o("go-to-file",{fontCharacter:"\\ea94"}),o.symbolEnum=new o("symbol-enum",{fontCharacter:"\\ea95"}),o.symbolValue=new o("symbol-value",{fontCharacter:"\\ea95"}),o.symbolRuler=new o("symbol-ruler",{fontCharacter:"\\ea96"}),o.symbolUnit=new o("symbol-unit",{fontCharacter:"\\ea96"}),o.activateBreakpoints=new o("activate-breakpoints",{fontCharacter:"\\ea97"}),o.archive=new o("archive",{fontCharacter:"\\ea98"}),o.arrowBoth=new o("arrow-both",{fontCharacter:"\\ea99"}),o.arrowDown=new o("arrow-down",{fontCharacter:"\\ea9a"}),o.arrowLeft=new o("arrow-left",{fontCharacter:"\\ea9b"}),o.arrowRight=new o("arrow-right",{fontCharacter:"\\ea9c"}),o.arrowSmallDown=new o("arrow-small-down",{fontCharacter:"\\ea9d"}),o.arrowSmallLeft=new o("arrow-small-left",{fontCharacter:"\\ea9e"}),o.arrowSmallRight=new o("arrow-small-right",{fontCharacter:"\\ea9f"}),o.arrowSmallUp=new o("arrow-small-up",{fontCharacter:"\\eaa0"}),o.arrowUp=new o("arrow-up",{fontCharacter:"\\eaa1"}),o.bell=new o("bell",{fontCharacter:"\\eaa2"}),o.bold=new o("bold",{fontCharacter:"\\eaa3"}),o.book=new o("book",{fontCharacter:"\\eaa4"}),o.bookmark=new o("bookmark",{fontCharacter:"\\eaa5"}),o.debugBreakpointConditionalUnverified=new o("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),o.debugBreakpointConditional=new o("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),o.debugBreakpointConditionalDisabled=new o("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),o.debugBreakpointDataUnverified=new o("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),o.debugBreakpointData=new o("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),o.debugBreakpointDataDisabled=new o("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),o.debugBreakpointLogUnverified=new o("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),o.debugBreakpointLog=new o("debug-breakpoint-log",{fontCharacter:"\\eaab"}),o.debugBreakpointLogDisabled=new o("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),o.briefcase=new o("briefcase",{fontCharacter:"\\eaac"}),o.broadcast=new o("broadcast",{fontCharacter:"\\eaad"}),o.browser=new o("browser",{fontCharacter:"\\eaae"}),o.bug=new o("bug",{fontCharacter:"\\eaaf"}),o.calendar=new o("calendar",{fontCharacter:"\\eab0"}),o.caseSensitive=new o("case-sensitive",{fontCharacter:"\\eab1"}),o.check=new o("check",{fontCharacter:"\\eab2"}),o.checklist=new o("checklist",{fontCharacter:"\\eab3"}),o.chevronDown=new o("chevron-down",{fontCharacter:"\\eab4"}),o.dropDownButton=new o("drop-down-button",o.chevronDown.definition),o.chevronLeft=new o("chevron-left",{fontCharacter:"\\eab5"}),o.chevronRight=new o("chevron-right",{fontCharacter:"\\eab6"}),o.chevronUp=new o("chevron-up",{fontCharacter:"\\eab7"}),o.chromeClose=new o("chrome-close",{fontCharacter:"\\eab8"}),o.chromeMaximize=new o("chrome-maximize",{fontCharacter:"\\eab9"}),o.chromeMinimize=new o("chrome-minimize",{fontCharacter:"\\eaba"}),o.chromeRestore=new o("chrome-restore",{fontCharacter:"\\eabb"}),o.circleOutline=new o("circle-outline",{fontCharacter:"\\eabc"}),o.debugBreakpointUnverified=new o("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),o.circleSlash=new o("circle-slash",{fontCharacter:"\\eabd"}),o.circuitBoard=new o("circuit-board",{fontCharacter:"\\eabe"}),o.clearAll=new o("clear-all",{fontCharacter:"\\eabf"}),o.clippy=new o("clippy",{fontCharacter:"\\eac0"}),o.closeAll=new o("close-all",{fontCharacter:"\\eac1"}),o.cloudDownload=new o("cloud-download",{fontCharacter:"\\eac2"}),o.cloudUpload=new o("cloud-upload",{fontCharacter:"\\eac3"}),o.code=new o("code",{fontCharacter:"\\eac4"}),o.collapseAll=new o("collapse-all",{fontCharacter:"\\eac5"}),o.colorMode=new o("color-mode",{fontCharacter:"\\eac6"}),o.commentDiscussion=new o("comment-discussion",{fontCharacter:"\\eac7"}),o.compareChanges=new o("compare-changes",{fontCharacter:"\\eafd"}),o.creditCard=new o("credit-card",{fontCharacter:"\\eac9"}),o.dash=new o("dash",{fontCharacter:"\\eacc"}),o.dashboard=new o("dashboard",{fontCharacter:"\\eacd"}),o.database=new o("database",{fontCharacter:"\\eace"}),o.debugContinue=new o("debug-continue",{fontCharacter:"\\eacf"}),o.debugDisconnect=new o("debug-disconnect",{fontCharacter:"\\ead0"}),o.debugPause=new o("debug-pause",{fontCharacter:"\\ead1"}),o.debugRestart=new o("debug-restart",{fontCharacter:"\\ead2"}),o.debugStart=new o("debug-start",{fontCharacter:"\\ead3"}),o.debugStepInto=new o("debug-step-into",{fontCharacter:"\\ead4"}),o.debugStepOut=new o("debug-step-out",{fontCharacter:"\\ead5"}),o.debugStepOver=new o("debug-step-over",{fontCharacter:"\\ead6"}),o.debugStop=new o("debug-stop",{fontCharacter:"\\ead7"}),o.debug=new o("debug",{fontCharacter:"\\ead8"}),o.deviceCameraVideo=new o("device-camera-video",{fontCharacter:"\\ead9"}),o.deviceCamera=new o("device-camera",{fontCharacter:"\\eada"}),o.deviceMobile=new o("device-mobile",{fontCharacter:"\\eadb"}),o.diffAdded=new o("diff-added",{fontCharacter:"\\eadc"}),o.diffIgnored=new o("diff-ignored",{fontCharacter:"\\eadd"}),o.diffModified=new o("diff-modified",{fontCharacter:"\\eade"}),o.diffRemoved=new o("diff-removed",{fontCharacter:"\\eadf"}),o.diffRenamed=new o("diff-renamed",{fontCharacter:"\\eae0"}),o.diff=new o("diff",{fontCharacter:"\\eae1"}),o.discard=new o("discard",{fontCharacter:"\\eae2"}),o.editorLayout=new o("editor-layout",{fontCharacter:"\\eae3"}),o.emptyWindow=new o("empty-window",{fontCharacter:"\\eae4"}),o.exclude=new o("exclude",{fontCharacter:"\\eae5"}),o.extensions=new o("extensions",{fontCharacter:"\\eae6"}),o.eyeClosed=new o("eye-closed",{fontCharacter:"\\eae7"}),o.fileBinary=new o("file-binary",{fontCharacter:"\\eae8"}),o.fileCode=new o("file-code",{fontCharacter:"\\eae9"}),o.fileMedia=new o("file-media",{fontCharacter:"\\eaea"}),o.filePdf=new o("file-pdf",{fontCharacter:"\\eaeb"}),o.fileSubmodule=new o("file-submodule",{fontCharacter:"\\eaec"}),o.fileSymlinkDirectory=new o("file-symlink-directory",{fontCharacter:"\\eaed"}),o.fileSymlinkFile=new o("file-symlink-file",{fontCharacter:"\\eaee"}),o.fileZip=new o("file-zip",{fontCharacter:"\\eaef"}),o.files=new o("files",{fontCharacter:"\\eaf0"}),o.filter=new o("filter",{fontCharacter:"\\eaf1"}),o.flame=new o("flame",{fontCharacter:"\\eaf2"}),o.foldDown=new o("fold-down",{fontCharacter:"\\eaf3"}),o.foldUp=new o("fold-up",{fontCharacter:"\\eaf4"}),o.fold=new o("fold",{fontCharacter:"\\eaf5"}),o.folderActive=new o("folder-active",{fontCharacter:"\\eaf6"}),o.folderOpened=new o("folder-opened",{fontCharacter:"\\eaf7"}),o.gear=new o("gear",{fontCharacter:"\\eaf8"}),o.gift=new o("gift",{fontCharacter:"\\eaf9"}),o.gistSecret=new o("gist-secret",{fontCharacter:"\\eafa"}),o.gist=new o("gist",{fontCharacter:"\\eafb"}),o.gitCommit=new o("git-commit",{fontCharacter:"\\eafc"}),o.gitCompare=new o("git-compare",{fontCharacter:"\\eafd"}),o.gitMerge=new o("git-merge",{fontCharacter:"\\eafe"}),o.githubAction=new o("github-action",{fontCharacter:"\\eaff"}),o.githubAlt=new o("github-alt",{fontCharacter:"\\eb00"}),o.globe=new o("globe",{fontCharacter:"\\eb01"}),o.grabber=new o("grabber",{fontCharacter:"\\eb02"}),o.graph=new o("graph",{fontCharacter:"\\eb03"}),o.gripper=new o("gripper",{fontCharacter:"\\eb04"}),o.heart=new o("heart",{fontCharacter:"\\eb05"}),o.home=new o("home",{fontCharacter:"\\eb06"}),o.horizontalRule=new o("horizontal-rule",{fontCharacter:"\\eb07"}),o.hubot=new o("hubot",{fontCharacter:"\\eb08"}),o.inbox=new o("inbox",{fontCharacter:"\\eb09"}),o.issueClosed=new o("issue-closed",{fontCharacter:"\\eba4"}),o.issueReopened=new o("issue-reopened",{fontCharacter:"\\eb0b"}),o.issues=new o("issues",{fontCharacter:"\\eb0c"}),o.italic=new o("italic",{fontCharacter:"\\eb0d"}),o.jersey=new o("jersey",{fontCharacter:"\\eb0e"}),o.json=new o("json",{fontCharacter:"\\eb0f"}),o.kebabVertical=new o("kebab-vertical",{fontCharacter:"\\eb10"}),o.key=new o("key",{fontCharacter:"\\eb11"}),o.law=new o("law",{fontCharacter:"\\eb12"}),o.lightbulbAutofix=new o("lightbulb-autofix",{fontCharacter:"\\eb13"}),o.linkExternal=new o("link-external",{fontCharacter:"\\eb14"}),o.link=new o("link",{fontCharacter:"\\eb15"}),o.listOrdered=new o("list-ordered",{fontCharacter:"\\eb16"}),o.listUnordered=new o("list-unordered",{fontCharacter:"\\eb17"}),o.liveShare=new o("live-share",{fontCharacter:"\\eb18"}),o.loading=new o("loading",{fontCharacter:"\\eb19"}),o.location=new o("location",{fontCharacter:"\\eb1a"}),o.mailRead=new o("mail-read",{fontCharacter:"\\eb1b"}),o.mail=new o("mail",{fontCharacter:"\\eb1c"}),o.markdown=new o("markdown",{fontCharacter:"\\eb1d"}),o.megaphone=new o("megaphone",{fontCharacter:"\\eb1e"}),o.mention=new o("mention",{fontCharacter:"\\eb1f"}),o.milestone=new o("milestone",{fontCharacter:"\\eb20"}),o.mortarBoard=new o("mortar-board",{fontCharacter:"\\eb21"}),o.move=new o("move",{fontCharacter:"\\eb22"}),o.multipleWindows=new o("multiple-windows",{fontCharacter:"\\eb23"}),o.mute=new o("mute",{fontCharacter:"\\eb24"}),o.noNewline=new o("no-newline",{fontCharacter:"\\eb25"}),o.note=new o("note",{fontCharacter:"\\eb26"}),o.octoface=new o("octoface",{fontCharacter:"\\eb27"}),o.openPreview=new o("open-preview",{fontCharacter:"\\eb28"}),o.package_=new o("package",{fontCharacter:"\\eb29"}),o.paintcan=new o("paintcan",{fontCharacter:"\\eb2a"}),o.pin=new o("pin",{fontCharacter:"\\eb2b"}),o.play=new o("play",{fontCharacter:"\\eb2c"}),o.run=new o("run",{fontCharacter:"\\eb2c"}),o.plug=new o("plug",{fontCharacter:"\\eb2d"}),o.preserveCase=new o("preserve-case",{fontCharacter:"\\eb2e"}),o.preview=new o("preview",{fontCharacter:"\\eb2f"}),o.project=new o("project",{fontCharacter:"\\eb30"}),o.pulse=new o("pulse",{fontCharacter:"\\eb31"}),o.question=new o("question",{fontCharacter:"\\eb32"}),o.quote=new o("quote",{fontCharacter:"\\eb33"}),o.radioTower=new o("radio-tower",{fontCharacter:"\\eb34"}),o.reactions=new o("reactions",{fontCharacter:"\\eb35"}),o.references=new o("references",{fontCharacter:"\\eb36"}),o.refresh=new o("refresh",{fontCharacter:"\\eb37"}),o.regex=new o("regex",{fontCharacter:"\\eb38"}),o.remoteExplorer=new o("remote-explorer",{fontCharacter:"\\eb39"}),o.remote=new o("remote",{fontCharacter:"\\eb3a"}),o.remove=new o("remove",{fontCharacter:"\\eb3b"}),o.replaceAll=new o("replace-all",{fontCharacter:"\\eb3c"}),o.replace=new o("replace",{fontCharacter:"\\eb3d"}),o.repoClone=new o("repo-clone",{fontCharacter:"\\eb3e"}),o.repoForcePush=new o("repo-force-push",{fontCharacter:"\\eb3f"}),o.repoPull=new o("repo-pull",{fontCharacter:"\\eb40"}),o.repoPush=new o("repo-push",{fontCharacter:"\\eb41"}),o.report=new o("report",{fontCharacter:"\\eb42"}),o.requestChanges=new o("request-changes",{fontCharacter:"\\eb43"}),o.rocket=new o("rocket",{fontCharacter:"\\eb44"}),o.rootFolderOpened=new o("root-folder-opened",{fontCharacter:"\\eb45"}),o.rootFolder=new o("root-folder",{fontCharacter:"\\eb46"}),o.rss=new o("rss",{fontCharacter:"\\eb47"}),o.ruby=new o("ruby",{fontCharacter:"\\eb48"}),o.saveAll=new o("save-all",{fontCharacter:"\\eb49"}),o.saveAs=new o("save-as",{fontCharacter:"\\eb4a"}),o.save=new o("save",{fontCharacter:"\\eb4b"}),o.screenFull=new o("screen-full",{fontCharacter:"\\eb4c"}),o.screenNormal=new o("screen-normal",{fontCharacter:"\\eb4d"}),o.searchStop=new o("search-stop",{fontCharacter:"\\eb4e"}),o.server=new o("server",{fontCharacter:"\\eb50"}),o.settingsGear=new o("settings-gear",{fontCharacter:"\\eb51"}),o.settings=new o("settings",{fontCharacter:"\\eb52"}),o.shield=new o("shield",{fontCharacter:"\\eb53"}),o.smiley=new o("smiley",{fontCharacter:"\\eb54"}),o.sortPrecedence=new o("sort-precedence",{fontCharacter:"\\eb55"}),o.splitHorizontal=new o("split-horizontal",{fontCharacter:"\\eb56"}),o.splitVertical=new o("split-vertical",{fontCharacter:"\\eb57"}),o.squirrel=new o("squirrel",{fontCharacter:"\\eb58"}),o.starFull=new o("star-full",{fontCharacter:"\\eb59"}),o.starHalf=new o("star-half",{fontCharacter:"\\eb5a"}),o.symbolClass=new o("symbol-class",{fontCharacter:"\\eb5b"}),o.symbolColor=new o("symbol-color",{fontCharacter:"\\eb5c"}),o.symbolCustomColor=new o("symbol-customcolor",{fontCharacter:"\\eb5c"}),o.symbolConstant=new o("symbol-constant",{fontCharacter:"\\eb5d"}),o.symbolEnumMember=new o("symbol-enum-member",{fontCharacter:"\\eb5e"}),o.symbolField=new o("symbol-field",{fontCharacter:"\\eb5f"}),o.symbolFile=new o("symbol-file",{fontCharacter:"\\eb60"}),o.symbolInterface=new o("symbol-interface",{fontCharacter:"\\eb61"}),o.symbolKeyword=new o("symbol-keyword",{fontCharacter:"\\eb62"}),o.symbolMisc=new o("symbol-misc",{fontCharacter:"\\eb63"}),o.symbolOperator=new o("symbol-operator",{fontCharacter:"\\eb64"}),o.symbolProperty=new o("symbol-property",{fontCharacter:"\\eb65"}),o.wrench=new o("wrench",{fontCharacter:"\\eb65"}),o.wrenchSubaction=new o("wrench-subaction",{fontCharacter:"\\eb65"}),o.symbolSnippet=new o("symbol-snippet",{fontCharacter:"\\eb66"}),o.tasklist=new o("tasklist",{fontCharacter:"\\eb67"}),o.telescope=new o("telescope",{fontCharacter:"\\eb68"}),o.textSize=new o("text-size",{fontCharacter:"\\eb69"}),o.threeBars=new o("three-bars",{fontCharacter:"\\eb6a"}),o.thumbsdown=new o("thumbsdown",{fontCharacter:"\\eb6b"}),o.thumbsup=new o("thumbsup",{fontCharacter:"\\eb6c"}),o.tools=new o("tools",{fontCharacter:"\\eb6d"}),o.triangleDown=new o("triangle-down",{fontCharacter:"\\eb6e"}),o.triangleLeft=new o("triangle-left",{fontCharacter:"\\eb6f"}),o.triangleRight=new o("triangle-right",{fontCharacter:"\\eb70"}),o.triangleUp=new o("triangle-up",{fontCharacter:"\\eb71"}),o.twitter=new o("twitter",{fontCharacter:"\\eb72"}),o.unfold=new o("unfold",{fontCharacter:"\\eb73"}),o.unlock=new o("unlock",{fontCharacter:"\\eb74"}),o.unmute=new o("unmute",{fontCharacter:"\\eb75"}),o.unverified=new o("unverified",{fontCharacter:"\\eb76"}),o.verified=new o("verified",{fontCharacter:"\\eb77"}),o.versions=new o("versions",{fontCharacter:"\\eb78"}),o.vmActive=new o("vm-active",{fontCharacter:"\\eb79"}),o.vmOutline=new o("vm-outline",{fontCharacter:"\\eb7a"}),o.vmRunning=new o("vm-running",{fontCharacter:"\\eb7b"}),o.watch=new o("watch",{fontCharacter:"\\eb7c"}),o.whitespace=new o("whitespace",{fontCharacter:"\\eb7d"}),o.wholeWord=new o("whole-word",{fontCharacter:"\\eb7e"}),o.window=new o("window",{fontCharacter:"\\eb7f"}),o.wordWrap=new o("word-wrap",{fontCharacter:"\\eb80"}),o.zoomIn=new o("zoom-in",{fontCharacter:"\\eb81"}),o.zoomOut=new o("zoom-out",{fontCharacter:"\\eb82"}),o.listFilter=new o("list-filter",{fontCharacter:"\\eb83"}),o.listFlat=new o("list-flat",{fontCharacter:"\\eb84"}),o.listSelection=new o("list-selection",{fontCharacter:"\\eb85"}),o.selection=new o("selection",{fontCharacter:"\\eb85"}),o.listTree=new o("list-tree",{fontCharacter:"\\eb86"}),o.debugBreakpointFunctionUnverified=new o("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),o.debugBreakpointFunction=new o("debug-breakpoint-function",{fontCharacter:"\\eb88"}),o.debugBreakpointFunctionDisabled=new o("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),o.debugStackframeActive=new o("debug-stackframe-active",{fontCharacter:"\\eb89"}),o.circleSmallFilled=new o("circle-small-filled",{fontCharacter:"\\eb8a"}),o.debugStackframeDot=new o("debug-stackframe-dot",o.circleSmallFilled.definition),o.debugStackframe=new o("debug-stackframe",{fontCharacter:"\\eb8b"}),o.debugStackframeFocused=new o("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),o.debugBreakpointUnsupported=new o("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),o.symbolString=new o("symbol-string",{fontCharacter:"\\eb8d"}),o.debugReverseContinue=new o("debug-reverse-continue",{fontCharacter:"\\eb8e"}),o.debugStepBack=new o("debug-step-back",{fontCharacter:"\\eb8f"}),o.debugRestartFrame=new o("debug-restart-frame",{fontCharacter:"\\eb90"}),o.callIncoming=new o("call-incoming",{fontCharacter:"\\eb92"}),o.callOutgoing=new o("call-outgoing",{fontCharacter:"\\eb93"}),o.menu=new o("menu",{fontCharacter:"\\eb94"}),o.expandAll=new o("expand-all",{fontCharacter:"\\eb95"}),o.feedback=new o("feedback",{fontCharacter:"\\eb96"}),o.groupByRefType=new o("group-by-ref-type",{fontCharacter:"\\eb97"}),o.ungroupByRefType=new o("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),o.account=new o("account",{fontCharacter:"\\eb99"}),o.bellDot=new o("bell-dot",{fontCharacter:"\\eb9a"}),o.debugConsole=new o("debug-console",{fontCharacter:"\\eb9b"}),o.library=new o("library",{fontCharacter:"\\eb9c"}),o.output=new o("output",{fontCharacter:"\\eb9d"}),o.runAll=new o("run-all",{fontCharacter:"\\eb9e"}),o.syncIgnored=new o("sync-ignored",{fontCharacter:"\\eb9f"}),o.pinned=new o("pinned",{fontCharacter:"\\eba0"}),o.githubInverted=new o("github-inverted",{fontCharacter:"\\eba1"}),o.debugAlt=new o("debug-alt",{fontCharacter:"\\eb91"}),o.serverProcess=new o("server-process",{fontCharacter:"\\eba2"}),o.serverEnvironment=new o("server-environment",{fontCharacter:"\\eba3"}),o.pass=new o("pass",{fontCharacter:"\\eba4"}),o.stopCircle=new o("stop-circle",{fontCharacter:"\\eba5"}),o.playCircle=new o("play-circle",{fontCharacter:"\\eba6"}),o.record=new o("record",{fontCharacter:"\\eba7"}),o.debugAltSmall=new o("debug-alt-small",{fontCharacter:"\\eba8"}),o.vmConnect=new o("vm-connect",{fontCharacter:"\\eba9"}),o.cloud=new o("cloud",{fontCharacter:"\\ebaa"}),o.merge=new o("merge",{fontCharacter:"\\ebab"}),o.exportIcon=new o("export",{fontCharacter:"\\ebac"}),o.graphLeft=new o("graph-left",{fontCharacter:"\\ebad"}),o.magnet=new o("magnet",{fontCharacter:"\\ebae"}),o.notebook=new o("notebook",{fontCharacter:"\\ebaf"}),o.redo=new o("redo",{fontCharacter:"\\ebb0"}),o.checkAll=new o("check-all",{fontCharacter:"\\ebb1"}),o.pinnedDirty=new o("pinned-dirty",{fontCharacter:"\\ebb2"}),o.passFilled=new o("pass-filled",{fontCharacter:"\\ebb3"}),o.circleLargeFilled=new o("circle-large-filled",{fontCharacter:"\\ebb4"}),o.circleLargeOutline=new o("circle-large-outline",{fontCharacter:"\\ebb5"}),o.combine=new o("combine",{fontCharacter:"\\ebb6"}),o.gather=new o("gather",{fontCharacter:"\\ebb6"}),o.table=new o("table",{fontCharacter:"\\ebb7"}),o.variableGroup=new o("variable-group",{fontCharacter:"\\ebb8"}),o.typeHierarchy=new o("type-hierarchy",{fontCharacter:"\\ebb9"}),o.typeHierarchySub=new o("type-hierarchy-sub",{fontCharacter:"\\ebba"}),o.typeHierarchySuper=new o("type-hierarchy-super",{fontCharacter:"\\ebbb"}),o.gitPullRequestCreate=new o("git-pull-request-create",{fontCharacter:"\\ebbc"}),o.runAbove=new o("run-above",{fontCharacter:"\\ebbd"}),o.runBelow=new o("run-below",{fontCharacter:"\\ebbe"}),o.notebookTemplate=new o("notebook-template",{fontCharacter:"\\ebbf"}),o.debugRerun=new o("debug-rerun",{fontCharacter:"\\ebc0"}),o.workspaceTrusted=new o("workspace-trusted",{fontCharacter:"\\ebc1"}),o.workspaceUntrusted=new o("workspace-untrusted",{fontCharacter:"\\ebc2"}),o.workspaceUnspecified=new o("workspace-unspecified",{fontCharacter:"\\ebc3"}),o.terminalCmd=new o("terminal-cmd",{fontCharacter:"\\ebc4"}),o.terminalDebian=new o("terminal-debian",{fontCharacter:"\\ebc5"}),o.terminalLinux=new o("terminal-linux",{fontCharacter:"\\ebc6"}),o.terminalPowershell=new o("terminal-powershell",{fontCharacter:"\\ebc7"}),o.terminalTmux=new o("terminal-tmux",{fontCharacter:"\\ebc8"}),o.terminalUbuntu=new o("terminal-ubuntu",{fontCharacter:"\\ebc9"}),o.terminalBash=new o("terminal-bash",{fontCharacter:"\\ebca"}),o.arrowSwap=new o("arrow-swap",{fontCharacter:"\\ebcb"}),o.copy=new o("copy",{fontCharacter:"\\ebcc"}),o.personAdd=new o("person-add",{fontCharacter:"\\ebcd"}),o.filterFilled=new o("filter-filled",{fontCharacter:"\\ebce"}),o.wand=new o("wand",{fontCharacter:"\\ebcf"}),o.debugLineByLine=new o("debug-line-by-line",{fontCharacter:"\\ebd0"}),o.inspect=new o("inspect",{fontCharacter:"\\ebd1"}),o.layers=new o("layers",{fontCharacter:"\\ebd2"}),o.layersDot=new o("layers-dot",{fontCharacter:"\\ebd3"}),o.layersActive=new o("layers-active",{fontCharacter:"\\ebd4"}),o.compass=new o("compass",{fontCharacter:"\\ebd5"}),o.compassDot=new o("compass-dot",{fontCharacter:"\\ebd6"}),o.compassActive=new o("compass-active",{fontCharacter:"\\ebd7"}),o.azure=new o("azure",{fontCharacter:"\\ebd8"}),o.issueDraft=new o("issue-draft",{fontCharacter:"\\ebd9"}),o.gitPullRequestClosed=new o("git-pull-request-closed",{fontCharacter:"\\ebda"}),o.gitPullRequestDraft=new o("git-pull-request-draft",{fontCharacter:"\\ebdb"}),o.debugAll=new o("debug-all",{fontCharacter:"\\ebdc"}),o.debugCoverage=new o("debug-coverage",{fontCharacter:"\\ebdd"}),o.runErrors=new o("run-errors",{fontCharacter:"\\ebde"}),o.folderLibrary=new o("folder-library",{fontCharacter:"\\ebdf"}),o.debugContinueSmall=new o("debug-continue-small",{fontCharacter:"\\ebe0"}),o.beakerStop=new o("beaker-stop",{fontCharacter:"\\ebe1"}),o.graphLine=new o("graph-line",{fontCharacter:"\\ebe2"}),o.graphScatter=new o("graph-scatter",{fontCharacter:"\\ebe3"}),o.pieChart=new o("pie-chart",{fontCharacter:"\\ebe4"}),o.bracket=new o("bracket",o.json.definition),o.bracketDot=new o("bracket-dot",{fontCharacter:"\\ebe5"}),o.bracketError=new o("bracket-error",{fontCharacter:"\\ebe6"}),o.lockSmall=new o("lock-small",{fontCharacter:"\\ebe7"}),o.azureDevops=new o("azure-devops",{fontCharacter:"\\ebe8"}),o.verifiedFilled=new o("verified-filled",{fontCharacter:"\\ebe9"}),o.newLine=new o("newline",{fontCharacter:"\\ebea"}),o.layout=new o("layout",{fontCharacter:"\\ebeb"}),o.layoutActivitybarLeft=new o("layout-activitybar-left",{fontCharacter:"\\ebec"}),o.layoutActivitybarRight=new o("layout-activitybar-right",{fontCharacter:"\\ebed"}),o.layoutPanelLeft=new o("layout-panel-left",{fontCharacter:"\\ebee"}),o.layoutPanelCenter=new o("layout-panel-center",{fontCharacter:"\\ebef"}),o.layoutPanelJustify=new o("layout-panel-justify",{fontCharacter:"\\ebf0"}),o.layoutPanelRight=new o("layout-panel-right",{fontCharacter:"\\ebf1"}),o.layoutPanel=new o("layout-panel",{fontCharacter:"\\ebf2"}),o.layoutSidebarLeft=new o("layout-sidebar-left",{fontCharacter:"\\ebf3"}),o.layoutSidebarRight=new o("layout-sidebar-right",{fontCharacter:"\\ebf4"}),o.layoutStatusbar=new o("layout-statusbar",{fontCharacter:"\\ebf5"}),o.layoutMenubar=new o("layout-menubar",{fontCharacter:"\\ebf6"}),o.layoutCentered=new o("layout-centered",{fontCharacter:"\\ebf7"}),o.layoutSidebarRightOff=new o("layout-sidebar-right-off",{fontCharacter:"\\ec00"}),o.layoutPanelOff=new o("layout-panel-off",{fontCharacter:"\\ec01"}),o.layoutSidebarLeftOff=new o("layout-sidebar-left-off",{fontCharacter:"\\ec02"}),o.target=new o("target",{fontCharacter:"\\ebf8"}),o.indent=new o("indent",{fontCharacter:"\\ebf9"}),o.recordSmall=new o("record-small",{fontCharacter:"\\ebfa"}),o.errorSmall=new o("error-small",{fontCharacter:"\\ebfb"}),o.arrowCircleDown=new o("arrow-circle-down",{fontCharacter:"\\ebfc"}),o.arrowCircleLeft=new o("arrow-circle-left",{fontCharacter:"\\ebfd"}),o.arrowCircleRight=new o("arrow-circle-right",{fontCharacter:"\\ebfe"}),o.arrowCircleUp=new o("arrow-circle-up",{fontCharacter:"\\ebff"}),o.heartFilled=new o("heart-filled",{fontCharacter:"\\ec04"}),o.map=new o("map",{fontCharacter:"\\ec05"}),o.mapFilled=new o("map-filled",{fontCharacter:"\\ec06"}),o.circleSmall=new o("circle-small",{fontCharacter:"\\ec07"}),o.bellSlash=new o("bell-slash",{fontCharacter:"\\ec08"}),o.bellSlashDot=new o("bell-slash-dot",{fontCharacter:"\\ec09"}),o.commentUnresolved=new o("comment-unresolved",{fontCharacter:"\\ec0a"}),o.gitPullRequestGoToChanges=new o("git-pull-request-go-to-changes",{fontCharacter:"\\ec0b"}),o.gitPullRequestNewChanges=new o("git-pull-request-new-changes",{fontCharacter:"\\ec0c"}),o.dialogError=new o("dialog-error",o.error.definition),o.dialogWarning=new o("dialog-warning",o.warning.definition),o.dialogInfo=new o("dialog-info",o.info.definition),o.dialogClose=new o("dialog-close",o.close.definition),o.treeItemExpanded=new o("tree-item-expanded",o.chevronDown.definition),o.treeFilterOnTypeOn=new o("tree-filter-on-type-on",o.listFilter.definition),o.treeFilterOnTypeOff=new o("tree-filter-on-type-off",o.listSelection.definition),o.treeFilterClear=new o("tree-filter-clear",o.close.definition),o.treeItemLoading=new o("tree-item-loading",o.loading.definition),o.menuSelection=new o("menu-selection",o.check.definition),o.menuSubmenu=new o("menu-submenu",o.chevronRight.definition),o.menuBarMore=new o("menubar-more",o.more.definition),o.scrollbarButtonLeft=new o("scrollbar-button-left",o.triangleLeft.definition),o.scrollbarButtonRight=new o("scrollbar-button-right",o.triangleRight.definition),o.scrollbarButtonUp=new o("scrollbar-button-up",o.triangleUp.definition),o.scrollbarButtonDown=new o("scrollbar-button-down",o.triangleDown.definition),o.toolBarMore=new o("toolbar-more",o.more.definition),o.quickInputBack=new o("quick-input-back",o.arrowLeft.definition),function(e){e.iconNameSegment="[A-Za-z0-9]+",e.iconNameExpression="[A-Za-z0-9-]+",e.iconModifierExpression="~[A-Za-z]+",e.iconNameCharacter="[A-Za-z0-9~-]";const t=new RegExp(`^(${e.iconNameExpression})(${e.iconModifierExpression})?$`);function i(e){if(e instanceof o)return["codicon","codicon-"+e.id];const n=t.exec(e.id);if(!n)return i(o.error);const[,s,r]=n,a=["codicon","codicon-"+s];return r&&a.push("codicon-modifier-"+r.substr(1)),a}e.asClassNameArray=i,e.asClassName=function(e){return i(e).join(" ")},e.asCSSSelector=function(e){return"."+i(e).join(".")}}(s||(s={}))},1264:(e,t,i)=>{"use strict";function n(e,t){const i=Math.pow(10,t);return Math.round(e*i)/i}i.d(t,{Il:()=>a,VS:()=>o,tx:()=>r});class o{constructor(e,t,i,o=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,e)),this.g=0|Math.min(255,Math.max(0,t)),this.b=0|Math.min(255,Math.max(0,i)),this.a=n(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class s{constructor(e,t,i,o){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,e),0),this.s=n(Math.max(Math.min(1,t),0),3),this.l=n(Math.max(Math.min(1,i),0),3),this.a=n(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=e.a,r=Math.max(t,i,n),a=Math.min(t,i,n);let l=0,d=0;const c=(a+r)/2,h=r-a;if(h>0){switch(d=Math.min(c<=.5?h/(2*c):h/(2-2*c),1),r){case t:l=(i-n)/h+(i<n?6:0);break;case i:l=(n-t)/h+2;break;case n:l=(t-i)/h+4}l*=60,l=Math.round(l)}return new s(l,d,c,o)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){const t=e.h/360,{s:i,l:n,a:r}=e;let a,l,d;if(0===i)a=l=d=n;else{const e=n<.5?n*(1+i):n+i-n*i,o=2*n-e;a=s._hue2rgb(o,e,t+1/3),l=s._hue2rgb(o,e,t),d=s._hue2rgb(o,e,t-1/3)}return new o(Math.round(255*a),Math.round(255*l),Math.round(255*d),r)}}class r{constructor(e,t,i,o){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,e),0),this.s=n(Math.max(Math.min(1,t),0),3),this.v=n(Math.max(Math.min(1,i),0),3),this.a=n(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=Math.max(t,i,n),s=o-Math.min(t,i,n),a=0===o?0:s/o;let l;return l=0===s?0:o===t?((i-n)/s%6+6)%6:o===i?(n-t)/s+2:(t-i)/s+4,new r(Math.round(60*l),a,o,e.a)}static toRGBA(e){const{h:t,s:i,v:n,a:s}=e,r=n*i,a=r*(1-Math.abs(t/60%2-1)),l=n-r;let[d,c,h]=[0,0,0];return t<60?(d=r,c=a):t<120?(d=a,c=r):t<180?(c=r,h=a):t<240?(c=a,h=r):t<300?(d=a,h=r):t<=360&&(d=r,h=a),d=Math.round(255*(d+l)),c=Math.round(255*(c+l)),h=Math.round(255*(h+l)),new o(d,c,h,s)}}class a{constructor(e){if(!e)throw new Error("Color needs a value");if(e instanceof o)this.rgba=e;else if(e instanceof s)this._hsla=e,this.rgba=s.toRGBA(e);else{if(!(e instanceof r))throw new Error("Invalid color ctor argument");this._hsva=e,this.rgba=r.toRGBA(e)}}static fromHex(e){return a.Format.CSS.parseHex(e)||a.red}get hsla(){return this._hsla?this._hsla:s.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:r.fromRGBA(this.rgba)}equals(e){return!!e&&o.equals(this.rgba,e.rgba)&&s.equals(this.hsla,e.hsla)&&r.equals(this.hsva,e.hsva)}getRelativeLuminance(){return n(.2126*a._relativeLuminanceForComponent(this.rgba.r)+.7152*a._relativeLuminanceForComponent(this.rgba.g)+.0722*a._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(e){return this.getRelativeLuminance()>e.getRelativeLuminance()}isDarkerThan(e){return this.getRelativeLuminance()<e.getRelativeLuminance()}lighten(e){return new a(new s(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new a(new s(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:i,b:n,a:s}=this.rgba;return new a(new o(t,i,n,s*e))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new a(new o(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=a.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;const n=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(o-n)/o,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;const n=e.getRelativeLuminance();return i=i*(n-t.getRelativeLuminance())/n,e.darken(i)}}a.white=new a(new o(255,255,255,1)),a.black=new a(new o(0,0,0,1)),a.red=new a(new o(255,0,0,1)),a.blue=new a(new o(0,0,255,1)),a.green=new a(new o(0,255,0,1)),a.cyan=new a(new o(0,255,255,1)),a.lightgrey=new a(new o(211,211,211,1)),a.transparent=new a(new o(0,0,0,0)),function(e){let t;!function(t){let i;!function(t){function i(e){const t=e.toString(16);return 2!==t.length?"0"+t:t}function n(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}t.formatRGB=function(t){return 1===t.rgba.a?`rgb(${t.rgba.r}, ${t.rgba.g}, ${t.rgba.b})`:e.Format.CSS.formatRGBA(t)},t.formatRGBA=function(e){return`rgba(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b}, ${+e.rgba.a.toFixed(2)})`},t.formatHSL=function(t){return 1===t.hsla.a?`hsl(${t.hsla.h}, ${(100*t.hsla.s).toFixed(2)}%, ${(100*t.hsla.l).toFixed(2)}%)`:e.Format.CSS.formatHSLA(t)},t.formatHSLA=function(e){return`hsla(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%, ${e.hsla.a.toFixed(2)})`},t.formatHex=function(e){return`#${i(e.rgba.r)}${i(e.rgba.g)}${i(e.rgba.b)}`},t.formatHexA=function(t,n=!1){return n&&1===t.rgba.a?e.Format.CSS.formatHex(t):`#${i(t.rgba.r)}${i(t.rgba.g)}${i(t.rgba.b)}${i(Math.round(255*t.rgba.a))}`},t.format=function(t){return t.isOpaque()?e.Format.CSS.formatHex(t):e.Format.CSS.formatRGBA(t)},t.parseHex=function(t){const i=t.length;if(0===i)return null;if(35!==t.charCodeAt(0))return null;if(7===i){const i=16*n(t.charCodeAt(1))+n(t.charCodeAt(2)),s=16*n(t.charCodeAt(3))+n(t.charCodeAt(4)),r=16*n(t.charCodeAt(5))+n(t.charCodeAt(6));return new e(new o(i,s,r,1))}if(9===i){const i=16*n(t.charCodeAt(1))+n(t.charCodeAt(2)),s=16*n(t.charCodeAt(3))+n(t.charCodeAt(4)),r=16*n(t.charCodeAt(5))+n(t.charCodeAt(6)),a=16*n(t.charCodeAt(7))+n(t.charCodeAt(8));return new e(new o(i,s,r,a/255))}if(4===i){const i=n(t.charCodeAt(1)),s=n(t.charCodeAt(2)),r=n(t.charCodeAt(3));return new e(new o(16*i+i,16*s+s,16*r+r))}if(5===i){const i=n(t.charCodeAt(1)),s=n(t.charCodeAt(2)),r=n(t.charCodeAt(3)),a=n(t.charCodeAt(4));return new e(new o(16*i+i,16*s+s,16*r+r,(16*a+a)/255))}return null}}(i=t.CSS||(t.CSS={}))}(t=e.Format||(e.Format={}))}(a||(a={}))},3278:(e,t,i)=>{"use strict";i.d(t,{Hl:()=>r,Ix:()=>s,ZO:()=>o});var n=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function o(e){return{asString:()=>n(this,void 0,void 0,(function*(){return e})),asFile:()=>{},value:"string"==typeof e?e:void 0}}function s(e,t,i){return{asString:()=>n(this,void 0,void 0,(function*(){return""})),asFile:()=>({name:e,uri:t,data:i}),value:void 0}}class r{constructor(){this._entries=new Map}get size(){return this._entries.size}has(e){return this._entries.has(this.toKey(e))}get(e){var t;return null===(t=this._entries.get(this.toKey(e)))||void 0===t?void 0:t[0]}append(e,t){const i=this._entries.get(e);i?i.push(t):this._entries.set(this.toKey(e),[t])}replace(e,t){this._entries.set(this.toKey(e),[t])}delete(e){this._entries.delete(this.toKey(e))}*entries(){for(const[e,t]of this._entries.entries())for(const i of t)yield[e,i]}values(){return Array.from(this._entries.values()).flat()}forEach(e){for(const[t,i]of this.entries())e(i,t)}toKey(e){return e.toLowerCase()}}},9898:(e,t,i)=>{"use strict";function n(e,t,i){let n=null,o=null;if("function"==typeof i.value?(n="value",o=i.value,0!==o.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof i.get&&(n="get",o=i.get),!o)throw new Error("not supported");const s=`$memoize$${t}`;i[n]=function(...e){return this.hasOwnProperty(s)||Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!1,value:o.apply(this,e)}),this[s]}}i.d(t,{H:()=>n})},2484:(e,t,i)=>{"use strict";i.d(t,{Hs:()=>c,a$:()=>r});class n{constructor(e,t,i,n){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=n}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var o=i(9954);class s{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,n=e.length;i<n;i++)t[i]=e.charCodeAt(i);return t}}function r(e,t,i){return new c(new s(e),new s(t)).ComputeDiff(i).changes}class a{static Assert(e,t){if(!e)throw new Error(t)}}class l{static Copy(e,t,i,n,o){for(let s=0;s<o;s++)i[n+s]=e[t+s]}static Copy2(e,t,i,n,o){for(let s=0;s<o;s++)i[n+s]=e[t+s]}}class d{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new n(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class c{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;const[n,o,s]=c._getElements(e),[r,a,l]=c._getElements(t);this._hasStrings=s&&l,this._originalStringElements=n,this._originalElementsOrHash=o,this._modifiedStringElements=r,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&"string"==typeof e[0]}static _getElements(e){const t=e.getElements();if(c._isStringArray(t)){const e=new Int32Array(t.length);for(let i=0,n=t.length;i<n;i++)e[i]=(0,o.Cv)(t[i],0);return[t,e,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._modifiedStringElements[t])}ElementsAreStrictEqual(e,t){return!!this.ElementsAreEqual(e,t)&&c._getStrictElement(this._originalSequence,e)===c._getStrictElement(this._modifiedSequence,t)}static _getStrictElement(e,t){return"function"==typeof e.getStrictElement?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._originalElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._originalStringElements[t])}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._modifiedStringElements[e]===this._modifiedStringElements[t])}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,n,o){const s=[!1];let r=this.ComputeDiffRecursive(e,t,i,n,s);return o&&(r=this.PrettifyChanges(r)),{quitEarly:s[0],changes:r}}ComputeDiffRecursive(e,t,i,o,s){for(s[0]=!1;e<=t&&i<=o&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&o>=i&&this.ElementsAreEqual(t,o);)t--,o--;if(e>t||i>o){let s;return i<=o?(a.Assert(e===t+1,"originalStart should only be one more than originalEnd"),s=[new n(e,0,i,o-i+1)]):e<=t?(a.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),s=[new n(e,t-e+1,i,0)]):(a.Assert(e===t+1,"originalStart should only be one more than originalEnd"),a.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),s=[]),s}const r=[0],l=[0],d=this.ComputeRecursionPoint(e,t,i,o,r,l,s),c=r[0],h=l[0];if(null!==d)return d;if(!s[0]){const r=this.ComputeDiffRecursive(e,c,i,h,s);let a=[];return a=s[0]?[new n(c+1,t-(c+1)+1,h+1,o-(h+1)+1)]:this.ComputeDiffRecursive(c+1,t,h+1,o,s),this.ConcatenateChanges(r,a)}return[new n(e,t-e+1,i,o-i+1)]}WALKTRACE(e,t,i,o,s,r,a,l,c,h,u,g,p,m,f,v,_,b){let C=null,y=null,w=new d,S=t,k=i,L=p[0]-v[0]-o,x=-1073741824,I=this.m_forwardHistory.length-1;do{const t=L+e;t===S||t<k&&c[t-1]<c[t+1]?(m=(u=c[t+1])-L-o,u<x&&w.MarkNextChange(),x=u,w.AddModifiedElement(u+1,m),L=t+1-e):(m=(u=c[t-1]+1)-L-o,u<x&&w.MarkNextChange(),x=u-1,w.AddOriginalElement(u,m+1),L=t-1-e),I>=0&&(e=(c=this.m_forwardHistory[I])[0],S=1,k=c.length-1)}while(--I>=-1);if(C=w.getReverseChanges(),b[0]){let e=p[0]+1,t=v[0]+1;if(null!==C&&C.length>0){const i=C[C.length-1];e=Math.max(e,i.getOriginalEnd()),t=Math.max(t,i.getModifiedEnd())}y=[new n(e,g-e+1,t,f-t+1)]}else{w=new d,S=r,k=a,L=p[0]-v[0]-l,x=1073741824,I=_?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const e=L+s;e===S||e<k&&h[e-1]>=h[e+1]?(m=(u=h[e+1]-1)-L-l,u>x&&w.MarkNextChange(),x=u+1,w.AddOriginalElement(u+1,m+1),L=e+1-s):(m=(u=h[e-1])-L-l,u>x&&w.MarkNextChange(),x=u,w.AddModifiedElement(u+1,m+1),L=e-1-s),I>=0&&(s=(h=this.m_reverseHistory[I])[0],S=1,k=h.length-1)}while(--I>=-1);y=w.getChanges()}return this.ConcatenateChanges(C,y)}ComputeRecursionPoint(e,t,i,o,s,r,a){let d=0,c=0,h=0,u=0,g=0,p=0;e--,i--,s[0]=0,r[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const m=t-e+(o-i),f=m+1,v=new Int32Array(f),_=new Int32Array(f),b=o-i,C=t-e,y=e-i,w=t-o,S=(C-b)%2==0;v[b]=e,_[C]=t,a[0]=!1;for(let k=1;k<=m/2+1;k++){let m=0,L=0;h=this.ClipDiagonalBound(b-k,k,b,f),u=this.ClipDiagonalBound(b+k,k,b,f);for(let e=h;e<=u;e+=2){d=e===h||e<u&&v[e-1]<v[e+1]?v[e+1]:v[e-1]+1,c=d-(e-b)-y;const i=d;for(;d<t&&c<o&&this.ElementsAreEqual(d+1,c+1);)d++,c++;if(v[e]=d,d+c>m+L&&(m=d,L=c),!S&&Math.abs(e-C)<=k-1&&d>=_[e])return s[0]=d,r[0]=c,i<=_[e]&&k<=1448?this.WALKTRACE(b,h,u,y,C,g,p,w,v,_,d,t,s,c,o,r,S,a):null}const x=(m-e+(L-i)-k)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(m,x))return a[0]=!0,s[0]=m,r[0]=L,x>0&&k<=1448?this.WALKTRACE(b,h,u,y,C,g,p,w,v,_,d,t,s,c,o,r,S,a):(e++,i++,[new n(e,t-e+1,i,o-i+1)]);g=this.ClipDiagonalBound(C-k,k,C,f),p=this.ClipDiagonalBound(C+k,k,C,f);for(let n=g;n<=p;n+=2){d=n===g||n<p&&_[n-1]>=_[n+1]?_[n+1]-1:_[n-1],c=d-(n-C)-w;const l=d;for(;d>e&&c>i&&this.ElementsAreEqual(d,c);)d--,c--;if(_[n]=d,S&&Math.abs(n-b)<=k&&d<=v[n])return s[0]=d,r[0]=c,l>=v[n]&&k<=1448?this.WALKTRACE(b,h,u,y,C,g,p,w,v,_,d,t,s,c,o,r,S,a):null}if(k<=1447){let e=new Int32Array(u-h+2);e[0]=b-h+1,l.Copy2(v,h,e,1,u-h+1),this.m_forwardHistory.push(e),e=new Int32Array(p-g+2),e[0]=C-g+1,l.Copy2(_,g,e,1,p-g+1),this.m_reverseHistory.push(e)}}return this.WALKTRACE(b,h,u,y,C,g,p,w,v,_,d,t,s,c,o,r,S,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],n=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,o=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,s=i.originalLength>0,r=i.modifiedLength>0;for(;i.originalStart+i.originalLength<n&&i.modifiedStart+i.modifiedLength<o&&(!s||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!r||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const e=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!e)break;i.originalStart++,i.modifiedStart++}const a=[null];t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],a)&&(e[t]=a[0],e.splice(t+1,1),t--)}for(let t=e.length-1;t>=0;t--){const i=e[t];let n=0,o=0;if(t>0){const i=e[t-1];n=i.originalStart+i.originalLength,o=i.modifiedStart+i.modifiedLength}const s=i.originalLength>0,r=i.modifiedLength>0;let a=0,l=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let e=1;;e++){const t=i.originalStart-e,d=i.modifiedStart-e;if(t<n||d<o)break;if(s&&!this.OriginalElementsAreEqual(t,t+i.originalLength))break;if(r&&!this.ModifiedElementsAreEqual(d,d+i.modifiedLength))break;const c=(t===n&&d===o?5:0)+this._boundaryScore(t,i.originalLength,d,i.modifiedLength);c>l&&(l=c,a=e)}i.originalStart-=a,i.modifiedStart-=a;const d=[null];t>0&&this.ChangesOverlap(e[t-1],e[t],d)&&(e[t-1]=d[0],e.splice(t,1),t++)}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){const i=e[t-1],n=e[t],o=n.originalStart-i.originalStart-i.originalLength,s=i.originalStart,r=n.originalStart+n.originalLength,a=r-s,l=i.modifiedStart,d=n.modifiedStart+n.modifiedLength,c=d-l;if(o<5&&a<20&&c<20){const e=this._findBetterContiguousSequence(s,a,l,c,o);if(e){const[t,s]=e;t===i.originalStart+i.originalLength&&s===i.modifiedStart+i.modifiedLength||(i.originalLength=t-i.originalStart,i.modifiedLength=s-i.modifiedStart,n.originalStart=t+o,n.modifiedStart=s+o,n.originalLength=r-n.originalStart,n.modifiedLength=d-n.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,n,o){if(t<o||n<o)return null;const s=e+t-o+1,r=i+n-o+1;let a=0,l=0,d=0;for(let t=e;t<s;t++)for(let e=i;e<r;e++){const i=this._contiguousSequenceScore(t,e,o);i>0&&i>a&&(a=i,l=t,d=e)}return a>0?[l,d]:null}_contiguousSequenceScore(e,t,i){let n=0;for(let o=0;o<i;o++){if(!this.ElementsAreEqual(e+o,t+o))return 0;n+=this._originalStringElements[e+o].length}return n}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,n){return(this._OriginalRegionIsBoundary(e,t)?1:0)+(this._ModifiedRegionIsBoundary(i,n)?1:0)}ConcatenateChanges(e,t){const i=[];if(0===e.length||0===t.length)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const n=new Array(e.length+t.length-1);return l.Copy(e,0,n,0,e.length-1),n[e.length-1]=i[0],l.Copy(t,1,n,e.length,t.length-1),n}{const i=new Array(e.length+t.length);return l.Copy(e,0,i,0,e.length),l.Copy(t,0,i,e.length,t.length),i}}ChangesOverlap(e,t,i){if(a.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),a.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const o=e.originalStart;let s=e.originalLength;const r=e.modifiedStart;let a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(s=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new n(o,s,r,a),!0}return i[0]=null,!1}ClipDiagonalBound(e,t,i,n){if(e>=0&&e<n)return e;const o=t%2==0;return e<0?o===(i%2==0)?0:1:o===((n-i-1)%2==0)?n-1:n-2}}},7301:(e,t,i)=>{"use strict";i.d(t,{B8:()=>g,Cp:()=>s,F0:()=>c,FU:()=>d,L6:()=>u,b1:()=>h,dL:()=>o,he:()=>m,n2:()=>l,ri:()=>r});const n=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout((()=>{if(e.stack){if(p.isErrorNoTelemetry(e))throw new p(e.message+"\n\n"+e.stack);throw new Error(e.message+"\n\n"+e.stack)}throw e}),0)}}emit(e){this.listeners.forEach((t=>{t(e)}))}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}};function o(e){l(e)||n.onUnexpectedError(e)}function s(e){l(e)||n.onUnexpectedExternalError(e)}function r(e){if(e instanceof Error){const{name:t,message:i}=e;return{$isError:!0,name:t,message:i,stack:e.stacktrace||e.stack,noTelemetry:p.isErrorNoTelemetry(e)}}return e}const a="Canceled";function l(e){return e instanceof d||e instanceof Error&&e.name===a&&e.message===a}class d extends Error{constructor(){super(a),this.name=this.message}}function c(){const e=new Error(a);return e.name=e.message,e}function h(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}function u(e){return e?new Error(`Illegal state: ${e}`):new Error("Illegal state")}class g extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}}class p extends Error{constructor(e){super(e),this.name="ErrorNoTelemetry"}static fromError(e){if(e instanceof p)return e;const t=new p;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return"ErrorNoTelemetry"===e.name}}class m extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,m.prototype)}}},4669:(e,t,i)=>{"use strict";i.d(t,{D0:()=>f,E7:()=>v,F3:()=>u,K3:()=>m,Q5:()=>h,ZD:()=>_,ju:()=>n});var n,o=i(7301),s=i(5976),r=i(1741),a=i(4013);!function(e){function t(e){return(t,i=null,n)=>{let o,s=!1;return o=e((e=>{if(!s)return o?o.dispose():s=!0,t.call(i,e)}),null,n),s&&o.dispose(),o}}function i(e,t,i){return a(((i,n=null,o)=>e((e=>i.call(n,t(e))),null,o)),i)}function n(e,t,i){return a(((i,n=null,o)=>e((e=>{t(e),i.call(n,e)}),null,o)),i)}function o(e,t,i){return a(((i,n=null,o)=>e((e=>t(e)&&i.call(n,e)),null,o)),i)}function r(e,t,n,o){let s=n;return i(e,(e=>(s=t(s,e),s)),o)}function a(e,t){let i;const n=new h({onFirstListenerAdd(){i=e(n.fire,n)},onLastListenerRemove(){null==i||i.dispose()}});return null==t||t.add(n),n.event}function l(e,t,i=100,n=!1,o,s){let r,a,l,d=0;const c=new h({leakWarningThreshold:o,onFirstListenerAdd(){r=e((e=>{d++,a=t(a,e),n&&!l&&(c.fire(a),a=void 0),clearTimeout(l),l=setTimeout((()=>{const e=a;a=void 0,l=void 0,(!n||d>1)&&c.fire(e),d=0}),i)}))},onLastListenerRemove(){r.dispose()}});return null==s||s.add(c),c.event}function d(e,t=((e,t)=>e===t),i){let n,s=!0;return o(e,(e=>{const i=s||!t(e,n);return s=!1,n=e,i}),i)}e.None=()=>s.JT.None,e.once=t,e.map=i,e.forEach=n,e.filter=o,e.signal=function(e){return e},e.any=function(...e){return(t,i=null,n)=>(0,s.F8)(...e.map((e=>e((e=>t.call(i,e)),null,n))))},e.reduce=r,e.debounce=l,e.latch=d,e.split=function(t,i,n){return[e.filter(t,i,n),e.filter(t,(e=>!i(e)),n)]},e.buffer=function(e,t=!1,i=[]){let n=i.slice(),o=e((e=>{n?n.push(e):r.fire(e)}));const s=()=>{null==n||n.forEach((e=>r.fire(e))),n=null},r=new h({onFirstListenerAdd(){o||(o=e((e=>r.fire(e))))},onFirstListenerDidAdd(){n&&(t?setTimeout(s):s())},onLastListenerRemove(){o&&o.dispose(),o=null}});return r.event};class c{constructor(e){this.event=e,this.disposables=new s.SL}map(e){return new c(i(this.event,e,this.disposables))}forEach(e){return new c(n(this.event,e,this.disposables))}filter(e){return new c(o(this.event,e,this.disposables))}reduce(e,t){return new c(r(this.event,e,t,this.disposables))}latch(){return new c(d(this.event,void 0,this.disposables))}debounce(e,t=100,i=!1,n){return new c(l(this.event,e,t,i,n,this.disposables))}on(e,t,i){return this.event(e,t,i)}once(e,i,n){return t(this.event)(e,i,n)}dispose(){this.disposables.dispose()}}e.chain=function(e){return new c(e)},e.fromNodeEventEmitter=function(e,t,i=(e=>e)){const n=(...e)=>o.fire(i(...e)),o=new h({onFirstListenerAdd:()=>e.on(t,n),onLastListenerRemove:()=>e.removeListener(t,n)});return o.event},e.fromDOMEventEmitter=function(e,t,i=(e=>e)){const n=(...e)=>o.fire(i(...e)),o=new h({onFirstListenerAdd:()=>e.addEventListener(t,n),onLastListenerRemove:()=>e.removeEventListener(t,n)});return o.event},e.toPromise=function(e){return new Promise((i=>t(e)(i)))},e.runAndSubscribe=function(e,t){return t(void 0),e((e=>t(e)))},e.runAndSubscribeWithStore=function(e,t){let i=null;function n(e){null==i||i.dispose(),i=new s.SL,t(e,i)}n(void 0);const o=e((e=>n(e)));return(0,s.OF)((()=>{o.dispose(),null==i||i.dispose()}))};class u{constructor(e,t){this.obs=e,this._counter=0,this._hasChanged=!1;const i={onFirstListenerAdd:()=>{e.addObserver(this)},onLastListenerRemove:()=>{e.removeObserver(this)}};this.emitter=new h(i),t&&t.add(this.emitter)}beginUpdate(e){this._counter++}handleChange(e,t){this._hasChanged=!0}endUpdate(e){0==--this._counter&&this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this.obs.get()))}}e.fromObservable=function(e,t){return new u(e,t).emitter.event}}(n||(n={}));class l{constructor(e){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${e}_${l._idPool++}`}start(e){this._stopWatch=new a.G(!0),this._listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this._elapsedOverall+=e,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${e.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}l._idPool=0;class d{constructor(e){this.value=e}static create(){var e;return new d(null!==(e=(new Error).stack)&&void 0!==e?e:"")}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class c{constructor(e,t,i){this.callback=e,this.callbackThis=t,this.stack=i,this.subscription=new s.dt}invoke(e){this.callback.call(this.callbackThis,e)}}class h{constructor(e){var t,i;this._disposed=!1,this._options=e,this._leakageMon=void 0,this._perfMon=(null===(t=this._options)||void 0===t?void 0:t._profName)?new l(this._options._profName):void 0,this._deliveryQueue=null===(i=this._options)||void 0===i?void 0:i.deliveryQueue}dispose(){var e,t,i,n;this._disposed||(this._disposed=!0,this._listeners&&this._listeners.clear(),null===(e=this._deliveryQueue)||void 0===e||e.clear(this),null===(i=null===(t=this._options)||void 0===t?void 0:t.onLastListenerRemove)||void 0===i||i.call(t),null===(n=this._leakageMon)||void 0===n||n.dispose())}get event(){return this._event||(this._event=(e,t,i)=>{var n,o,a;this._listeners||(this._listeners=new r.S);const l=this._listeners.isEmpty();let h,u;l&&(null===(n=this._options)||void 0===n?void 0:n.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this),this._leakageMon&&this._listeners.size>=30&&(u=d.create(),h=this._leakageMon.check(u,this._listeners.size+1));const g=new c(e,t,u),p=this._listeners.push(g);l&&(null===(o=this._options)||void 0===o?void 0:o.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),(null===(a=this._options)||void 0===a?void 0:a.onListenerDidAdd)&&this._options.onListenerDidAdd(this,e,t);const m=g.subscription.set((()=>{null==h||h(),!this._disposed&&(p(),this._options&&this._options.onLastListenerRemove)&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this))}));return i instanceof s.SL?i.add(m):Array.isArray(i)&&i.push(m),m}),this._event}fire(e){var t,i;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new g);for(const t of this._listeners)this._deliveryQueue.push(this,t,e);null===(t=this._perfMon)||void 0===t||t.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),null===(i=this._perfMon)||void 0===i||i.stop()}}}class u{constructor(){this._queue=new r.S}get size(){return this._queue.size}push(e,t,i){this._queue.push(new p(e,t,i))}clear(e){const t=new r.S;for(const i of this._queue)i.emitter!==e&&t.push(i);this._queue=t}deliver(){for(;this._queue.size>0;){const e=this._queue.shift();try{e.listener.invoke(e.event)}catch(e){(0,o.dL)(e)}}}}class g extends u{clear(e){this._queue.clear()}}class p{constructor(e,t,i){this.emitter=e,this.listener=t,this.event=i}}class m extends h{constructor(e){super(e),this._isPaused=0,this._eventQueue=new r.S,this._mergeFn=null==e?void 0:e.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(e){this._listeners&&(0!==this._isPaused?this._eventQueue.push(e):super.fire(e))}}class f extends m{constructor(e){var t;super(e),this._delay=null!==(t=e.delay)&&void 0!==t?t:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout((()=>{this._handle=void 0,this.resume()}),this._delay)),super.fire(e)}}class v{constructor(){this.buffers=[]}wrapEvent(e){return(t,i,n)=>e((e=>{const n=this.buffers[this.buffers.length-1];n?n.push((()=>t.call(i,e))):t.call(i,e)}),void 0,n)}bufferEvents(e){const t=[];this.buffers.push(t);const i=e();return this.buffers.pop(),t.forEach((e=>e())),i}}class _{constructor(){this.listening=!1,this.inputEvent=n.None,this.inputEventListener=s.JT.None,this.emitter=new h({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},5527:(e,t,i)=>{"use strict";i.d(t,{KM:()=>c,ej:()=>a,fn:()=>l,oP:()=>u,yj:()=>d});var n=i(8721),o=i(1432),s=i(7295);function r(e){return 47===e||92===e}function a(e){return e.replace(/[\\/]/g,n.KR.sep)}function l(e){return-1===e.indexOf("/")&&(e=a(e)),/^[a-zA-Z]:(\/|$)/.test(e)&&(e="/"+e),e}function d(e,t=n.KR.sep){if(!e)return"";const i=e.length,o=e.charCodeAt(0);if(r(o)){if(r(e.charCodeAt(1))&&!r(e.charCodeAt(2))){let n=3;const o=n;for(;n<i&&!r(e.charCodeAt(n));n++);if(o!==n&&!r(e.charCodeAt(n+1)))for(n+=1;n<i;n++)if(r(e.charCodeAt(n)))return e.slice(0,n+1).replace(/[\\/]/g,t)}return t}if(h(o)&&58===e.charCodeAt(1))return r(e.charCodeAt(2))?e.slice(0,2)+t:e.slice(0,2);let s=e.indexOf("://");if(-1!==s)for(s+=3;s<i;s++)if(r(e.charCodeAt(s)))return e.slice(0,s+1);return""}function c(e,t,i,o=n.ir){if(e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(i){if(!(0,s.ok)(e,t))return!1;if(t.length===e.length)return!0;let i=t.length;return t.charAt(t.length-1)===o&&i--,e.charAt(i)===o}return t.charAt(t.length-1)!==o&&(t+=o),0===e.indexOf(t)}function h(e){return e>=65&&e<=90||e>=97&&e<=122}function u(e,t=o.ED){return!!t&&h(e.charCodeAt(0))&&58===e.charCodeAt(1)}},5392:(e,t,i)=>{"use strict";i.d(t,{CL:()=>U,EW:()=>G,Ji:()=>r,KZ:()=>w,Oh:()=>D,Sy:()=>d,ir:()=>l,jB:()=>N,l7:()=>K,mB:()=>E,mX:()=>H,or:()=>s});var n=i(3702),o=i(7295);function s(...e){return function(t,i){for(let n=0,o=e.length;n<o;n++){const o=e[n](t,i);if(o)return o}return null}}a.bind(void 0,!1);const r=a.bind(void 0,!0);function a(e,t,i){if(!i||i.length<t.length)return null;let n;return n=e?o.ok(i,t):0===i.indexOf(t),n?t.length>0?[{start:0,end:t.length}]:[]:null}function l(e,t){const i=t.toLowerCase().indexOf(e.toLowerCase());return-1===i?null:[{start:i,end:i+e.length}]}function d(e,t){return c(e.toLowerCase(),t.toLowerCase(),0,0)}function c(e,t,i,n){if(i===e.length)return[];if(n===t.length)return null;if(e[i]===t[n]){let o=null;return(o=c(e,t,i+1,n+1))?_({start:n,end:n+1},o):null}return c(e,t,i,n+1)}function h(e){return 97<=e&&e<=122}function u(e){return 65<=e&&e<=90}function g(e){return 48<=e&&e<=57}function p(e){return 32===e||9===e||10===e||13===e}const m=new Set;function f(e){return p(e)||m.has(e)}function v(e){return h(e)||u(e)||g(e)}function _(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function b(e,t){for(let i=t;i<e.length;i++){const t=e.charCodeAt(i);if(u(t)||g(t)||i>0&&!v(e.charCodeAt(i-1)))return i}return e.length}function C(e,t,i,n){if(i===e.length)return[];if(n===t.length)return null;if(e[i]!==t[n].toLowerCase())return null;{let o=null,s=n+1;for(o=C(e,t,i+1,n+1);!o&&(s=b(t,s))<t.length;)o=C(e,t,i+1,s),s++;return null===o?null:_({start:n,end:n+1},o)}}function y(e,t){if(!t)return null;if(0===(t=t.trim()).length)return null;if(!function(e){let t=0,i=0,n=0,o=0;for(let s=0;s<e.length;s++)n=e.charCodeAt(s),u(n)&&t++,h(n)&&i++,p(n)&&o++;return 0!==t&&0!==i||0!==o?t<=5:e.length<=30}(e))return null;if(t.length>60)return null;const i=function(e){let t=0,i=0,n=0,o=0,s=0;for(let r=0;r<e.length;r++)s=e.charCodeAt(r),u(s)&&t++,h(s)&&i++,v(s)&&n++,g(s)&&o++;return{upperPercent:t/e.length,lowerPercent:i/e.length,alphaPercent:n/e.length,numericPercent:o/e.length}}(t);if(!function(e){const{upperPercent:t,lowerPercent:i,alphaPercent:n,numericPercent:o}=e;return i>.2&&t<.8&&n>.6&&o<.2}(i)){if(!function(e){const{upperPercent:t,lowerPercent:i}=e;return 0===i&&t>.6}(i))return null;t=t.toLowerCase()}let n=null,o=0;for(e=e.toLowerCase();o<t.length&&null===(n=C(e,t,0,o));)o=b(t,o+1);return n}function w(e,t,i=!1){if(!t||0===t.length)return null;let n=null,o=0;for(e=e.toLowerCase(),t=t.toLowerCase();o<t.length&&null===(n=S(e,t,0,o,i));)o=k(t,o+1);return n}function S(e,t,i,n,o){if(i===e.length)return[];if(n===t.length)return null;if((s=e.charCodeAt(i))===(r=t.charCodeAt(n))||f(s)&&f(r)){let s=null,r=n+1;if(s=S(e,t,i+1,n+1,o),!o)for(;!s&&(r=k(t,r))<t.length;)s=S(e,t,i+1,r,o),r++;return null===s?null:_({start:n,end:n+1},s)}return null;var s,r}function k(e,t){for(let i=t;i<e.length;i++)if(f(e.charCodeAt(i))||i>0&&f(e.charCodeAt(i-1)))return i;return e.length}"()[]{}<>`'\"-/;:,.?!".split("").forEach((e=>m.add(e.charCodeAt(0))));const L=s(r,y,l),x=s(r,y,d),I=new n.z6(1e4);function D(e,t,i=!1){if("string"!=typeof e||"string"!=typeof t)return null;let n=I.get(e);n||(n=new RegExp(o.un(e),"i"),I.set(e,n));const s=n.exec(t);return s?[{start:s.index,end:s.index+s[0].length}]:i?x(e,t):L(e,t)}function N(e,t,i,n,o,s){const r=Math.min(13,e.length);for(;i<r;i++){const r=G(e,t,i,n,o,s,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(r)return r}return[0,s]}function E(e){if(void 0===e)return[];const t=[],i=e[1];for(let n=e.length-1;n>1;n--){const o=e[n]+i,s=t[t.length-1];s&&s.end===o?s.end=o+1:t.push({start:o,end:o+1})}return t}const A=128;function T(){const e=[],t=[];for(let e=0;e<=A;e++)t[e]=0;for(let i=0;i<=A;i++)e.push(t.slice(0));return e}function M(e){const t=[];for(let i=0;i<=e;i++)t[i]=0;return t}const R=M(256),P=M(256),O=T(),V=T(),F=T();function W(e,t){if(t<0||t>=e.length)return!1;const i=e.codePointAt(t);switch(i){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!o.C8(i)}}function z(e,t){if(t<0||t>=e.length)return!1;switch(e.charCodeAt(t)){case 32:case 9:return!0;default:return!1}}function B(e,t,i){return t[e]!==i[e]}var U;!function(e){e.Default=[-100,0],e.isDefault=function(e){return!e||2===e.length&&-100===e[0]&&0===e[1]}}(U||(U={}));class H{constructor(e,t){this.firstMatchCanBeWeak=e,this.boostFullMatch=t}}function G(e,t,i,n,o,s,r=H.default){const a=e.length>A?A:e.length,l=n.length>A?A:n.length;if(i>=a||s>=l||a-i>l-s)return;if(!function(e,t,i,n,o,s,r=!1){for(;t<i&&o<s;)e[t]===n[o]&&(r&&(R[t]=o),t+=1),o+=1;return t===i}(t,i,a,o,s,l,!0))return;!function(e,t,i,n,o,s){let r=e-1,a=t-1;for(;r>=i&&a>=n;)o[r]===s[a]&&(P[r]=a,r--),a--}(a,l,i,s,t,o);let d=1,c=1,h=i,u=s;const g=[!1];for(d=1,h=i;h<a;d++,h++){const r=R[h],p=P[h],m=h+1<a?P[h+1]:l;for(c=r-s+1,u=r;u<m;c++,u++){let a=Number.MIN_SAFE_INTEGER,m=!1;u<=p&&(a=j(e,t,h,i,n,o,u,l,s,0===O[d-1][c-1],g));let f=0;a!==Number.MAX_SAFE_INTEGER&&(m=!0,f=a+V[d-1][c-1]);const v=u>r,_=v?V[d][c-1]+(O[d][c-1]>0?-5:0):0,b=u>r+1&&O[d][c-1]>0,C=b?V[d][c-2]+(O[d][c-2]>0?-5:0):0;if(b&&(!v||C>=_)&&(!m||C>=f))V[d][c]=C,F[d][c]=3,O[d][c]=0;else if(v&&(!m||_>=f))V[d][c]=_,F[d][c]=2,O[d][c]=0;else{if(!m)throw new Error("not possible");V[d][c]=f,F[d][c]=1,O[d][c]=O[d-1][c-1]+1}}}if(!g[0]&&!r.firstMatchCanBeWeak)return;d--,c--;const p=[V[d][c],s];let m=0,f=0;for(;d>=1;){let e=c;do{const t=F[d][e];if(3===t)e-=2;else{if(2!==t)break;e-=1}}while(e>=1);m>1&&t[i+d-1]===o[s+c-1]&&!B(e+s-1,n,o)&&m+1>O[d][e]&&(e=c),e===c?m++:m=1,f||(f=e),d--,c=e-1,p.push(c)}l===a&&r.boostFullMatch&&(p[0]+=2);const v=f-a;return p[0]-=v,p}function j(e,t,i,n,o,s,r,a,l,d,c){if(t[i]!==s[r])return Number.MIN_SAFE_INTEGER;let h=1,u=!1;return r===i-n?h=e[i]===o[r]?7:5:!B(r,o,s)||0!==r&&B(r-1,o,s)?!W(s,r)||0!==r&&W(s,r-1)?(W(s,r-1)||z(s,r-1))&&(h=5,u=!0):h=5:(h=e[i]===o[r]?7:5,u=!0),h>1&&i===n&&(c[0]=!0),u||(u=B(r,o,s)||W(s,r-1)||z(s,r-1)),i===n?r>l&&(h-=u?3:5):h+=d?u?2:0:u?0:1,r+1===a&&(h-=u?3:5),h}function K(e,t,i,n,o,s,r){return function(e,t,i,n,o,s,r,a){let l=G(e,t,i,n,o,s,a);if(e.length>=3){const t=Math.min(7,e.length-1);for(let r=i+1;r<t;r++){const t=$(e,r);if(t){const e=G(t,t.toLowerCase(),i,n,o,s,a);e&&(e[0]-=3,(!l||e[0]>l[0])&&(l=e))}}}return l}(e,t,i,n,o,s,0,r)}function $(e,t){if(t+1>=e.length)return;const i=e[t],n=e[t+1];return i!==n?e.slice(0,t)+n+i+e.slice(t+2):void 0}H.default={boostFullMatch:!0,firstMatchCanBeWeak:!1}},8289:(e,t,i)=>{"use strict";function n(e){const t=this;let i,n=!1;return function(){return n||(n=!0,i=e.apply(t,arguments)),i}}i.d(t,{I:()=>n})},9954:(e,t,i)=>{"use strict";i.d(t,{Cv:()=>a,SP:()=>s,vp:()=>o,yP:()=>h});var n=i(7295);function o(e){return s(e,0)}function s(e,t){switch(typeof e){case"object":return null===e?r(349,t):Array.isArray(e)?(i=e,n=r(104579,n=t),i.reduce(((e,t)=>s(t,e)),n)):function(e,t){return t=r(181387,t),Object.keys(e).sort().reduce(((t,i)=>(t=a(i,t),s(e[i],t))),t)}(e,t);case"string":return a(e,t);case"boolean":return function(e,t){return r(e?433:863,t)}(e,t);case"number":return r(e,t);case"undefined":return r(937,t);default:return r(617,t)}var i,n}function r(e,t){return(t<<5)-t+e|0}function a(e,t){t=r(149417,t);for(let i=0,n=e.length;i<n;i++)t=r(e.charCodeAt(i),t);return t}function l(e,t,i=32){const n=i-t;return(e<<t|(~((1<<n)-1)&e)>>>n)>>>0}function d(e,t=0,i=e.byteLength,n=0){for(let o=0;o<i;o++)e[t+o]=n}function c(e,t=32){return e instanceof ArrayBuffer?Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join(""):function(e,t,i="0"){for(;e.length<t;)e=i+e;return e}((e>>>0).toString(16),t/4)}class h{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(0===t)return;const i=this._buff;let o,s,r=this._buffLen,a=this._leftoverHighSurrogate;for(0!==a?(o=a,s=-1,a=0):(o=e.charCodeAt(0),s=0);;){let l=o;if(n.ZG(o)){if(!(s+1<t)){a=o;break}{const t=e.charCodeAt(s+1);n.YK(t)?(s++,l=n.rL(o,t)):l=65533}}else n.YK(o)&&(l=65533);if(r=this._push(i,r,l),s++,!(s<t))break;o=e.charCodeAt(s)}this._buffLen=r,this._leftoverHighSurrogate=a}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(1984&i)>>>6,e[t++]=128|(63&i)>>>0):i<65536?(e[t++]=224|(61440&i)>>>12,e[t++]=128|(4032&i)>>>6,e[t++]=128|(63&i)>>>0):(e[t++]=240|(1835008&i)>>>18,e[t++]=128|(258048&i)>>>12,e[t++]=128|(4032&i)>>>6,e[t++]=128|(63&i)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),c(this._h0)+c(this._h1)+c(this._h2)+c(this._h3)+c(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,d(this._buff,this._buffLen),this._buffLen>56&&(this._step(),d(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=h._bigBlock32,t=this._buffDV;for(let i=0;i<64;i+=4)e.setUint32(i,t.getUint32(i,!1),!1);for(let t=64;t<320;t+=4)e.setUint32(t,l(e.getUint32(t-12,!1)^e.getUint32(t-32,!1)^e.getUint32(t-56,!1)^e.getUint32(t-64,!1),1),!1);let i,n,o,s=this._h0,r=this._h1,a=this._h2,d=this._h3,c=this._h4;for(let t=0;t<80;t++)t<20?(i=r&a|~r&d,n=1518500249):t<40?(i=r^a^d,n=1859775393):t<60?(i=r&a|r&d|a&d,n=2400959708):(i=r^a^d,n=3395469782),o=l(s,5)+i+c+n+e.getUint32(4*t,!1)&4294967295,c=d,d=a,a=l(r,30),r=s,s=o;this._h0=this._h0+s&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+a&4294967295,this._h3=this._h3+d&4294967295,this._h4=this._h4+c&4294967295}}h._bigBlock32=new DataView(new ArrayBuffer(320))},9365:(e,t,i)=>{"use strict";i.d(t,{CP:()=>a,Fr:()=>l,W5:()=>r,d9:()=>d,oR:()=>c,v1:()=>h});var n=i(7301),o=i(1212),s=i(7295);class r{constructor(e="",t=!1){var i,o,s;if(this.value=e,"string"!=typeof this.value)throw(0,n.b1)("value");"boolean"==typeof t?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(i=t.isTrusted)&&void 0!==i?i:void 0,this.supportThemeIcons=null!==(o=t.supportThemeIcons)&&void 0!==o&&o,this.supportHtml=null!==(s=t.supportHtml)&&void 0!==s&&s)}appendText(e,t=0){var i;return this.value+=(i=this.supportThemeIcons?(0,o.Qo)(e):e,i.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")).replace(/([ \t]+)/g,((e,t)=>"&nbsp;".repeat(t.length))).replace(/\>/gm,"\\>").replace(/\n/g,1===t?"\\\n":"\n\n"),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+="\n",this.value+=t,this.value+="\n```\n",this}appendLink(e,t,i){return this.value+="[",this.value+=this._escape(t,"]"),this.value+="](",this.value+=this._escape(String(e),")"),i&&(this.value+=` "${this._escape(this._escape(i,'"'),")")}"`),this.value+=")",this}_escape(e,t){const i=new RegExp((0,s.ec)(t),"g");return e.replace(i,((t,i)=>"\\"!==e.charAt(i-1)?`\\${t}`:t))}}function a(e){return l(e)?!e.value:!Array.isArray(e)||e.every(a)}function l(e){return e instanceof r||!(!e||"object"!=typeof e)&&!("string"!=typeof e.value||"boolean"!=typeof e.isTrusted&&void 0!==e.isTrusted||"boolean"!=typeof e.supportThemeIcons&&void 0!==e.supportThemeIcons)}function d(e){return e.replace(/"/g,"&quot;")}function c(e){return e?e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):e}function h(e){const t=[],i=e.split("|").map((e=>e.trim()));e=i[0];const n=i[1];if(n){const e=/height=(\d+)/.exec(n),i=/width=(\d+)/.exec(n),o=e?e[1]:"",s=i?i[1]:"",r=isFinite(parseInt(s)),a=isFinite(parseInt(o));r&&t.push(`width="${s}"`),a&&t.push(`height="${o}"`)}return{href:e,dimensions:t}}},1212:(e,t,i)=>{"use strict";i.d(t,{Gt:()=>f,Ho:()=>m,Qo:()=>c,f$:()=>u,x$:()=>p});var n=i(3046),o=i(5392),s=i(7295);const r="$(",a=new RegExp(`\\$\\(${n.dT.iconNameExpression}(?:${n.dT.iconModifierExpression})?\\)`,"g"),l=new RegExp(n.dT.iconNameCharacter),d=new RegExp(`(\\\\)?${a.source}`,"g");function c(e){return e.replace(d,((e,t)=>t?e:`\\${e}`))}const h=new RegExp(`\\\\${a.source}`,"g");function u(e){return e.replace(h,(e=>`\\${e}`))}const g=new RegExp(`(\\s)?(\\\\)?${a.source}(\\s)?`,"g");function p(e){return-1===e.indexOf(r)?e:e.replace(g,((e,t,i,n)=>i?e:t||n||""))}function m(e){const t=e.indexOf(r);return-1===t?{text:e}:function(e,t){const i=[];let n="";function o(e){if(e){n+=e;for(const t of e)i.push(h)}}let s,a,d=-1,c="",h=0,u=t;const g=e.length;for(o(e.substr(0,t));u<g;)s=e[u],a=e[u+1],s===r[0]&&a===r[1]?(d=u,o(c),c=r,u++):")"===s&&-1!==d?(h+=u-d+1,d=-1,c=""):-1!==d?l.test(s)?c+=s:(o(c),d=-1,c=""):o(s),u++;return o(c),{text:n,iconOffsets:i}}(e,t)}function f(e,t,i=!1){const{text:n,iconOffsets:r}=t;if(!r||0===r.length)return(0,o.Oh)(e,n,i);const a=(0,s.j3)(n," "),l=n.length-a.length,d=(0,o.Oh)(e,a,i);if(d)for(const e of d){const t=r[e.start+l]+l;e.start+=t,e.end+=t}return d}},4742:(e,t,i)=>{"use strict";i.d(t,{R:()=>n,a:()=>o});class n{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const o=new n("id#")},3725:(e,t,i)=>{"use strict";var n;i.d(t,{$:()=>n}),function(e){e.is=function(e){return e&&"object"==typeof e&&"function"==typeof e[Symbol.iterator]};const t=Object.freeze([]);function i(t,i=Number.POSITIVE_INFINITY){const n=[];if(0===i)return[n,t];const o=t[Symbol.iterator]();for(let t=0;t<i;t++){const t=o.next();if(t.done)return[n,e.empty()];n.push(t.value)}return[n,{[Symbol.iterator]:()=>o}]}e.empty=function(){return t},e.single=function*(e){yield e},e.from=function(e){return e||t},e.isEmpty=function(e){return!e||!0===e[Symbol.iterator]().next().done},e.first=function(e){return e[Symbol.iterator]().next().value},e.some=function(e,t){for(const i of e)if(t(i))return!0;return!1},e.find=function(e,t){for(const i of e)if(t(i))return i},e.filter=function*(e,t){for(const i of e)t(i)&&(yield i)},e.map=function*(e,t){let i=0;for(const n of e)yield t(n,i++)},e.concat=function*(...e){for(const t of e)for(const e of t)yield e},e.concatNested=function*(e){for(const t of e)for(const e of t)yield e},e.reduce=function(e,t,i){let n=i;for(const i of e)n=t(n,i);return n},e.forEach=function(e,t){let i=0;for(const n of e)t(n,i++)},e.slice=function*(e,t,i=e.length){for(t<0&&(t+=e.length),i<0?i+=e.length:i>e.length&&(i=e.length);t<i;t++)yield e[t]},e.consume=i,e.collect=function(e){return i(e)[0]},e.equals=function(e,t,i=((e,t)=>e===t)){const n=e[Symbol.iterator](),o=t[Symbol.iterator]();for(;;){const e=n.next(),t=o.next();if(e.done!==t.done)return!1;if(e.done)return!0;if(!i(e.value,t.value))return!1}}}(n||(n={}))},2258:(e,t,i)=>{"use strict";i.d(t,{H_:()=>a,Vd:()=>u,gx:()=>m,kL:()=>p});class n{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const o=new n,s=new n,r=new n,a=new Array(230),l={},d=[],c=Object.create(null),h=Object.create(null),u=[],g=[];for(let e=0;e<=193;e++)u[e]=-1;for(let e=0;e<=127;e++)g[e]=-1;var p;function m(e,t){return(e|(65535&t)<<16>>>0)>>>0}!function(){const e="",t=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",e,e],[0,1,1,"Hyper",0,e,0,e,e,e],[0,1,2,"Super",0,e,0,e,e,e],[0,1,3,"Fn",0,e,0,e,e,e],[0,1,4,"FnLock",0,e,0,e,e,e],[0,1,5,"Suspend",0,e,0,e,e,e],[0,1,6,"Resume",0,e,0,e,e,e],[0,1,7,"Turbo",0,e,0,e,e,e],[0,1,8,"Sleep",0,e,0,"VK_SLEEP",e,e],[0,1,9,"WakeUp",0,e,0,e,e,e],[31,0,10,"KeyA",31,"A",65,"VK_A",e,e],[32,0,11,"KeyB",32,"B",66,"VK_B",e,e],[33,0,12,"KeyC",33,"C",67,"VK_C",e,e],[34,0,13,"KeyD",34,"D",68,"VK_D",e,e],[35,0,14,"KeyE",35,"E",69,"VK_E",e,e],[36,0,15,"KeyF",36,"F",70,"VK_F",e,e],[37,0,16,"KeyG",37,"G",71,"VK_G",e,e],[38,0,17,"KeyH",38,"H",72,"VK_H",e,e],[39,0,18,"KeyI",39,"I",73,"VK_I",e,e],[40,0,19,"KeyJ",40,"J",74,"VK_J",e,e],[41,0,20,"KeyK",41,"K",75,"VK_K",e,e],[42,0,21,"KeyL",42,"L",76,"VK_L",e,e],[43,0,22,"KeyM",43,"M",77,"VK_M",e,e],[44,0,23,"KeyN",44,"N",78,"VK_N",e,e],[45,0,24,"KeyO",45,"O",79,"VK_O",e,e],[46,0,25,"KeyP",46,"P",80,"VK_P",e,e],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",e,e],[48,0,27,"KeyR",48,"R",82,"VK_R",e,e],[49,0,28,"KeyS",49,"S",83,"VK_S",e,e],[50,0,29,"KeyT",50,"T",84,"VK_T",e,e],[51,0,30,"KeyU",51,"U",85,"VK_U",e,e],[52,0,31,"KeyV",52,"V",86,"VK_V",e,e],[53,0,32,"KeyW",53,"W",87,"VK_W",e,e],[54,0,33,"KeyX",54,"X",88,"VK_X",e,e],[55,0,34,"KeyY",55,"Y",89,"VK_Y",e,e],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",e,e],[22,0,36,"Digit1",22,"1",49,"VK_1",e,e],[23,0,37,"Digit2",23,"2",50,"VK_2",e,e],[24,0,38,"Digit3",24,"3",51,"VK_3",e,e],[25,0,39,"Digit4",25,"4",52,"VK_4",e,e],[26,0,40,"Digit5",26,"5",53,"VK_5",e,e],[27,0,41,"Digit6",27,"6",54,"VK_6",e,e],[28,0,42,"Digit7",28,"7",55,"VK_7",e,e],[29,0,43,"Digit8",29,"8",56,"VK_8",e,e],[30,0,44,"Digit9",30,"9",57,"VK_9",e,e],[21,0,45,"Digit0",21,"0",48,"VK_0",e,e],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",e,e],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",e,e],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",e,e],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",e,e],[10,1,50,"Space",10,"Space",32,"VK_SPACE",e,e],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,e,0,e,e,e],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",e,e],[59,1,64,"F1",59,"F1",112,"VK_F1",e,e],[60,1,65,"F2",60,"F2",113,"VK_F2",e,e],[61,1,66,"F3",61,"F3",114,"VK_F3",e,e],[62,1,67,"F4",62,"F4",115,"VK_F4",e,e],[63,1,68,"F5",63,"F5",116,"VK_F5",e,e],[64,1,69,"F6",64,"F6",117,"VK_F6",e,e],[65,1,70,"F7",65,"F7",118,"VK_F7",e,e],[66,1,71,"F8",66,"F8",119,"VK_F8",e,e],[67,1,72,"F9",67,"F9",120,"VK_F9",e,e],[68,1,73,"F10",68,"F10",121,"VK_F10",e,e],[69,1,74,"F11",69,"F11",122,"VK_F11",e,e],[70,1,75,"F12",70,"F12",123,"VK_F12",e,e],[0,1,76,"PrintScreen",0,e,0,e,e,e],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",e,e],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",e,e],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",e,e],[14,1,80,"Home",14,"Home",36,"VK_HOME",e,e],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",e,e],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",e,e],[13,1,83,"End",13,"End",35,"VK_END",e,e],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",e,e],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",e],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",e],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",e],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",e],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",e,e],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",e,e],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",e,e],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",e,e],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",e,e],[3,1,94,"NumpadEnter",3,e,0,e,e,e],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",e,e],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",e,e],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",e,e],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",e,e],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",e,e],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",e,e],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",e,e],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",e,e],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",e,e],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",e,e],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",e,e],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",e,e],[58,1,107,"ContextMenu",58,"ContextMenu",93,e,e,e],[0,1,108,"Power",0,e,0,e,e,e],[0,1,109,"NumpadEqual",0,e,0,e,e,e],[71,1,110,"F13",71,"F13",124,"VK_F13",e,e],[72,1,111,"F14",72,"F14",125,"VK_F14",e,e],[73,1,112,"F15",73,"F15",126,"VK_F15",e,e],[74,1,113,"F16",74,"F16",127,"VK_F16",e,e],[75,1,114,"F17",75,"F17",128,"VK_F17",e,e],[76,1,115,"F18",76,"F18",129,"VK_F18",e,e],[77,1,116,"F19",77,"F19",130,"VK_F19",e,e],[0,1,117,"F20",0,e,0,"VK_F20",e,e],[0,1,118,"F21",0,e,0,"VK_F21",e,e],[0,1,119,"F22",0,e,0,"VK_F22",e,e],[0,1,120,"F23",0,e,0,"VK_F23",e,e],[0,1,121,"F24",0,e,0,"VK_F24",e,e],[0,1,122,"Open",0,e,0,e,e,e],[0,1,123,"Help",0,e,0,e,e,e],[0,1,124,"Select",0,e,0,e,e,e],[0,1,125,"Again",0,e,0,e,e,e],[0,1,126,"Undo",0,e,0,e,e,e],[0,1,127,"Cut",0,e,0,e,e,e],[0,1,128,"Copy",0,e,0,e,e,e],[0,1,129,"Paste",0,e,0,e,e,e],[0,1,130,"Find",0,e,0,e,e,e],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",e,e],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",e,e],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",e,e],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",e,e],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",e,e],[0,1,136,"KanaMode",0,e,0,e,e,e],[0,0,137,"IntlYen",0,e,0,e,e,e],[0,1,138,"Convert",0,e,0,e,e,e],[0,1,139,"NonConvert",0,e,0,e,e,e],[0,1,140,"Lang1",0,e,0,e,e,e],[0,1,141,"Lang2",0,e,0,e,e,e],[0,1,142,"Lang3",0,e,0,e,e,e],[0,1,143,"Lang4",0,e,0,e,e,e],[0,1,144,"Lang5",0,e,0,e,e,e],[0,1,145,"Abort",0,e,0,e,e,e],[0,1,146,"Props",0,e,0,e,e,e],[0,1,147,"NumpadParenLeft",0,e,0,e,e,e],[0,1,148,"NumpadParenRight",0,e,0,e,e,e],[0,1,149,"NumpadBackspace",0,e,0,e,e,e],[0,1,150,"NumpadMemoryStore",0,e,0,e,e,e],[0,1,151,"NumpadMemoryRecall",0,e,0,e,e,e],[0,1,152,"NumpadMemoryClear",0,e,0,e,e,e],[0,1,153,"NumpadMemoryAdd",0,e,0,e,e,e],[0,1,154,"NumpadMemorySubtract",0,e,0,e,e,e],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",e,e],[0,1,156,"NumpadClearEntry",0,e,0,e,e,e],[5,1,0,e,5,"Ctrl",17,"VK_CONTROL",e,e],[4,1,0,e,4,"Shift",16,"VK_SHIFT",e,e],[6,1,0,e,6,"Alt",18,"VK_MENU",e,e],[57,1,0,e,57,"Meta",0,"VK_COMMAND",e,e],[5,1,157,"ControlLeft",5,e,0,"VK_LCONTROL",e,e],[4,1,158,"ShiftLeft",4,e,0,"VK_LSHIFT",e,e],[6,1,159,"AltLeft",6,e,0,"VK_LMENU",e,e],[57,1,160,"MetaLeft",57,e,0,"VK_LWIN",e,e],[5,1,161,"ControlRight",5,e,0,"VK_RCONTROL",e,e],[4,1,162,"ShiftRight",4,e,0,"VK_RSHIFT",e,e],[6,1,163,"AltRight",6,e,0,"VK_RMENU",e,e],[57,1,164,"MetaRight",57,e,0,"VK_RWIN",e,e],[0,1,165,"BrightnessUp",0,e,0,e,e,e],[0,1,166,"BrightnessDown",0,e,0,e,e,e],[0,1,167,"MediaPlay",0,e,0,e,e,e],[0,1,168,"MediaRecord",0,e,0,e,e,e],[0,1,169,"MediaFastForward",0,e,0,e,e,e],[0,1,170,"MediaRewind",0,e,0,e,e,e],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",e,e],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",e,e],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",e,e],[0,1,174,"Eject",0,e,0,e,e,e],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",e,e],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",e,e],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",e,e],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",e,e],[0,1,179,"LaunchApp1",0,e,0,"VK_MEDIA_LAUNCH_APP1",e,e],[0,1,180,"SelectTask",0,e,0,e,e,e],[0,1,181,"LaunchScreenSaver",0,e,0,e,e,e],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",e,e],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",e,e],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",e,e],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",e,e],[0,1,186,"BrowserStop",0,e,0,"VK_BROWSER_STOP",e,e],[0,1,187,"BrowserRefresh",0,e,0,"VK_BROWSER_REFRESH",e,e],[0,1,188,"BrowserFavorites",0,e,0,"VK_BROWSER_FAVORITES",e,e],[0,1,189,"ZoomToggle",0,e,0,e,e,e],[0,1,190,"MailReply",0,e,0,e,e,e],[0,1,191,"MailForward",0,e,0,e,e,e],[0,1,192,"MailSend",0,e,0,e,e,e],[109,1,0,e,109,"KeyInComposition",229,e,e,e],[111,1,0,e,111,"ABNT_C2",194,"VK_ABNT_C2",e,e],[91,1,0,e,91,"OEM_8",223,"VK_OEM_8",e,e],[0,1,0,e,0,e,0,"VK_KANA",e,e],[0,1,0,e,0,e,0,"VK_HANGUL",e,e],[0,1,0,e,0,e,0,"VK_JUNJA",e,e],[0,1,0,e,0,e,0,"VK_FINAL",e,e],[0,1,0,e,0,e,0,"VK_HANJA",e,e],[0,1,0,e,0,e,0,"VK_KANJI",e,e],[0,1,0,e,0,e,0,"VK_CONVERT",e,e],[0,1,0,e,0,e,0,"VK_NONCONVERT",e,e],[0,1,0,e,0,e,0,"VK_ACCEPT",e,e],[0,1,0,e,0,e,0,"VK_MODECHANGE",e,e],[0,1,0,e,0,e,0,"VK_SELECT",e,e],[0,1,0,e,0,e,0,"VK_PRINT",e,e],[0,1,0,e,0,e,0,"VK_EXECUTE",e,e],[0,1,0,e,0,e,0,"VK_SNAPSHOT",e,e],[0,1,0,e,0,e,0,"VK_HELP",e,e],[0,1,0,e,0,e,0,"VK_APPS",e,e],[0,1,0,e,0,e,0,"VK_PROCESSKEY",e,e],[0,1,0,e,0,e,0,"VK_PACKET",e,e],[0,1,0,e,0,e,0,"VK_DBE_SBCSCHAR",e,e],[0,1,0,e,0,e,0,"VK_DBE_DBCSCHAR",e,e],[0,1,0,e,0,e,0,"VK_ATTN",e,e],[0,1,0,e,0,e,0,"VK_CRSEL",e,e],[0,1,0,e,0,e,0,"VK_EXSEL",e,e],[0,1,0,e,0,e,0,"VK_EREOF",e,e],[0,1,0,e,0,e,0,"VK_PLAY",e,e],[0,1,0,e,0,e,0,"VK_ZOOM",e,e],[0,1,0,e,0,e,0,"VK_NONAME",e,e],[0,1,0,e,0,e,0,"VK_PA1",e,e],[0,1,0,e,0,e,0,"VK_OEM_CLEAR",e,e]],i=[],n=[];for(const e of t){const[t,p,m,f,v,_,b,C,y,w]=e;if(n[m]||(n[m]=!0,d[m]=f,c[f]=m,h[f.toLowerCase()]=m,p&&(u[m]=v,0!==v&&3!==v&&5!==v&&4!==v&&6!==v&&57!==v&&(g[v]=m))),!i[v]){if(i[v]=!0,!_)throw new Error(`String representation missing for key code ${v} around scan code ${f}`);o.define(v,_),s.define(v,y||_),r.define(v,w||y||_)}b&&(a[b]=v),C&&(l[C]=v)}g[3]=46}(),function(e){e.toString=function(e){return o.keyCodeToStr(e)},e.fromString=function(e){return o.strToKeyCode(e)},e.toUserSettingsUS=function(e){return s.keyCodeToStr(e)},e.toUserSettingsGeneral=function(e){return r.keyCodeToStr(e)},e.fromUserSettings=function(e){return s.strToKeyCode(e)||r.strToKeyCode(e)},e.toElectronAccelerator=function(e){if(e>=93&&e<=108)return null;switch(e){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return o.keyCodeToStr(e)}}(p||(p={}))},8030:(e,t,i)=>{"use strict";i.d(t,{X4:()=>r,jC:()=>a,xo:()=>s});var n=i(3580);class o{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(0===t.length)return null;const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=i(s);if(null===r)return null;n[o]=l(s,r,this.modifierLabels[e])}return n.join(" ")}}const s=new o({ctrlKey:"",shiftKey:"",altKey:"",metaKey:"",separator:""},{ctrlKey:n.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:n.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:n.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:n.NC({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:n.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:n.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:n.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:n.NC({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),r=new o({ctrlKey:n.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:n.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:n.NC({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:n.NC({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:n.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:n.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:n.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:n.NC({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:n.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:n.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:n.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:n.NC({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),a=new o({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function l(e,t,i){if(null===t)return"";const n=[];return e.ctrlKey&&n.push(i.ctrlKey),e.shiftKey&&n.push(i.shiftKey),e.altKey&&n.push(i.altKey),e.metaKey&&n.push(i.metaKey),""!==t&&n.push(t),n.join(i.separator)}new o({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"})},8313:(e,t,i)=>{"use strict";i.d(t,{BQ:()=>l,QC:()=>r,X_:()=>a,f1:()=>d,gm:()=>o});var n=i(7301);function o(e,t){if(0===e)return null;const i=(65535&e)>>>0,n=(4294901760&e)>>>16;return new a(0!==n?[s(i,t),s(n,t)]:[s(i,t)])}function s(e,t){const i=!!(2048&e),n=!!(256&e);return new r(2===t?n:i,!!(1024&e),!!(512&e),2===t?i:n,255&e)}class r{constructor(e,t,i,n,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyCode=o}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new a([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class a{constructor(e){if(0===e.length)throw(0,n.b1)("parts");this.parts=e}}class l{constructor(e,t,i,n,o,s){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyLabel=o,this.keyAriaLabel=s}}class d{}},9579:(e,t,i)=>{"use strict";i.d(t,{o:()=>n});class n{constructor(e){this.executor=e,this._didRun=!1}hasValue(){return this._didRun}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},5976:(e,t,i)=>{"use strict";i.d(t,{B9:()=>l,F8:()=>d,JT:()=>u,Jz:()=>f,L6:()=>p,OF:()=>c,SL:()=>h,Wf:()=>a,XK:()=>g,dk:()=>s,dt:()=>m});var n=i(8289),o=i(3725);function s(e){return e}class r extends Error{constructor(e){super(`Encountered errors while disposing of store. Errors: [${e.join(", ")}]`),this.errors=e}}function a(e){return"function"==typeof e.dispose&&0===e.dispose.length}function l(e){if(o.$.is(e)){const t=[];for(const i of e)if(i)try{i.dispose()}catch(e){t.push(e)}if(1===t.length)throw t[0];if(t.length>1)throw new r(t);return Array.isArray(e)?[]:e}if(e)return e.dispose(),e}function d(...e){const t=c((()=>l(e)));return t}function c(e){const t={dispose:(0,n.I)((()=>{e()}))};return t}class h{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{l(this._toDispose.values())}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?h.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}}h.DISABLE_DISPOSED_WARNING=!1;class u{constructor(){this._store=new h,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}u.None=Object.freeze({dispose(){}});class g{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||(null===(t=this._value)||void 0===t||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,null===(e=this._value)||void 0===e||e.dispose(),this._value=void 0}clearAndLeak(){const e=this._value;return this._value=void 0,e}}class p{constructor(e){this._disposable=e,this._counter=1}acquire(){return this._counter++,this}release(){return 0==--this._counter&&this._disposable.dispose(),this}}class m{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1}set(e){let t=e;return this.unset=()=>t=void 0,this.isset=()=>void 0!==t,this.dispose=()=>{t&&(t(),t=void 0)},this}}class f{constructor(e){this.object=e}dispose(){}}},1741:(e,t,i)=>{"use strict";i.d(t,{S:()=>o});class n{constructor(e){this.element=e,this.next=n.Undefined,this.prev=n.Undefined}}n.Undefined=new n(void 0);class o{constructor(){this._first=n.Undefined,this._last=n.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===n.Undefined}clear(){let e=this._first;for(;e!==n.Undefined;){const t=e.next;e.prev=n.Undefined,e.next=n.Undefined,e=t}this._first=n.Undefined,this._last=n.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new n(e);if(this._first===n.Undefined)this._first=i,this._last=i;else if(t){const e=this._last;this._last=i,i.prev=e,e.next=i}else{const e=this._first;this._first=i,i.next=e,e.prev=i}this._size+=1;let o=!1;return()=>{o||(o=!0,this._remove(i))}}shift(){if(this._first!==n.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==n.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==n.Undefined&&e.next!==n.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===n.Undefined&&e.next===n.Undefined?(this._first=n.Undefined,this._last=n.Undefined):e.next===n.Undefined?(this._last=this._last.prev,this._last.next=n.Undefined):e.prev===n.Undefined&&(this._first=this._first.next,this._first.prev=n.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==n.Undefined;)yield e.element,e=e.next}}},3702:(e,t,i)=>{"use strict";i.d(t,{Id:()=>h,Y9:()=>g,z6:()=>m});var n,o,s=i(7295);class r{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){return e.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class a{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!e)break;this._from++}else e=!1;return this}cmp(e){return this._caseSensitive?(0,s.TT)(e,this._value,0,e.length,this._from,this._to):(0,s.j_)(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class l{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){this._from=0,this._to=0,this._value=e,this._valueLen=e.length;for(let t=e.length-1;t>=0;t--,this._valueLen--){const e=this._value.charCodeAt(t);if(!(47===e||this._splitOnBackslash&&92===e))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let e=!0;for(;this._to<this._valueLen;this._to++){const t=this._value.charCodeAt(this._to);if(47===t||this._splitOnBackslash&&92===t){if(!e)break;this._from++}else e=!1}return this}cmp(e){return this._caseSensitive?(0,s.TT)(e,this._value,0,e.length,this._from,this._to):(0,s.j_)(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class d{constructor(e,t){this._ignorePathCasing=e,this._ignoreQueryAndFragment=t,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new l(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(e)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(1===this._states[this._stateIdx])return(0,s.zY)(e,this._value.scheme);if(2===this._states[this._stateIdx])return(0,s.zY)(e,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(e);if(4===this._states[this._stateIdx])return(0,s.qu)(e,this._value.query);if(5===this._states[this._stateIdx])return(0,s.qu)(e,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class c{constructor(){this.height=1}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e,t;return null!==(t=null===(e=this.left)||void 0===e?void 0:e.height)&&void 0!==t?t:0}get heightRight(){var e,t;return null!==(t=null===(e=this.right)||void 0===e?void 0:e.height)&&void 0!==t?t:0}}class h{constructor(e){this._iter=e}static forUris(e=(()=>!1),t=(()=>!1)){return new h(new d(e,t))}static forStrings(){return new h(new r)}static forConfigKeys(){return new h(new a)}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let n;this._root||(this._root=new c,this._root.segment=i.value());const o=[];for(n=this._root;;){const e=i.cmp(n.segment);if(e>0)n.left||(n.left=new c,n.left.segment=i.value()),o.push([-1,n]),n=n.left;else if(e<0)n.right||(n.right=new c,n.right.segment=i.value()),o.push([1,n]),n=n.right;else{if(!i.hasNext())break;i.next(),n.mid||(n.mid=new c,n.mid.segment=i.value()),o.push([0,n]),n=n.mid}}const s=n.value;n.value=t,n.key=e;for(let e=o.length-1;e>=0;e--){const t=o[e][1];t.updateHeight();const i=t.balanceFactor();if(i<-1||i>1){const i=o[e][0],n=o[e+1][0];if(1===i&&1===n)o[e][1]=t.rotateLeft();else if(-1===i&&-1===n)o[e][1]=t.rotateRight();else if(1===i&&-1===n)t.right=o[e+1][1]=o[e+1][1].rotateRight(),o[e][1]=t.rotateLeft();else{if(-1!==i||1!==n)throw new Error;t.left=o[e+1][1]=o[e+1][1].rotateLeft(),o[e][1]=t.rotateRight()}if(e>0)switch(o[e-1][0]){case-1:o[e-1][1].left=o[e][1];break;case 1:o[e-1][1].right=o[e][1];break;case 0:o[e-1][1].mid=o[e][1]}else this._root=o[0][1]}}return s}get(e){var t;return null===(t=this._getNode(e))||void 0===t?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const e=t.cmp(i.segment);if(e>0)i=i.left;else if(e<0)i=i.right;else{if(!t.hasNext())break;t.next(),i=i.mid}}return i}has(e){const t=this._getNode(e);return!(void 0===(null==t?void 0:t.value)&&void 0===(null==t?void 0:t.mid))}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){var i;const n=this._iter.reset(e),o=[];let s=this._root;for(;s;){const e=n.cmp(s.segment);if(e>0)o.push([-1,s]),s=s.left;else if(e<0)o.push([1,s]),s=s.right;else{if(!n.hasNext())break;n.next(),o.push([0,s]),s=s.mid}}if(s){if(t?(s.left=void 0,s.mid=void 0,s.right=void 0,s.height=1):(s.key=void 0,s.value=void 0),!s.mid&&!s.value)if(s.left&&s.right){const e=this._min(s.right),{key:t,value:i,segment:n}=e;this._delete(e.key,!1),s.key=t,s.value=i,s.segment=n}else{const e=null!==(i=s.left)&&void 0!==i?i:s.right;if(o.length>0){const[t,i]=o[o.length-1];switch(t){case-1:i.left=e;break;case 0:i.mid=e;break;case 1:i.right=e}}else this._root=e}for(let e=o.length-1;e>=0;e--){const t=o[e][1];t.updateHeight();const i=t.balanceFactor();if(i>1?(t.right.balanceFactor()>=0||(t.right=t.right.rotateRight()),o[e][1]=t.rotateLeft()):i<-1&&(t.left.balanceFactor()<=0||(t.left=t.left.rotateLeft()),o[e][1]=t.rotateRight()),e>0)switch(o[e-1][0]){case-1:o[e-1][1].left=o[e][1];break;case 1:o[e-1][1].right=o[e][1];break;case 0:o[e-1][1].mid=o[e][1]}else this._root=o[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const t=this._iter.reset(e);let i,n=this._root;for(;n;){const e=t.cmp(n.segment);if(e>0)n=n.left;else if(e<0)n=n.right;else{if(!t.hasNext())break;t.next(),i=n.value||i,n=n.mid}}return n&&n.value||i}findSuperstr(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const e=t.cmp(i.segment);if(e>0)i=i.left;else if(e<0)i=i.right;else{if(!t.hasNext())return i.mid?this._entries(i.mid):void 0;t.next(),i=i.mid}}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(e){const t=[];return this._dfsEntries(e,t),t[Symbol.iterator]()}_dfsEntries(e,t){e&&(e.left&&this._dfsEntries(e.left,t),e.value&&t.push([e.key,e.value]),e.mid&&this._dfsEntries(e.mid,t),e.right&&this._dfsEntries(e.right,t))}}class u{constructor(e,t){this.uri=e,this.value=t}}class g{constructor(e,t){this[n]="ResourceMap",e instanceof g?(this.map=new Map(e.map),this.toKey=null!=t?t:g.defaultToKey):(this.map=new Map,this.toKey=null!=e?e:g.defaultToKey)}set(e,t){return this.map.set(this.toKey(e),new u(e,t)),this}get(e){var t;return null===(t=this.map.get(this.toKey(e)))||void 0===t?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){void 0!==t&&(e=e.bind(t));for(const[t,i]of this.map)e(i.value,i.uri,this)}*values(){for(const e of this.map.values())yield e.value}*keys(){for(const e of this.map.values())yield e.uri}*entries(){for(const e of this.map.values())yield[e.uri,e.value]}*[(n=Symbol.toStringTag,Symbol.iterator)](){for(const[,e]of this.map)yield[e.uri,e.value]}}g.defaultToKey=e=>e.toString();class p{constructor(){this[o]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const i=this._map.get(e);if(i)return 0!==t&&this.touch(i,t),i.value}set(e,t,i=0){let n=this._map.get(e);if(n)n.value=t,0!==i&&this.touch(n,i);else{switch(n={key:e,value:t,next:void 0,previous:void 0},i){case 0:case 2:default:this.addItemLast(n);break;case 1:this.addItemFirst(n)}this._map.set(e,n),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const i=this._state;let n=this._head;for(;n;){if(t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:i.key,done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:i.value,done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:[i.key,i.value],done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}[(o=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===t||2===t)if(1===t){if(e===this._head)return;const t=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(t.previous=i,i.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(2===t){if(e===this._tail)return;const t=e.next,i=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=i,i.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,i)=>{e.push([i,t])})),e}fromJSON(e){this.clear();for(const[t,i]of e)this.set(t,i)}}class m extends p{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},3897:(e,t,i)=>{"use strict";i.d(t,{Q:()=>s});var n=i(3060),o=i(666);function s(e){let t=JSON.parse(e);return t=r(t),t}function r(e,t=0){if(!e||t>200)return e;if("object"==typeof e){switch(e.$mid){case 1:return o.o.revive(e);case 2:return new RegExp(e.source,e.flags);case 14:return new Date(e.source)}if(e instanceof n.KN||e instanceof Uint8Array)return e;if(Array.isArray(e))for(let i=0;i<e.length;++i)e[i]=r(e[i],t+1);else for(const i in e)Object.hasOwnProperty.call(e,i)&&(e[i]=r(e[i],t+1))}return e}},1170:(e,t,i)=>{"use strict";i.d(t,{v:()=>n});const n=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},6663:(e,t,i)=>{"use strict";i.d(t,{Gi:()=>l,WX:()=>r,lg:()=>n});var n,o=i(1432),s=i(666);!function(e){e.inMemory="inmemory",e.vscode="vscode",e.internal="private",e.walkThrough="walkThrough",e.walkThroughSnippet="walkThroughSnippet",e.http="http",e.https="https",e.file="file",e.mailto="mailto",e.untitled="untitled",e.data="data",e.command="command",e.vscodeRemote="vscode-remote",e.vscodeRemoteResource="vscode-remote-resource",e.vscodeUserData="vscode-userdata",e.vscodeCustomEditor="vscode-custom-editor",e.vscodeNotebook="vscode-notebook",e.vscodeNotebookCell="vscode-notebook-cell",e.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",e.vscodeNotebookCellOutput="vscode-notebook-cell-output",e.vscodeInteractive="vscode-interactive",e.vscodeInteractiveInput="vscode-interactive-input",e.vscodeSettings="vscode-settings",e.vscodeWorkspaceTrust="vscode-workspace-trust",e.vscodeTerminal="vscode-terminal",e.webviewPanel="webview-panel",e.vscodeWebview="vscode-webview",e.extension="extension",e.vscodeFileResource="vscode-file",e.tmp="tmp",e.vsls="vsls",e.vscodeSourceControl="vscode-scm"}(n||(n={}));const r=new class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${n.vscodeRemoteResource}`}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)return this._delegate(e);const t=e.authority;let i=this._hosts[t];i&&-1!==i.indexOf(":")&&(i=`[${i}]`);const r=this._ports[t],a=this._connectionTokens[t];let l=`path=${encodeURIComponent(e.path)}`;return"string"==typeof a&&(l+=`&tkn=${encodeURIComponent(a)}`),s.o.from({scheme:o.$L?this._preferredWebSchema:n.vscodeRemoteResource,authority:`${i}:${r}`,path:this._remoteResourcesPath,query:l})}};class a{asBrowserUri(e,t){const i=this.toUri(e,t);return i.scheme===n.vscodeRemote?r.rewrite(i):i.scheme===n.file&&(o.tY||o.n2&&o.li.origin===`${n.vscodeFileResource}://${a.FALLBACK_AUTHORITY}`)?i.with({scheme:n.vscodeFileResource,authority:i.authority||a.FALLBACK_AUTHORITY,query:null,fragment:null}):i}toUri(e,t){return s.o.isUri(e)?e:s.o.parse(t.toUrl(e))}}a.FALLBACK_AUTHORITY="vscode-app";const l=new a},9870:(e,t,i)=>{"use strict";function n(e,t,i){return Math.min(Math.max(e,t),i)}i.d(t,{N:()=>s,nM:()=>o,uZ:()=>n});class o{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class s{constructor(e){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(e),this._values.fill(0,0,e)}update(e){const t=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=t,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},6248:(e,t,i)=>{"use strict";i.d(t,{I8:()=>o,_A:()=>s,fS:()=>c,jB:()=>d,rs:()=>a});var n=i(8401);function o(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return e;const t=Array.isArray(e)?[]:{};return Object.keys(e).forEach((i=>{e[i]&&"object"==typeof e[i]?t[i]=o(e[i]):t[i]=e[i]})),t}function s(e){if(!e||"object"!=typeof e)return e;const t=[e];for(;t.length>0;){const e=t.shift();Object.freeze(e);for(const i in e)if(r.call(e,i)){const o=e[i];"object"!=typeof o||Object.isFrozen(o)||(0,n.fU)(o)||t.push(o)}}return e}const r=Object.prototype.hasOwnProperty;function a(e,t){return l(e,t,new Set)}function l(e,t,i){if((0,n.Jp)(e))return e;const o=t(e);if(void 0!==o)return o;if((0,n.kJ)(e)){const n=[];for(const o of e)n.push(l(o,t,i));return n}if((0,n.Kn)(e)){if(i.has(e))throw new Error("Cannot clone recursive data-structure");i.add(e);const n={};for(const o in e)r.call(e,o)&&(n[o]=l(e[o],t,i));return i.delete(e),n}return e}function d(e,t,i=!0){return(0,n.Kn)(e)?((0,n.Kn)(t)&&Object.keys(t).forEach((o=>{o in e?i&&((0,n.Kn)(e[o])&&(0,n.Kn)(t[o])?d(e[o],t[o],i):e[o]=t[o]):e[o]=t[o]})),e):t}function c(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;let i,n;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(!c(e[i],t[i]))return!1}else{const o=[];for(n in e)o.push(n);o.sort();const s=[];for(n in t)s.push(n);if(s.sort(),!c(o,s))return!1;for(i=0;i<o.length;i++)if(!c(e[o[i]],t[o[i]]))return!1}return!0}},8721:(e,t,i)=>{"use strict";i.d(t,{EZ:()=>L,XX:()=>k,DZ:()=>x,Fv:()=>y,KR:()=>C,Gf:()=>S,DB:()=>w,ir:()=>I,Ku:()=>b});var n=i(1432);let o;if(void 0!==n.li.vscode&&void 0!==n.li.vscode.process){const e=n.li.vscode.process;o={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd:()=>e.cwd()}}else o="undefined"!=typeof process?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd()}:{get platform(){return n.ED?"win32":n.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};const s=o.cwd,r=o.env,a=o.platform,l=46,d=47,c=92,h=58;class u extends Error{constructor(e,t,i){let n;"string"==typeof t&&0===t.indexOf("not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";const o=-1!==e.indexOf(".")?"property":"argument";let s=`The "${e}" ${o} ${n} of type ${t}`;s+=". Received type "+typeof i,super(s),this.code="ERR_INVALID_ARG_TYPE"}}function g(e,t){if("string"!=typeof e)throw new u(t,"string",e)}function p(e){return e===d||e===c}function m(e){return e===d}function f(e){return e>=65&&e<=90||e>=97&&e<=122}function v(e,t,i,n){let o="",s=0,r=-1,a=0,c=0;for(let h=0;h<=e.length;++h){if(h<e.length)c=e.charCodeAt(h);else{if(n(c))break;c=d}if(n(c)){if(r===h-1||1===a);else if(2===a){if(o.length<2||2!==s||o.charCodeAt(o.length-1)!==l||o.charCodeAt(o.length-2)!==l){if(o.length>2){const e=o.lastIndexOf(i);-1===e?(o="",s=0):(o=o.slice(0,e),s=o.length-1-o.lastIndexOf(i)),r=h,a=0;continue}if(0!==o.length){o="",s=0,r=h,a=0;continue}}t&&(o+=o.length>0?`${i}..`:"..",s=2)}else o.length>0?o+=`${i}${e.slice(r+1,h)}`:o=e.slice(r+1,h),s=h-r-1;r=h,a=0}else c===l&&-1!==a?++a:a=-1}return o}function _(e,t){if(null===t||"object"!=typeof t)throw new u("pathObject","Object",t);const i=t.dir||t.root,n=t.base||`${t.name||""}${t.ext||""}`;return i?i===t.root?`${i}${n}`:`${i}${e}${n}`:n}const b={resolve(...e){let t="",i="",n=!1;for(let o=e.length-1;o>=-1;o--){let a;if(o>=0){if(a=e[o],g(a,"path"),0===a.length)continue}else 0===t.length?a=s():(a=r[`=${t}`]||s(),(void 0===a||a.slice(0,2).toLowerCase()!==t.toLowerCase()&&a.charCodeAt(2)===c)&&(a=`${t}\\`));const l=a.length;let d=0,u="",m=!1;const v=a.charCodeAt(0);if(1===l)p(v)&&(d=1,m=!0);else if(p(v))if(m=!0,p(a.charCodeAt(1))){let e=2,t=e;for(;e<l&&!p(a.charCodeAt(e));)e++;if(e<l&&e!==t){const i=a.slice(t,e);for(t=e;e<l&&p(a.charCodeAt(e));)e++;if(e<l&&e!==t){for(t=e;e<l&&!p(a.charCodeAt(e));)e++;e!==l&&e===t||(u=`\\\\${i}\\${a.slice(t,e)}`,d=e)}}}else d=1;else f(v)&&a.charCodeAt(1)===h&&(u=a.slice(0,2),d=2,l>2&&p(a.charCodeAt(2))&&(m=!0,d=3));if(u.length>0)if(t.length>0){if(u.toLowerCase()!==t.toLowerCase())continue}else t=u;if(n){if(t.length>0)break}else if(i=`${a.slice(d)}\\${i}`,n=m,m&&t.length>0)break}return i=v(i,!n,"\\",p),n?`${t}\\${i}`:`${t}${i}`||"."},normalize(e){g(e,"path");const t=e.length;if(0===t)return".";let i,n=0,o=!1;const s=e.charCodeAt(0);if(1===t)return m(s)?"\\":e;if(p(s))if(o=!0,p(e.charCodeAt(1))){let o=2,s=o;for(;o<t&&!p(e.charCodeAt(o));)o++;if(o<t&&o!==s){const r=e.slice(s,o);for(s=o;o<t&&p(e.charCodeAt(o));)o++;if(o<t&&o!==s){for(s=o;o<t&&!p(e.charCodeAt(o));)o++;if(o===t)return`\\\\${r}\\${e.slice(s)}\\`;o!==s&&(i=`\\\\${r}\\${e.slice(s,o)}`,n=o)}}}else n=1;else f(s)&&e.charCodeAt(1)===h&&(i=e.slice(0,2),n=2,t>2&&p(e.charCodeAt(2))&&(o=!0,n=3));let r=n<t?v(e.slice(n),!o,"\\",p):"";return 0!==r.length||o||(r="."),r.length>0&&p(e.charCodeAt(t-1))&&(r+="\\"),void 0===i?o?`\\${r}`:r:o?`${i}\\${r}`:`${i}${r}`},isAbsolute(e){g(e,"path");const t=e.length;if(0===t)return!1;const i=e.charCodeAt(0);return p(i)||t>2&&f(i)&&e.charCodeAt(1)===h&&p(e.charCodeAt(2))},join(...e){if(0===e.length)return".";let t,i;for(let n=0;n<e.length;++n){const o=e[n];g(o,"path"),o.length>0&&(void 0===t?t=i=o:t+=`\\${o}`)}if(void 0===t)return".";let n=!0,o=0;if("string"==typeof i&&p(i.charCodeAt(0))){++o;const e=i.length;e>1&&p(i.charCodeAt(1))&&(++o,e>2&&(p(i.charCodeAt(2))?++o:n=!1))}if(n){for(;o<t.length&&p(t.charCodeAt(o));)o++;o>=2&&(t=`\\${t.slice(o)}`)}return b.normalize(t)},relative(e,t){if(g(e,"from"),g(t,"to"),e===t)return"";const i=b.resolve(e),n=b.resolve(t);if(i===n)return"";if((e=i.toLowerCase())===(t=n.toLowerCase()))return"";let o=0;for(;o<e.length&&e.charCodeAt(o)===c;)o++;let s=e.length;for(;s-1>o&&e.charCodeAt(s-1)===c;)s--;const r=s-o;let a=0;for(;a<t.length&&t.charCodeAt(a)===c;)a++;let l=t.length;for(;l-1>a&&t.charCodeAt(l-1)===c;)l--;const d=l-a,h=r<d?r:d;let u=-1,p=0;for(;p<h;p++){const i=e.charCodeAt(o+p);if(i!==t.charCodeAt(a+p))break;i===c&&(u=p)}if(p!==h){if(-1===u)return n}else{if(d>h){if(t.charCodeAt(a+p)===c)return n.slice(a+p+1);if(2===p)return n.slice(a+p)}r>h&&(e.charCodeAt(o+p)===c?u=p:2===p&&(u=3)),-1===u&&(u=0)}let m="";for(p=o+u+1;p<=s;++p)p!==s&&e.charCodeAt(p)!==c||(m+=0===m.length?"..":"\\..");return a+=u,m.length>0?`${m}${n.slice(a,l)}`:(n.charCodeAt(a)===c&&++a,n.slice(a,l))},toNamespacedPath(e){if("string"!=typeof e)return e;if(0===e.length)return"";const t=b.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===c){if(t.charCodeAt(1)===c){const e=t.charCodeAt(2);if(63!==e&&e!==l)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(f(t.charCodeAt(0))&&t.charCodeAt(1)===h&&t.charCodeAt(2)===c)return`\\\\?\\${t}`;return e},dirname(e){g(e,"path");const t=e.length;if(0===t)return".";let i=-1,n=0;const o=e.charCodeAt(0);if(1===t)return p(o)?e:".";if(p(o)){if(i=n=1,p(e.charCodeAt(1))){let o=2,s=o;for(;o<t&&!p(e.charCodeAt(o));)o++;if(o<t&&o!==s){for(s=o;o<t&&p(e.charCodeAt(o));)o++;if(o<t&&o!==s){for(s=o;o<t&&!p(e.charCodeAt(o));)o++;if(o===t)return e;o!==s&&(i=n=o+1)}}}}else f(o)&&e.charCodeAt(1)===h&&(i=t>2&&p(e.charCodeAt(2))?3:2,n=i);let s=-1,r=!0;for(let i=t-1;i>=n;--i)if(p(e.charCodeAt(i))){if(!r){s=i;break}}else r=!1;if(-1===s){if(-1===i)return".";s=i}return e.slice(0,s)},basename(e,t){void 0!==t&&g(t,"ext"),g(e,"path");let i,n=0,o=-1,s=!0;if(e.length>=2&&f(e.charCodeAt(0))&&e.charCodeAt(1)===h&&(n=2),void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let r=t.length-1,a=-1;for(i=e.length-1;i>=n;--i){const l=e.charCodeAt(i);if(p(l)){if(!s){n=i+1;break}}else-1===a&&(s=!1,a=i+1),r>=0&&(l===t.charCodeAt(r)?-1==--r&&(o=i):(r=-1,o=a))}return n===o?o=a:-1===o&&(o=e.length),e.slice(n,o)}for(i=e.length-1;i>=n;--i)if(p(e.charCodeAt(i))){if(!s){n=i+1;break}}else-1===o&&(s=!1,o=i+1);return-1===o?"":e.slice(n,o)},extname(e){g(e,"path");let t=0,i=-1,n=0,o=-1,s=!0,r=0;e.length>=2&&e.charCodeAt(1)===h&&f(e.charCodeAt(0))&&(t=n=2);for(let a=e.length-1;a>=t;--a){const t=e.charCodeAt(a);if(p(t)){if(!s){n=a+1;break}}else-1===o&&(s=!1,o=a+1),t===l?-1===i?i=a:1!==r&&(r=1):-1!==i&&(r=-1)}return-1===i||-1===o||0===r||1===r&&i===o-1&&i===n+1?"":e.slice(i,o)},format:_.bind(null,"\\"),parse(e){g(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const i=e.length;let n=0,o=e.charCodeAt(0);if(1===i)return p(o)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(p(o)){if(n=1,p(e.charCodeAt(1))){let t=2,o=t;for(;t<i&&!p(e.charCodeAt(t));)t++;if(t<i&&t!==o){for(o=t;t<i&&p(e.charCodeAt(t));)t++;if(t<i&&t!==o){for(o=t;t<i&&!p(e.charCodeAt(t));)t++;t===i?n=t:t!==o&&(n=t+1)}}}}else if(f(o)&&e.charCodeAt(1)===h){if(i<=2)return t.root=t.dir=e,t;if(n=2,p(e.charCodeAt(2))){if(3===i)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,r=n,a=-1,d=!0,c=e.length-1,u=0;for(;c>=n;--c)if(o=e.charCodeAt(c),p(o)){if(!d){r=c+1;break}}else-1===a&&(d=!1,a=c+1),o===l?-1===s?s=c:1!==u&&(u=1):-1!==s&&(u=-1);return-1!==a&&(-1===s||0===u||1===u&&s===a-1&&s===r+1?t.base=t.name=e.slice(r,a):(t.name=e.slice(r,s),t.base=e.slice(r,a),t.ext=e.slice(s,a))),t.dir=r>0&&r!==n?e.slice(0,r-1):t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},C={resolve(...e){let t="",i=!1;for(let n=e.length-1;n>=-1&&!i;n--){const o=n>=0?e[n]:s();g(o,"path"),0!==o.length&&(t=`${o}/${t}`,i=o.charCodeAt(0)===d)}return t=v(t,!i,"/",m),i?`/${t}`:t.length>0?t:"."},normalize(e){if(g(e,"path"),0===e.length)return".";const t=e.charCodeAt(0)===d,i=e.charCodeAt(e.length-1)===d;return 0===(e=v(e,!t,"/",m)).length?t?"/":i?"./":".":(i&&(e+="/"),t?`/${e}`:e)},isAbsolute:e=>(g(e,"path"),e.length>0&&e.charCodeAt(0)===d),join(...e){if(0===e.length)return".";let t;for(let i=0;i<e.length;++i){const n=e[i];g(n,"path"),n.length>0&&(void 0===t?t=n:t+=`/${n}`)}return void 0===t?".":C.normalize(t)},relative(e,t){if(g(e,"from"),g(t,"to"),e===t)return"";if((e=C.resolve(e))===(t=C.resolve(t)))return"";const i=e.length,n=i-1,o=t.length-1,s=n<o?n:o;let r=-1,a=0;for(;a<s;a++){const i=e.charCodeAt(1+a);if(i!==t.charCodeAt(1+a))break;i===d&&(r=a)}if(a===s)if(o>s){if(t.charCodeAt(1+a)===d)return t.slice(1+a+1);if(0===a)return t.slice(1+a)}else n>s&&(e.charCodeAt(1+a)===d?r=a:0===a&&(r=0));let l="";for(a=1+r+1;a<=i;++a)a!==i&&e.charCodeAt(a)!==d||(l+=0===l.length?"..":"/..");return`${l}${t.slice(1+r)}`},toNamespacedPath:e=>e,dirname(e){if(g(e,"path"),0===e.length)return".";const t=e.charCodeAt(0)===d;let i=-1,n=!0;for(let t=e.length-1;t>=1;--t)if(e.charCodeAt(t)===d){if(!n){i=t;break}}else n=!1;return-1===i?t?"/":".":t&&1===i?"//":e.slice(0,i)},basename(e,t){void 0!==t&&g(t,"ext"),g(e,"path");let i,n=0,o=-1,s=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let r=t.length-1,a=-1;for(i=e.length-1;i>=0;--i){const l=e.charCodeAt(i);if(l===d){if(!s){n=i+1;break}}else-1===a&&(s=!1,a=i+1),r>=0&&(l===t.charCodeAt(r)?-1==--r&&(o=i):(r=-1,o=a))}return n===o?o=a:-1===o&&(o=e.length),e.slice(n,o)}for(i=e.length-1;i>=0;--i)if(e.charCodeAt(i)===d){if(!s){n=i+1;break}}else-1===o&&(s=!1,o=i+1);return-1===o?"":e.slice(n,o)},extname(e){g(e,"path");let t=-1,i=0,n=-1,o=!0,s=0;for(let r=e.length-1;r>=0;--r){const a=e.charCodeAt(r);if(a!==d)-1===n&&(o=!1,n=r+1),a===l?-1===t?t=r:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){i=r+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===i+1?"":e.slice(t,n)},format:_.bind(null,"/"),parse(e){g(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const i=e.charCodeAt(0)===d;let n;i?(t.root="/",n=1):n=0;let o=-1,s=0,r=-1,a=!0,c=e.length-1,h=0;for(;c>=n;--c){const t=e.charCodeAt(c);if(t!==d)-1===r&&(a=!1,r=c+1),t===l?-1===o?o=c:1!==h&&(h=1):-1!==o&&(h=-1);else if(!a){s=c+1;break}}if(-1!==r){const n=0===s&&i?1:s;-1===o||0===h||1===h&&o===r-1&&o===s+1?t.base=t.name=e.slice(n,r):(t.name=e.slice(n,o),t.base=e.slice(n,r),t.ext=e.slice(o,r))}return s>0?t.dir=e.slice(0,s-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};C.win32=b.win32=b,C.posix=b.posix=C;const y="win32"===a?b.normalize:C.normalize,w="win32"===a?b.resolve:C.resolve,S="win32"===a?b.relative:C.relative,k="win32"===a?b.dirname:C.dirname,L="win32"===a?b.basename:C.basename,x="win32"===a?b.extname:C.extname,I="win32"===a?b.sep:C.sep},1432:(e,t,i)=>{"use strict";i.d(t,{$L:()=>D,ED:()=>k,G6:()=>B,IJ:()=>x,OS:()=>P,dK:()=>T,dz:()=>L,fn:()=>R,gn:()=>E,i7:()=>W,li:()=>b,n2:()=>N,r:()=>F,tY:()=>I,un:()=>U,vU:()=>z});var n,o=i(3580);const s="en";let r,a,l=!1,d=!1,c=!1,h=!1,u=!1,g=!1,p=!1,m=!1,f=!1,v=s,_=null;const b="object"==typeof self?self:"object"==typeof i.g?i.g:{};let C;void 0!==b.vscode&&void 0!==b.vscode.process?C=b.vscode.process:"undefined"!=typeof process&&(C=process);const y="string"==typeof(null===(n=null==C?void 0:C.versions)||void 0===n?void 0:n.electron),w=y&&"renderer"===(null==C?void 0:C.type);if("object"!=typeof navigator||w)if("object"==typeof C){l="win32"===C.platform,d="darwin"===C.platform,c="linux"===C.platform,h=c&&!!C.env.SNAP&&!!C.env.SNAP_REVISION,p=y,f=!!C.env.CI||!!C.env.BUILD_ARTIFACTSTAGINGDIRECTORY,r=s,v=s;const e=C.env.VSCODE_NLS_CONFIG;if(e)try{const t=JSON.parse(e),i=t.availableLanguages["*"];r=t.locale,v=i||s,_=t._translationsConfigFile}catch(e){}u=!0}else console.error("Unable to resolve platform.");else a=navigator.userAgent,l=a.indexOf("Windows")>=0,d=a.indexOf("Macintosh")>=0,m=(a.indexOf("Macintosh")>=0||a.indexOf("iPad")>=0||a.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,c=a.indexOf("Linux")>=0,g=!0,r=o.aj(o.NC({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||s,v=r;let S=0;d?S=1:l?S=3:c&&(S=2);const k=l,L=d,x=c,I=u,D=g,N=g&&"function"==typeof b.importScripts,E=m,A=a,T=v,M="function"==typeof b.postMessage&&!b.importScripts,R=(()=>{if(M){const e=[];b.addEventListener("message",(t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let i=0,n=e.length;i<n;i++){const n=e[i];if(n.id===t.data.vscodeScheduleAsyncWork)return e.splice(i,1),void n.callback()}}));let t=0;return i=>{const n=++t;e.push({id:n,callback:i}),b.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})(),P=d||m?2:l?1:3;let O=!0,V=!1;function F(){if(!V){V=!0;const e=new Uint8Array(2);e[0]=1,e[1]=2;const t=new Uint16Array(e.buffer);O=513===t[0]}return O}const W=!!(A&&A.indexOf("Chrome")>=0),z=!!(A&&A.indexOf("Firefox")>=0),B=!!(!W&&A&&A.indexOf("Safari")>=0),U=!!(A&&A.indexOf("Edg/")>=0);A&&A.indexOf("Android")},1134:(e,t,i)=>{"use strict";var n;i.d(t,{e:()=>n}),function(e){function t(e,t){if(e.start>=t.end||t.start>=e.end)return{start:0,end:0};const i=Math.max(e.start,t.start),n=Math.min(e.end,t.end);return n-i<=0?{start:0,end:0}:{start:i,end:n}}function i(e){return e.end-e.start<=0}e.intersect=t,e.isEmpty=i,e.intersects=function(e,n){return!i(t(e,n))},e.relativeComplement=function(e,t){const n=[],o={start:e.start,end:Math.min(t.start,e.end)},s={start:Math.max(t.end,e.start),end:e.end};return i(o)||n.push(o),i(s)||n.push(s),n}}(n||(n={}))},5935:(e,t,i)=>{"use strict";i.d(t,{AH:()=>_,DZ:()=>m,EZ:()=>p,Hx:()=>g,SF:()=>h,Vb:()=>S,Vo:()=>v,XX:()=>f,Xy:()=>u,i3:()=>C,lX:()=>b,z_:()=>d});var n=i(5527),o=i(6663),s=i(8721),r=i(1432),a=i(7295),l=i(666);function d(e){return(0,l.q)(e,!0)}class c{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:(0,a.qu)(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t||!(!e||!t)&&this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t,i=!1){if(e.scheme===t.scheme){if(e.scheme===o.lg.file)return n.KM(d(e),d(t),this._ignorePathCasing(e))&&e.query===t.query&&(i||e.fragment===t.fragment);if(y(e.authority,t.authority))return n.KM(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(i||e.fragment===t.fragment)}return!1}joinPath(e,...t){return l.o.joinPath(e,...t)}basenameOrAuthority(e){return p(e)||e.authority}basename(e){return s.KR.basename(e.path)}extname(e){return s.KR.extname(e.path)}dirname(e){if(0===e.path.length)return e;let t;return e.scheme===o.lg.file?t=l.o.file(s.XX(d(e))).path:(t=s.KR.dirname(e.path),e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return t=e.scheme===o.lg.file?l.o.file(s.Fv(d(e))).path:s.KR.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!y(e.authority,t.authority))return;if(e.scheme===o.lg.file){const i=s.Gf(d(e),d(t));return r.ED?n.ej(i):i}let i=e.path||"/";const a=t.path||"/";if(this._ignorePathCasing(e)){let e=0;for(const t=Math.min(i.length,a.length);e<t&&(i.charCodeAt(e)===a.charCodeAt(e)||i.charAt(e).toLowerCase()===a.charAt(e).toLowerCase());e++);i=a.substr(0,e)+i.substr(e)}return s.KR.relative(i,a)}resolvePath(e,t){if(e.scheme===o.lg.file){const i=l.o.file(s.DB(d(e),t));return e.with({authority:i.authority,path:i.path})}return t=n.fn(t),e.with({path:s.KR.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&"/"===e.path[0]}isEqualAuthority(e,t){return e===t||void 0!==e&&void 0!==t&&(0,a.qq)(e,t)}hasTrailingPathSeparator(e,t=s.ir){if(e.scheme===o.lg.file){const i=d(e);return i.length>n.yj(i).length&&i[i.length-1]===t}{const t=e.path;return t.length>1&&47===t.charCodeAt(t.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=s.ir){return w(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=s.ir){let i=!1;if(e.scheme===o.lg.file){const o=d(e);i=void 0!==o&&o.length===n.yj(o).length&&o[o.length-1]===t}else{t="/";const n=e.path;i=1===n.length&&47===n.charCodeAt(n.length-1)}return i||w(e,t)?e:e.with({path:e.path+"/"})}}const h=new c((()=>!1)),u=(new c((e=>e.scheme!==o.lg.file||!r.IJ)),new c((e=>!0)),h.isEqual.bind(h)),g=(h.isEqualOrParent.bind(h),h.getComparisonKey.bind(h),h.basenameOrAuthority.bind(h)),p=h.basename.bind(h),m=h.extname.bind(h),f=h.dirname.bind(h),v=h.joinPath.bind(h),_=h.normalizePath.bind(h),b=h.relativePath.bind(h),C=h.resolvePath.bind(h),y=(h.isAbsolutePath.bind(h),h.isEqualAuthority.bind(h)),w=h.hasTrailingPathSeparator.bind(h);var S;h.removeTrailingPathSeparator.bind(h),h.addTrailingPathSeparator.bind(h),function(e){e.META_DATA_LABEL="label",e.META_DATA_DESCRIPTION="description",e.META_DATA_SIZE="size",e.META_DATA_MIME="mime",e.parseMetaData=function(t){const i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach((e=>{const[t,n]=e.split(":");t&&n&&i.set(t,n)}));const n=t.path.substring(0,t.path.indexOf(";"));return n&&i.set(e.META_DATA_MIME,n),i}}(S||(S={}))},6633:(e,t,i)=>{"use strict";i.d(t,{Rm:()=>r});var n=i(4669),o=i(5976);class s{constructor(e,t,i,n,o,s,r){this._forceIntegerValues=e,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t|=0,i|=0,n|=0,o|=0,s|=0,r|=0),this.rawScrollLeft=n,this.rawScrollTop=r,t<0&&(t=0),n+t>i&&(n=i-t),n<0&&(n=0),o<0&&(o=0),r+o>s&&(r=s-o),r<0&&(r=0),this.width=t,this.scrollWidth=i,this.scrollLeft=n,this.height=o,this.scrollHeight=s,this.scrollTop=r}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new s(this._forceIntegerValues,void 0!==e.width?e.width:this.width,void 0!==e.scrollWidth?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,void 0!==e.height?e.height:this.height,void 0!==e.scrollHeight?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new s(this._forceIntegerValues,this.width,this.scrollWidth,void 0!==e.scrollLeft?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==e.scrollTop?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const i=this.width!==e.width,n=this.scrollWidth!==e.scrollWidth,o=this.scrollLeft!==e.scrollLeft,s=this.height!==e.height,r=this.scrollHeight!==e.scrollHeight,a=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:n,scrollLeftChanged:o,heightChanged:s,scrollHeightChanged:r,scrollTopChanged:a}}}class r extends o.JT{constructor(e){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new n.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new s(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){var i;const n=this._state.withScrollDimensions(e,t);this._setState(n,Boolean(this._smoothScrolling)),null===(i=this._smoothScrolling)||void 0===i||i.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:void 0===e.scrollLeft?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:void 0===e.scrollTop?this._smoothScrolling.to.scrollTop:e.scrollTop};const i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let n;n=t?new d(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=n}else{const t=this._state.withScrollPosition(e);this._smoothScrolling=d.start(this._state,t,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);return this._setState(t,!0),this._smoothScrolling?e.isDone?(this._smoothScrolling.dispose(),void(this._smoothScrolling=null)):void(this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))):void 0}_setState(e,t){const i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}}class a{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function l(e,t){const i=t-e;return function(t){return e+i*(1-(n=1-t,Math.pow(n,3)));var n}}class d{constructor(e,t,i,n){this.from=e,this.to=t,this.duration=n,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let r,a;return e<t?(r=e+.75*i,a=t-.75*i):(r=e-.75*i,a=t+.75*i),n=l(e,r),o=l(a,t),s=.33,function(e){return e<s?n(e/s):o((e-s)/(1-s))}}var n,o,s;return l(e,t)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const e=this.scrollLeft(t),i=this.scrollTop(t);return new a(e,i,!1)}return new a(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return d.start(e,t,i)}static start(e,t,i){i+=10;const n=Date.now()-10;return new d(e,t,n,i)}}},4603:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n,o=i(7295);!function(e){e[e.Ignore=0]="Ignore",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(n||(n={})),function(e){const t="error",i="warning",n="info";e.fromValue=function(s){return s?o.qq(t,s)?e.Error:o.qq(i,s)||o.qq("warn",s)?e.Warning:o.qq(n,s)?e.Info:e.Ignore:e.Ignore},e.toString=function(o){switch(o){case e.Error:return t;case e.Warning:return i;case e.Info:return n;default:return"ignore"}}}(n||(n={}));const s=n},4013:(e,t,i)=>{"use strict";i.d(t,{G:()=>s});var n=i(1432);const o=n.li.performance&&"function"==typeof n.li.performance.now;class s{constructor(e){this._highResolution=o&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new s(e)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?n.li.performance.now():Date.now()}}},7295:(e,t,i)=>{"use strict";i.d(t,{$i:()=>K,B4:()=>se,C8:()=>Q,GF:()=>f,HO:()=>B,IO:()=>v,J_:()=>U,K7:()=>Y,Kw:()=>X,LC:()=>C,Mh:()=>T,P1:()=>M,PJ:()=>ee,Qe:()=>$,R1:()=>m,T5:()=>I,TT:()=>k,Ut:()=>G,V8:()=>y,W1:()=>W,WU:()=>l,YK:()=>P,YU:()=>d,ZG:()=>R,ZH:()=>V,ZK:()=>re,ab:()=>q,c1:()=>Z,df:()=>N,ec:()=>c,fy:()=>h,j3:()=>u,j_:()=>x,m5:()=>r,mK:()=>D,mr:()=>_,oH:()=>ne,oL:()=>g,ok:()=>A,ow:()=>w,qq:()=>E,qu:()=>S,rL:()=>O,uS:()=>J,un:()=>p,uq:()=>b,vH:()=>z,vU:()=>ae,zY:()=>L});var n,o=i(701),s=i(9579);function r(e){return!e||"string"!=typeof e||0===e.trim().length}const a=/{(\d+)}/g;function l(e,...t){return 0===t.length?e:e.replace(a,(function(e,i){const n=parseInt(i,10);return isNaN(n)||n<0||n>=t.length?e:t[n]}))}function d(e){return e.replace(/[<>&]/g,(function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}}))}function c(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function h(e,t=" "){return g(u(e,t),t)}function u(e,t){if(!e||!t)return e;const i=t.length;if(0===i||0===e.length)return e;let n=0;for(;e.indexOf(t,n)===n;)n+=i;return e.substring(n)}function g(e,t){if(!e||!t)return e;const i=t.length,n=e.length;if(0===i||0===n)return e;let o=n,s=-1;for(;s=e.lastIndexOf(t,o-1),-1!==s&&s+i===o;){if(0===s)return"";o=s}return e.substring(0,o)}function p(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function m(e){return e.replace(/\*/g,"")}function f(e,t,i={}){if(!e)throw new Error("Cannot create regex from empty string");t||(e=c(e)),i.wholeWord&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));let n="";return i.global&&(n+="g"),i.matchCase||(n+="i"),i.multiline&&(n+="m"),i.unicode&&(n+="u"),new RegExp(e,n)}function v(e){return"^"!==e.source&&"^$"!==e.source&&"$"!==e.source&&"^\\s*$"!==e.source&&!(!e.exec("")||0!==e.lastIndex)}function _(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")}function b(e){return e.split(/\r\n|\r|\n/)}function C(e){for(let t=0,i=e.length;t<i;t++){const i=e.charCodeAt(t);if(32!==i&&9!==i)return t}return-1}function y(e,t=0,i=e.length){for(let n=t;n<i;n++){const i=e.charCodeAt(n);if(32!==i&&9!==i)return e.substring(t,n)}return e.substring(t,i)}function w(e,t=e.length-1){for(let i=t;i>=0;i--){const t=e.charCodeAt(i);if(32!==t&&9!==t)return i}return-1}function S(e,t){return e<t?-1:e>t?1:0}function k(e,t,i=0,n=e.length,o=0,s=t.length){for(;i<n&&o<s;i++,o++){const n=e.charCodeAt(i),s=t.charCodeAt(o);if(n<s)return-1;if(n>s)return 1}const r=n-i,a=s-o;return r<a?-1:r>a?1:0}function L(e,t){return x(e,t,0,e.length,0,t.length)}function x(e,t,i=0,n=e.length,o=0,s=t.length){for(;i<n&&o<s;i++,o++){let r=e.charCodeAt(i),a=t.charCodeAt(o);if(r===a)continue;if(r>=128||a>=128)return k(e.toLowerCase(),t.toLowerCase(),i,n,o,s);D(r)&&(r-=32),D(a)&&(a-=32);const l=r-a;if(0!==l)return l}const r=n-i,a=s-o;return r<a?-1:r>a?1:0}function I(e){return e>=48&&e<=57}function D(e){return e>=97&&e<=122}function N(e){return e>=65&&e<=90}function E(e,t){return e.length===t.length&&0===x(e,t)}function A(e,t){const i=t.length;return!(t.length>e.length)&&0===x(e,t,0,i)}function T(e,t){const i=Math.min(e.length,t.length);let n;for(n=0;n<i;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return i}function M(e,t){const i=Math.min(e.length,t.length);let n;const o=e.length-1,s=t.length-1;for(n=0;n<i;n++)if(e.charCodeAt(o-n)!==t.charCodeAt(s-n))return n;return i}function R(e){return 55296<=e&&e<=56319}function P(e){return 56320<=e&&e<=57343}function O(e,t){return t-56320+(e-55296<<10)+65536}function V(e,t,i){const n=e.charCodeAt(i);if(R(n)&&i+1<t){const t=e.charCodeAt(i+1);if(P(t))return O(n,t)}return n}class F{constructor(e,t=0){this._str=e,this._len=e.length,this._offset=t}get offset(){return this._offset}setOffset(e){this._offset=e}prevCodePoint(){const e=function(e,t){const i=e.charCodeAt(t-1);if(P(i)&&t>1){const n=e.charCodeAt(t-2);if(R(n))return O(n,i)}return i}(this._str,this._offset);return this._offset-=e>=65536?2:1,e}nextCodePoint(){const e=V(this._str,this._len,this._offset);return this._offset+=e>=65536?2:1,e}eol(){return this._offset>=this._len}}class W{constructor(e,t=0){this._iterator=new F(e,t)}get offset(){return this._iterator.offset}nextGraphemeLength(){const e=ie.getInstance(),t=this._iterator,i=t.offset;let n=e.getGraphemeBreakType(t.nextCodePoint());for(;!t.eol();){const i=t.offset,o=e.getGraphemeBreakType(t.nextCodePoint());if(te(n,o)){t.setOffset(i);break}n=o}return t.offset-i}prevGraphemeLength(){const e=ie.getInstance(),t=this._iterator,i=t.offset;let n=e.getGraphemeBreakType(t.prevCodePoint());for(;t.offset>0;){const i=t.offset,o=e.getGraphemeBreakType(t.prevCodePoint());if(te(o,n)){t.setOffset(i);break}n=o}return i-t.offset}eol(){return this._iterator.eol()}}function z(e,t){return new W(e,t).nextGraphemeLength()}function B(e,t){return new W(e,t).prevGraphemeLength()}function U(e,t){t>0&&P(e.charCodeAt(t))&&t--;const i=t+z(e,t);return[i-B(e,i),i]}const H=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function G(e){return H.test(e)}const j=/^[\t\n\r\x20-\x7E]*$/;function K(e){return j.test(e)}const $=/[\u2028\u2029]/;function q(e){return $.test(e)}function Y(e){return e>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}function Q(e){return e>=127462&&e<=127487||8986===e||8987===e||9200===e||9203===e||e>=9728&&e<=10175||11088===e||11093===e||e>=127744&&e<=128591||e>=128640&&e<=128764||e>=128992&&e<=129008||e>=129280&&e<=129535||e>=129648&&e<=129782}const Z=String.fromCharCode(65279);function J(e){return!!(e&&e.length>0&&65279===e.charCodeAt(0))}function X(e,t=!1){return!!e&&(t&&(e=e.replace(/\\./g,"")),e.toLowerCase()!==e)}function ee(e){return(e%=52)<26?String.fromCharCode(97+e):String.fromCharCode(65+e-26)}function te(e,t){return 0===e?5!==t&&7!==t:!(2===e&&3===t||4!==e&&2!==e&&3!==e&&4!==t&&2!==t&&3!==t&&(8===e&&(8===t||9===t||11===t||12===t)||!(11!==e&&9!==e||9!==t&&10!==t)||(12===e||10===e)&&10===t||5===t||13===t||7===t||1===e||13===e&&14===t||6===e&&6===t))}class ie{constructor(){this._data=JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}static getInstance(){return ie._INSTANCE||(ie._INSTANCE=new ie),ie._INSTANCE}getGraphemeBreakType(e){if(e<32)return 10===e?3:13===e?2:4;if(e<127)return 0;const t=this._data,i=t.length/3;let n=1;for(;n<=i;)if(e<t[3*n])n*=2;else{if(!(e>t[3*n+1]))return t[3*n+2];n=2*n+1}return 0}}function ne(e,t){if(0===e)return 0;const i=function(e,t){const i=new F(t,e);let n=i.prevCodePoint();for(;oe(n)||65039===n||8419===n;){if(0===i.offset)return;n=i.prevCodePoint()}if(!Q(n))return;let o=i.offset;return o>0&&8205===i.prevCodePoint()&&(o=i.offset),o}(e,t);if(void 0!==i)return i;const n=new F(t,e);return n.prevCodePoint(),n.offset}function oe(e){return 127995<=e&&e<=127999}ie._INSTANCE=null;const se="";class re{constructor(e){this.confusableDictionary=e}static getInstance(e){return re.cache.get(Array.from(e))}static getLocales(){return re._locales.getValue()}isAmbiguous(e){return this.confusableDictionary.has(e)}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}n=re,re.ambiguousCharacterData=new s.o((()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))),re.cache=new o.t((e=>{function t(e){const t=new Map;for(let i=0;i<e.length;i+=2)t.set(e[i],e[i+1]);return t}function i(e,t){if(!e)return t;const i=new Map;for(const[n,o]of e)t.has(n)&&i.set(n,o);return i}const o=n.ambiguousCharacterData.getValue();let s,r=e.filter((e=>!e.startsWith("_")&&e in o));0===r.length&&(r=["_default"]);for(const e of r)s=i(s,t(o[e]));const a=function(e,t){const i=new Map(e);for(const[e,n]of t)i.set(e,n);return i}(t(o._common),s);return new re(a)})),re._locales=new s.o((()=>Object.keys(re.ambiguousCharacterData.getValue()).filter((e=>!e.startsWith("_")))));class ae{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(ae.getRawData())),this._data}static isInvisibleCharacter(e){return ae.getData().has(e)}static get codePoints(){return ae.getData()}}ae._data=void 0},8401:(e,t,i)=>{"use strict";function n(e){return Array.isArray(e)}function o(e){return"string"==typeof e}function s(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function r(e){const t=Object.getPrototypeOf(Uint8Array);return"object"==typeof e&&e instanceof t}function a(e){return"number"==typeof e&&!isNaN(e)}function l(e){return!!e&&"function"==typeof e[Symbol.iterator]}function d(e){return!0===e||!1===e}function c(e){return void 0===e}function h(e){return!u(e)}function u(e){return c(e)||null===e}function g(e,t){if(!e)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}function p(e){if(u(e))throw new Error("Assertion Failed: argument is undefined or null");return e}function m(e){return"function"==typeof e}function f(e,t){const i=Math.min(e.length,t.length);for(let n=0;n<i;n++)v(e[n],t[n])}function v(e,t){if(o(t)){if(typeof e!==t)throw new Error(`argument does not match constraint: typeof ${t}`)}else if(m(t)){try{if(e instanceof t)return}catch(e){}if(!u(e)&&e.constructor===t)return;if(1===t.length&&!0===t.call(void 0,e))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function _(e){const t=[];for(const i of function(e){let t=[],i=Object.getPrototypeOf(e);for(;Object.prototype!==i;)t=t.concat(Object.getOwnPropertyNames(i)),i=Object.getPrototypeOf(i);return t}(e))"function"==typeof e[i]&&t.push(i);return t}function b(e,t){const i=e=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)},n={};for(const t of e)n[t]=i(t);return n}function C(e){return null===e?void 0:e}function y(e,t="Unreachable"){throw new Error(t)}i.d(t,{$E:()=>_,$K:()=>h,D8:()=>f,HD:()=>o,IU:()=>b,Jp:()=>u,Kn:()=>s,TW:()=>l,cW:()=>p,f6:()=>C,fU:()=>r,hj:()=>a,jn:()=>d,kJ:()=>n,mf:()=>m,o8:()=>c,p_:()=>g,vE:()=>y})},5427:(e,t,i)=>{"use strict";function n(e){return e<0?0:e>255?255:0|e}function o(e){return e<0?0:e>4294967295?4294967295:0|e}i.d(t,{A:()=>o,K:()=>n})},666:(e,t,i)=>{"use strict";i.d(t,{o:()=>u,q:()=>_});var n=i(8721),o=i(1432);const s=/^\w[\w\d+.-]*$/,r=/^\//,a=/^\/\//;function l(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!s.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!r.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const d="",c="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class u{constructor(e,t,i,n,o,s=!1){"object"==typeof e?(this.scheme=e.scheme||d,this.authority=e.authority||d,this.path=e.path||d,this.query=e.query||d,this.fragment=e.fragment||d):(this.scheme=function(e,t){return e||t?e:"file"}(e,s),this.authority=t||d,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==c&&(t=c+t):t=c}return t}(this.scheme,i||d),this.query=n||d,this.fragment=o||d,l(this,s))}static isUri(e){return e instanceof u||!!e&&"string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString}get fsPath(){return _(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:n,query:o,fragment:s}=e;return void 0===t?t=this.scheme:null===t&&(t=d),void 0===i?i=this.authority:null===i&&(i=d),void 0===n?n=this.path:null===n&&(n=d),void 0===o?o=this.query:null===o&&(o=d),void 0===s?s=this.fragment:null===s&&(s=d),t===this.scheme&&i===this.authority&&n===this.path&&o===this.query&&s===this.fragment?this:new p(t,i,n,o,s)}static parse(e,t=!1){const i=h.exec(e);return i?new p(i[2]||d,w(i[4]||d),w(i[5]||d),w(i[7]||d),w(i[9]||d),t):new p(d,d,d,d,d)}static file(e){let t=d;if(o.ED&&(e=e.replace(/\\/g,c)),e[0]===c&&e[1]===c){const i=e.indexOf(c,2);-1===i?(t=e.substring(2),e=c):(t=e.substring(2,i),e=e.substring(i)||c)}return new p("file",t,e,d,d)}static from(e){const t=new p(e.scheme,e.authority,e.path,e.query,e.fragment);return l(t,!0),t}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return i=o.ED&&"file"===e.scheme?u.file(n.Ku.join(_(e,!0),...t)).path:n.KR.join(e.path,...t),e.with({path:i})}toString(e=!1){return b(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof u)return e;{const t=new p(e);return t._formatted=e.external,t._fsPath=e._sep===g?e.fsPath:null,t}}return e}}const g=o.ED?1:void 0;class p extends u{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=_(this,!1)),this._fsPath}toString(e=!1){return e?b(this,!0):(this._formatted||(this._formatted=b(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=g),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const m={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function f(e,t){let i,n=-1;for(let o=0;o<e.length;o++){const s=e.charCodeAt(o);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||45===s||46===s||95===s||126===s||t&&47===s)-1!==n&&(i+=encodeURIComponent(e.substring(n,o)),n=-1),void 0!==i&&(i+=e.charAt(o));else{void 0===i&&(i=e.substr(0,o));const t=m[s];void 0!==t?(-1!==n&&(i+=encodeURIComponent(e.substring(n,o)),n=-1),i+=t):-1===n&&(n=o)}}return-1!==n&&(i+=encodeURIComponent(e.substring(n))),void 0!==i?i:e}function v(e){let t;for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);35===n||63===n?(void 0===t&&(t=e.substr(0,i)),t+=m[n]):void 0!==t&&(t+=e[i])}return void 0!==t?t:e}function _(e,t){let i;return i=e.authority&&e.path.length>1&&"file"===e.scheme?`//${e.authority}${e.path}`:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,o.ED&&(i=i.replace(/\//g,"\\")),i}function b(e,t){const i=t?v:f;let n="",{scheme:o,authority:s,path:r,query:a,fragment:l}=e;if(o&&(n+=o,n+=":"),(s||"file"===o)&&(n+=c,n+=c),s){let e=s.indexOf("@");if(-1!==e){const t=s.substr(0,e);s=s.substr(e+1),e=t.indexOf(":"),-1===e?n+=i(t,!1):(n+=i(t.substr(0,e),!1),n+=":",n+=i(t.substr(e+1),!1)),n+="@"}s=s.toLowerCase(),e=s.indexOf(":"),-1===e?n+=i(s,!1):(n+=i(s.substr(0,e),!1),n+=s.substr(e))}if(r){if(r.length>=3&&47===r.charCodeAt(0)&&58===r.charCodeAt(2)){const e=r.charCodeAt(1);e>=65&&e<=90&&(r=`/${String.fromCharCode(e+32)}:${r.substr(3)}`)}else if(r.length>=2&&58===r.charCodeAt(1)){const e=r.charCodeAt(0);e>=65&&e<=90&&(r=`${String.fromCharCode(e+32)}:${r.substr(2)}`)}n+=i(r,!0)}return a&&(n+="?",n+=i(a,!1)),l&&(n+="#",n+=t?l:f(l,!1)),n}function C(e){try{return decodeURIComponent(e)}catch(t){return e.length>3?e.substr(0,3)+C(e.substr(3)):e}}const y=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function w(e){return e.match(y)?e.replace(y,(e=>C(e))):e}},8e3:(e,t,i)=>{"use strict";i.d(t,{R:()=>n});const n=function(){if("object"==typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID.bind(crypto);let e;e="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(256*Math.random());return e};const t=new Uint8Array(16),i=[];for(let e=0;e<256;e++)i.push(e.toString(16).padStart(2,"0"));return function(){e(t),t[6]=15&t[6]|64,t[8]=63&t[8]|128;let n=0,o="";return o+=i[t[n++]],o+=i[t[n++]],o+=i[t[n++]],o+=i[t[n++]],o+="-",o+=i[t[n++]],o+=i[t[n++]],o+="-",o+=i[t[n++]],o+=i[t[n++]],o+="-",o+=i[t[n++]],o+=i[t[n++]],o+="-",o+=i[t[n++]],o+=i[t[n++]],o+=i[t[n++]],o+=i[t[n++]],o+=i[t[n++]],o+=i[t[n++]],o}}()},7746:(e,t,i)=>{"use strict";i.d(t,{Jq:()=>o,X5:()=>n,jG:()=>s});const n={ctrlCmd:!1,alt:!1};var o,s;!function(e){e[e.Blur=1]="Blur",e[e.Gesture=2]="Gesture",e[e.Other=3]="Other"}(o||(o={})),function(e){e[e.NONE=0]="NONE",e[e.FIRST=1]="FIRST",e[e.SECOND=2]="SECOND",e[e.LAST=3]="LAST"}(s||(s={})),new class{constructor(e){this.options=e}}},5552:(e,t,i)=>{"use strict";i.d(t,{H:()=>g});var n=i(7453),o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l=(e,t,i,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of r(t))a.call(e,l)||l===i||o(e,l,{get:()=>t[l],enumerable:!(n=s(t,l))||n.enumerable});return e},d={};l(d,n,"default");var c={},h={},u=class{static getOrCreate(e){return h[e]||(h[e]=new u(e)),h[e]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(e){this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise(((e,t)=>{this._lazyLoadPromiseResolve=e,this._lazyLoadPromiseReject=t}))}load(){return this._loadingTriggered||(this._loadingTriggered=!0,c[this._languageId].loader().then((e=>this._lazyLoadPromiseResolve(e)),(e=>this._lazyLoadPromiseReject(e)))),this._lazyLoadPromise}};function g(e){const t=e.id;c[t]=e,d.languages.register(e);const i=u.getOrCreate(t);d.languages.registerTokensProviderFactory(t,{create:async()=>(await i.load()).language}),d.languages.onLanguage(t,(async()=>{const e=await i.load();d.languages.setLanguageConfiguration(t,e.conf)}))}},9126:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>i.e(848).then(i.bind(i,848))})},9808:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>i.e(4386).then(i.bind(i,4386))})},3598:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>i.e(1471).then(i.bind(i,1471))})},2508:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>i.e(4129).then(i.bind(i,1639))})},497:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>i.e(7131).then(i.bind(i,7131))})},2094:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>i.e(1448).then(i.bind(i,1448))})},6334:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>i.e(3036).then(i.bind(i,3036))})},253:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>i.e(1147).then(i.bind(i,1147))})},9540:(e,t,i)=>{"use strict";i.r(t);var n=i(5552);(0,n.H)({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>i.e(1960).then(i.bind(i,1960))}),(0,n.H)({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>i.e(1960).then(i.bind(i,1960))})},8162:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>i.e(8719).then(i.bind(i,8719))})},9556:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>i.e(8946).then(i.bind(i,8946))})},6292:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>i.e(2075).then(i.bind(i,7566))})},282:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>i.e(6423).then(i.bind(i,6423))})},2429:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>i.e(9343).then(i.bind(i,9343))})},4129:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>i.e(5849).then(i.bind(i,5849))})},8765:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>i.e(2814).then(i.bind(i,2814))})},3814:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>i.e(2240).then(i.bind(i,2240))})},5067:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>i.e(4188).then(i.bind(i,4188))})},1589:(e,t,i)=>{"use strict";i.r(t);var n=i(5552);(0,n.H)({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>i.e(5880).then(i.bind(i,5880)).then((e=>e.TagAutoInterpolationDollar))}),(0,n.H)({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>i.e(5880).then(i.bind(i,5880)).then((e=>e.TagAngleInterpolationDollar))}),(0,n.H)({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>i.e(5880).then(i.bind(i,5880)).then((e=>e.TagBracketInterpolationDollar))}),(0,n.H)({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>i.e(5880).then(i.bind(i,5880)).then((e=>e.TagAngleInterpolationBracket))}),(0,n.H)({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>i.e(5880).then(i.bind(i,5880)).then((e=>e.TagBracketInterpolationBracket))}),(0,n.H)({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>i.e(5880).then(i.bind(i,5880)).then((e=>e.TagAutoInterpolationDollar))}),(0,n.H)({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>i.e(5880).then(i.bind(i,5880)).then((e=>e.TagAutoInterpolationBracket))})},7820:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>i.e(6241).then(i.bind(i,6241))})},927:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>i.e(249).then(i.bind(i,249))})},6220:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>i.e(6489).then(i.bind(i,6489))})},1526:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>i.e(5703).then(i.bind(i,5703))})},4091:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>i.e(3632).then(i.bind(i,3632))})},201:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>i.e(2571).then(i.bind(i,2571))})},7476:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>i.e(2798).then(i.bind(i,2798))})},6745:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>i.e(7043).then(i.bind(i,7043))})},3763:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>i.e(1134).then(i.bind(i,5810))})},6595:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>i.e(4946).then(i.bind(i,4946))})},6831:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>i.e(4368).then(i.bind(i,4368))})},6079:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>i.e(5593).then(i.bind(i,5593))})},158:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>i.e(4912).then(i.bind(i,4912))})},8698:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>i.e(4028).then(i.bind(i,4028))})},2665:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>i.e(911).then(i.bind(i,911))})},1944:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>i.e(8906).then(i.bind(i,8906))})},7365:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>i.e(2954).then(i.bind(i,8770))})},9796:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>i.e(854).then(i.bind(i,854))})},5769:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>i.e(9398).then(i.bind(i,9398))})},1714:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>i.e(1961).then(i.bind(i,1961))})},6935:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>i.e(9537).then(i.bind(i,9537))})},2893:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>i.e(6082).then(i.bind(i,6082))})},7616:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>i.e(8084).then(i.bind(i,8084))})},3335:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>i.e(8070).then(i.bind(i,8070))})},6266:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>i.e(996).then(i.bind(i,996))})},9723:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>i.e(7835).then(i.bind(i,7835))})},5788:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"pla",extensions:[".pla"],loader:()=>i.e(3682).then(i.bind(i,3682))})},8746:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>i.e(8180).then(i.bind(i,8180))})},4992:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>i.e(4407).then(i.bind(i,4407))})},6563:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>i.e(7562).then(i.bind(i,7562))})},7296:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>i.e(3760).then(i.bind(i,3760))})},5098:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>i.e(2892).then(i.bind(i,2892))})},3187:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>i.e(7287).then(i.bind(i,7287))})},2026:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>i.e(9400).then(i.bind(i,9400))})},6194:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>i.e(2140).then(i.bind(i,2140))})},5566:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>i.e(6424).then(i.bind(i,6424))})},6254:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>i.e(1259).then(i.bind(i,1259))})},5734:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>i.e(6449).then(i.bind(i,6449))})},191:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>i.e(1065).then(i.bind(i,1065))})},3127:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>i.e(9684).then(i.bind(i,9684))})},4483:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>i.e(8715).then(i.bind(i,8715))})},840:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>i.e(5062).then(i.bind(i,5062))})},7266:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>i.e(180).then(i.bind(i,180))})},2375:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>i.e(2060).then(i.bind(i,2060))})},6461:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>i.e(525).then(i.bind(i,525))})},6628:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>i.e(8670).then(i.bind(i,8670))})},185:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>i.e(1156).then(i.bind(i,1156))})},7776:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>i.e(3919).then(i.bind(i,3919))})},8118:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>i.e(5962).then(i.bind(i,5962))})},6337:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>i.e(7778).then(i.bind(i,7778))})},7530:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>i.e(6587).then(i.bind(i,6587))})},5929:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>i.e(2911).then(i.bind(i,2911))})},7918:(e,t,i)=>{"use strict";i.r(t);var n=i(5552);(0,n.H)({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>i.e(1886).then(i.bind(i,1886))}),(0,n.H)({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>i.e(1886).then(i.bind(i,1886))})},6205:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>i.e(7637).then(i.bind(i,7637))})},6837:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>i.e(8424).then(i.bind(i,8424))})},8307:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>i.e(6717).then(i.bind(i,6717))})},8203:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>i.e(9907).then(i.bind(i,9907))})},1905:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>i.e(4902).then(i.bind(i,4902))})},4199:(e,t,i)=>{"use strict";i.r(t),(0,i(5552).H)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>i.e(3585).then(i.bind(i,3585))})},2136:(e,t,i)=>{"use strict";i.d(t,{N:()=>o});var n=i(8626);function o(e,t){e instanceof n.Z?(e.setFontFamily(t.getMassagedFontFamily()),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)):(e.style.fontFamily=t.getMassagedFontFamily(),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px")}},4534:(e,t,i)=>{"use strict";i.d(t,{I:()=>s});var n=i(5976),o=i(4669);class s extends n.JT{constructor(e,t){super(),this._onDidChange=this._register(new o.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=e,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver((e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()})),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,n=0;t?(i=t.width,n=t.height):this._referenceDomElement&&(i=this._referenceDomElement.clientWidth,n=this._referenceDomElement.clientHeight),i=Math.max(5,i),n=Math.max(5,n),this._width===i&&this._height===n||(this._width=i,this._height=n,e&&this._onDidChange.fire())}}},7231:(e,t,i)=>{"use strict";i.d(t,{g:()=>g});var n=i(6268),o=i(4669),s=i(5976),r=i(2136);class a{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class l{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const t=document.createElement("div");(0,r.N)(t,this._bareFontInfo),e.appendChild(t);const i=document.createElement("div");(0,r.N)(i,this._bareFontInfo),i.style.fontWeight="bold",e.appendChild(i);const n=document.createElement("div");(0,r.N)(n,this._bareFontInfo),n.style.fontStyle="italic",e.appendChild(n);const o=[];for(const e of this._requests){let s;0===e.type&&(s=t),2===e.type&&(s=i),1===e.type&&(s=n),s.appendChild(document.createElement("br"));const r=document.createElement("span");l._render(r,e),s.appendChild(r),o.push(r)}this._container=e,this._testElements=o}static _render(e,t){if(" "===t.chr){let t="";for(let e=0;e<8;e++)t+=t;e.innerText=t}else{let i=t.chr;for(let e=0;e<8;e++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const t=this._requests[e],i=this._testElements[e];t.fulfill(i.offsetWidth/256)}}}var d=i(4141),c=i(7374);class h extends s.JT{constructor(){super(),this._onDidChange=this._register(new o.Q5),this.onDidChange=this._onDidChange.event,this._cache=new u,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new u,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=window.setTimeout((()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()}),5e3))}_evictUntrustedReadings(){const e=this._cache.getValues();let t=!1;for(const i of e)i.isTrusted||(t=!0,this._cache.remove(i));t&&this._onDidChange.fire()}readFontInfo(e){if(!this._cache.has(e)){let t=this._actualReadFontInfo(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new c.pR({pixelRatio:n.PixelRatio.value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}_createRequest(e,t,i,n){const o=new a(e,t);return i.push(o),null==n||n.push(o),o}_actualReadFontInfo(e){const t=[],i=[],o=this._createRequest("n",0,t,i),s=this._createRequest("",0,t,null),r=this._createRequest(" ",0,t,i),a=this._createRequest("0",0,t,i),h=this._createRequest("1",0,t,i),u=this._createRequest("2",0,t,i),g=this._createRequest("3",0,t,i),p=this._createRequest("4",0,t,i),m=this._createRequest("5",0,t,i),f=this._createRequest("6",0,t,i),v=this._createRequest("7",0,t,i),_=this._createRequest("8",0,t,i),b=this._createRequest("9",0,t,i),C=this._createRequest("",0,t,i),y=this._createRequest("",0,t,null),w=this._createRequest("",0,t,i),S=this._createRequest(String.fromCharCode(11825),0,t,null),k="|/-_ilm%";for(let e=0,n=k.length;e<n;e++)this._createRequest(k.charAt(e),0,t,i),this._createRequest(k.charAt(e),1,t,i),this._createRequest(k.charAt(e),2,t,i);!function(e,t){new l(e,t).read()}(e,t);const L=Math.max(a.width,h.width,u.width,g.width,p.width,m.width,f.width,v.width,_.width,b.width);let x=e.fontFeatureSettings===d.n0.OFF;const I=i[0].width;for(let e=1,t=i.length;x&&e<t;e++){const t=I-i[e].width;if(t<-.001||t>.001){x=!1;break}}let D=!0;return x&&y.width!==I&&(D=!1),y.width>C.width&&(D=!1),new c.pR({pixelRatio:n.PixelRatio.value,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:x,typicalHalfwidthCharacterWidth:o.width,typicalFullwidthCharacterWidth:s.width,canUseHalfwidthRightwardsArrow:D,spaceWidth:r.width,middotWidth:w.width,wsmiddotWidth:S.width,maxDigitWidth:L},!0)}}class u{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map((e=>this._values[e]))}}const g=new h},7940:(e,t,i)=>{"use strict";i.d(t,{n:()=>o});var n=i(4669);const o=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new n.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))}}},5715:(e,t,i)=>{"use strict";i.d(t,{Fz:()=>v,Nl:()=>m,RA:()=>p,Tj:()=>b,pd:()=>n});var n,o=i(6268),s=i(5321),r=i(9069),a=i(5393),l=i(4669),d=i(5976),c=i(1170),h=i(7295),u=i(5887),g=i(3860);!function(e){e.Tap="-monaco-textarea-synthetic-tap"}(n||(n={}));const p={forceCopyWithSyntaxHighlighting:!1};class m{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}m.INSTANCE=new m;class f{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(e){const t={text:e=e||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}}class v extends d.JT{constructor(e,t,i,n){super(),this._host=e,this._textArea=t,this._OS=i,this._browser=n,this._onFocus=this._register(new l.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new l.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new l.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new l.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new l.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new l.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new l.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new l.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new l.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new l.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new l.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new a.pY((()=>this._onCut.fire()),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new a.pY((()=>this.writeScreenReaderContent("asyncFocusGain")),0)),this._textAreaState=u.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let o=null;this._register(this._textArea.onKeyDown((e=>{const t=new r.y(e);(109===t.keyCode||this._currentComposition&&1===t.keyCode)&&t.stopPropagation(),t.equals(9)&&t.preventDefault(),o=t,this._onKeyDown.fire(t)}))),this._register(this._textArea.onKeyUp((e=>{const t=new r.y(e);this._onKeyUp.fire(t)}))),this._register(this._textArea.onCompositionStart((e=>{u.al&&console.log("[compositionstart]",e);const t=new f;if(this._currentComposition)this._currentComposition=t;else{if(this._currentComposition=t,2===this._OS&&o&&o.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===e.data&&("ArrowRight"===o.code||"ArrowLeft"===o.code))return u.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",e),t.handleCompositionUpdate("x"),void this._onCompositionStart.fire({data:e.data});this._browser.isAndroid,this._onCompositionStart.fire({data:e.data})}}))),this._register(this._textArea.onCompositionUpdate((e=>{u.al&&console.log("[compositionupdate]",e);const t=this._currentComposition;if(!t)return;if(this._browser.isAndroid){const t=u.un.readFromTextArea(this._textArea),i=u.un.deduceAndroidCompositionInput(this._textAreaState,t);return this._textAreaState=t,this._onType.fire(i),void this._onCompositionUpdate.fire(e)}const i=t.handleCompositionUpdate(e.data);this._textAreaState=u.un.readFromTextArea(this._textArea),this._onType.fire(i),this._onCompositionUpdate.fire(e)}))),this._register(this._textArea.onCompositionEnd((e=>{u.al&&console.log("[compositionend]",e);const t=this._currentComposition;if(!t)return;if(this._currentComposition=null,this._browser.isAndroid){const e=u.un.readFromTextArea(this._textArea),t=u.un.deduceAndroidCompositionInput(this._textAreaState,e);return this._textAreaState=e,this._onType.fire(t),void this._onCompositionEnd.fire()}const i=t.handleCompositionUpdate(e.data);this._textAreaState=u.un.readFromTextArea(this._textArea),this._onType.fire(i),this._onCompositionEnd.fire()}))),this._register(this._textArea.onInput((e=>{if(u.al&&console.log("[input]",e),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const t=u.un.readFromTextArea(this._textArea),i=u.un.deduceInput(this._textAreaState,t,2===this._OS);0===i.replacePrevCharCnt&&1===i.text.length&&h.ZG(i.text.charCodeAt(0))||(this._textAreaState=t,""===i.text&&0===i.replacePrevCharCnt&&0===i.replaceNextCharCnt&&0===i.positionDelta||this._onType.fire(i))}))),this._register(this._textArea.onCut((e=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(e),this._asyncTriggerCut.schedule()}))),this._register(this._textArea.onCopy((e=>{this._ensureClipboardGetsEditorSelection(e)}))),this._register(this._textArea.onPaste((e=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),e.preventDefault(),!e.clipboardData)return;let[t,i]=_.getTextData(e.clipboardData);t&&(i=i||m.INSTANCE.get(t),this._onPaste.fire({text:t,metadata:i}))}))),this._register(this._textArea.onFocus((()=>{const e=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!e&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()}))),this._register(this._textArea.onBlur((()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)}))),this._register(this._textArea.onSyntheticTap((()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())})))}_installSelectionChangeListener(){let e=0;return s.nm(document,"selectionchange",(t=>{if(!this._hasFocus)return;if(this._currentComposition)return;if(!this._browser.isChrome)return;const i=Date.now(),n=i-e;if(e=i,n<5)return;const o=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),o<100)return;if(!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const s=this._textArea.getValue();if(this._textAreaState.value!==s)return;const r=this._textArea.getSelectionStart(),a=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===r&&this._textAreaState.selectionEnd===a)return;const l=this._textAreaState.deduceEditorPosition(r),d=this._host.deduceModelPosition(l[0],l[1],l[2]),c=this._textAreaState.deduceEditorPosition(a),h=this._host.deduceModelPosition(c[0],c[1],c[2]),u=new g.Y(d.lineNumber,d.column,h.lineNumber,h.column);this._onSelectionChangeRequest.fire(u)}))}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._currentComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};m.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,"\n"):t.text,i),e.preventDefault(),e.clipboardData&&_.setTextData(e.clipboardData,t.text,t.html,i)}}class _{static getTextData(e){const t=e.getData(c.v.text);let i=null;const n=e.getData("vscode-editor-data");if("string"==typeof n)try{i=JSON.parse(n),1!==i.version&&(i=null)}catch(e){}return 0===t.length&&null===i&&e.files.length>0?[Array.prototype.slice.call(e.files,0).map((e=>e.name)).join("\n"),null]:[t,i]}static setTextData(e,t,i,n){e.setData(c.v.text,t),"string"==typeof i&&e.setData("text/html",i),e.setData("vscode-editor-data",JSON.stringify(n))}}class b extends d.JT{constructor(e){super(),this._actual=e,this.onKeyDown=this._register(s.IC(this._actual,"keydown")).event,this.onKeyUp=this._register(s.IC(this._actual,"keyup")).event,this.onCompositionStart=this._register(s.IC(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(s.IC(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(s.IC(this._actual,"compositionend")).event,this.onInput=this._register(s.IC(this._actual,"input")).event,this.onCut=this._register(s.IC(this._actual,"cut")).event,this.onCopy=this._register(s.IC(this._actual,"copy")).event,this.onPaste=this._register(s.IC(this._actual,"paste")).event,this.onFocus=this._register(s.IC(this._actual,"focus")).event,this.onBlur=this._register(s.IC(this._actual,"blur")).event,this._onSyntheticTap=this._register(new l.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(s.nm(this._actual,n.Tap,(()=>this._onSyntheticTap.fire())))}hasFocus(){const e=s.Ay(this._actual);return e?e.activeElement===this._actual:!!s.Uw(this._actual)&&document.activeElement===this._actual}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(e,t){const i=this._actual;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(e,t,i){const n=this._actual;let r=null;const a=s.Ay(n);r=a?a.activeElement:document.activeElement;const l=r===n,d=n.selectionStart,c=n.selectionEnd;if(l&&d===t&&c===i)o.isFirefox&&window.parent!==window&&n.focus();else{if(l)return this.setIgnoreSelectionChangeTime("setSelectionRange"),n.setSelectionRange(t,i),void(o.isFirefox&&window.parent!==window&&n.focus());try{const e=s.vL(n);this.setIgnoreSelectionChangeTime("setSelectionRange"),n.focus(),n.setSelectionRange(t,i),s._0(n,e)}catch(e){}}}}},5887:(e,t,i)=>{"use strict";i.d(t,{al:()=>r,ee:()=>l,un:()=>a});var n=i(7295),o=i(187),s=i(4314);const r=!1;class a{constructor(e,t,i,n,o){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selectionStartPosition=n,this.selectionEndPosition=o}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(e){return new a(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new a(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,t,i){r&&console.log(`writeToTextArea ${e}: ${this.toString()}`),t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){const t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(e>=this.selectionEnd){const t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}const t=this.value.substring(this.selectionStart,e);if(-1===t.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,t,1);const i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)}_finishDeduceEditorPosition(e,t,i){let n=0,o=-1;for(;-1!==(o=t.indexOf("\n",o+1));)n++;return[e,i*t.length,n]}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};r&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${e.toString()}`),console.log(`CURRENT STATE: ${t.toString()}`));const o=Math.min(n.Mh(e.value,t.value),e.selectionStart,t.selectionStart),s=Math.min(n.P1(e.value,t.value),e.value.length-e.selectionEnd,t.value.length-t.selectionEnd),a=e.value.substring(o,e.value.length-s),l=t.value.substring(o,t.value.length-s),d=e.selectionStart-o,c=e.selectionEnd-o,h=t.selectionStart-o,u=t.selectionEnd-o;if(r&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${a}>, selectionStart: ${d}, selectionEnd: ${c}`),console.log(`AFTER DIFFING CURRENT STATE: <${l}>, selectionStart: ${h}, selectionEnd: ${u}`)),h===u){const t=e.selectionStart-o;return r&&console.log(`REMOVE PREVIOUS: ${t} chars`),{text:l,replacePrevCharCnt:t,replaceNextCharCnt:0,positionDelta:0}}return{text:l,replacePrevCharCnt:c-d,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(r&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${e.toString()}`),console.log(`CURRENT STATE: ${t.toString()}`)),e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const i=Math.min(n.Mh(e.value,t.value),e.selectionEnd),o=Math.min(n.P1(e.value,t.value),e.value.length-e.selectionEnd),s=e.value.substring(i,e.value.length-o),a=t.value.substring(i,t.value.length-o),l=e.selectionStart-i,d=e.selectionEnd-i,c=t.selectionStart-i,h=t.selectionEnd-i;return r&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${s}>, selectionStart: ${l}, selectionEnd: ${d}`),console.log(`AFTER DIFFING CURRENT STATE: <${a}>, selectionStart: ${c}, selectionEnd: ${h}`)),{text:a,replacePrevCharCnt:d,replaceNextCharCnt:s.length-d,positionDelta:h-a.length}}}a.EMPTY=new a("",0,0,null,null);class l{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const i=e*t,n=i+1,o=i+t;return new s.e(n,1,o+1,1)}static fromEditorSelection(e,t,i,n,r){const d=l._getPageOfLine(i.startLineNumber,n),c=l._getRangeForPage(d,n),h=l._getPageOfLine(i.endLineNumber,n),u=l._getRangeForPage(h,n),g=c.intersectRanges(new s.e(1,1,i.startLineNumber,i.startColumn));let p=t.getValueInRange(g,1);const m=t.getLineCount(),f=t.getLineMaxColumn(m),v=u.intersectRanges(new s.e(i.endLineNumber,i.endColumn,m,f));let _,b=t.getValueInRange(v,1);if(d===h||d+1===h)_=t.getValueInRange(i,1);else{const e=c.intersectRanges(i),n=u.intersectRanges(i);_=t.getValueInRange(e,1)+String.fromCharCode(8230)+t.getValueInRange(n,1)}if(r){const e=500;p.length>e&&(p=p.substring(p.length-e,p.length)),b.length>e&&(b=b.substring(0,e)),_.length>2*e&&(_=_.substring(0,e)+String.fromCharCode(8230)+_.substring(_.length-e,_.length))}return new a(p+_+b,p.length,p.length+_.length,new o.L(i.startLineNumber,i.startColumn),new o.L(i.endLineNumber,i.endColumn))}}},9317:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CoreEditingCommands:()=>I,CoreEditorCommand:()=>w,CoreNavigationCommands:()=>m,EditorScroll_:()=>g,RevealLine_:()=>p});var n=i(3580),o=i(6268),s=i(8401),r=i(5152),a=i(6830),l=i(1640),d=i(5343),c=i(187),h=i(4314);class u{static columnSelect(e,t,i,n,o,s){const r=Math.abs(o-i)+1,a=i>o,l=n>s,u=n<s,g=[];for(let o=0;o<r;o++){const r=i+(a?-o:o),p=e.columnFromVisibleColumn(t,r,n),m=e.columnFromVisibleColumn(t,r,s),f=e.visibleColumnFromColumn(t,new c.L(r,p)),v=e.visibleColumnFromColumn(t,new c.L(r,m));if(u){if(f>s)continue;if(v<n)continue}if(l){if(v>n)continue;if(f<s)continue}g.push(new d.rS(new h.e(r,p,r,p),0,new c.L(r,m),0))}if(0===g.length)for(let e=0;e<r;e++){const n=i+(a?-e:e),o=t.getLineMaxColumn(n);g.push(new d.rS(new h.e(n,o,n,o),0,new c.L(n,o),0))}return{viewStates:g,reversed:a,fromLineNumber:i,fromVisualColumn:n,toLineNumber:o,toVisualColumn:s}}static columnSelectLeft(e,t,i){let n=i.toViewVisualColumn;return n>0&&n--,u.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,n)}static columnSelectRight(e,t,i){let n=0;const o=Math.min(i.fromViewLineNumber,i.toViewLineNumber),s=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let i=o;i<=s;i++){const o=t.getLineMaxColumn(i),s=e.visibleColumnFromColumn(t,new c.L(i,o));n=Math.max(n,s)}let r=i.toViewVisualColumn;return r<n&&r++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,r)}static columnSelectUp(e,t,i,n){const o=n?e.pageSize:1,s=Math.max(1,i.toViewLineNumber-o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}static columnSelectDown(e,t,i,n){const o=n?e.pageSize:1,s=Math.min(t.getLineCount(),i.toViewLineNumber+o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}}var g,p,m,f=i(9436),v=i(8108),_=i(1336),b=i(9102),C=i(8819),y=i(9989);class w extends a._l{runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditorCommand(n,i||{})}}!function(e){e.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){if(!s.Kn(e))return!1;const t=e;return!(!s.HD(t.to)||!s.o8(t.by)&&!s.HD(t.by)||!s.o8(t.value)&&!s.hj(t.value)||!s.o8(t.revealCursor)&&!s.jn(t.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},e.RawDirection={Up:"up",Down:"down"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor"},e.parse=function(t){let i,n;switch(t.to){case e.RawDirection.Up:i=1;break;case e.RawDirection.Down:i=2;break;default:return null}switch(t.by){case e.RawUnit.Line:n=1;break;case e.RawUnit.WrappedLine:n=2;break;case e.RawUnit.Page:n=3;break;case e.RawUnit.HalfPage:n=4;break;case e.RawUnit.Editor:n=5;break;default:n=2}return{direction:i,unit:n,value:Math.floor(t.value||1),revealCursor:!!t.revealCursor,select:!!t.select}}}(g||(g={})),function(e){e.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){if(!s.Kn(e))return!1;const t=e;return!(!s.hj(t.lineNumber)&&!s.HD(t.lineNumber)||!s.o8(t.at)&&!s.HD(t.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},e.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(p||(p={}));class S{constructor(e){e.addImplementation(1e4,"code-editor",((e,t)=>{const i=e.get(l.$).getFocusedCodeEditor();return!(!i||!i.hasTextFocus())&&this._runEditorCommand(e,i,t)})),e.addImplementation(1e3,"generic-dom-input-textarea",((e,t)=>{const i=document.activeElement;return!!(i&&["input","textarea"].indexOf(i.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)})),e.addImplementation(0,"generic-dom",((e,t)=>{const i=e.get(l.$).getActiveCodeEditor();return!!i&&(i.focus(),this._runEditorCommand(e,i,t))}))}_runEditorCommand(e,t,i){return this.runEditorCommand(e,t,i)||!0}}!function(e){class t extends w{constructor(e){super(e),this._minimalReveal=e.minimalReveal,this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[v.P.moveTo(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)])&&e.revealPrimaryCursor(t.source,!0,this._minimalReveal)}}e.MoveTo=(0,a.fK)(new t({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=(0,a.fK)(new t({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class i extends w{runCoreEditorCommand(e,t){e.model.pushStackElement();const i=this._getColumnSelectResult(e,e.getPrimaryCursorState(),e.getCursorColumnSelectData(),t);e.setCursorStates(t.source,3,i.viewStates.map((e=>d.Vi.fromViewState(e)))),e.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:i.fromLineNumber,fromViewVisualColumn:i.fromVisualColumn,toViewLineNumber:i.toLineNumber,toViewVisualColumn:i.toVisualColumn}),i.reversed?e.revealTopMostCursor(t.source):e.revealBottomMostCursor(t.source)}}e.ColumnSelect=(0,a.fK)(new class extends i{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(e,t,i,n){const o=e.model.validatePosition(n.position),s=e.coordinatesConverter.validateViewPosition(new c.L(n.viewPosition.lineNumber,n.viewPosition.column),o),r=n.doColumnSelect?i.fromViewLineNumber:s.lineNumber,a=n.doColumnSelect?i.fromViewVisualColumn:n.mouseColumn-1;return u.columnSelect(e.cursorConfig,e,r,a,s.lineNumber,n.mouseColumn-1)}}),e.CursorColumnSelectLeft=(0,a.fK)(new class extends i{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,n){return u.columnSelectLeft(e.cursorConfig,e,i)}}),e.CursorColumnSelectRight=(0,a.fK)(new class extends i{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,n){return u.columnSelectRight(e.cursorConfig,e,i)}});class s extends i{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,n){return u.columnSelectUp(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectUp=(0,a.fK)(new s({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=(0,a.fK)(new s({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:3595,linux:{primary:0}}}));class l extends i{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,n){return u.columnSelectDown(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectDown=(0,a.fK)(new l({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=(0,a.fK)(new l({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:3596,linux:{primary:0}}}));class m extends w{constructor(){super({id:"cursorMove",precondition:void 0,description:v.N.description})}runCoreEditorCommand(e,t){const i=v.N.parse(t);i&&this._runCursorMove(e,t.source,i)}_runCursorMove(e,t,i){e.model.pushStackElement(),e.setCursorStates(t,3,m._move(e,e.getCursorStates(),i)),e.revealPrimaryCursor(t,!0)}static _move(e,t,i){const n=i.select,o=i.value;switch(i.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return v.P.simpleMove(e,t,i.direction,n,o,i.unit);case 11:case 13:case 12:case 14:return v.P.viewportMove(e,t,i.direction,n,o);default:return null}}}e.CursorMoveImpl=m,e.CursorMove=(0,a.fK)(new m);class f extends w{constructor(e){super(e),this._staticArgs=e.args}runCoreEditorCommand(e,t){let i=this._staticArgs;-1===this._staticArgs.value&&(i={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:t.pageSize||e.cursorConfig.pageSize}),e.model.pushStackElement(),e.setCursorStates(t.source,3,v.P.simpleMove(e,e.getCursorStates(),i.direction,i.select,i.value,i.unit)),e.revealPrimaryCursor(t.source,!0)}}e.CursorLeft=(0,a.fK)(new f({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=(0,a.fK)(new f({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:1039}})),e.CursorRight=(0,a.fK)(new f({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=(0,a.fK)(new f({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:1041}})),e.CursorUp=(0,a.fK)(new f({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=(0,a.fK)(new f({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=(0,a.fK)(new f({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:11}})),e.CursorPageUpSelect=(0,a.fK)(new f({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:1035}})),e.CursorDown=(0,a.fK)(new f({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=(0,a.fK)(new f({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=(0,a.fK)(new f({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:12}})),e.CursorPageDownSelect=(0,a.fK)(new f({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:1036}})),e.CreateCursor=(0,a.fK)(new class extends w{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(e,t){let i;i=t.wholeLine?v.P.line(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition):v.P.moveTo(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition);const n=e.getCursorStates();if(n.length>1){const o=i.modelState?i.modelState.position:null,s=i.viewState?i.viewState.position:null;for(let i=0,r=n.length;i<r;i++){const r=n[i];if((!o||r.modelState.selection.containsPosition(o))&&(!s||r.viewState.selection.containsPosition(s)))return n.splice(i,1),e.model.pushStackElement(),void e.setCursorStates(t.source,3,n)}}n.push(i),e.model.pushStackElement(),e.setCursorStates(t.source,3,n)}}),e.LastCursorMoveToSelect=(0,a.fK)(new class extends w{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0);o[i]=v.P.moveTo(e,n[i],!0,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}});class _ extends w{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,v.P.moveToBeginningOfLine(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorHome=(0,a.fK)(new _({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=(0,a.fK)(new _({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class C extends w{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e){const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i],o=n.modelState.position.lineNumber;t[i]=d.Vi.fromModelState(n.modelState.move(this._inSelectionMode,o,1,0))}return t}}e.CursorLineStart=(0,a.fK)(new C({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:0,mac:{primary:287}}})),e.CursorLineStartSelect=(0,a.fK)(new C({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:0,mac:{primary:1311}}}));class y extends w{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,v.P.moveToEndOfLine(e,e.getCursorStates(),this._inSelectionMode,t.sticky||!1)),e.revealPrimaryCursor(t.source,!0)}}e.CursorEnd=(0,a.fK)(new y({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:b.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:n.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),e.CursorEndSelect=(0,a.fK)(new y({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:b.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:n.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class k extends w{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e,t){const i=[];for(let n=0,o=t.length;n<o;n++){const o=t[n],s=o.modelState.position.lineNumber,r=e.model.getLineMaxColumn(s);i[n]=d.Vi.fromModelState(o.modelState.move(this._inSelectionMode,s,r,0))}return i}}e.CursorLineEnd=(0,a.fK)(new k({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:0,mac:{primary:291}}})),e.CursorLineEndSelect=(0,a.fK)(new k({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:0,mac:{primary:1315}}}));class L extends w{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,v.P.moveToBeginningOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorTop=(0,a.fK)(new L({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=(0,a.fK)(new L({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class x extends w{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,v.P.moveToEndOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorBottom=(0,a.fK)(new x({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=(0,a.fK)(new x({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class I extends w{constructor(){super({id:"editorScroll",precondition:void 0,description:g.description})}runCoreEditorCommand(e,t){const i=g.parse(t);i&&this._runEditorScroll(e,t.source,i)}_runEditorScroll(e,t,i){const n=this._computeDesiredScrollTop(e,i);if(i.revealCursor){const o=e.getCompletelyVisibleViewRangeAtScrollTop(n);e.setCursorStates(t,3,[v.P.findPositionInViewportIfOutside(e,e.getPrimaryCursorState(),o,i.select)])}e.viewLayout.setScrollPosition({scrollTop:n},0)}_computeDesiredScrollTop(e,t){if(1===t.unit){const i=e.getCompletelyVisibleViewRange(),n=e.coordinatesConverter.convertViewRangeToModelRange(i);let o;o=1===t.direction?Math.max(1,n.startLineNumber-t.value):Math.min(e.model.getLineCount(),n.startLineNumber+t.value);const s=e.coordinatesConverter.convertModelPositionToViewPosition(new c.L(o,1));return e.viewLayout.getVerticalOffsetForLineNumber(s.lineNumber)}if(5===t.unit){let i=0;return 2===t.direction&&(i=e.model.getLineCount()-e.cursorConfig.pageSize),e.viewLayout.getVerticalOffsetForLineNumber(i)}let i;i=3===t.unit?e.cursorConfig.pageSize*t.value:4===t.unit?Math.round(e.cursorConfig.pageSize/2)*t.value:t.value;const n=(1===t.direction?-1:1)*i;return e.viewLayout.getCurrentScrollTop()+n*e.cursorConfig.lineHeight}}e.EditorScrollImpl=I,e.EditorScroll=(0,a.fK)(new I),e.ScrollLineUp=(0,a.fK)(new class extends w{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageUp=(0,a.fK)(new class extends w{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),e.ScrollEditorTop=(0,a.fK)(new class extends w{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:1,unit:5,value:1,revealCursor:!1,select:!1})}}),e.ScrollLineDown=(0,a.fK)(new class extends w{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageDown=(0,a.fK)(new class extends w{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}}),e.ScrollEditorBottom=(0,a.fK)(new class extends w{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:2,unit:5,value:1,revealCursor:!1,select:!1})}});class D extends w{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[v.P.word(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position)]),e.revealPrimaryCursor(t.source,!0)}}e.WordSelect=(0,a.fK)(new D({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=(0,a.fK)(new D({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=(0,a.fK)(new class extends w{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0),s=n[i];o[i]=v.P.word(e,s,s.modelState.hasSelection(),t.position),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}});class N extends w{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[v.P.line(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!1)}}e.LineSelect=(0,a.fK)(new N({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=(0,a.fK)(new N({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class E extends w{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0);o[i]=v.P.line(e,n[i],this._inSelectionMode,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}}e.LastCursorLineSelect=(0,a.fK)(new E({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=(0,a.fK)(new E({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.CancelSelection=(0,a.fK)(new class extends w{constructor(){super({id:"cancelSelection",precondition:b.u.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[v.P.cancelSelection(e,e.getPrimaryCursorState())]),e.revealPrimaryCursor(t.source,!0)}}),e.RemoveSecondaryCursors=(0,a.fK)(new class extends w{constructor(){super({id:"removeSecondaryCursors",precondition:b.u.hasMultipleSelections,kbOpts:{weight:1,kbExpr:b.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[e.getPrimaryCursorState()]),e.revealPrimaryCursor(t.source,!0),(0,r.i7)(n.NC("removedCursor","Removed secondary cursors"))}}),e.RevealLine=(0,a.fK)(new class extends w{constructor(){super({id:"revealLine",precondition:void 0,description:p.description})}runCoreEditorCommand(e,t){const i=t,n=i.lineNumber||0;let o="number"==typeof n?n+1:parseInt(n)+1;o<1&&(o=1);const s=e.model.getLineCount();o>s&&(o=s);const r=new h.e(o,1,o,e.model.getLineMaxColumn(o));let a=0;if(i.at)switch(i.at){case p.RawAtArgument.Top:a=3;break;case p.RawAtArgument.Center:a=1;break;case p.RawAtArgument.Bottom:a=4}const l=e.coordinatesConverter.convertModelRangeToViewRange(r);e.revealRange(t.source,!1,l,a,0)}}),e.SelectAll=new class extends S{constructor(){super(a.Sq)}runDOMCommand(){o.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditorCommand(n,i)}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates("keyboard",3,[v.P.selectAll(e,e.getPrimaryCursorState())])}},e.SetSelection=(0,a.fK)(new class extends w{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[d.Vi.fromModelSelection(t.selection)])}})}(m||(m={}));const k=C.Ao.and(b.u.textInputFocus,b.u.columnSelection);function L(e,t){y.W.registerKeybindingRule({id:e,primary:t,when:k,weight:1})}function x(e){return e.register(),e}var I;L(m.CursorColumnSelectLeft.id,1039),L(m.CursorColumnSelectRight.id,1041),L(m.CursorColumnSelectUp.id,1040),L(m.CursorColumnSelectPageUp.id,1035),L(m.CursorColumnSelectDown.id,1042),L(m.CursorColumnSelectPageDown.id,1036),function(e){class t extends a._l{runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditingCommand(t,n,i||{})}}e.CoreEditingCommand=t,e.LineBreakInsert=(0,a.fK)(new class extends t{constructor(){super({id:"lineBreakInsert",precondition:b.u.writable,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,_.u6.lineBreakInsert(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection))))}}),e.Outdent=(0,a.fK)(new class extends t{constructor(){super({id:"outdent",precondition:b.u.writable,kbOpts:{weight:0,kbExpr:C.Ao.and(b.u.editorTextFocus,b.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,_.u6.outdent(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.Tab=(0,a.fK)(new class extends t{constructor(){super({id:"tab",precondition:b.u.writable,kbOpts:{weight:0,kbExpr:C.Ao.and(b.u.editorTextFocus,b.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,_.u6.tab(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.DeleteLeft=(0,a.fK)(new class extends t{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(e,t,i){const[n,o]=f.A.deleteLeft(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)),t.getCursorAutoClosedCharacters());n&&e.pushUndoStop(),e.executeCommands(this.id,o),t.setPrevEditOperationType(2)}}),e.DeleteRight=(0,a.fK)(new class extends t{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:b.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(e,t,i){const[n,o]=f.A.deleteRight(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)));n&&e.pushUndoStop(),e.executeCommands(this.id,o),t.setPrevEditOperationType(3)}}),e.Undo=new class extends S{constructor(){super(a.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(e,t,i){if(t.hasModel()&&!0!==t.getOption(83))return t.getModel().undo()}},e.Redo=new class extends S{constructor(){super(a.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(e,t,i){if(t.hasModel()&&!0!==t.getOption(83))return t.getModel().redo()}}}(I||(I={}));class D extends a.mY{constructor(e,t,i){super({id:e,precondition:void 0,description:i}),this._handlerId=t}runCommand(e,t){const i=e.get(l.$).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)}}function N(e,t){x(new D("default:"+e,e)),x(new D(e,e,t))}N("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),N("replacePreviousChar"),N("compositionType"),N("compositionStart"),N("compositionEnd"),N("paste"),N("cut")},9889:(e,t,i)=>{"use strict";i.d(t,{Z0:()=>_,dR:()=>v,Bo:()=>p});var n=i(3547),o=i(9488),s=i(3278),r=i(1170),a=i(666),l=i(3897),d=i(988),c=i(9872);const h="CodeEditors",u="CodeFiles";const g={DragAndDropContribution:"workbench.contributions.dragAndDrop"};c.B.add(g.DragAndDropContribution,new class{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}});function p(e){const t=new s.Hl;for(const i of e.items){const e=i.type;if("string"===i.kind){const n=new Promise((e=>i.getAsString(e)));t.append(e,(0,s.ZO)(n))}else if("file"===i.kind){const n=i.getAsFile();n&&t.append(e,m(n))}}return t}function m(e){const t=e.path?a.o.parse(e.path):void 0;return(0,s.Ix)(e.name,t,(()=>{return t=this,i=void 0,o=function*(){return new Uint8Array(yield e.arrayBuffer())},new((n=void 0)||(n=Promise))((function(e,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,n,o}))}const f=Object.freeze([h,u,n.g.RESOURCES]);function v(e,t,i=!1){var o;if(t.dataTransfer&&(i||!e.has(r.v.uriList))){const i=function(e){var t;const i=[];if(e.dataTransfer&&e.dataTransfer.types.length>0){const o=e.dataTransfer.getData(h);if(o)try{i.push(...(0,l.Q)(o))}catch(e){}else try{const t=e.dataTransfer.getData(n.g.RESOURCES);i.push(...function(e){const t=[];if(e){const i=JSON.parse(e);for(const e of i)if(e.indexOf(":")>0){const{selection:i,uri:n}=(0,d.xI)(a.o.parse(e));t.push({resource:n,options:{selection:i}})}}return t}(t))}catch(e){}if(null===(t=e.dataTransfer)||void 0===t?void 0:t.files)for(let t=0;t<e.dataTransfer.files.length;t++){const n=e.dataTransfer.files[t];if(n&&n.path)try{i.push({resource:a.o.file(n.path),isExternal:!0,allowWorkspaceOpen:!0})}catch(e){}}const s=e.dataTransfer.getData(u);if(s)try{const e=JSON.parse(s);for(const t of e)i.push({resource:a.o.file(t),isExternal:!0,allowWorkspaceOpen:!0})}catch(e){}const r=c.B.as(g.DragAndDropContribution).getAll();for(const t of r){const n=e.dataTransfer.getData(t.dataFormatKey);if(n)try{i.push(...t.getEditorInputs(n))}catch(e){}}}return i}(t).filter((e=>e.resource)).map((e=>e.resource.toString()));for(const e of null===(o=t.dataTransfer)||void 0===o?void 0:o.items){const t=e.getAsFile();t&&i.push(t.path?a.o.file(t.path).toString():t.name)}i.length&&e.replace(r.v.uriList,(0,s.ZO)(_.create(i)))}for(const t of f)e.delete(t)}const _=Object.freeze({create:e=>(0,o.EB)(e.map((e=>e.toString()))).join("\r\n"),parse:e=>e.split("\r\n").filter((e=>!e.startsWith("#")))})},5520:(e,t,i)=>{"use strict";i.d(t,{CL:()=>o,Pi:()=>r,QI:()=>s});var n=i(6518);function o(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===n.g.ICodeEditor}function s(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===n.g.IDiffEditor}function r(e){return o(e)?e:s(e)?e.getModifiedEditor():null}},9994:(e,t,i)=>{"use strict";i.d(t,{AL:()=>_,N5:()=>f,Pp:()=>p,YN:()=>d,gy:()=>m,kG:()=>g,rU:()=>c,t7:()=>b,tC:()=>v});var n=i(5321),o=i(3911),s=i(7448),r=i(5393),a=i(5976),l=i(3910);class d{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new c(this.x-n.DI.scrollX,this.y-n.DI.scrollY)}}class c{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new d(this.clientX+n.DI.scrollX,this.clientY+n.DI.scrollY)}}class h{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n,this._editorPagePositionBrand=void 0}}class u{constructor(e,t){this.x=e,this.y=t,this._positionRelativeToEditorBrand=void 0}}function g(e){const t=n.i(e);return new h(t.left,t.top,t.width,t.height)}function p(e,t,i){const n=t.width/e.offsetWidth,o=t.height/e.offsetHeight,s=(i.x-t.x)/n,r=(i.y-t.y)/o;return new u(s,r)}class m extends s.n{constructor(e,t,i){super(e),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=t,this.pos=new d(this.posx,this.posy),this.editorPos=g(i),this.relativePos=p(i,this.editorPos,this.pos)}}class f{constructor(e){this._editorViewDomNode=e}_create(e){return new m(e,!1,this._editorViewDomNode)}onContextMenu(e,t){return n.nm(e,"contextmenu",(e=>{t(this._create(e))}))}onMouseUp(e,t){return n.nm(e,"mouseup",(e=>{t(this._create(e))}))}onMouseDown(e,t){return n.nm(e,n.tw.MOUSE_DOWN,(e=>{t(this._create(e))}))}onPointerDown(e,t){return n.nm(e,n.tw.POINTER_DOWN,(e=>{t(this._create(e),e.pointerId)}))}onMouseLeave(e,t){return n.nm(e,n.tw.MOUSE_LEAVE,(e=>{t(this._create(e))}))}onMouseMove(e,t){return n.nm(e,"mousemove",(e=>t(this._create(e))))}}class v{constructor(e){this._editorViewDomNode=e}_create(e){return new m(e,!1,this._editorViewDomNode)}onPointerUp(e,t){return n.nm(e,"pointerup",(e=>{t(this._create(e))}))}onPointerDown(e,t){return n.nm(e,n.tw.POINTER_DOWN,(e=>{t(this._create(e),e.pointerId)}))}onPointerLeave(e,t){return n.nm(e,n.tw.POINTER_LEAVE,(e=>{t(this._create(e))}))}onPointerMove(e,t){return n.nm(e,"pointermove",(e=>t(this._create(e))))}}class _ extends a.JT{constructor(e){super(),this._editorViewDomNode=e,this._globalPointerMoveMonitor=this._register(new o.C),this._keydownListener=null}startMonitoring(e,t,i,o,s){this._keydownListener=n.mu(document,"keydown",(e=>{e.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,e.browserEvent)}),!0),this._globalPointerMoveMonitor.startMonitoring(e,t,i,(e=>{o(new m(e,!0,this._editorViewDomNode))}),(e=>{this._keydownListener.dispose(),s(e)}))}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class b{constructor(e){this._editor=e,this._instanceId=++b._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new r.pY((()=>this.garbageCollect()),1e3)}createClassNameRef(e){const t=this.getOrCreateRule(e);return t.increaseRefCount(),{className:t.className,dispose:()=>{t.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(e){const t=this.computeUniqueKey(e);let i=this._rules.get(t);if(!i){const o=this._counter++;i=new C(t,`dyn-rule-${this._instanceId}-${o}`,n.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,e),this._rules.set(t,i)}return i}computeUniqueKey(e){return JSON.stringify(e)}garbageCollect(){for(const e of this._rules.values())e.hasReferences()||(this._rules.delete(e.key),e.dispose())}}b._idPool=0;class C{constructor(e,t,i,o){this.key=e,this.className=t,this.properties=o,this._referenceCount=0,this._styleElement=n.dS(i),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(e,t){let i=`.${e} {`;for(const e in t){const n=t[e];let o;o="object"==typeof n?`var(${(0,l.QO2)(n.id)})`:n,i+=`\n\t${y(e)}: ${o};`}return i+="\n}",i}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function y(e){return e.replace(/(^[A-Z])/,(([e])=>e.toLowerCase())).replace(/([A-Z])/g,(([e])=>`-${e.toLowerCase()}`))}},6830:(e,t,i)=>{"use strict";i.d(t,{AJ:()=>C,QG:()=>N,Qr:()=>I,R6:()=>S,Sq:()=>P,Uc:()=>n,_K:()=>E,_l:()=>w,fK:()=>x,jY:()=>k,kz:()=>R,mY:()=>b,n_:()=>M,rn:()=>D,sb:()=>L});var n,o=i(3580),s=i(666),r=i(1640),a=i(187),l=i(3733),d=i(8216),c=i(4144),h=i(4565),u=i(8819),g=i(2065),p=i(9989),m=i(9872),f=i(829),v=i(8401),_=i(3557);class b{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let e=t.kbExpr;this.precondition&&(e=e?u.Ao.and(e,this.precondition):this.precondition);const i={id:this.id,weight:t.weight,args:t.args,when:e,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};p.W.registerKeybindingRule(i)}}h.P0.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){c.BH.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class C extends b{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,i){return this._implementations.push({priority:e,name:t,implementation:i}),this._implementations.sort(((e,t)=>t.priority-e.priority)),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e].implementation===i)return void this._implementations.splice(e,1)}}}runCommand(e,t){const i=e.get(_.VZ);i.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const n of this._implementations){const o=n.implementation(e,t);if(o){if(i.trace(`Command '${this.id}' was handled by '${n.name}'.`),"boolean"==typeof o)return;return o}}i.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class y extends b{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class w extends b{static bindToContribution(e){return class extends w{constructor(e){super(e),this._callback=e.handler}runEditorCommand(t,i,n){const o=e(i);o&&this._callback(o,n)}}}static runEditorCommand(e,t,i,n){const o=e.get(r.$),s=o.getFocusedCodeEditor()||o.getActiveCodeEditor();if(s)return s.invokeWithinContext((e=>{if(e.get(u.i6).contextMatchesRules((0,v.f6)(i)))return n(e,s,t)}))}runCommand(e,t){return w.runEditorCommand(e,t,this.precondition,((e,t,i)=>this.runEditorCommand(e,t,i)))}}class S extends w{constructor(e){super(S.convertOptions(e)),this.label=e.label,this.alias=e.alias}static convertOptions(e){let t;function i(t){return t.menuId||(t.menuId=c.eH.EditorContext),t.title||(t.title=e.label),t.when=u.Ao.and(e.precondition,t.when),t}return t=Array.isArray(e.menuOpts)?e.menuOpts:e.menuOpts?[e.menuOpts]:[],Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get(f.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class k extends S{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort(((e,t)=>t[0]-e[0])),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e][1]===t)return void this._implementations.splice(e,1)}}}run(e,t,i){for(const n of this._implementations){const o=n[1](e,t,i);if(o){if("boolean"==typeof o)return;return o}}}}function L(e,t){h.P0.registerCommand(e,(function(e,...i){const n=e.get(g.TG),[o,r]=i;(0,v.p_)(s.o.isUri(o)),(0,v.p_)(a.L.isIPosition(r));const c=e.get(l.q).getModel(o);if(c){const e=a.L.lift(r);return n.invokeFunction(t,c,e,...i.slice(2))}return e.get(d.S).createModelReference(o).then((e=>new Promise(((o,s)=>{try{o(n.invokeFunction(t,e.object.textEditorModel,a.L.lift(r),i.slice(2)))}catch(e){s(e)}})).finally((()=>{e.dispose()}))))}))}function x(e){return A.INSTANCE.registerEditorCommand(e),e}function I(e){const t=new e;return A.INSTANCE.registerEditorAction(t),t}function D(e){return A.INSTANCE.registerEditorAction(e),e}function N(e){A.INSTANCE.registerEditorAction(e)}function E(e,t){A.INSTANCE.registerEditorContribution(e,t)}!function(e){e.getEditorCommand=function(e){return A.INSTANCE.getEditorCommand(e)},e.getEditorActions=function(){return A.INSTANCE.getEditorActions()},e.getEditorContributions=function(){return A.INSTANCE.getEditorContributions()},e.getSomeEditorContributions=function(e){return A.INSTANCE.getEditorContributions().filter((t=>e.indexOf(t.id)>=0))},e.getDiffEditorContributions=function(){return A.INSTANCE.getDiffEditorContributions()}}(n||(n={}));class A{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t){this.editorContributions.push({id:e,ctor:t})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}function T(e){return e.register(),e}A.INSTANCE=new A,m.B.add("editor.contributions",A.INSTANCE);const M=T(new C({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:c.eH.MenubarEditMenu,group:"1_do",title:o.NC({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:c.eH.CommandPalette,group:"",title:o.NC("undo","Undo"),order:1}]}));T(new y(M,{id:"default:undo",precondition:void 0}));const R=T(new C({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:c.eH.MenubarEditMenu,group:"1_do",title:o.NC({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:c.eH.CommandPalette,group:"",title:o.NC("redo","Redo"),order:1}]}));T(new y(R,{id:"default:redo",precondition:void 0}));const P=T(new C({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:c.eH.MenubarSelectionMenu,group:"1_basic",title:o.NC({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:c.eH.CommandPalette,group:"",title:o.NC("selectAll","Select All"),order:1}]}))},6007:(e,t,i)=>{"use strict";i.d(t,{Gl:()=>l,fo:()=>a,vu:()=>r});var n=i(2065),o=i(666),s=i(8401);const r=(0,n.yh)("IWorkspaceEditService");class a{constructor(e){this.metadata=e}static convert(e){return e.edits.map((e=>{if(l.is(e))return l.lift(e);if(d.is(e))return d.lift(e);throw new Error("Unsupported edit")}))}}class l extends a{constructor(e,t,i,n){super(n),this.resource=e,this.textEdit=t,this.versionId=i}static is(e){return e instanceof l||(0,s.Kn)(e)&&o.o.isUri(e.resource)&&(0,s.Kn)(e.textEdit)}static lift(e){return e instanceof l?e:new l(e.resource,e.textEdit,e.versionId,e.metadata)}}class d extends a{constructor(e,t,i={},n){super(n),this.oldResource=e,this.newResource=t,this.options=i}static is(e){return e instanceof d||(0,s.Kn)(e)&&(Boolean(e.newResource)||Boolean(e.oldResource))}static lift(e){return e instanceof d?e:new d(e.oldResource,e.newResource,e.options,e.metadata)}}},1640:(e,t,i)=>{"use strict";i.d(t,{$:()=>n});const n=(0,i(2065).yh)("codeEditorService")},3407:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});class n{constructor(e,t,i){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=i}static capture(e){let t=null,i=0;if(0!==e.getScrollTop()){const n=e.getVisibleRanges();if(n.length>0){t=n[0].getStartPosition();const o=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-o}}return new n(t,i,e.getPosition())}restore(e){if(this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}}},6180:(e,t,i)=>{"use strict";i.d(t,{Gm:()=>Eo});var n=i(6357),o=i(6830);let s=class{constructor(e,t){}dispose(){}};var r,a;s.ID="editor.contrib.markerDecorations",s=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(r=1,a=n.i,function(e,t){a(e,t,r)})],s),(0,o._K)(s.ID,s);var l=i(3580),d=i(5321),c=i(7301),h=i(4669),u=i(5976),g=i(6663),p=i(6268),m=i(9488),f=i(6248),v=i(1432),_=i(4534),b=i(7231);class C{constructor(e,t){this.key=e,this.migrate=t}apply(e){const t=C._read(e,this.key);this.migrate(t,(t=>C._read(e,t)),((t,i)=>C._write(e,t,i)))}static _read(e,t){if(void 0===e)return;const i=t.indexOf(".");if(i>=0){const n=t.substring(0,i);return this._read(e[n],t.substring(i+1))}return e[t]}static _write(e,t,i){const n=t.indexOf(".");if(n>=0){const o=t.substring(0,n);return e[o]=e[o]||{},void this._write(e[o],t.substring(n+1),i)}e[t]=i}}function y(e,t){C.items.push(new C(e,t))}function w(e,t){y(e,((i,n,o)=>{if(void 0!==i)for(const[n,s]of t)if(i===n)return void o(e,s)}))}C.items=[],w("wordWrap",[[!0,"on"],[!1,"off"]]),w("lineNumbers",[[!0,"on"],[!1,"off"]]),w("cursorBlinking",[["visible","solid"]]),w("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),w("renderLineHighlight",[[!0,"line"],[!1,"none"]]),w("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),w("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),w("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),w("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),w("autoIndent",[[!1,"advanced"],[!0,"full"]]),w("matchBrackets",[[!0,"always"],[!1,"never"]]),y("autoClosingBrackets",((e,t,i)=>{!1===e&&(i("autoClosingBrackets","never"),void 0===t("autoClosingQuotes")&&i("autoClosingQuotes","never"),void 0===t("autoSurround")&&i("autoSurround","never"))})),y("renderIndentGuides",((e,t,i)=>{void 0!==e&&(i("renderIndentGuides",void 0),void 0===t("guides.indentation")&&i("guides.indentation",!!e))})),y("highlightActiveIndentGuide",((e,t,i)=>{void 0!==e&&(i("highlightActiveIndentGuide",void 0),void 0===t("guides.highlightActiveIndentation")&&i("guides.highlightActiveIndentation",!!e))}));const S={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};y("suggest.filteredTypes",((e,t,i)=>{if(e&&"object"==typeof e){for(const n of Object.entries(S))!1===e[n[0]]&&void 0===t(`suggest.${n[1]}`)&&i(`suggest.${n[1]}`,!1);i("suggest.filteredTypes",void 0)}})),y("quickSuggestions",((e,t,i)=>{if("boolean"==typeof e){const t=e?"on":"off";i("quickSuggestions",{comments:t,strings:t,other:t})}}));var k=i(7940),L=i(4141),x=i(2334),I=i(7374),D=i(1106);let N=class extends u.JT{constructor(e,t,i,n){super(),this._accessibilityService=n,this._onDidChange=this._register(new h.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new h.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new L.LJ,this.isSimpleWidget=e,this._containerObserver=this._register(new _.I(i,t.dimension)),this._rawOptions=R(t),this._validatedOptions=M.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(x.C.onDidChangeZoomLevel((()=>this._recomputeOptions()))),this._register(k.n.onDidChangeTabFocus((()=>this._recomputeOptions()))),this._register(this._containerObserver.onDidChange((()=>this._recomputeOptions()))),this._register(b.g.onDidChange((()=>this._recomputeOptions()))),this._register(p.PixelRatio.onDidChange((()=>this._recomputeOptions()))),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized((()=>this._recomputeOptions())))}_recomputeOptions(){const e=this._computeOptions(),t=M.checkEquals(this.options,e);null!==t&&(this.options=e,this._onDidChangeFast.fire(t),this._onDidChange.fire(t))}_computeOptions(){const e=this._readEnvConfiguration(),t=I.E4.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),i=this._readFontInfo(t),n={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:i,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:k.n.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return M.computeOptions(this._validatedOptions,n)}_readEnvConfiguration(){return{extraEditorClassName:E(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:p.isWebKit||p.isFirefox,pixelRatio:p.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return b.g.readFontInfo(e)}getRawOptions(){return this._rawOptions}updateOptions(e){const t=R(e);M.applyUpdate(this._rawOptions,t)&&(this._validatedOptions=M.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){const t=function(e){let t=0;for(;e;)e=Math.floor(e/10),t++;return t||1}(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}};function E(){let e="";return p.isSafari||p.isWebkitWebView||(e+="no-user-select "),p.isSafari&&(e+="no-minimap-shadow ",e+="enable-user-select "),v.dz&&(e+="mac "),e}N=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(3,D.F)],N);class A{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class T{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,t){this._values[e]=t}}class M{static validateOptions(e){const t=new A;for(const i of L.Bc){const n="_never_"===i.name?void 0:e[i.name];t._write(i.id,i.validate(n))}return t}static computeOptions(e,t){const i=new T;for(const n of L.Bc)i._write(n.id,n.compute(t,i,e._read(n.id)));return i}static _deepEquals(e,t){if("object"!=typeof e||"object"!=typeof t||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return!(!Array.isArray(e)||!Array.isArray(t))&&m.fS(e,t);if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!M._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let n=!1;for(const o of L.Bc){const s=!M._deepEquals(e._read(o.id),t._read(o.id));i[o.id]=s,s&&(n=!0)}return n?new L.Bb(i):null}static applyUpdate(e,t){let i=!1;for(const n of L.Bc)if(t.hasOwnProperty(n.name)){const o=n.applyUpdate(e[n.name],t[n.name]);e[n.name]=o.newValue,i=i||o.didChange}return i}}function R(e){const t=f.I8(e);return function(e){C.items.forEach((t=>t.apply(e)))}(t),t}var P=i(1640),O=i(3860),V=i(8626),F=i(553),W=i(7448),z=i(5393),B=i(9994);class U extends u.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,n=e.length;i<n;i++){const n=e[i];switch(n.type){case 0:this.onCompositionStart(n)&&(t=!0);break;case 1:this.onCompositionEnd(n)&&(t=!0);break;case 2:this.onConfigurationChanged(n)&&(t=!0);break;case 3:this.onCursorStateChanged(n)&&(t=!0);break;case 4:this.onDecorationsChanged(n)&&(t=!0);break;case 5:this.onFlushed(n)&&(t=!0);break;case 6:this.onFocusChanged(n)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(n)&&(t=!0);break;case 8:this.onLineMappingChanged(n)&&(t=!0);break;case 9:this.onLinesChanged(n)&&(t=!0);break;case 10:this.onLinesDeleted(n)&&(t=!0);break;case 11:this.onLinesInserted(n)&&(t=!0);break;case 12:this.onRevealRangeRequest(n)&&(t=!0);break;case 13:this.onScrollChanged(n)&&(t=!0);break;case 15:this.onTokensChanged(n)&&(t=!0);break;case 14:this.onThemeChanged(n)&&(t=!0);break;case 16:this.onTokensColorsChanged(n)&&(t=!0);break;case 17:this.onZonesChanged(n)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(n)}}t&&(this._shouldRender=!0)}}class H extends U{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class G{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return null===t?0:parseInt(t,10)}static collect(e,t){const i=[];let n=0;for(;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[n++]=this.read(e)),e=e.parentElement;const o=new Uint8Array(n);for(let e=0;e<n;e++)o[e]=i[n-e-1];return o}}class j{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class K extends j{constructor(e,t,i){super(e,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class ${constructor(e,t,i){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i}}class q{constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}static from(e){const t=new Array(e.length);for(let i=0,n=e.length;i<n;i++){const n=e[i];t[i]=new q(n.left,n.width)}return t}toString(){return`[${this.left},${this.width}]`}}class Y{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class Q{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class Z{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class J{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,n,o){const s=this._createRange();try{return s.setStart(e,t),s.setEnd(i,n),s.getClientRects()}catch(e){return null}finally{this._detachRange(s,o)}}static _mergeAdjacentRanges(e){if(1===e.length)return e;e.sort(Y.compare);const t=[];let i=0,n=e[0];for(let o=1,s=e.length;o<s;o++){const s=e[o];n.left+n.width+.9>=s.left?n.width=Math.max(n.width,s.left+s.width-n.left):(t[i++]=n,n=s)}return t[i++]=n,t}static _createHorizontalRangesFromClientRects(e,t,i){if(!e||0===e.length)return null;const n=[];for(let o=0,s=e.length;o<s;o++){const s=e[o];n[o]=new Y(Math.max(0,(s.left-t)/i),s.width/i)}return this._mergeAdjacentRanges(n)}static readHorizontalRanges(e,t,i,n,o,s,r,a){const l=e.children.length-1;if(0>l)return null;if((t=Math.min(l,Math.max(0,t)))===(n=Math.min(l,Math.max(0,n)))&&i===o&&0===i&&!e.children[t].firstChild){const i=e.children[t].getClientRects();return this._createHorizontalRangesFromClientRects(i,s,r)}t!==n&&n>0&&0===o&&(n--,o=1073741824);let d=e.children[t].firstChild,c=e.children[n].firstChild;if(d&&c||(!d&&0===i&&t>0&&(d=e.children[t-1].firstChild,i=1073741824),!c&&0===o&&n>0&&(c=e.children[n-1].firstChild,o=1073741824)),!d||!c)return null;i=Math.min(d.textContent.length,Math.max(0,i)),o=Math.min(c.textContent.length,Math.max(0,o));const h=this._readClientRects(d,i,c,o,a);return this._createHorizontalRangesFromClientRects(h,s,r)}}var X=i(2550),ee=i(1557),te=i(2321);const ie=!!v.tY||!(v.IJ||p.isFirefox||p.isSafari);let ne=!0;class oe{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=t}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const e=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}class se{constructor(e,t){this.themeType=t;const i=e.options,n=i.get(46);this.renderWhitespace=i.get(90),this.renderControlCharacters=i.get(85),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.useMonospaceOptimizations=n.isMonospace&&!i.get(29),this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(61),this.stopRenderingLineAfter=i.get(107),this.fontLigatures=i.get(47)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class re{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=(0,V.X)(e)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return!(!(0,te.c3)(this._options.themeType)&&"selection"!==this._options.renderWhitespace||(this._isMaybeInvalid=!0,0))}renderLine(e,t,i,n){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const o=i.getViewLineRenderingData(e),s=this._options,r=X.Kp.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn);let a=null;if((0,te.c3)(s.themeType)||"selection"===this._options.renderWhitespace){const t=i.selections;for(const i of t){if(i.endLineNumber<e||i.startLineNumber>e)continue;const t=i.startLineNumber===e?i.startColumn:o.minColumn,n=i.endLineNumber===e?i.endColumn:o.maxColumn;t<n&&((0,te.c3)(s.themeType)||"selection"!==this._options.renderWhitespace?r.push(new X.Kp(t,n,"inline-selected-text",0)):(a||(a=[]),a.push(new ee.zG(t-1,n-1))))}}const l=new ee.IJ(s.useMonospaceOptimizations,s.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,r,o.tabSize,o.startVisibleColumn,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures!==L.n0.OFF,a);if(this._renderedViewLine&&this._renderedViewLine.input.equals(l))return!1;n.appendASCIIString('<div style="top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;height:"),n.appendASCIIString(String(this._options.lineHeight)),n.appendASCIIString('px;" class="'),n.appendASCIIString(re.CLASS_NAME),n.appendASCIIString('">');const d=(0,ee.d1)(l,n);n.appendASCIIString("</div>");let c=null;return ne&&ie&&o.isBasicASCII&&s.useMonospaceOptimizations&&0===d.containsForeignElements&&o.content.length<300&&l.lineTokens.getCount()<100&&(c=new ae(this._renderedViewLine?this._renderedViewLine.domNode:null,l,d.characterMapping)),c||(c=ce(this._renderedViewLine?this._renderedViewLine.domNode:null,l,d.characterMapping,d.containsRTL,d.containsForeignElements)),this._renderedViewLine=c,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof ae}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof ae?this._renderedViewLine.monospaceAssumptionsAreValid():ne}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof ae&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i,n){if(!this._renderedViewLine)return null;t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i));const o=this._renderedViewLine.input.stopRenderingLineAfter;let s=!1;-1!==o&&t>o+1&&i>o+1&&(s=!0),-1!==o&&t>o+1&&(t=o+1),-1!==o&&i>o+1&&(i=o+1);const r=this._renderedViewLine.getVisibleRangesForRange(e,t,i,n);return r&&r.length>0?new Z(s,r):null}getColumnOfNodeOffset(e,t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,i):1}}re.CLASS_NAME="view-line";class ae{constructor(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return ne;const e=this.getWidth(),t=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),ne=!1),ne}toSlowRenderedLine(){return ce(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,n){const o=this._getCharPosition(t),s=this._getCharPosition(i);return[new Y(o,s-o)]}_getCharPosition(e){const t=this._characterMapping.getHorizontalOffset(e);return this._charWidth*t}getColumnOfNodeOffset(e,t,i){const n=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new ee.Nd(o,i),n)}}class le{constructor(e,t,i,n,o){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!n||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let e=0,t=this._characterMapping.length;e<=t;e++)this._pixelOffsetCache[e]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(e,t,i,n){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const o=this._readPixelOffset(this.domNode,e,t,n);if(-1===o)return null;const s=this._readPixelOffset(this.domNode,e,i,n);return-1===s?null:[new Y(o,s-o)]}return this._readVisibleRangesForRange(this.domNode,e,t,i,n)}_readVisibleRangesForRange(e,t,i,n,o){if(i===n){const n=this._readPixelOffset(e,t,i,o);return-1===n?null:[new Y(n,0)]}return this._readRawVisibleRangesForRange(e,i,n,o)}_readPixelOffset(e,t,i,n){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const t=this._getReadingTarget(e);return t.firstChild?t.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const o=this._pixelOffsetCache[i];if(-1!==o)return o;const s=this._actualReadPixelOffset(e,t,i,n);return this._pixelOffsetCache[i]=s,s}return this._actualReadPixelOffset(e,t,i,n)}_actualReadPixelOffset(e,t,i,n){if(0===this._characterMapping.length){const t=J.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,n.clientRectDeltaLeft,n.clientRectScale,n.endNode);return t&&0!==t.length?t[0].left:-1}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const o=this._characterMapping.getDomPosition(i),s=J.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,o.partIndex,o.charIndex,n.clientRectDeltaLeft,n.clientRectScale,n.endNode);if(!s||0===s.length)return-1;const r=s[0].left;if(this.input.isBasicASCII){const e=this._characterMapping.getHorizontalOffset(i),t=Math.round(this.input.spaceWidth*e);if(Math.abs(t-r)<=1)return t}return r}_readRawVisibleRangesForRange(e,t,i,n){if(1===t&&i===this._characterMapping.length)return[new Y(0,this.getWidth())];const o=this._characterMapping.getDomPosition(t),s=this._characterMapping.getDomPosition(i);return J.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,s.partIndex,s.charIndex,n.clientRectDeltaLeft,n.clientRectScale,n.endNode)}getColumnOfNodeOffset(e,t,i){const n=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new ee.Nd(o,i),n)}}class de extends le{_readVisibleRangesForRange(e,t,i,n,o){const s=super._readVisibleRangesForRange(e,t,i,n,o);if(!s||0===s.length||i===n||1===i&&n===this._characterMapping.length)return s;if(!this.input.containsRTL){const i=this._readPixelOffset(e,t,n,o);if(-1!==i){const e=s[s.length-1];e.left<i&&(e.width=i-e.left)}}return s}}const ce=p.isWebKit?function(e,t,i,n,o){return new de(e,t,i,n,o)}:function(e,t,i,n,o){return new le(e,t,i,n,o)};var he,ue=i(187),ge=i(4314),pe=i(7988),me=i(7128);class fe{constructor(e=null){this.hitTarget=e,this.type=0}}class ve{constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}}!function(e){e.createFromDOMInfo=function(e,t,i){const n=e.getPositionFromDOMInfo(t,i);return n?new ve(n,t,null):new fe(t)}}(he||(he={}));class _e{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class be{static _deduceRage(e,t=null){return!t&&e?new ge.e(e.lineNumber,e.column,e.lineNumber,e.column):null!=t?t:null}static createUnknown(e,t,i){return{type:0,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createTextarea(e,t){return{type:1,element:e,mouseColumn:t,position:null,range:null}}static createMargin(e,t,i,n,o,s){return{type:e,element:t,mouseColumn:i,position:n,range:o,detail:s}}static createViewZone(e,t,i,n,o){return{type:e,element:t,mouseColumn:i,position:n,range:this._deduceRage(n),detail:o}}static createContentText(e,t,i,n,o){return{type:6,element:e,mouseColumn:t,position:i,range:this._deduceRage(i,n),detail:o}}static createContentEmpty(e,t,i,n){return{type:7,element:e,mouseColumn:t,position:i,range:this._deduceRage(i),detail:n}}static createContentWidget(e,t,i){return{type:9,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createScrollbar(e,t,i){return{type:11,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createOverlayWidget(e,t,i){return{type:12,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createOutsideEditor(e,t){return{type:13,element:null,mouseColumn:e,position:t,range:this._deduceRage(t)}}static _typeToString(e){return 1===e?"TEXTAREA":2===e?"GUTTER_GLYPH_MARGIN":3===e?"GUTTER_LINE_NUMBERS":4===e?"GUTTER_LINE_DECORATIONS":5===e?"GUTTER_VIEW_ZONE":6===e?"CONTENT_TEXT":7===e?"CONTENT_EMPTY":8===e?"CONTENT_VIEW_ZONE":9===e?"CONTENT_WIDGET":10===e?"OVERVIEW_RULER":11===e?"SCROLLBAR":12===e?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class Ce{static isTextArea(e){return 2===e.length&&3===e[0]&&6===e[1]}static isChildOfViewLines(e){return e.length>=4&&3===e[0]&&7===e[3]}static isStrictChildOfViewLines(e){return e.length>4&&3===e[0]&&7===e[3]}static isChildOfScrollableElement(e){return e.length>=2&&3===e[0]&&5===e[1]}static isChildOfMinimap(e){return e.length>=2&&3===e[0]&&8===e[1]}static isChildOfContentWidgets(e){return e.length>=4&&3===e[0]&&1===e[3]}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&2===e[0]}static isChildOfOverlayWidgets(e){return e.length>=2&&3===e[0]&&4===e[1]}}class ye{constructor(e,t,i){this.viewModel=e.viewModel;const n=e.configuration.options;this.layoutInfo=n.get(133),this.viewDomNode=t.viewDomNode,this.lineHeight=n.get(61),this.stickyTabStops=n.get(106),this.typicalHalfwidthCharacterWidth=n.get(46).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return ye.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){const n=i.verticalOffset+i.height/2,o=e.viewModel.getLineCount();let s,r=null,a=null;return i.afterLineNumber!==o&&(a=new ue.L(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(r=new ue.L(i.afterLineNumber,e.viewModel.getLineMaxColumn(i.afterLineNumber))),s=null===a?r:null===r?a:t<n?r:a,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:r,positionAfter:a,position:s}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const e=this._context.viewModel.getLineCount(),t=this._context.viewModel.getLineMaxColumn(e);return{range:new ge.e(e,t,e,t),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.viewModel.getLineMaxColumn(t);return{range:new ge.e(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return ye._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class we{constructor(e,t,i,n){this.editorPos=t,this.pos=i,this.relativePos=n,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,xe._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class Se extends we{constructor(e,t,i,n,o){super(e,t,i,n),this._ctx=e,o?(this.target=o,this.targetPath=G.collect(o,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(e=null){return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?pe.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return be.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return be.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,t,i,n){return be.createMargin(e,this.target,this._getMouseColumn(t),t,i,n)}fulfillViewZone(e,t,i){return be.createViewZone(e,this.target,this._getMouseColumn(t),t,i)}fulfillContentText(e,t,i){return be.createContentText(this.target,this._getMouseColumn(e),e,t,i)}fulfillContentEmpty(e,t){return be.createContentEmpty(this.target,this._getMouseColumn(e),e,t)}fulfillContentWidget(e){return be.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return be.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return be.createOverlayWidget(this.target,this._getMouseColumn(),e)}withTarget(e){return new Se(this._ctx,this.editorPos,this.pos,this.relativePos,e)}}const ke={isAfterLines:!0};function Le(e){return{isAfterLines:!1,horizontalDistanceToText:e}}class xe{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,i=G.collect(t,this._viewHelper.viewDomNode);return!(!Ce.isChildOfContentWidgets(i)&&!Ce.isChildOfOverflowingContentWidgets(i)&&!Ce.isChildOfOverlayWidgets(i))}createMouseTarget(e,t,i,n,o){const s=new ye(this._context,this._viewHelper,e),r=new Se(s,t,i,n,o);try{return xe._createMouseTarget(s,r,!1)}catch(e){return r.fulfillUnknown()}}static _createMouseTarget(e,t,i){if(null===t.target){if(i)return t.fulfillUnknown();const n=xe._doHitTest(e,t);return 1===n.type?xe.createMouseTargetFromHitTestPosition(e,t,n.spanNode,n.position,n.injectedText):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}const n=t;let o=null;return o=o||xe._hitTestContentWidget(e,n),o=o||xe._hitTestOverlayWidget(e,n),o=o||xe._hitTestMinimap(e,n),o=o||xe._hitTestScrollbarSlider(e,n),o=o||xe._hitTestViewZone(e,n),o=o||xe._hitTestMargin(e,n),o=o||xe._hitTestViewCursor(e,n),o=o||xe._hitTestTextArea(e,n),o=o||xe._hitTestViewLines(e,n,i),o=o||xe._hitTestScrollbar(e,n),o||t.fulfillUnknown()}static _hitTestContentWidget(e,t){if(Ce.isChildOfContentWidgets(t.targetPath)||Ce.isChildOfOverflowingContentWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillContentWidget(i):t.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,t){if(Ce.isChildOfOverlayWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillOverlayWidget(i):t.fulfillUnknown()}return null}static _hitTestViewCursor(e,t){if(t.target){const i=e.lastRenderData.lastViewCursorsRenderData;for(const e of i)if(t.target===e.domNode)return t.fulfillContentText(e.position,null,{mightBeForeignElement:!1,injectedText:null})}if(t.isInContentArea){const i=e.lastRenderData.lastViewCursorsRenderData,n=t.mouseContentHorizontalOffset,o=t.mouseVerticalOffset;for(const s of i){if(n<s.contentLeft)continue;if(n>s.contentLeft+s.width)continue;const i=e.getVerticalOffsetForLineNumber(s.position.lineNumber);if(i<=o&&o<=i+s.height)return t.fulfillContentText(s.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,t){const i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){const e=t.isInContentArea?8:5;return t.fulfillViewZone(e,i.position,i)}return null}static _hitTestTextArea(e,t){return Ce.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):t.fulfillTextarea():null}static _hitTestMargin(e,t){if(t.isInMarginArea){const i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),n=i.range.getStartPosition();let o=Math.abs(t.relativePos.x);const s={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};return o-=e.layoutInfo.glyphMarginLeft,o<=e.layoutInfo.glyphMarginWidth?t.fulfillMargin(2,n,i.range,s):(o-=e.layoutInfo.glyphMarginWidth,o<=e.layoutInfo.lineNumbersWidth?t.fulfillMargin(3,n,i.range,s):(o-=e.layoutInfo.lineNumbersWidth,t.fulfillMargin(4,n,i.range,s)))}return null}static _hitTestViewLines(e,t,i){if(!Ce.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfillContentEmpty(new ue.L(1,1),ke);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const i=e.viewModel.getLineCount(),n=e.viewModel.getLineMaxColumn(i);return t.fulfillContentEmpty(new ue.L(i,n),ke)}if(i){if(Ce.isStrictChildOfViewLines(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(0===e.viewModel.getLineLength(i)){const n=e.getLineWidth(i),o=Le(t.mouseContentHorizontalOffset-n);return t.fulfillContentEmpty(new ue.L(i,1),o)}const n=e.getLineWidth(i);if(t.mouseContentHorizontalOffset>=n){const o=Le(t.mouseContentHorizontalOffset-n),s=new ue.L(i,e.viewModel.getLineMaxColumn(i));return t.fulfillContentEmpty(s,o)}}return t.fulfillUnknown()}const n=xe._doHitTest(e,t);return 1===n.type?xe.createMouseTargetFromHitTestPosition(e,t,n.spanNode,n.position,n.injectedText):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}static _hitTestMinimap(e,t){if(Ce.isChildOfMinimap(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new ue.L(i,n))}return null}static _hitTestScrollbarSlider(e,t){if(Ce.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){const i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new ue.L(i,n))}}return null}static _hitTestScrollbar(e,t){if(Ce.isChildOfScrollableElement(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new ue.L(i,n))}return null}getMouseColumn(e){const t=this._context.configuration.options,i=t.get(133),n=this._context.viewLayout.getCurrentScrollLeft()+e.x-i.contentLeft;return xe._getMouseColumn(n,t.get(46).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){return e<0?1:Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,n,o){const s=n.lineNumber,r=n.column,a=e.getLineWidth(s);if(t.mouseContentHorizontalOffset>a){const e=Le(t.mouseContentHorizontalOffset-a);return t.fulfillContentEmpty(n,e)}const l=e.visibleRangeForPosition(s,r);if(!l)return t.fulfillUnknown(n);const d=l.left;if(t.mouseContentHorizontalOffset===d)return t.fulfillContentText(n,null,{mightBeForeignElement:!!o,injectedText:o});const c=[];if(c.push({offset:l.left,column:r}),r>1){const t=e.visibleRangeForPosition(s,r-1);t&&c.push({offset:t.left,column:r-1})}if(r<e.viewModel.getLineMaxColumn(s)){const t=e.visibleRangeForPosition(s,r+1);t&&c.push({offset:t.left,column:r+1})}c.sort(((e,t)=>e.offset-t.offset));const h=t.pos.toClientCoordinates(),u=i.getBoundingClientRect(),g=u.left<=h.clientX&&h.clientX<=u.right;for(let e=1;e<c.length;e++){const i=c[e-1],n=c[e];if(i.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=n.offset){const e=new ge.e(s,i.column,s,n.column),r=Math.abs(i.offset-t.mouseContentHorizontalOffset)<Math.abs(n.offset-t.mouseContentHorizontalOffset)?new ue.L(s,i.column):new ue.L(s,n.column);return t.fulfillContentText(r,e,{mightBeForeignElement:!g||!!o,injectedText:o})}}return t.fulfillContentText(n,null,{mightBeForeignElement:!g||!!o,injectedText:o})}static _doHitTestWithCaretRangeFromPoint(e,t){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.getVerticalOffsetForLineNumber(i)+Math.floor(e.lineHeight/2);let o=t.pos.y+(n-t.mouseVerticalOffset);o<=t.editorPos.y&&(o=t.editorPos.y+1),o>=t.editorPos.y+t.editorPos.height&&(o=t.editorPos.y+t.editorPos.height-1);const s=new B.YN(t.pos.x,o),r=this._actualDoHitTestWithCaretRangeFromPoint(e,s.toClientCoordinates());return 1===r.type?r:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=d.Ay(e.viewDomNode);let n;if(n=i?void 0===i.caretRangeFromPoint?function(e,t,i){const n=document.createRange();let o=e.elementFromPoint(t,i);if(null!==o){for(;o&&o.firstChild&&o.firstChild.nodeType!==o.firstChild.TEXT_NODE&&o.lastChild&&o.lastChild.firstChild;)o=o.lastChild;const e=o.getBoundingClientRect(),i=window.getComputedStyle(o,null).getPropertyValue("font"),s=o.innerText;let r,a=e.left,l=0;if(t>e.left+e.width)l=s.length;else{const e=Ie.getInstance();for(let n=0;n<s.length+1;n++){if(r=e.getCharWidth(s.charAt(n),i)/2,a+=r,t<a){l=n;break}a+=r}}n.setStart(o.firstChild,l),n.setEnd(o.firstChild,l)}return n}(i,t.clientX,t.clientY):i.caretRangeFromPoint(t.clientX,t.clientY):document.caretRangeFromPoint(t.clientX,t.clientY),!n||!n.startContainer)return new fe;const o=n.startContainer;if(o.nodeType===o.TEXT_NODE){const t=o.parentNode,i=t?t.parentNode:null,s=i?i.parentNode:null;return(s&&s.nodeType===s.ELEMENT_NODE?s.className:null)===re.CLASS_NAME?he.createFromDOMInfo(e,t,n.startOffset):new fe(o.parentNode)}if(o.nodeType===o.ELEMENT_NODE){const t=o.parentNode,i=t?t.parentNode:null;return(i&&i.nodeType===i.ELEMENT_NODE?i.className:null)===re.CLASS_NAME?he.createFromDOMInfo(e,o,o.textContent.length):new fe(o)}return new fe}static _doHitTestWithCaretPositionFromPoint(e,t){const i=document.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const t=i.offsetNode.parentNode,n=t?t.parentNode:null,o=n?n.parentNode:null;return(o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===re.CLASS_NAME?he.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new fe(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const t=i.offsetNode.parentNode,n=t&&t.nodeType===t.ELEMENT_NODE?t.className:null,o=t?t.parentNode:null,s=o&&o.nodeType===o.ELEMENT_NODE?o.className:null;if(n===re.CLASS_NAME){const t=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(t)return he.createFromDOMInfo(e,t,0)}else if(s===re.CLASS_NAME)return he.createFromDOMInfo(e,i.offsetNode,0)}return new fe(i.offsetNode)}static _snapToSoftTabBoundary(e,t){const i=t.getLineContent(e.lineNumber),{tabSize:n}=t.model.getOptions(),o=me.l.atomicPosition(i,e.column-1,n,2);return-1!==o?new ue.L(e.lineNumber,o+1):e}static _doHitTest(e,t){let i=new fe;if("function"==typeof document.caretRangeFromPoint?i=this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())),1===i.type){const t=e.viewModel.getInjectedTextAt(i.position),n=e.viewModel.normalizePosition(i.position,2);!t&&n.equals(i.position)||(i=new ve(n,i.spanNode,t))}return 1===i.type&&e.stickyTabStops&&(i=new ve(this._snapToSoftTabBoundary(i.position,e.viewModel),i.spanNode,i.injectedText)),i}}class Ie{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return Ie._INSTANCE||(Ie._INSTANCE=new Ie),Ie._INSTANCE}getCharWidth(e,t){const i=e+t;if(this._cache[i])return this._cache[i];const n=this._canvas.getContext("2d");n.font=t;const o=n.measureText(e).width;return this._cache[i]=o,o}}Ie._INSTANCE=null;class De extends U{constructor(e,t,i){super(),this._mouseLeaveMonitor=null,this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new xe(this._context,i),this._mouseDownOperation=this._register(new Ne(this._context,this.viewController,this.viewHelper,((e,t)=>this._createMouseTarget(e,t)),(e=>this._getMouseColumn(e)))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(133).height;const n=new B.N5(this.viewHelper.viewDomNode);this._register(n.onContextMenu(this.viewHelper.viewDomNode,(e=>this._onContextMenu(e,!0)))),this._register(n.onMouseMove(this.viewHelper.viewDomNode,(e=>{this._onMouseMove(e),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=d.nm(document,"mousemove",(e=>{this.viewHelper.viewDomNode.contains(e.target)||this._onMouseLeave(new B.gy(e,!1,this.viewHelper.viewDomNode))})))}))),this._register(n.onMouseUp(this.viewHelper.viewDomNode,(e=>this._onMouseUp(e)))),this._register(n.onMouseLeave(this.viewHelper.viewDomNode,(e=>this._onMouseLeave(e))));let o=0;this._register(n.onPointerDown(this.viewHelper.viewDomNode,((e,t)=>{o=t}))),this._register(d.nm(this.viewHelper.viewDomNode,d.tw.POINTER_UP,(e=>{this._mouseDownOperation.onPointerUp()}))),this._register(n.onMouseDown(this.viewHelper.viewDomNode,(e=>this._onMouseDown(e,o)))),this._register(d.nm(this.viewHelper.viewDomNode,d.tw.MOUSE_WHEEL,(e=>{if(this.viewController.emitMouseWheel(e),!this._context.configuration.options.get(70))return;const t=new W.q(e);if(v.dz?(e.metaKey||e.ctrlKey)&&!e.shiftKey&&!e.altKey:e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey){const e=x.C.getZoomLevel(),i=t.deltaY>0?1:-1;x.C.setZoomLevel(e+i),t.preventDefault(),t.stopPropagation()}}),{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(133)){const e=this._context.configuration.options.get(133).height;this._height!==e&&(this._height=e,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,t){const i=new B.rU(e,t).toPageCoordinates(),n=(0,B.kG)(this.viewHelper.viewDomNode);if(i.y<n.y||i.y>n.y+n.height||i.x<n.x||i.x>n.x+n.width)return null;const o=(0,B.Pp)(this.viewHelper.viewDomNode,n,i);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),n,i,o,null)}_createMouseTarget(e,t){let i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){const t=d.Ay(this.viewHelper.viewDomNode);t&&(i=t.elementsFromPoint(e.posx,e.posy).find((e=>this.viewHelper.viewDomNode.contains(e))))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,t?i:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e,t){const i=this._createMouseTarget(e,!0),n=6===i.type||7===i.type,o=2===i.type||3===i.type||4===i.type,s=3===i.type,r=this._context.configuration.options.get(100),a=8===i.type||5===i.type,l=9===i.type;let d=e.leftButton||e.middleButton;v.dz&&e.leftButton&&e.ctrlKey&&(d=!1);const c=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(d&&(n||s&&r))c(),this._mouseDownOperation.start(i.type,e,t);else if(o)e.preventDefault();else if(a){const n=i.detail;d&&this.viewHelper.shouldSuppressMouseDownOnViewZone(n.viewZoneId)&&(c(),this._mouseDownOperation.start(i.type,e,t),e.preventDefault())}else l&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(c(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:i})}}class Ne extends u.JT{constructor(e,t,i,n,o){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._createMouseTarget=n,this._getMouseColumn=o,this._mouseMoveMonitor=this._register(new B.AL(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new z._F),this._mouseState=new Ee,this._currentSelection=new O.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!1);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}start(e,t,i){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const n=this._findMousePosition(t,!0);if(!n||!n.position)return;this._mouseState.trySetCount(t.detail,n.position),t.detail=this._mouseState.count;const o=this._context.configuration.options;if(!o.get(83)&&o.get(31)&&!o.get(18)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===n.type&&n.position&&this._currentSelection.containsPosition(n.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,(e=>this._onMouseDownThenMove(e)),(e=>{const t=this._findMousePosition(this._lastMouseEvent,!1);e&&e instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:t?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()}));this._mouseState.isDragAndDrop=!1,this._dispatchMouse(n,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,(e=>this._onMouseDownThenMove(e)),(()=>this._stop())))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet((()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);e&&(this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0))}),10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,i=this._context.viewModel,n=this._context.viewLayout,o=this._getMouseColumn(e);if(e.posy<t.y){const i=Math.max(n.getCurrentScrollTop()-(t.y-e.posy),0),s=ye.getZoneAtCoord(this._context,i);if(s){const e=this._helpPositionJumpOverViewZone(s);if(e)return be.createOutsideEditor(o,e)}const r=n.getLineNumberAtVerticalOffset(i);return be.createOutsideEditor(o,new ue.L(r,1))}if(e.posy>t.y+t.height){const t=n.getCurrentScrollTop()+e.relativePos.y,s=ye.getZoneAtCoord(this._context,t);if(s){const e=this._helpPositionJumpOverViewZone(s);if(e)return be.createOutsideEditor(o,e)}const r=n.getLineNumberAtVerticalOffset(t);return be.createOutsideEditor(o,new ue.L(r,i.getLineMaxColumn(r)))}const s=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+e.relativePos.y);return e.posx<t.x?be.createOutsideEditor(o,new ue.L(s,1)):e.posx>t.x+t.width?be.createOutsideEditor(o,new ue.L(s,i.getLineMaxColumn(s))):null}_findMousePosition(e,t){const i=this._getPositionOutsideEditor(e);if(i)return i;const n=this._createMouseTarget(e,t);if(!n.position)return null;if(8===n.type||5===n.type){const e=this._helpPositionJumpOverViewZone(n.detail);if(e)return be.createViewZone(n.type,n.element,n.mouseColumn,e,n.detail)}return n}_helpPositionJumpOverViewZone(e){const t=new ue.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,n=e.positionAfter;return i&&n?i.isBefore(t)?i:n:null}_dispatchMouse(e,t){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:6===e.type&&null!==e.detail.injectedText})}}class Ee{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const i=(new Date).getTime();i-this._lastSetMouseDownCountTime>Ee.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}Ee.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var Ae=i(161),Te=i(5715);class Me extends De{constructor(e,t,i){super(e,t,i),this._register(F.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(d.nm(this.viewHelper.linesContentDomNode,F.t.Tap,(e=>this.onTap(e)))),this._register(d.nm(this.viewHelper.linesContentDomNode,F.t.Change,(e=>this.onChange(e)))),this._register(d.nm(this.viewHelper.linesContentDomNode,F.t.Contextmenu,(e=>this._onContextMenu(new B.gy(e,!1,this.viewHelper.viewDomNode),!1)))),this._lastPointerType="mouse",this._register(d.nm(this.viewHelper.linesContentDomNode,"pointerdown",(e=>{const t=e.pointerType;this._lastPointerType="mouse"!==t?"touch"===t?"touch":"pen":"mouse"})));const n=new B.tC(this.viewHelper.viewDomNode);this._register(n.onPointerMove(this.viewHelper.viewDomNode,(e=>this._onMouseMove(e)))),this._register(n.onPointerUp(this.viewHelper.viewDomNode,(e=>this._onMouseUp(e)))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,(e=>this._onMouseLeave(e)))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,((e,t)=>this._onMouseDown(e,t))))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new B.gy(e,!1,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:6===t.type&&null!==t.detail.injectedText})}onChange(e){"touch"===this._lastPointerType&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e,t){"touch"!==e.browserEvent.pointerType&&super._onMouseDown(e,t)}}class Re extends De{constructor(e,t,i){super(e,t,i),this._register(F.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(d.nm(this.viewHelper.linesContentDomNode,F.t.Tap,(e=>this.onTap(e)))),this._register(d.nm(this.viewHelper.linesContentDomNode,F.t.Change,(e=>this.onChange(e)))),this._register(d.nm(this.viewHelper.linesContentDomNode,F.t.Contextmenu,(e=>this._onContextMenu(new B.gy(e,!1,this.viewHelper.viewDomNode),!1))))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new B.gy(e,!1,this.viewHelper.viewDomNode),!1);if(t.position){const e=document.createEvent("CustomEvent");e.initEvent(Te.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(e),this.viewController.moveTo(t.position)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}}class Pe extends u.JT{constructor(e,t,i){super(),v.gn&&Ae.D.pointerEvents?this.handler=this._register(new Me(e,t,i)):window.TouchEvent?this.handler=this._register(new Re(e,t,i)):this.handler=this._register(new De(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}var Oe=i(7295),Ve=i(2136),Fe=i(5887);class We extends U{}var ze=i(8625),Be=i(7781);class Ue extends We{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new ue.L(1,1),this._lastCursorViewPosition=new ue.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(61);const t=e.get(62);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(86);const i=e.get(133);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorViewPosition=t,this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t);let i=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,i=!0),2!==this._renderLineNumbers&&3!==this._renderLineNumbers||(i=!0),i}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const t=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(e,1));if(1!==t.column)return"";const i=t.lineNumber;return this._renderCustomLineNumbers?this._renderCustomLineNumbers(i):3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===i||i%10==0?String(i):"":String(i)}prepareRender(e){if(0===this._renderLineNumbers)return void(this._renderResult=null);const t=v.IJ?this._lineHeight%2==0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o='<div class="'+Ue.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">';let s=null;if(2===this._renderLineNumbers){s=new Array(n-i+1),this._lastCursorViewPosition.lineNumber>=i&&this._lastCursorViewPosition.lineNumber<=n&&(s[this._lastCursorViewPosition.lineNumber-i]=this._lastCursorModelPosition.lineNumber);{let e=0;for(let t=this._lastCursorViewPosition.lineNumber+1;t<=n;t++){const n=1!==this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(t,1)).column;n||e++,t>=i&&(s[t-i]=n?0:e)}}{let e=0;for(let t=this._lastCursorViewPosition.lineNumber-1;t>=i;t--){const o=1!==this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(t,1)).column;o||e++,t<=n&&(s[t-i]=o?0:e)}}}const r=this._context.viewModel.getLineCount(),a=[];for(let e=i;e<=n;e++){const n=e-i;if(!this._renderFinalNewline&&e===r&&0===this._context.viewModel.getLineLength(e)){a[n]="";continue}let l;if(s){const t=s[n];l=this._lastCursorViewPosition.lineNumber===e?`<span class="relative-current-line-number">${t}</span>`:t?String(t):""}else l=this._getLineRenderLineNumber(e);l?e===this._activeLineNumber?a[n]='<div class="active-line-number '+Ue.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+l+"</div>":a[n]=o+l+"</div>":a[n]=""}this._renderResult=a}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}Ue.CLASS_NAME="line-numbers",(0,Be.Ic)(((e,t)=>{const i=e.getColor(ze.hw);i&&t.addRule(`.monaco-editor .line-numbers { color: ${i}; }`);const n=e.getColor(ze.DD);n&&t.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${n}; }`)}));class He extends H{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(133);this._canUseLayerHinting=!t.get(28),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=(0,V.X)(document.createElement("div")),this._domNode.setClassName(He.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,V.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(He.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(133);return this._canUseLayerHinting=!t.get(28),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}}He.CLASS_NAME="glyph-margin",He.OUTER_CLASS_NAME="margin";var Ge=i(4929),je=i(6542),Ke=i(6887),$e=i(1264);class qe{constructor(e,t,i,n,o){this._context=e,this.modelLineNumber=t,this.distanceToModelLineStart=i,this.widthOfHiddenLineTextBefore=n,this.distanceToModelLineEnd=o,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){const t=new ue.L(this.modelLineNumber,this.distanceToModelLineStart+1),i=new ue.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(this._previousPresentation=e||{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const Ye=p.isFirefox;class Qe extends H{constructor(e,t,i){super(e),this._primaryCursorPosition=new ue.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._visibleRangeProvider=i,this._scrollLeft=0,this._scrollTop=0;const n=this._context.configuration.options,o=n.get(133);this._setAccessibilityOptions(n),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,this._contentHeight=o.height,this._fontInfo=n.get(46),this._lineHeight=n.get(61),this._emptySelectionClipboard=n.get(33),this._copyWithSyntaxHighlighting=n.get(21),this._visibleTextArea=null,this._selections=[new O.Y(1,1,1,1)],this._modelSelections=[new O.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,V.X)(document.createElement("textarea")),G.write(this.textArea,6),this.textArea.setClassName(`inputarea ${je.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(n)),this.textArea.setAttribute("tabindex",String(n.get(114))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",l.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),n.get(30)&&n.get(83)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,V.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const s={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:e=>this._context.viewModel.getLineMaxColumn(e),getValueInRange:(e,t)=>this._context.viewModel.getValueInRange(e,t)},r={getDataToCopy:()=>{const e=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,v.ED),t=this._context.viewModel.model.getEOL(),i=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),n=Array.isArray(e)?e:null,o=Array.isArray(e)?e.join(t):e;let s,r=null;if(Te.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&o.length<65536){const e=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);e&&(s=e.html,r=e.mode)}return{isFromEmptySelection:i,multicursorText:n,text:o,html:s,mode:r}},getScreenReaderContent:e=>{if(1===this._accessibilitySupport){const e=this._selections[0];if(v.dz&&e.isEmpty()){const t=e.getStartPosition();let i=this._getWordBeforePosition(t);if(0===i.length&&(i=this._getCharacterBeforePosition(t)),i.length>0)return new Fe.un(i,i.length,i.length,t,t)}if(p.isSafari&&!e.isEmpty()){const e="vscode-placeholder";return new Fe.un(e,0,e.length,null,null)}return Fe.un.EMPTY}if(p.isAndroid){const e=this._selections[0];if(e.isEmpty()){const t=e.getStartPosition(),[i,n]=this._getAndroidWordAtPosition(t);if(i.length>0)return new Fe.un(i,n,n,t,t)}return Fe.un.EMPTY}return Fe.ee.fromEditorSelection(e,s,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(e,t,i)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(e,t,i)},a=this._register(new Te.Tj(this.textArea.domNode));this._textAreaInput=this._register(new Te.Fz(r,a,v.OS,p)),this._register(this._textAreaInput.onKeyDown((e=>{this._viewController.emitKeyDown(e)}))),this._register(this._textAreaInput.onKeyUp((e=>{this._viewController.emitKeyUp(e)}))),this._register(this._textAreaInput.onPaste((e=>{let t=!1,i=null,n=null;e.metadata&&(t=this._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,i=void 0!==e.metadata.multicursorText?e.metadata.multicursorText:null,n=e.metadata.mode),this._viewController.paste(e.text,t,i,n)}))),this._register(this._textAreaInput.onCut((()=>{this._viewController.cut()}))),this._register(this._textAreaInput.onType((e=>{e.replacePrevCharCnt||e.replaceNextCharCnt||e.positionDelta?(Fe.al&&console.log(` => compositionType: <<${e.text}>>, ${e.replacePrevCharCnt}, ${e.replaceNextCharCnt}, ${e.positionDelta}`),this._viewController.compositionType(e.text,e.replacePrevCharCnt,e.replaceNextCharCnt,e.positionDelta)):(Fe.al&&console.log(` => type: <<${e.text}>>`),this._viewController.type(e.text))}))),this._register(this._textAreaInput.onSelectionChangeRequest((e=>{this._viewController.setSelection(e)}))),this._register(this._textAreaInput.onCompositionStart((e=>{const t=this.textArea.domNode,i=this._modelSelections[0],{distanceToModelLineStart:n,widthOfHiddenTextBefore:o}=(()=>{const e=t.value.substring(0,Math.min(t.selectionStart,t.selectionEnd)),n=e.lastIndexOf("\n"),o=e.substring(n+1),s=o.lastIndexOf("\t"),r=o.length-s-1,a=i.getStartPosition(),l=Math.min(a.column-1,r);return{distanceToModelLineStart:a.column-1-l,widthOfHiddenTextBefore:function(e,t){if(0===e.length)return 0;const i=document.createElement("div");i.style.position="absolute",i.style.top="-50000px",i.style.width="50000px";const n=document.createElement("span");(0,Ve.N)(n,t),n.style.whiteSpace="pre",n.append(e),i.appendChild(n),document.body.appendChild(i);const o=n.offsetWidth;return document.body.removeChild(i),o}(o.substring(0,o.length-l),this._fontInfo)}})(),{distanceToModelLineEnd:s}=(()=>{const e=t.value.substring(Math.max(t.selectionStart,t.selectionEnd)),n=e.indexOf("\n"),o=-1===n?e:e.substring(0,n),s=o.indexOf("\t"),r=-1===s?o.length:o.length-s-1,a=i.getEndPosition(),l=Math.min(this._context.viewModel.model.getLineMaxColumn(a.lineNumber)-a.column,r);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(a.lineNumber)-a.column-l}})();this._context.viewModel.revealRange("keyboard",!0,ge.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new qe(this._context,i.startLineNumber,n,o,s),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${je.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()}))),this._register(this._textAreaInput.onCompositionUpdate((e=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())}))),this._register(this._textAreaInput.onCompositionEnd((()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${je.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()}))),this._register(this._textAreaInput.onFocus((()=>{this._context.viewModel.setHasFocus(!0)}))),this._register(this._textAreaInput.onBlur((()=>{this._context.viewModel.setHasFocus(!1)})))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t=this._context.viewModel.getLineContent(e.lineNumber),i=(0,Ge.u)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let n=!0,o=e.column,s=!0,r=e.column,a=0;for(;a<50&&(n||s);){if(n&&o<=1&&(n=!1),n){const e=t.charCodeAt(o-2);0!==i.get(e)?n=!1:o--}if(s&&r>t.length&&(s=!1),s){const e=t.charCodeAt(r-1);0!==i.get(e)?s=!1:r++}a++}return[t.substring(o-1,r-1),e.column-o]}_getWordBeforePosition(e){const t=this._context.viewModel.getLineContent(e.lineNumber),i=(0,Ge.u)(this._context.configuration.options.get(119));let n=e.column,o=0;for(;n>1;){const s=t.charCodeAt(n-2);if(0!==i.get(s)||o>50)return t.substring(n-1,e.column-1);o++,n--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const t=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!Oe.ZG(t.charCodeAt(0)))return t}return""}_getAriaLabel(e){return 1===e.get(2)?l.NC("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",v.IJ?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);2===this._accessibilitySupport&&t===L.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(133);return this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(46),this._lineHeight=t.get(61),this._emptySelectionClipboard=t.get(33),this._copyWithSyntaxHighlighting=t.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(114))),(e.hasChanged(30)||e.hasChanged(83))&&(t.get(30)&&t.get(83)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){var t;this._primaryCursorPosition=new ue.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),null===(t=this._visibleTextArea)||void 0===t||t.prepareRender(e)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const e=this._visibleTextArea.visibleTextareaStart,t=this._visibleTextArea.visibleTextareaEnd,i=this._visibleTextArea.startPosition,n=this._visibleTextArea.endPosition;if(i&&n&&e&&t&&t.left>=this._scrollLeft&&e.left<=this._scrollLeft+this._contentWidth){const o=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,s=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let r=this._visibleTextArea.widthOfHiddenLineTextBefore,a=this._contentLeft+e.left-this._scrollLeft,l=t.left-e.left+1;if(a<this._contentLeft){const e=this._contentLeft-a;a+=e,r+=e,l-=e}l>this._contentWidth&&(l=this._contentWidth);const d=this._context.viewModel.getViewLineData(i.lineNumber),c=d.tokens.findTokenIndexAtOffset(i.column-1),h=c===d.tokens.findTokenIndexAtOffset(n.column-1),u=this._visibleTextArea.definePresentation(h?d.tokens.getPresentation(c):null);this.textArea.domNode.scrollTop=s*this._lineHeight,this.textArea.domNode.scrollLeft=r,this._doRender({lastRenderPosition:null,top:o,left:a,width:l,height:this._lineHeight,useCover:!1,color:(Ke.RW.getColorMap()||[])[u.foreground],italic:u.italic,bold:u.bold,underline:u.underline,strikethrough:u.strikethrough})}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(t<0||t>this._contentHeight)this._renderAtTopLeft();else if(v.dz){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:t,left:e,width:Ye?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const i=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=i*this._lineHeight}else this._doRender({lastRenderPosition:this._primaryCursorPosition,top:t,left:e,width:Ye?0:1,height:Ye?0:1,useCover:!1})}_newlinecount(e){let t=0,i=-1;for(;i=e.indexOf("\n",i+1),-1!==i;)t++;return t}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:Ye?0:1,height:Ye?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;const t=this.textArea,i=this.textAreaCover;(0,Ve.N)(t,this._fontInfo),t.setTop(e.top),t.setLeft(e.left),t.setWidth(e.width),t.setHeight(e.height),t.setColor(e.color?$e.Il.Format.CSS.formatHex(e.color):""),t.setFontStyle(e.italic?"italic":""),e.bold&&t.setFontWeight("bold"),t.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),i.setTop(e.useCover?e.top:0),i.setLeft(e.useCover?e.left:0),i.setWidth(e.useCover?e.width:0),i.setHeight(e.useCover?e.height:0);const n=this._context.configuration.options;n.get(52)?i.setClassName("monaco-editor-background textAreaCover "+He.OUTER_CLASS_NAME):0!==n.get(62).renderType?i.setClassName("monaco-editor-background textAreaCover "+Ue.CLASS_NAME):i.setClassName("monaco-editor-background textAreaCover")}}var Ze=i(9317);class Je{constructor(e,t,i,n){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=n}paste(e,t,i,n){this.commandDelegate.paste(e,t,i,n)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,n){this.commandDelegate.compositionType(e,t,i,n)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){Ze.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new ue.L(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(72)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(72)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,i=v.IJ&&t.get(98),n=t.get(18);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):2===e.mouseDownCount?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey||n?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){Ze.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){Ze.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,t,i){e=this._validateViewColumn(e),Ze.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),Ze.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e){Ze.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){Ze.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){Ze.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){Ze.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){Ze.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){Ze.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){Ze.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){Ze.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){Ze.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class Xe{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){var t;null===(t=this.onKeyDown)||void 0===t||t.call(this,e)}emitKeyUp(e){var t;null===(t=this.onKeyUp)||void 0===t||t.call(this,e)}emitContextMenu(e){var t;null===(t=this.onContextMenu)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseMove(e){var t;null===(t=this.onMouseMove)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){var t;null===(t=this.onMouseLeave)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDown(e){var t;null===(t=this.onMouseDown)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseUp(e){var t;null===(t=this.onMouseUp)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){var t;null===(t=this.onMouseDrag)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){var t;null===(t=this.onMouseDrop)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){var e;null===(e=this.onMouseDropCanceled)||void 0===e||e.call(this)}emitMouseWheel(e){var t;null===(t=this.onMouseWheel)||void 0===t||t.call(this,e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return Xe.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){const i=Object.assign({},e);return i.position&&(i.position=t.convertViewPositionToModelPosition(i.position)),i.range&&(i.range=t.convertViewRangeToModelRange(i.range)),i}}var et,tt=i(72);class it{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(0===this.getCount())return null;const i=this.getStartLineNumber(),n=this.getEndLineNumber();if(t<i){const i=t-e+1;return this._rendLineNumberStart-=i,null}if(e>n)return null;let o=0,s=0;for(let r=i;r<=n;r++){const i=r-this._rendLineNumberStart;e<=r&&r<=t&&(0===s?(o=i,s=1):s++)}if(e<i){let n=0;n=t<i?t-e+1:i-e,this._rendLineNumberStart-=n}return this._lines.splice(o,s)}onLinesChanged(e,t){const i=e+t-1;if(0===this.getCount())return!1;const n=this.getStartLineNumber(),o=this.getEndLineNumber();let s=!1;for(let t=e;t<=i;t++)t>=n&&t<=o&&(this._lines[t-this._rendLineNumberStart].onContentChanged(),s=!0);return s}onLinesInserted(e,t){if(0===this.getCount())return null;const i=t-e+1,n=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=n)return this._rendLineNumberStart+=i,null;if(e>o)return null;if(i+e>o)return this._lines.splice(e-this._rendLineNumberStart,o-e+1);const s=[];for(let e=0;e<i;e++)s[e]=this._createLine();const r=e-this._rendLineNumberStart,a=this._lines.slice(0,r),l=this._lines.slice(r,this._lines.length-i),d=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=a.concat(s).concat(l),d}onTokensChanged(e){if(0===this.getCount())return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let o=0,s=e.length;o<s;o++){const s=e[o];if(s.toLineNumber<t||s.fromLineNumber>i)continue;const r=Math.max(t,s.fromLineNumber),a=Math.min(i,s.toLineNumber);for(let e=r;e<=a;e++){const t=e-this._rendLineNumberStart;this._lines[t].onTokensChanged(),n=!0}}return n}}class nt{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new it((()=>this._host.createVisibleLine()))}_createDomNode(){const e=(0,V.X)(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(133)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let e=0,i=t.length;e<i;e++){const i=t[e].getDomNode();i&&this.domNode.domNode.removeChild(i)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let e=0,i=t.length;e<i;e++){const i=t[e].getDomNode();i&&this.domNode.domNode.removeChild(i)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),i=new ot(this.domNode.domNode,this._host,e),n={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},o=i.render(n,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)}}class ot{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,n){const o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||i<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=i-t+1,o.lines=[];for(let e=t;e<=i;e++)o.lines[e-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,n),o}if(this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(i-o.rendLineNumberStart,o.linesLength-1),n,t),o.rendLineNumberStart>t){const e=t,s=Math.min(i,o.rendLineNumberStart-1);e<=s&&(this._insertLinesBefore(o,e,s,n,t),o.linesLength+=s-e+1)}else if(o.rendLineNumberStart<t){const e=Math.min(o.linesLength,t-o.rendLineNumberStart);e>0&&(this._removeLinesBefore(o,e),o.linesLength-=e)}if(o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<i){const e=o.rendLineNumberStart+o.linesLength,s=i;e<=s&&(this._insertLinesAfter(o,e,s,n,t),o.linesLength+=s-e+1)}else if(o.rendLineNumberStart+o.linesLength-1>i){const e=Math.max(0,i-o.rendLineNumberStart+1),t=o.linesLength-1-e+1;t>0&&(this._removeLinesAfter(o,t),o.linesLength-=t)}return this._finishRendering(o,!1,n),o}_renderUntouchedLines(e,t,i,n,o){const s=e.rendLineNumberStart,r=e.lines;for(let e=t;e<=i;e++){const t=s+e;r[e].layoutLine(t,n[t-o])}}_insertLinesBefore(e,t,i,n,o){const s=[];let r=0;for(let e=t;e<=i;e++)s[r++]=this.host.createVisibleLine();e.lines=s.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){const t=e.lines[i].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,n,o){const s=[];let r=0;for(let e=t;e<=i;e++)s[r++]=this.host.createVisibleLine();e.lines=e.lines.concat(s)}_removeLinesAfter(e,t){const i=e.linesLength-t;for(let n=0;n<t;n++){const t=e.lines[i+n].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,n){ot._ttPolicy&&(i=ot._ttPolicy.createHTML(i));const o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=i:o.insertAdjacentHTML("afterend",i);let s=this.domNode.lastChild;for(let t=e.linesLength-1;t>=0;t--){const i=e.lines[t];n[t]&&(i.setDomNode(s),s=s.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const n=document.createElement("div");ot._ttPolicy&&(t=ot._ttPolicy.createHTML(t)),n.innerHTML=t;for(let t=0;t<e.linesLength;t++){const o=e.lines[t];if(i[t]){const e=n.firstChild,t=o.getDomNode();t.parentNode.replaceChild(e,t),o.setDomNode(e)}}}_finishRendering(e,t,i){const n=ot._sb,o=e.linesLength,s=e.lines,r=e.rendLineNumberStart,a=[];{n.reset();let l=!1;for(let e=0;e<o;e++){const t=s[e];a[e]=!1,t.getDomNode()||t.renderLine(e+r,i[e],this.viewportData,n)&&(a[e]=!0,l=!0)}l&&this._finishRenderingNewLines(e,t,n.build(),a)}{n.reset();let t=!1;const l=[];for(let e=0;e<o;e++){const o=s[e];(l[e]=!1,a[e])||o.renderLine(e+r,i[e],this.viewportData,n)&&(l[e]=!0,t=!0)}t&&this._finishRenderingInvalidLines(e,n.build(),l)}}}ot._ttPolicy=null===(et=window.trustedTypes)||void 0===et?void 0:et.createPolicy("editorViewLayer",{createHTML:e=>e}),ot._sb=(0,tt.l$)(1e5);class st extends H{constructor(e){super(e),this._visibleLines=new nt(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new rt(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++)this._visibleLines.getVisibleLine(n).onConfigurationChanged(e);return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter((e=>e.shouldRender()));for(let i=0,n=t.length;i<n;i++){const n=t[i];n.prepareRender(e),n.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class rt{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(61),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=(0,V.X)(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(61)}renderLine(e,t,i,n){let o="";for(let t=0,n=this._dynamicOverlays.length;t<n;t++)o+=this._dynamicOverlays[t].render(i.startLineNumber,e);return this._renderedContent!==o&&(this._renderedContent=o,n.appendASCIIString('<div style="position:absolute;top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;width:100%;height:"),n.appendASCIIString(String(this._lineHeight)),n.appendASCIIString('px;">'),n.appendASCIIString(o),n.appendASCIIString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class at extends st{constructor(e){super(e);const t=this._context.configuration.options.get(133);this._contentWidth=t.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const t=this._context.configuration.options.get(133);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class lt extends st{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(133);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,Ve.N)(this.domNode,t.get(46))}onConfigurationChanged(e){const t=this._context.configuration.options;(0,Ve.N)(this.domNode,t.get(46));const i=t.get(133);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class dt{constructor(e,t){this._coordinateBrand=void 0,this.top=e,this.left=t}}class ct extends H{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=(0,V.X)(document.createElement("div")),G.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,V.X)(document.createElement("div")),G.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const t=new ht(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i,n){this._widgets[e.getId()].setPosition(t,i,n),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t];delete this._widgets[t];const i=e.domNode.domNode;i.parentNode.removeChild(i),i.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown}onBeforeRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(e)}}class ht{constructor(e,t,i){this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=(0,V.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const n=this._context.configuration.options,o=n.get(133);this._fixedOverflowWidgets=n.get(38),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=n.get(61),this._range=null,this._viewRange=null,this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(61),e.hasChanged(133)){const e=t.get(133);this._contentLeft=e.contentLeft,this._contentWidth=e.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range,this._affinity)}_setPosition(e,t){var i;if(this._range=e,this._viewRange=null,this._affinity=t,this._range){const e=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(e.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(e.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(e,null!==(i=this._affinity)&&void 0!==i?i:void 0))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(e,t,i){this._setPosition(e,i),this._preference=t,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,t,i,n,o){const s=e.top,r=s,a=t.top+this._lineHeight,l=s-n,d=r>=n,c=a,h=o.viewportHeight-a>=n;let u=e.left,g=t.left;return u+i>o.scrollLeft+o.viewportWidth&&(u=o.scrollLeft+o.viewportWidth-i),g+i>o.scrollLeft+o.viewportWidth&&(g=o.scrollLeft+o.viewportWidth-i),u<o.scrollLeft&&(u=o.scrollLeft),g<o.scrollLeft&&(g=o.scrollLeft),{fitsAbove:d,aboveTop:l,aboveLeft:u,fitsBelow:h,belowTop:c,belowLeft:g}}_layoutHorizontalSegmentInPage(e,t,i,n){const o=Math.max(0,t.left-n),s=Math.min(t.left+t.width+n,e.width);let r=t.left+i-d.DI.scrollX;if(r+n>s){const e=r-(s-n);r-=e,i-=e}if(r<o){const e=r-o;r-=e,i-=e}return[i,r]}_layoutBoxInPage(e,t,i,n,o){const s=e.top-n,r=t.top+this._lineHeight,a=d.i(this._viewDomNode.domNode),l=a.top+s-d.DI.scrollY,c=a.top+r-d.DI.scrollY,h=d.D6(document.body),[u,g]=this._layoutHorizontalSegmentInPage(h,a,e.left-o.scrollLeft+this._contentLeft,i),[p,m]=this._layoutHorizontalSegmentInPage(h,a,t.left-o.scrollLeft+this._contentLeft,i),f=l>=22,v=c+n<=h.height-22;return this._fixedOverflowWidgets?{fitsAbove:f,aboveTop:Math.max(l,22),aboveLeft:g,fitsBelow:v,belowTop:c,belowLeft:m}:{fitsAbove:f,aboveTop:s,aboveLeft:u,fitsBelow:v,belowTop:r,belowLeft:p}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new dt(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||0===t.length)return[null,null];let i=t[0],n=t[0];for(const e of t)e.lineNumber<i.lineNumber&&(i=e),e.lineNumber>n.lineNumber&&(n=e);let o=1073741824;for(const e of i.ranges)e.left<o&&(o=e.left);let s=1073741824;for(const e of n.ranges)e.left<s&&(s=e.left);const r=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,a=new dt(r,o),l=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.scrollTop;return[a,new dt(l,s)]}_prepareRenderWidget(e){if(!this._preference||0===this._preference.length)return null;const[t,i]=this._getTopAndBottomLeft(e);if(!t||!i)return null;if(-1===this._cachedDomNodeOffsetWidth||-1===this._cachedDomNodeOffsetHeight){let e=null;if("function"==typeof this._actual.beforeRender&&(e=ut(this._actual.beforeRender,this._actual)),e)this._cachedDomNodeOffsetWidth=e.width,this._cachedDomNodeOffsetHeight=e.height;else{const e=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(e.width),this._cachedDomNodeOffsetHeight=Math.round(e.height)}}let n;n=this.allowEditorOverflow?this._layoutBoxInPage(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):this._layoutBoxInViewport(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let e=1;e<=2;e++)for(const i of this._preference)if(1===i){if(!n)return null;if(2===e||n.fitsAbove)return{coordinate:new dt(n.aboveTop,n.aboveLeft),position:1}}else{if(2!==i)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(t),position:0}:{coordinate:t,position:0};if(!n)return null;if(2===e||n.fitsBelow)return{coordinate:new dt(n.belowTop,n.belowLeft),position:2}}return null}onBeforeRender(e){this._viewRange&&this._preference&&(this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&ut(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&ut(this._actual.afterRender,this._actual,this._renderData.position)}}function ut(e,t,...i){try{return e.call(t,...i)}catch(e){return null}}class gt extends We{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(133);this._lineHeight=t.get(61),this._renderLineHighlight=t.get(87),this._renderLineHighlightOnlyWhenFocus=t.get(88),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new O.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=this._selections.map((e=>e.positionLineNumber));t.sort(((e,t)=>e-t)),m.fS(this._cursorLineNumbers,t)||(this._cursorLineNumbers=t,e=!0);const i=this._selections.every((e=>e.isEmpty()));return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(133);return this._lineHeight=t.get(61),this._renderLineHighlight=t.get(87),this._renderLineHighlightOnlyWhenFocus=t.get(88),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=e.isFocused,!0)}prepareRender(e){if(!this._shouldRenderThis())return void(this._renderData=null);const t=this._renderOne(e),i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o=this._cursorLineNumbers.length;let s=0;const r=[];for(let e=i;e<=n;e++){const n=e-i;for(;s<o&&this._cursorLineNumbers[s]<e;)s++;s<o&&this._cursorLineNumbers[s]===e?r[n]=t:r[n]=""}this._renderData=r}render(e,t){if(!this._renderData)return"";const i=t-e;return i>=this._renderData.length?"":this._renderData[i]}_shouldRenderInMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class pt extends gt{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class mt extends gt{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,Be.Ic)(((e,t)=>{const i=e.getColor(ze.Kh);if(i&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${i}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${i}; border: none; }`)),!i||i.isTransparent()||e.defines(ze.Mm)){const i=e.getColor(ze.Mm);i&&(t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${i}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${i}; }`),(0,te.c3)(e.type)&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}));class ft extends We{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(61),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(61),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let e=0,o=t.length;e<o;e++){const o=t[e];o.options.className&&(i[n++]=o)}i=i.sort(((e,t)=>{if(e.options.zIndex<t.options.zIndex)return-1;if(e.options.zIndex>t.options.zIndex)return 1;const i=e.options.className,n=t.options.className;return i<n?-1:i>n?1:ge.e.compareRangesUsingStarts(e.range,t.range)}));const o=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber,r=[];for(let e=o;e<=s;e++)r[e-o]="";this._renderWholeLineDecorations(e,i,r),this._renderNormalDecorations(e,i,r),this._renderResult=r}_renderWholeLineDecorations(e,t,i){const n=String(this._lineHeight),o=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber;for(let e=0,r=t.length;e<r;e++){const r=t[e];if(!r.options.isWholeLine)continue;const a='<div class="cdr '+r.options.className+'" style="left:0;width:100%;height:'+n+'px;"></div>',l=Math.max(r.range.startLineNumber,o),d=Math.min(r.range.endLineNumber,s);for(let e=l;e<=d;e++)i[e-o]+=a}}_renderNormalDecorations(e,t,i){const n=String(this._lineHeight),o=e.visibleRange.startLineNumber;let s=null,r=!1,a=null;for(let l=0,d=t.length;l<d;l++){const d=t[l];if(d.options.isWholeLine)continue;const c=d.options.className,h=Boolean(d.options.showIfCollapsed);let u=d.range;h&&1===u.endColumn&&u.endLineNumber!==u.startLineNumber&&(u=new ge.e(u.startLineNumber,u.startColumn,u.endLineNumber-1,this._context.viewModel.getLineMaxColumn(u.endLineNumber-1))),s===c&&r===h&&ge.e.areIntersectingOrTouching(a,u)?a=ge.e.plusRange(a,u):(null!==s&&this._renderNormalDecoration(e,a,s,r,n,o,i),s=c,r=h,a=u)}null!==s&&this._renderNormalDecoration(e,a,s,r,n,o,i)}_renderNormalDecoration(e,t,i,n,o,s,r){const a=e.linesVisibleRangesForRange(t,"findMatch"===i);if(a)for(let e=0,t=a.length;e<t;e++){const t=a[e];if(t.outsideRenderedLine)continue;const l=t.lineNumber-s;if(n&&1===t.ranges.length){const e=t.ranges[0];if(e.width<this._typicalHalfwidthCharacterWidth){const i=Math.round(e.left+e.width/2),n=Math.max(0,Math.round(i-this._typicalHalfwidthCharacterWidth/2));t.ranges[0]=new q(n,this._typicalHalfwidthCharacterWidth)}}for(let e=0,n=t.ranges.length;e<n;e++){const n=t.ranges[e],s='<div class="cdr '+i+'" style="left:'+String(n.left)+"px;width:"+String(n.width)+"px;height:"+o+'px;"></div>';r[l]+=s}}}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}var vt=i(9802),_t=i(3910);class bt extends H{constructor(e,t,i,n){super(e);const o=this._context.configuration.options,s=o.get(94),r=o.get(69),a=o.get(36),l=o.get(97),c={listenOnDomNode:i.domNode,className:"editor-scrollable "+(0,Be.m6)(e.theme.type),useShadows:!1,lazyRender:!0,vertical:s.vertical,horizontal:s.horizontal,verticalHasArrows:s.verticalHasArrows,horizontalHasArrows:s.horizontalHasArrows,verticalScrollbarSize:s.verticalScrollbarSize,verticalSliderSize:s.verticalSliderSize,horizontalScrollbarSize:s.horizontalScrollbarSize,horizontalSliderSize:s.horizontalSliderSize,handleMouseWheel:s.handleMouseWheel,alwaysConsumeMouseWheel:s.alwaysConsumeMouseWheel,arrowSize:s.arrowSize,mouseWheelScrollSensitivity:r,fastScrollSensitivity:a,scrollPredominantAxis:l,scrollByPage:s.scrollByPage};this.scrollbar=this._register(new vt.$Z(t.domNode,c,this._context.viewLayout.getScrollable())),G.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,V.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const h=(e,t,i)=>{const n={};if(t){const t=e.scrollTop;t&&(n.scrollTop=this._context.viewLayout.getCurrentScrollTop()+t,e.scrollTop=0)}if(i){const t=e.scrollLeft;t&&(n.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+t,e.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(n,1)};this._register(d.nm(i.domNode,"scroll",(e=>h(i.domNode,!0,!0)))),this._register(d.nm(t.domNode,"scroll",(e=>h(t.domNode,!0,!1)))),this._register(d.nm(n.domNode,"scroll",(e=>h(n.domNode,!0,!1)))),this._register(d.nm(this.scrollbarDomNode.domNode,"scroll",(e=>h(this.scrollbarDomNode.domNode,!0,!1))))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(133);this.scrollbarDomNode.setLeft(t.contentLeft),"right"===e.get(67).side?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(e){this.scrollbar.delegateVerticalScrollbarPointerDown(e)}onConfigurationChanged(e){if(e.hasChanged(94)||e.hasChanged(69)||e.hasChanged(36)){const e=this._context.configuration.options,t=e.get(94),i=e.get(69),n=e.get(36),o=e.get(97),s={vertical:t.vertical,horizontal:t.horizontal,verticalScrollbarSize:t.verticalScrollbarSize,horizontalScrollbarSize:t.horizontalScrollbarSize,scrollByPage:t.scrollByPage,handleMouseWheel:t.handleMouseWheel,mouseWheelScrollSensitivity:i,fastScrollSensitivity:n,scrollPredominantAxis:o};this.scrollbar.updateOptions(s)}return e.hasChanged(133)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+(0,Be.m6)(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}(0,Be.Ic)(((e,t)=>{const i=e.getColor(_t._wn);i&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${i} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${i} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${i} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`);const n=e.getColor(_t.etL);n&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${n};\n\t\t\t}\n\t\t`);const o=e.getColor(_t.ABB);o&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${o};\n\t\t\t}\n\t\t`);const s=e.getColor(_t.ynu);s&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${s};\n\t\t\t}\n\t\t`)}));class Ct{constructor(e,t,i){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i)}}class yt extends We{_render(e,t,i){const n=[];for(let i=e;i<=t;i++)n[i-e]=[];if(0===i.length)return n;i.sort(((e,t)=>e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1));let o=null,s=0;for(let r=0,a=i.length;r<a;r++){const a=i[r],l=a.className;let d=Math.max(a.startLineNumber,e)-e;const c=Math.min(a.endLineNumber,t)-e;o===l?(d=Math.max(s+1,d),s=Math.max(s,c)):(o=l,s=c);for(let e=d;e<=s;e++)n[e].push(o)}return n}}class wt extends yt{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(133);this._lineHeight=t.get(61),this._glyphMargin=t.get(52),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(133);return this._lineHeight=t.get(61),this._glyphMargin=t.get(52),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let n=0;for(let e=0,o=t.length;e<o;e++){const o=t[e],s=o.options.glyphMarginClassName;s&&(i[n++]=new Ct(o.range.startLineNumber,o.range.endLineNumber,s))}return i}prepareRender(e){if(!this._glyphMargin)return void(this._renderResult=null);const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=this._lineHeight.toString(),s='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+o+'px;"></div>',r=[];for(let e=t;e<=i;e++){const i=e-t,o=n[i];0===o.length?r[i]="":r[i]='<div class="cgmr codicon '+o.join(" ")+s}this._renderResult=r}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}var St=i(8401),kt=i(1516),Lt=i(5094);class xt extends We{constructor(e){super(),this._context=e,this._primaryPosition=null;const t=this._context.configuration.options,i=t.get(134),n=t.get(46);this._lineHeight=t.get(61),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(134),n=t.get(46);return this._lineHeight=t.get(61),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),!0}onCursorStateChanged(e){var t;const i=e.selections[0].getPosition();return!(null===(t=this._primaryPosition)||void 0===t?void 0:t.equals(i))&&(this._primaryPosition=i,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t,i,n,o;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const s=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,a=e.scrollWidth,l=this._lineHeight,d=this._primaryPosition,c=this.getGuidesByLine(s,r,d),h=[];for(let d=s;d<=r;d++){const r=d-s,u=c[r];let g="";const p=null!==(i=null===(t=e.visibleRangeForPosition(new ue.L(d,1)))||void 0===t?void 0:t.left)&&void 0!==i?i:0;for(const t of u){const i=-1===t.column?p+(t.visibleColumn-1)*this._spaceWidth:e.visibleRangeForPosition(new ue.L(d,t.column)).left;if(i>a||this._maxIndentLeft>0&&i>this._maxIndentLeft)break;const s=t.horizontalLine?t.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",r=t.horizontalLine?(null!==(o=null===(n=e.visibleRangeForPosition(new ue.L(d,t.horizontalLine.endColumn)))||void 0===n?void 0:n.left)&&void 0!==o?o:i+this._spaceWidth)-i:this._spaceWidth;g+=`<div class="core-guide ${t.className} ${s}" style="left:${i}px;height:${l}px;width:${r}px"></div>`}h[r]=g}this._renderResult=h}getGuidesByLine(e,t,i){const n=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.viewModel.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?Lt.s6.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?Lt.s6.EnabledForActive:Lt.s6.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,o=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,t):null;let s=0,r=0,a=0;if(!1!==this._bracketPairGuideOptions.highlightActiveIndentation&&i){const n=this._context.viewModel.getActiveIndentGuide(i.lineNumber,e,t);s=n.startLineNumber,r=n.endLineNumber,a=n.indent}const{indentSize:l}=this._context.viewModel.model.getOptions(),d=[];for(let i=e;i<=t;i++){const t=new Array;d.push(t);const c=n?n[i-e]:[],h=new m.H9(c),u=o?o[i-e]:[];for(let e=1;e<=u;e++){const n=(e-1)*l+1,o=("always"===this._bracketPairGuideOptions.highlightActiveIndentation||0===c.length)&&s<=i&&i<=r&&e===a;t.push(...h.takeWhile((e=>e.visibleColumn<n))||[]);const d=h.peek();d&&d.visibleColumn===n&&!d.horizontalLine||t.push(new Lt.UO(n,-1,o?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}t.push(...h.takeWhile((e=>!0))||[])}return d}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function It(e){if(!e||!e.isTransparent())return e}(0,Be.Ic)(((e,t)=>{const i=e.getColor(ze.tR);i&&t.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${i} inset; }`);const n=e.getColor(ze.Ym)||i;n&&t.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${n} inset; }`);const o=[{bracketColor:ze.zJ,guideColor:ze.oV,guideColorActive:ze.Qb},{bracketColor:ze.Vs,guideColor:ze.m$,guideColorActive:ze.m3},{bracketColor:ze.CE,guideColor:ze.DS,guideColorActive:ze.To},{bracketColor:ze.UP,guideColor:ze.lS,guideColorActive:ze.L7},{bracketColor:ze.r0,guideColor:ze.Jn,guideColorActive:ze.HV},{bracketColor:ze.m1,guideColor:ze.YF,guideColorActive:ze.f9}],s=new kt.W,r=o.map((t=>{var i,n;const o=e.getColor(t.bracketColor),s=e.getColor(t.guideColor),r=e.getColor(t.guideColorActive),a=It(null!==(i=It(s))&&void 0!==i?i:null==o?void 0:o.transparent(.3)),l=It(null!==(n=It(r))&&void 0!==n?n:o);if(a&&l)return{guideColor:a,guideColorActive:l}})).filter(St.$K);if(r.length>0){for(let e=0;e<30;e++){const i=r[e%r.length];t.addRule(`.monaco-editor .${s.getInlineClassNameOfLevel(e).replace(/ /g,".")} { --guide-color: ${i.guideColor}; --guide-color-active: ${i.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${s.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${s.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${s.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}}));class Dt{constructor(){this._currentVisibleRange=new ge.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class Nt{constructor(e,t,i,n,o,s,r){this.minimalReveal=e,this.lineNumber=t,this.startColumn=i,this.endColumn=n,this.startScrollTop=o,this.stopScrollTop=s,this.scrollType=r,this.type="range",this.minLineNumber=t,this.maxLineNumber=t}}class Et{constructor(e,t,i,n,o){this.minimalReveal=e,this.selections=t,this.startScrollTop=i,this.stopScrollTop=n,this.scrollType=o,this.type="selections";let s=t[0].startLineNumber,r=t[0].endLineNumber;for(let e=1,i=t.length;e<i;e++){const i=t[e];s=Math.min(s,i.startLineNumber),r=Math.max(r,i.endLineNumber)}this.minLineNumber=s,this.maxLineNumber=r}}class At extends H{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new nt(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration,n=this._context.configuration.options,o=n.get(46),s=n.get(134),r=n.get(133);this._lineHeight=n.get(61),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=s.isViewportWrapping,this._revealHorizontalRightPadding=n.get(91),this._horizontalScrollbarHeight=r.horizontalScrollbarHeight,this._cursorSurroundingLines=n.get(25),this._cursorSurroundingLinesStyle=n.get(26),this._canUseLayerHinting=!n.get(28),this._viewLineOptions=new se(i,this._context.theme.type),G.write(this.domNode,7),this.domNode.setClassName(`view-lines ${je.S}`),(0,Ve.N)(this.domNode,o),this._maxLineWidth=0,this._asyncUpdateLineWidths=new z.pY((()=>{this._updateLineWidthsSlow()}),200),this._asyncCheckMonospaceFontAssumptions=new z.pY((()=>{this._checkMonospaceFontAssumptions()}),2e3),this._lastRenderedData=new Dt,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new re(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(134)&&(this._maxLineWidth=0);const t=this._context.configuration.options,i=t.get(46),n=t.get(134),o=t.get(133);return this._lineHeight=t.get(61),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=n.isViewportWrapping,this._revealHorizontalRightPadding=t.get(91),this._horizontalScrollbarHeight=o.horizontalScrollbarHeight,this._cursorSurroundingLines=t.get(25),this._cursorSurroundingLinesStyle=t.get(26),this._canUseLayerHinting=!t.get(28),(0,Ve.N)(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(133)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new se(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const e=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let t=e;t<=i;t++)this._visibleLines.getVisibleLine(t).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=!1;for(let e=t;e<=i;e++)n=this._visibleLines.getVisibleLine(e).onSelectionChanged()||n;return n}onDecorationsChanged(e){{const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let i=e;i<=t;i++)this._visibleLines.getVisibleLine(i).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(-1===t)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new Nt(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new Et(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const n=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(i,n),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const i=this._getViewLineDomNode(e);if(null===i)return null;const n=this._getLineNumberFor(i);if(-1===n)return null;if(n<1||n>this._context.viewModel.getLineCount())return null;if(1===this._context.viewModel.getLineMaxColumn(n))return new ue.L(n,1);const o=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();if(n<o||n>s)return null;let r=this._visibleLines.getVisibleLine(n).getColumnOfNodeOffset(n,e,t);const a=this._context.viewModel.getLineMinColumn(n);return r<a&&(r=a),new ue.L(n,r)}_getViewLineDomNode(e){for(;e&&1===e.nodeType;){if(e.className===re.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++)if(e===this._visibleLines.getVisibleLine(n).getDomNode())return n;return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return e<t||e>i?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const i=e.endLineNumber,n=ge.e.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!n)return null;const o=[];let s=0;const r=new oe(this.domNode.domNode,this._textRangeRestingSpot);let a=0;t&&(a=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(n.startLineNumber,1)).lineNumber);const l=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let e=n.startLineNumber;e<=n.endLineNumber;e++){if(e<l||e>d)continue;const c=e===n.startLineNumber?n.startColumn:1,h=e===n.endLineNumber?n.endColumn:this._context.viewModel.getLineMaxColumn(e),u=this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,c,h,r);if(u){if(t&&e<i){const t=a;a=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(e+1,1)).lineNumber,t!==a&&(u.ranges[u.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}o[s++]=new $(u.outsideRenderedLine,e,q.from(u.ranges))}}return 0===s?null:o}_visibleRangesForLineRange(e,t,i){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,i,new oe(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new Q(t.outsideRenderedLine,t.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=1,o=!0;for(let s=t;s<=i;s++){const t=this._visibleLines.getVisibleLine(s);!e||t.getWidthIsFast()?n=Math.max(n,t.getWidth()):o=!1}return o&&1===t&&i===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(n),o}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=i;o<=n;o++){const i=this._visibleLines.getVisibleLine(o);if(i.needsMonospaceFontCheck()){const n=i.getWidth();n>t&&(t=n,e=o)}}if(-1!==e&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let e=i;e<=n;e++)this._visibleLines.getVisibleLine(e).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(e.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const e=this._computeScrollLeftToReveal(t);e&&(this._isViewportWrapping||this._ensureMaxLineWidth(e.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:e.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),v.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let i=e;i<=t;i++)if(this._visibleLines.getVisibleLine(i).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,n,o,s){const r=e.top,a=e.height,l=r+a;let d,c,h,u;if(o&&o.length>0){let e=o[0].startLineNumber,t=o[0].endLineNumber;for(let i=1,n=o.length;i<n;i++){const n=o[i];e=Math.min(e,n.startLineNumber),t=Math.max(t,n.endLineNumber)}d=!1,c=this._context.viewLayout.getVerticalOffsetForLineNumber(e),h=this._context.viewLayout.getVerticalOffsetForLineNumber(t)+this._lineHeight}else{if(!n)return-1;d=!0,c=this._context.viewLayout.getVerticalOffsetForLineNumber(n.startLineNumber),h=this._context.viewLayout.getVerticalOffsetForLineNumber(n.endLineNumber)+this._lineHeight}if("mouse"!==t&&!i||"default"!==this._cursorSurroundingLinesStyle){const e=Math.min(a/this._lineHeight/2,this._cursorSurroundingLines);c-=e*this._lineHeight,h+=Math.max(0,e-1)*this._lineHeight}else i||(c-=this._lineHeight);if(0!==s&&4!==s||(h+=i?this._horizontalScrollbarHeight:this._lineHeight),h-c>a){if(!d)return-1;u=c}else if(5===s||6===s)if(6===s&&r<=c&&h<=l)u=r;else{const e=c-Math.max(5*this._lineHeight,.2*a),t=h-a;u=Math.max(t,e)}else if(1===s||2===s)if(2===s&&r<=c&&h<=l)u=r;else{const e=(c+h)/2;u=Math.max(0,e-a/2)}else u=this._computeMinimumScrolling(r,l,c,h,3===s,4===s);return u}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),i=t.left,n=i+t.width;let o=1073741824,s=0;if("range"===e.type){const t=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!t)return null;for(const e of t.ranges)o=Math.min(o,Math.round(e.left)),s=Math.max(s,Math.round(e.left+e.width))}else for(const t of e.selections){if(t.startLineNumber!==t.endLineNumber)return null;const e=this._visibleRangesForLineRange(t.startLineNumber,t.startColumn,t.endColumn);if(!e)return null;for(const t of e.ranges)o=Math.min(o,Math.round(t.left)),s=Math.max(s,Math.round(t.left+t.width))}return e.minimalReveal||(o=Math.max(0,o-At.HORIZONTAL_EXTRA_PX),s+=this._revealHorizontalRightPadding),"selections"===e.type&&s-o>t.width?null:{scrollLeft:this._computeMinimumScrolling(i,n,o,s),maxHorizontalOffset:s}}_computeMinimumScrolling(e,t,i,n,o,s){o=!!o,s=!!s;const r=(t|=0)-(e|=0);return(n|=0)-(i|=0)<r?o?i:s?Math.max(0,n-r):i<e?i:n>t?Math.max(0,n-r):e:i}}At.HORIZONTAL_EXTRA_PX=30;class Tt extends yt{constructor(e){super(),this._context=e;const t=this._context.configuration.options.get(133);this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options.get(133);return this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let n=0;for(let e=0,o=t.length;e<o;e++){const o=t[e],s=o.options.linesDecorationsClassName;s&&(i[n++]=new Ct(o.range.startLineNumber,o.range.endLineNumber,s));const r=o.options.firstLineDecorationClassName;r&&(i[n++]=new Ct(o.range.startLineNumber,o.range.startLineNumber,r))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',s=[];for(let e=t;e<=i;e++){const i=e-t,r=n[i];let a="";for(let e=0,t=r.length;e<t;e++)a+='<div class="cldr '+r[e]+o;s[i]=a}this._renderResult=s}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class Mt extends yt{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let n=0;for(let e=0,o=t.length;e<o;e++){const o=t[e],s=o.options.marginClassName;s&&(i[n++]=new Ct(o.range.startLineNumber,o.range.endLineNumber,s))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=[];for(let e=t;e<=i;e++){const i=e-t,s=n[i];let r="";for(let e=0,t=s.length;e<t;e++)r+='<div class="cmdr '+s[e]+'" style=""></div>';o[i]=r}this._renderResult=o}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}var Rt=i(3911);class Pt{constructor(e,t,i,n){this._rgba8Brand=void 0,this.r=Pt._clamp(e),this.g=Pt._clamp(t),this.b=Pt._clamp(i),this.a=Pt._clamp(n)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:0|e}}Pt.Empty=new Pt(0,0,0,0);class Ot extends u.JT{constructor(){super(),this._onDidChange=new h.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Ke.RW.onDidChange((e=>{e.changedColorMap&&this._updateColorMap()})))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,u.dk)(new Ot)),this._INSTANCE}_updateColorMap(){const e=Ke.RW.getColorMap();if(!e)return this._colors=[Pt.Empty],void(this._backgroundIsLight=!0);this._colors=[Pt.Empty];for(let t=1;t<e.length;t++){const i=e[t].rgba;this._colors[t]=new Pt(i.r,i.g,i.b,Math.round(255*i.a))}const t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}Ot._INSTANCE=null;var Vt=i(1118);const Ft=(()=>{const e=[];for(let t=32;t<=126;t++)e.push(t);return e.push(65533),e})();var Wt=i(5427);class zt{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=zt.soften(e,.8),this.charDataLight=zt.soften(e,50/60)}static soften(e,t){const i=new Uint8ClampedArray(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=(0,Wt.K)(e[n]*t);return i}renderChar(e,t,i,n,o,s,r,a,l,d,c){const h=1*this.scale,u=2*this.scale,g=c?1:u;if(t+h>e.width||i+g>e.height)return void console.warn("bad render request outside image data");const p=d?this.charDataLight:this.charDataNormal,m=((e,t)=>(e-=32)<0||e>96?t<=2?(e+96)%96:95:e)(n,l),f=4*e.width,v=r.r,_=r.g,b=r.b,C=o.r-v,y=o.g-_,w=o.b-b,S=Math.max(s,a),k=e.data;let L=m*h*u,x=i*f+4*t;for(let e=0;e<g;e++){let e=x;for(let t=0;t<h;t++){const t=p[L++]/255*(s/255);k[e++]=v+C*t,k[e++]=_+y*t,k[e++]=b+w*t,k[e++]=S}x+=f}}blockRenderChar(e,t,i,n,o,s,r,a){const l=1*this.scale,d=2*this.scale,c=a?1:d;if(t+l>e.width||i+c>e.height)return void console.warn("bad render request outside image data");const h=4*e.width,u=o/255*.5,g=s.r,p=s.g,m=s.b,f=g+(n.r-g)*u,v=p+(n.g-p)*u,_=m+(n.b-m)*u,b=Math.max(o,r),C=e.data;let y=i*h+4*t;for(let e=0;e<c;e++){let e=y;for(let t=0;t<l;t++)C[e++]=f,C[e++]=v,C[e++]=_,C[e++]=b;y+=h}}}var Bt=i(8289);const Ut={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Ht=e=>{const t=new Uint8ClampedArray(e.length/2);for(let i=0;i<e.length;i+=2)t[i>>1]=Ut[e[i]]<<4|15&Ut[e[i+1]];return t},Gt={1:(0,Bt.I)((()=>Ht("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792"))),2:(0,Bt.I)((()=>Ht("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")))};class jt{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return i=Gt[e]?new zt(Gt[e](),e):jt.createFromSampleData(jt.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=960,t.style.width="960px",i.fillStyle="#ffffff",i.font=`bold 16px ${e}`,i.textBaseline="middle";let n=0;for(const e of Ft)i.fillText(String.fromCharCode(e),n,8),n+=10;return i.getImageData(0,0,960,16)}static createFromSampleData(e,t){if(61440!==e.length)throw new Error("Unexpected source in MinimapCharRenderer");const i=jt._downsample(e,t);return new zt(i,t)}static _downsampleChar(e,t,i,n,o){const s=1*o,r=2*o;let a=n,l=0;for(let n=0;n<r;n++){const o=n/r*16,d=(n+1)/r*16;for(let n=0;n<s;n++){const r=n/s*10,c=(n+1)/s*10;let h=0,u=0;for(let i=o;i<d;i++){const n=t+3840*Math.floor(i),o=1-(i-Math.floor(i));for(let t=r;t<c;t++){const i=1-(t-Math.floor(t)),s=n+4*Math.floor(t),r=i*o;u+=r,h+=e[s]*e[s+3]/255*r}}const g=h/u;l=Math.max(l,g),i[a++]=(0,Wt.K)(g)}}return l}static _downsample(e,t){const i=2*t*1*t,n=96*i,o=new Uint8ClampedArray(n);let s=0,r=0,a=0;for(let n=0;n<96;n++)a=Math.max(a,this._downsampleChar(e,r,o,s,t)),s+=i,r+=40;if(a>0){const e=255/a;for(let t=0;t<n;t++)o[t]*=e}return o}}var Kt=i(4973);class $t{constructor(e,t,i){const n=e.options,o=n.get(131),s=n.get(133),r=s.minimap,a=n.get(46),l=n.get(67);this.renderMinimap=r.renderMinimap,this.size=l.size,this.minimapHeightIsEditorHeight=r.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=n.get(96),this.showSlider=l.showSlider,this.autohide=l.autohide,this.pixelRatio=o,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.lineHeight=n.get(61),this.minimapLeft=r.minimapLeft,this.minimapWidth=r.minimapWidth,this.minimapHeight=s.height,this.canvasInnerWidth=r.minimapCanvasInnerWidth,this.canvasInnerHeight=r.minimapCanvasInnerHeight,this.canvasOuterWidth=r.minimapCanvasOuterWidth,this.canvasOuterHeight=r.minimapCanvasOuterHeight,this.isSampling=r.minimapIsSampling,this.editorHeight=s.height,this.fontScale=r.minimapScale,this.minimapLineHeight=r.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,Bt.I)((()=>jt.create(this.fontScale,a.fontFamily))),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=$t._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=$t._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){const i=e.getColor(_t.kVY);return i?new Pt(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}static _getMinimapForegroundOpacity(e){const t=e.getColor(_t.Itd);return t?Pt._clamp(Math.round(255*t.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.autohide===e.autohide&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class qt{constructor(e,t,i,n,o,s,r,a){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=n,this.sliderTop=o,this.sliderHeight=s,this.startLineNumber=r,this.endLineNumber=a}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,t,i,n,o,s,r,a,l,d,c){const h=e.pixelRatio,u=e.minimapLineHeight,g=Math.floor(e.canvasInnerHeight/u),p=e.lineHeight;if(e.minimapHeightIsEditorHeight){const t=a*e.lineHeight+(e.scrollBeyondLastLine?o-e.lineHeight:0),i=Math.max(1,Math.floor(o*o/t)),n=Math.max(0,e.minimapHeight-i),s=n/(d-o),c=l*s,h=n>0,u=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new qt(l,d,h,s,c,i,1,Math.min(r,u))}let m,f;if(s&&i!==r){const e=i-t+1;m=Math.floor(e*u/h)}else{const e=o/p;m=Math.floor(e*u/h)}f=e.scrollBeyondLastLine?(r-1)*u/h:Math.max(0,r*u/h-m),f=Math.min(e.minimapHeight-m,f);const v=f/(d-o),_=l*v;let b=0;if(e.scrollBeyondLastLine&&(b=o/p-1),g>=r+b)return new qt(l,d,f>0,v,_,m,1,r);{let e=Math.max(1,Math.floor(t-_*h/u));c&&c.scrollHeight===d&&(c.scrollTop>l&&(e=Math.min(e,c.startLineNumber)),c.scrollTop<l&&(e=Math.max(e,c.startLineNumber)));const i=Math.min(r,e+g-1);return new qt(l,d,!0,v,(t-e+(l-n)/p)*u/h,m,e,i)}}}class Yt{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Yt.INVALID=new Yt(-1);class Qt{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new it((()=>Yt.INVALID)),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const t=this._renderedLines._get().lines;for(let e=0,i=t.length;e<i;e++)if(-1===t[e].dy)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class Zt{constructor(e,t,i,n){this._backgroundFillData=Zt._createBackgroundFillData(t,i,n),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const n=i.r,o=i.g,s=i.b,r=i.a,a=new Uint8ClampedArray(e*t*4);let l=0;for(let i=0;i<t;i++)for(let t=0;t<e;t++)a[l]=n,a[l+1]=o,a[l+2]=s,a[l+3]=r,l+=4;return a}}class Jt{constructor(e,t){this.samplingRatio=e,this.minimapLines=t}static compute(e,t,i){if(0===e.renderMinimap||!e.isSampling)return[null,[]];const n=e.pixelRatio,o=e.lineHeight,s=e.scrollBeyondLastLine,{minimapLineCount:r}=L.gk.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:s,height:e.editorHeight,lineHeight:o,pixelRatio:n}),a=t/r,l=a/2;if(!i||0===i.minimapLines.length){const e=[];if(e[0]=1,r>1){for(let t=0,i=r-1;t<i;t++)e[t]=Math.round(t*a+l);e[r-1]=t}return[new Jt(a,e),[]]}const d=i.minimapLines,c=d.length,h=[];let u=0,g=0,p=1,m=[],f=null;for(let e=0;e<r;e++){const i=Math.max(p,Math.round(e*a)),n=Math.max(i,Math.round((e+1)*a));for(;u<c&&d[u]<i;){if(m.length<10){const e=u+1+g;f&&"deleted"===f.type&&f._oldIndex===u-1?f.deleteToLineNumber++:(f={type:"deleted",_oldIndex:u,deleteFromLineNumber:e,deleteToLineNumber:e},m.push(f)),g--}u++}let o;if(u<c&&d[u]<=n)o=d[u],u++;else if(o=0===e?1:e+1===r?t:Math.round(e*a+l),m.length<10){const t=u+1+g;f&&"inserted"===f.type&&f._i===e-1?f.insertToLineNumber++:(f={type:"inserted",_i:e,insertFromLineNumber:t,insertToLineNumber:t},m.push(f)),g++}h[e]=o,p=o}if(m.length<10)for(;u<c;){const e=u+1+g;f&&"deleted"===f.type&&f._oldIndex===u-1?f.deleteToLineNumber++:(f={type:"deleted",_oldIndex:u,deleteFromLineNumber:e,deleteToLineNumber:e},m.push(f)),g--,u++}else m=[{type:"flush"}];return[new Jt(a,h),m]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let n=this.modelLineToMinimapLine(t)-1;for(;n+1<this.minimapLines.length&&this.minimapLines[n+1]<=t;)n++;if(i===n){const n=this.minimapLines[i];if(n<e||n>t)return null}return[i+1,n+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),n=this.modelLineToMinimapLine(t);return e!==t&&n===i&&(n===this.minimapLines.length?i>1&&i--:n++),[i,n]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,n=0;for(let o=this.minimapLines.length-1;o>=0&&!(this.minimapLines[o]<e.fromLineNumber);o--)this.minimapLines[o]<=e.toLineNumber?(this.minimapLines[o]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,o),n=Math.max(n,o)):this.minimapLines[o]-=t;return[i,n]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class Xt extends H{constructor(e){super(e),this.tokensColorTracker=Ot.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new $t(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=Jt.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new ei(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new $t(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(e)&&(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return!!e.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.fromLineNumber+e.count-1);return!!t&&this._actual.onLinesChanged(t[0],t[1]-t[0]+1)}return this._actual.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i-t+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const t=[];for(const i of e.ranges){const e=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);e&&t.push({fromLineNumber:e[0],toLineNumber:e[1]})}return!!t.length&&this._actual.onTokensChanged(t)}return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const n={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(n)}_recreateLineSampling(){this._minimapSelections=null;const e=Boolean(this._samplingState),[t,i]=Jt.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const e of i)switch(e.type){case"deleted":this._actual.onLinesDeleted(e.deleteFromLineNumber,e.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(e.insertFromLineNumber,e.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){const n=[];for(let o=0,s=t-e+1;o<s;o++)i[o]?n[o]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+o-1]):n[o]=null;return n}return this._context.viewModel.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new O.Y(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const n=this._samplingState.minimapLines[e-1],o=this._samplingState.minimapLines[t-1];i=new ge.e(n,1,o,this._context.viewModel.getLineMaxColumn(o))}else i=new ge.e(e,1,t,this._context.viewModel.getLineMaxColumn(t));const n=this._context.viewModel.getDecorationsInViewport(i);if(this._samplingState){const e=[];for(const t of n){if(!t.options.minimap)continue;const i=t.range,n=this._samplingState.modelLineToMinimapLine(i.startLineNumber),o=this._samplingState.modelLineToMinimapLine(i.endLineNumber);e.push(new Vt.$l(new ge.e(n,i.startColumn,o,i.endColumn),t.options))}return e}return n}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new ge.e(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}}class ei extends u.JT{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(_t.ov3),this._domNode=(0,V.X)(document.createElement("div")),G.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,V.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,V.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,V.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,V.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,V.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=d.mu(this._domNode.domNode,d.tw.POINTER_DOWN,(e=>{if(e.preventDefault(),0===this._model.options.renderMinimap)return;if(!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(0===e.button&&this._lastRenderData){const t=d.i(this._slider.domNode),i=t.top+t.height/2;this._startSliderDragging(e,i,this._lastRenderData.renderedLayout)}return}const t=this._model.options.minimapLineHeight,i=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*e.offsetY;let n=Math.floor(i/t)+this._lastRenderData.renderedLayout.startLineNumber;n=Math.min(n,this._model.getLineCount()),this._model.revealLineNumber(n)})),this._sliderPointerMoveMonitor=new Rt.C,this._sliderPointerDownListener=d.mu(this._slider.domNode,d.tw.POINTER_DOWN,(e=>{e.preventDefault(),e.stopPropagation(),0===e.button&&this._lastRenderData&&this._startSliderDragging(e,e.pageY,this._lastRenderData.renderedLayout)})),this._gestureDisposable=F.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=d.nm(this._domNode.domNode,F.t.Start,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(e))}),{passive:!1}),this._sliderTouchMoveListener=d.nm(this._domNode.domNode,F.t.Change,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(e)}),{passive:!1}),this._sliderTouchEndListener=d.mu(this._domNode.domNode,F.t.End,(e=>{e.preventDefault(),e.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)}))}_startSliderDragging(e,t,i){if(!(e.target&&e.target instanceof Element))return;const n=e.pageX;this._slider.toggleClassName("active",!0);const o=(e,o)=>{const s=Math.abs(o-n);if(v.ED&&s>140)return void this._model.setScrollTop(i.scrollTop);const r=e-t;this._model.setScrollTop(i.getDesiredScrollTopFromDelta(r))};e.pageY!==t&&o(e.pageY,n),this._sliderPointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,(e=>o(e.pageY,e.pageX)),(()=>{this._slider.toggleClassName("active",!1)}))}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const e=["minimap"];return"always"===this._model.options.showSlider?e.push("slider-always"):e.push("slider-mouseover"),this._model.options.autohide&&e.push("autohide"),e.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new Zt(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e,t)}onLinesDeleted(e,t){var i;return null===(i=this._lastRenderData)||void 0===i||i.onLinesDeleted(e,t),!0}onLinesInserted(e,t){var i;return null===(i=this._lastRenderData)||void 0===i||i.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(_t.ov3),this._renderDecorations=!0,!0}onTokensChanged(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const t=qt.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(t.sliderNeeded?"block":"none"),this._slider.setTop(t.sliderTop),this._slider.setHeight(t.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(t.sliderHeight),this.renderDecorations(t),this._lastRenderData=this.renderLines(t)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections();t.sort(ge.e.compareRangesUsingStarts);const i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);i.sort(((e,t)=>(e.options.zIndex||0)-(t.options.zIndex||0)));const{canvasInnerWidth:n,canvasInnerHeight:o}=this._model.options,s=this._model.options.minimapLineHeight,r=this._model.options.minimapCharWidth,a=this._model.getOptions().tabSize,l=this._decorationsCanvas.domNode.getContext("2d");l.clearRect(0,0,n,o);const d=new ti(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(l,t,d,e,s),this._renderDecorationsLineHighlights(l,i,d,e,s);const c=new ti(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(l,t,c,e,s,a,r,n),this._renderDecorationsHighlights(l,i,c,e,s,a,r,n)}}_renderSelectionLineHighlights(e,t,i,n,o){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let s=0,r=0;for(const a of t){const t=Math.max(n.startLineNumber,a.startLineNumber),l=Math.min(n.endLineNumber,a.endLineNumber);if(t>l)continue;for(let e=t;e<=l;e++)i.set(e,!0);const d=(t-n.startLineNumber)*o,c=(l-n.startLineNumber)*o+o;r>=d||(r>s&&e.fillRect(L.y0,s,e.canvas.width,r-s),s=d),r=c}r>s&&e.fillRect(L.y0,s,e.canvas.width,r-s)}_renderDecorationsLineHighlights(e,t,i,n,o){const s=new Map;for(let r=t.length-1;r>=0;r--){const a=t[r],l=a.options.minimap;if(!l||l.position!==Kt.F5.Inline)continue;const d=Math.max(n.startLineNumber,a.range.startLineNumber),c=Math.min(n.endLineNumber,a.range.endLineNumber);if(d>c)continue;const h=l.getColor(this._theme.value);if(!h||h.isTransparent())continue;let u=s.get(h.toString());u||(u=h.transparent(.5).toString(),s.set(h.toString(),u)),e.fillStyle=u;for(let t=d;t<=c;t++){if(i.has(t))continue;i.set(t,!0);const s=(d-n.startLineNumber)*o;e.fillRect(L.y0,s,e.canvas.width,o)}}}_renderSelectionsHighlights(e,t,i,n,o,s,r,a){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const l of t){const t=Math.max(n.startLineNumber,l.startLineNumber),d=Math.min(n.endLineNumber,l.endLineNumber);if(!(t>d))for(let c=t;c<=d;c++)this.renderDecorationOnLine(e,i,l,this._selectionColor,n,c,o,o,s,r,a)}}_renderDecorationsHighlights(e,t,i,n,o,s,r,a){for(const l of t){const t=l.options.minimap;if(!t)continue;const d=Math.max(n.startLineNumber,l.range.startLineNumber),c=Math.min(n.endLineNumber,l.range.endLineNumber);if(d>c)continue;const h=t.getColor(this._theme.value);if(h&&!h.isTransparent())for(let u=d;u<=c;u++)switch(t.position){case Kt.F5.Inline:this.renderDecorationOnLine(e,i,l.range,h,n,u,o,o,s,r,a);continue;case Kt.F5.Gutter:{const t=(u-n.startLineNumber)*o,i=2;this.renderDecoration(e,h,i,t,2,o);continue}}}}renderDecorationOnLine(e,t,i,n,o,s,r,a,l,d,c){const h=(s-o.startLineNumber)*a;if(h+r<0||h>this._model.options.canvasInnerHeight)return;const{startLineNumber:u,endLineNumber:g}=i,p=u===s?i.startColumn:1,m=g===s?i.endColumn:this._model.getLineMaxColumn(s),f=this.getXOffsetForPosition(t,s,p,l,d,c),v=this.getXOffsetForPosition(t,s,m,l,d,c);this.renderDecoration(e,n,f,h,v-f,r)}getXOffsetForPosition(e,t,i,n,o,s){if(1===i)return L.y0;if((i-1)*o>=s)return s;let r=e.get(t);if(!r){const i=this._model.getLineContent(t);r=[L.y0];let a=L.y0;for(let e=1;e<i.length+1;e++){const t=i.charCodeAt(e-1),l=a+(9===t?n*o:Oe.K7(t)?2*o:o);if(l>=s){r[e]=s;break}r[e]=l,a=l}e.set(t,r)}return i-1<r.length?r[i-1]:s}renderDecoration(e,t,i,n,o,s){e.fillStyle=t&&t.toString()||"",e.fillRect(i,n,o,s)}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,n=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const t=this._lastRenderData._get();return new Qt(e,t.imageData,t.lines)}const o=this._getBuffer();if(!o)return null;const[s,r,a]=ei._renderUntouchedLines(o,t,i,n,this._lastRenderData),l=this._model.getMinimapLinesRenderingData(t,i,a),d=this._model.getOptions().tabSize,c=this._model.options.defaultBackgroundColor,h=this._model.options.backgroundColor,u=this._model.options.foregroundAlpha,g=this._model.tokensColorTracker,p=g.backgroundIsLight(),m=this._model.options.renderMinimap,f=this._model.options.charRenderer(),v=this._model.options.fontScale,_=this._model.options.minimapCharWidth,b=(1===m?2:3)*v,C=n>b?Math.floor((n-b)/2):0,y=h.a/255,w=new Pt(Math.round((h.r-c.r)*y+c.r),Math.round((h.g-c.g)*y+c.g),Math.round((h.b-c.b)*y+c.b),255);let S=0;const k=[];for(let e=0,s=i-t+1;e<s;e++)a[e]&&ei._renderLine(o,w,h.a,p,m,_,g,u,f,S,C,d,l[e],v,n),k[e]=new Yt(S),S+=n;const L=-1===s?0:s,x=(-1===r?o.height:r)-L;return this._canvas.domNode.getContext("2d").putImageData(o,0,0,0,L,o.width,x),new Qt(e,o,k)}static _renderUntouchedLines(e,t,i,n,o){const s=[];if(!o){for(let e=0,n=i-t+1;e<n;e++)s[e]=!0;return[-1,-1,s]}const r=o._get(),a=r.imageData.data,l=r.rendLineNumberStart,d=r.lines,c=d.length,h=e.width,u=e.data,g=(i-t+1)*n*h*4;let p=-1,m=-1,f=-1,v=-1,_=-1,b=-1,C=0;for(let e=t;e<=i;e++){const i=e-t,o=e-l,r=o>=0&&o<c?d[o].dy:-1;if(-1===r){s[i]=!0,C+=n;continue}const y=r*h*4,w=(r+n)*h*4,S=C*h*4,k=(C+n)*h*4;v===y&&b===S?(v=w,b=k):(-1!==f&&(u.set(a.subarray(f,v),_),-1===p&&0===f&&f===_&&(p=v),-1===m&&v===g&&f===_&&(m=f)),f=y,v=w,_=S,b=k),s[i]=!1,C+=n}return-1!==f&&(u.set(a.subarray(f,v),_),-1===p&&0===f&&f===_&&(p=v),-1===m&&v===g&&f===_&&(m=f)),[-1===p?-1:p/(4*h),-1===m?-1:m/(4*h),s]}static _renderLine(e,t,i,n,o,s,r,a,l,d,c,h,u,g,p){const m=u.content,f=u.tokens,v=e.width-s,_=1===p;let b=L.y0,C=0,y=0;for(let u=0,p=f.getCount();u<p;u++){const p=f.getEndOffset(u),w=f.getForeground(u),S=r.getColor(w);for(;C<p;C++){if(b>v)return;const r=m.charCodeAt(C);if(9===r){const e=h-(C+y)%h;y+=e-1,b+=e*s}else if(32===r)b+=s;else{const h=Oe.K7(r)?2:1;for(let u=0;u<h;u++)if(2===o?l.blockRenderChar(e,b,d+c,S,a,t,i,_):l.renderChar(e,b,d+c,r,S,a,t,i,g,n,_),b+=s,b>v)return}}}}}class ti{constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let e=0,t=this._endLineNumber-this._startLineNumber+1;e<t;e++)this._values[e]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}(0,Be.Ic)(((e,t)=>{const i=e.getColor(_t.CA6);i&&t.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${i}; }`);const n=e.getColor(_t.Xy4);n&&t.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${n}; }`);const o=e.getColor(_t.brw);o&&t.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${o}; }`);const s=e.getColor(_t._wn);s&&t.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${s} -6px 0 6px -6px inset; }`)}));class ii extends H{constructor(e){super(e);const t=this._context.configuration.options.get(133);this._widgets={},this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,this._domNode=(0,V.X)(document.createElement("div")),G.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options.get(133);return this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,!0}addWidget(e){const t=(0,V.X)(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference!==t&&(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t].domNode.domNode;delete this._widgets[t],e.parentNode.removeChild(e),this.setShouldRender()}}_renderWidget(e){const t=e.domNode;if(null!==e.preference)if(0===e.preference)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===e.preference){const e=t.domNode.clientHeight;t.setTop(this._editorHeight-e-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===e.preference&&(t.setTop(0),t.domNode.style.right="50%");else t.setTop("")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let e=0,i=t.length;e<i;e++){const i=t[e];this._renderWidget(this._widgets[i])}}}class ni{constructor(e,t){const i=e.options;this.lineHeight=i.get(61),this.pixelRatio=i.get(131),this.overviewRulerLanes=i.get(76),this.renderBorder=i.get(75);const n=t.getColor(ze.zw);this.borderColor=n?n.toString():null,this.hideCursor=i.get(54);const o=t.getColor(ze.n0);this.cursorColor=o?o.transparent(.7).toString():null,this.themeType=t.type;const s=i.get(67),r=s.enabled,a=s.side,l=t.getColor(ze.e_),d=Ke.RW.getDefaultBackground();let c=null;void 0!==l?c=l:r&&(c=d),this.backgroundColor=null===c||"left"===a?null:$e.Il.Format.CSS.formatHex(c);const h=i.get(133).overviewRuler;this.top=h.top,this.right=h.right,this.domWidth=h.width,this.domHeight=h.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[u,g]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=u,this.w=g}_initLanes(e,t,i){const n=t-e;if(i>=3){const t=Math.floor(n/3),i=Math.floor(n/3),o=n-t-i,s=e+t;return[[0,e,s,e,e+t+o,e,s,e],[0,t,o,t+o,i,t+o+i,o+i,t+o+i]]}if(2===i){const t=Math.floor(n/2),i=n-t;return[[0,e,e,e,e+t,e,e,e],[0,t,t,t,i,t+i,t+i,t+i]]}return[[0,e,e,e,e,e,e,e],[0,n,n,n,n,n,n,n]]}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class oi extends H{constructor(e){super(e),this._domNode=(0,V.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Ke.RW.onDidChange((e=>{e.changedColorMap&&this._updateSettings(!0)})),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new ni(this._context.configuration,this._context.theme);return!(this._settings&&this._settings.equals(t)||(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),0))}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(ue.L.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),void this._domNode.setDisplay("none");this._domNode.setDisplay("block");const e=this._settings.canvasWidth,t=this._settings.canvasHeight,i=this._settings.lineHeight,n=this._context.viewLayout,o=t/this._context.viewLayout.getScrollHeight(),s=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),r=6*this._settings.pixelRatio|0,a=r/2|0,l=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?l.clearRect(0,0,e,t):(l.fillStyle=this._settings.backgroundColor,l.fillRect(0,0,e,t));const d=this._settings.x,c=this._settings.w;s.sort(Vt.SQ.cmp);for(const e of s){const s=e.color,h=e.data;l.fillStyle=s;let u=0,g=0,p=0;for(let e=0,s=h.length/3;e<s;e++){const s=h[3*e],m=h[3*e+1],f=h[3*e+2];let v=n.getVerticalOffsetForLineNumber(m)*o|0,_=(n.getVerticalOffsetForLineNumber(f)+i)*o|0;if(_-v<r){let e=(v+_)/2|0;e<a?e=a:e+a>t&&(e=t-a),v=e-a,_=e+a}v>p+1||s!==u?(0!==e&&l.fillRect(d[u],g,c[u],p-g),u=s,g=v,p=_):_>p&&(p=_)}l.fillRect(d[u],g,c[u],p-g)}if(!this._settings.hideCursor&&this._settings.cursorColor){const e=2*this._settings.pixelRatio|0,i=e/2|0,s=this._settings.x[7],r=this._settings.w[7];l.fillStyle=this._settings.cursorColor;let a=-100,d=-100;for(let c=0,h=this._cursorPositions.length;c<h;c++){const h=this._cursorPositions[c];let u=n.getVerticalOffsetForLineNumber(h.lineNumber)*o|0;u<i?u=i:u+i>t&&(u=t-i);const g=u-i,p=g+e;g>d+1?(0!==c&&l.fillRect(s,a,r,d-a),a=g,d=p):p>d&&(d=p)}l.fillRect(s,a,r,d-a)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(l.beginPath(),l.lineWidth=1,l.strokeStyle=this._settings.borderColor,l.moveTo(0,0),l.lineTo(0,t),l.stroke(),l.moveTo(0,0),l.lineTo(e,0),l.stroke())}}var si=i(665);class ri extends U{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=(0,V.X)(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new si.Tj((e=>this._context.viewLayout.getVerticalOffsetForLineNumber(e))),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(61)),this._zoneManager.setPixelRatio(i.get(131)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(61)&&(this._zoneManager.setLineHeight(t.get(61)),this._render()),e.hasChanged(131)&&(this._zoneManager.setPixelRatio(t.get(131)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),n=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(o,i,n,e),!0}_renderOneLane(e,t,i,n){let o=0,s=0,r=0;for(const a of t){const t=a.colorId,l=a.from,d=a.to;t!==o?(e.fillRect(0,s,n,r-s),o=t,e.fillStyle=i[o],s=l,r=d):r>=l?r=Math.max(r,d):(e.fillRect(0,s,n,r-s),s=l,r=d)}e.fillRect(0,s,n,r-s)}}class ai extends H{constructor(e){super(e),this.domNode=(0,V.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(93),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(93),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:i}=this._context.viewModel.model.getOptions(),n=i;let o=t-e;for(;o>0;){const e=(0,V.X)(document.createElement("div"));e.setClassName("view-ruler"),e.setWidth(n),this.domNode.appendChild(e),this._renderedRulers.push(e),o--}return}let i=e-t;for(;i>0;){const e=this._renderedRulers.pop();this.domNode.removeChild(e),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const i=this._renderedRulers[t],n=this._rulers[t];i.setBoxShadow(n.color?`1px 0 0 0 ${n.color} inset`:""),i.setHeight(Math.min(e.scrollHeight,1e6)),i.setLeft(n.column*this._typicalHalfwidthCharacterWidth)}}}(0,Be.Ic)(((e,t)=>{const i=e.getColor(ze.zk);i&&t.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${i} inset; }`)}));class li extends H{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const t=this._context.configuration.options.get(94);this._useShadows=t.useShadows,this._domNode=(0,V.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)}getDomNode(){return this._domNode}_updateWidth(){const e=this._context.configuration.options.get(133);0===e.minimap.renderMinimap||e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?this._width=e.width:this._width=e.width-e.verticalScrollbarWidth}onConfigurationChanged(e){const t=this._context.configuration.options.get(94);return this._useShadows=t.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,Be.Ic)(((e,t)=>{const i=e.getColor(_t._wn);i&&t.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${i} 0 6px 6px -6px inset; }`)}));class di{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class ci{constructor(e,t){this.lineNumber=e,this.ranges=t}}function hi(e){return new di(e)}function ui(e){return new ci(e.lineNumber,e.ranges.map(hi))}class gi extends We{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(61),this._roundedSelection=t.get(92),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(61),this._roundedSelection=t.get(92),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++)if(e[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,t,i){const n=this._typicalHalfwidthCharacterWidth/4;let o=null,s=null;if(i&&i.length>0&&t.length>0){const n=t[0].lineNumber;if(n===e.startLineNumber)for(let e=0;!o&&e<i.length;e++)i[e].lineNumber===n&&(o=i[e].ranges[0]);const r=t[t.length-1].lineNumber;if(r===e.endLineNumber)for(let e=i.length-1;!s&&e>=0;e--)i[e].lineNumber===r&&(s=i[e].ranges[0]);o&&!o.startStyle&&(o=null),s&&!s.startStyle&&(s=null)}for(let e=0,i=t.length;e<i;e++){const r=t[e].ranges[0],a=r.left,l=r.left+r.width,d={top:0,bottom:0},c={top:0,bottom:0};if(e>0){const i=t[e-1].ranges[0].left,o=t[e-1].ranges[0].left+t[e-1].ranges[0].width;pi(a-i)<n?d.top=2:a>i&&(d.top=1),pi(l-o)<n?c.top=2:i<l&&l<o&&(c.top=1)}else o&&(d.top=o.startStyle.top,c.top=o.endStyle.top);if(e+1<i){const i=t[e+1].ranges[0].left,o=t[e+1].ranges[0].left+t[e+1].ranges[0].width;pi(a-i)<n?d.bottom=2:i<a&&a<o&&(d.bottom=1),pi(l-o)<n?c.bottom=2:l<o&&(c.bottom=1)}else s&&(d.bottom=s.startStyle.bottom,c.bottom=s.endStyle.bottom);r.startStyle=d,r.endStyle=c}}_getVisibleRangesWithStyle(e,t,i){const n=(t.linesVisibleRangesForRange(e,!0)||[]).map(ui);return!this._visibleRangesHaveGaps(n)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,n,i),n}_createSelectionPiece(e,t,i,n,o){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+n.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,n){if(0===n.length)return;const o=!!n[0].ranges[0].startStyle,s=this._lineHeight.toString(),r=(this._lineHeight-1).toString(),a=n[0].lineNumber,l=n[n.length-1].lineNumber;for(let d=0,c=n.length;d<c;d++){const c=n[d],h=c.lineNumber,u=h-t,g=!i||h!==l&&h!==a?s:r,p=i&&h===a?1:0;let m="",f="";for(let e=0,t=c.ranges.length;e<t;e++){const t=c.ranges[e];if(o){const e=t.startStyle,i=t.endStyle;if(1===e.top||1===e.bottom){m+=this._createSelectionPiece(p,g,gi.SELECTION_CLASS_NAME,t.left-gi.ROUNDED_PIECE_WIDTH,gi.ROUNDED_PIECE_WIDTH);let i=gi.EDITOR_BACKGROUND_CLASS_NAME;1===e.top&&(i+=" "+gi.SELECTION_TOP_RIGHT),1===e.bottom&&(i+=" "+gi.SELECTION_BOTTOM_RIGHT),m+=this._createSelectionPiece(p,g,i,t.left-gi.ROUNDED_PIECE_WIDTH,gi.ROUNDED_PIECE_WIDTH)}if(1===i.top||1===i.bottom){m+=this._createSelectionPiece(p,g,gi.SELECTION_CLASS_NAME,t.left+t.width,gi.ROUNDED_PIECE_WIDTH);let e=gi.EDITOR_BACKGROUND_CLASS_NAME;1===i.top&&(e+=" "+gi.SELECTION_TOP_LEFT),1===i.bottom&&(e+=" "+gi.SELECTION_BOTTOM_LEFT),m+=this._createSelectionPiece(p,g,e,t.left+t.width,gi.ROUNDED_PIECE_WIDTH)}}let i=gi.SELECTION_CLASS_NAME;if(o){const e=t.startStyle,n=t.endStyle;0===e.top&&(i+=" "+gi.SELECTION_TOP_LEFT),0===e.bottom&&(i+=" "+gi.SELECTION_BOTTOM_LEFT),0===n.top&&(i+=" "+gi.SELECTION_TOP_RIGHT),0===n.bottom&&(i+=" "+gi.SELECTION_BOTTOM_RIGHT)}f+=this._createSelectionPiece(p,g,i,t.left,t.width)}e[u][0]+=m,e[u][1]+=f}}prepareRender(e){const t=[],i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;for(let e=i;e<=n;e++)t[e-i]=["",""];const o=[];for(let n=0,s=this._selections.length;n<s;n++){const s=this._selections[n];if(s.isEmpty()){o[n]=null;continue}const r=this._getVisibleRangesWithStyle(s,e,this._previousFrameVisibleRangesWithStyle[n]);o[n]=r,this._actualRenderOneSelection(t,i,this._selections.length>1,r)}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=t.map((([e,t])=>e+t))}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function pi(e){return e<0?-e:e}gi.SELECTION_CLASS_NAME="selected-text",gi.SELECTION_TOP_LEFT="top-left-radius",gi.SELECTION_BOTTOM_LEFT="bottom-left-radius",gi.SELECTION_TOP_RIGHT="top-right-radius",gi.SELECTION_BOTTOM_RIGHT="bottom-right-radius",gi.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",gi.ROUNDED_PIECE_WIDTH=10,(0,Be.Ic)(((e,t)=>{const i=e.getColor(_t.hEj);i&&t.addRule(`.monaco-editor .focused .selected-text { background-color: ${i}; }`);const n=e.getColor(_t.ES4);n&&t.addRule(`.monaco-editor .selected-text { background-color: ${n}; }`);const o=e.getColor(_t.yb5);o&&!o.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${o}; }`)}));class mi{constructor(e,t,i,n,o,s){this.top=e,this.left=t,this.width=i,this.height=n,this.textContent=o,this.textContentClassName=s}}class fi{constructor(e){this._context=e;const t=this._context.configuration.options,i=t.get(46);this._cursorStyle=t.get(24),this._lineHeight=t.get(61),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,V.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${je.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,Ve.N)(this._domNode,i),this._domNode.setDisplay("none"),this._position=new ue.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(46);return this._cursorStyle=t.get(24),this._lineHeight=t.get(61),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),(0,Ve.N)(this._domNode,i),!0}onCursorPositionChanged(e){return this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:t}=this._position,i=this._context.viewModel.getLineContent(e),[n,o]=Oe.J_(i,t-1);return[new ue.L(e,n+1),i.substring(n,o)]}_prepareRender(e){let t="";const[i,n]=this._getGraphemeAwarePosition();if(this._cursorStyle===L.d2.Line||this._cursorStyle===L.d2.LineThin){const o=e.visibleRangeForPosition(i);if(!o||o.outsideRenderedLine)return null;let s;this._cursorStyle===L.d2.Line?(s=d.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),s>2&&(t=n)):s=d.Uh(1);let r=o.left;s>=2&&r>=1&&(r-=1);const a=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.bigNumbersDelta;return new mi(a,r,s,this._lineHeight,t,"")}const o=e.linesVisibleRangesForRange(new ge.e(i.lineNumber,i.column,i.lineNumber,i.column+n.length),!1);if(!o||0===o.length)return null;const s=o[0];if(s.outsideRenderedLine||0===s.ranges.length)return null;const r=s.ranges[0],a="\t"===n||r.width<1?this._typicalHalfwidthCharacterWidth:r.width;let l="";if(this._cursorStyle===L.d2.Block){const e=this._context.viewModel.getViewLineData(i.lineNumber);t=n;const o=e.tokens.findTokenIndexAtOffset(i.column-1);l=e.tokens.getClassName(o)}let c=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.bigNumbersDelta,h=this._lineHeight;return this._cursorStyle!==L.d2.Underline&&this._cursorStyle!==L.d2.UnderlineThin||(c+=this._lineHeight-2,h=2),new mi(c,r.left,a,h,t,l)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${je.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class vi extends H{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(83),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new fi(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,V.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new z._F,this._cursorFlatBlinkInterval=new z.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(83),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length){const e=t.length-this._secondaryCursors.length;for(let t=0;t<e;t++){const e=new fi(this._context);this._domNode.domNode.insertBefore(e.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(e)}}else if(this._secondaryCursors.length>t.length){const e=this._secondaryCursors.length-t.length;for(let t=0;t<e;t++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let e=0;e<t.length;e++)this._secondaryCursors[e].onCursorPositionChanged(t[e])}onCursorStateChanged(e){const t=[];for(let i=0,n=e.selections.length;i<n;i++)t[i]=e.selections[i].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=t=>{for(let i=0,n=e.ranges.length;i<n;i++)if(e.ranges[i].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[i].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const e of this._secondaryCursors)if(t(e.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput?0:this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=0===e,i=5===e;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),t||i||(1===e?this._cursorFlatBlinkInterval.cancelAndSet((()=>{this._isVisible?this._hide():this._show()}),vi.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet((()=>{this._blinkingEnabled=!0,this._updateDomClassName()}),vi.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case L.d2.Line:e+=" cursor-line-style";break;case L.d2.Block:e+=" cursor-block-style";break;case L.d2.Underline:e+=" cursor-underline-style";break;case L.d2.LineThin:e+=" cursor-line-thin-style";break;case L.d2.BlockOutline:e+=" cursor-block-outline-style";break;case L.d2.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){const t=[];let i=0;const n=this._primaryCursor.render(e);n&&(t[i++]=n);for(let n=0,o=this._secondaryCursors.length;n<o;n++){const o=this._secondaryCursors[n].render(e);o&&(t[i++]=o)}this._renderData=t}getLastRenderData(){return this._renderData}}vi.BLINK_INTERVAL=500,(0,Be.Ic)(((e,t)=>{const i=e.getColor(ze.n0);if(i){let n=e.getColor(ze.fY);n||(n=i.opposite()),t.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${i}; }`),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${i}; border-color: ${i}; color: ${n}; }`),(0,te.c3)(e.type)&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${n}; border-right: 1px solid ${n}; }`)}}));const _i=()=>{throw new Error("Invalid change accessor")};class bi extends H{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(133);this._lineHeight=t.get(61),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=(0,V.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,V.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const i of e)t.set(i.id,i);let i=!1;return this._context.viewModel.changeWhitespace((e=>{const n=Object.keys(this._zones);for(let o=0,s=n.length;o<s;o++){const s=n[o],r=this._zones[s],a=this._computeWhitespaceProps(r.delegate);r.isInHiddenArea=a.isInHiddenArea;const l=t.get(s);!l||l.afterLineNumber===a.afterViewLineNumber&&l.height===a.heightInPx||(e.changeOneWhitespace(s,a.afterViewLineNumber,a.heightInPx),this._safeCallOnComputedHeight(r.delegate,a.heightInPx),i=!0)}})),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(133);return this._lineHeight=t.get(61),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(61)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return void 0!==e.afterColumn?e.afterColumn:1e4}_computeWhitespaceProps(e){if(0===e.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t,i;if(void 0!==e.afterColumn)t=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const i=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new ue.L(i,this._context.viewModel.model.getLineMaxColumn(i))}i=t.column===this._context.viewModel.model.getLineMaxColumn(t.lineNumber)?this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber+1,column:1}):this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber,column:t.column+1});const n=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t,e.afterColumnAffinity),o=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!o,afterViewLineNumber:n.lineNumber,heightInPx:o?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.viewModel.changeWhitespace((i=>{const n={addZone:e=>(t=!0,this._addZone(i,e)),removeZone:e=>{e&&(t=this._removeZone(i,e)||t)},layoutZone:e=>{e&&(t=this._layoutZone(i,e)||t)}};!function(e,t){try{e(t)}catch(e){(0,c.dL)(e)}}(e,n),n.addZone=_i,n.removeZone=_i,n.layoutZone=_i})),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),n={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:(0,V.X)(t.domNode),marginDomNode:t.marginDomNode?(0,V.X)(t.marginDomNode):null};return this._safeCallOnComputedHeight(n.delegate,i.heightInPx),n.domNode.setPosition("absolute"),n.domNode.domNode.style.width="100%",n.domNode.setDisplay("none"),n.domNode.setAttribute("monaco-view-zone",n.whitespaceId),this.domNode.appendChild(n.domNode),n.marginDomNode&&(n.marginDomNode.setPosition("absolute"),n.marginDomNode.domNode.style.width="100%",n.marginDomNode.setDisplay("none"),n.marginDomNode.setAttribute("monaco-view-zone",n.whitespaceId),this.marginDomNode.appendChild(n.marginDomNode)),this._zones[n.whitespaceId]=n,this.setShouldRender(),n.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],n=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=n.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){const t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return"number"==typeof e.minWidthInPx?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(e){(0,c.dL)(e)}}_safeCallOnDomNodeTop(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(e){(0,c.dL)(e)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let n=!1;for(const e of t)this._zones[e.id].isInHiddenArea||(i[e.id]=e,n=!0);const o=Object.keys(this._zones);for(let t=0,n=o.length;t<n;t++){const n=o[t],s=this._zones[n];let r=0,a=0,l="none";i.hasOwnProperty(n)?(r=i[n].verticalOffset-e.bigNumbersDelta,a=i[n].height,l="block",s.isVisible||(s.domNode.setAttribute("monaco-visible-view-zone","true"),s.isVisible=!0),this._safeCallOnDomNodeTop(s.delegate,e.getScrolledTopFromAbsoluteTop(i[n].verticalOffset))):(s.isVisible&&(s.domNode.removeAttribute("monaco-visible-view-zone"),s.isVisible=!1),this._safeCallOnDomNodeTop(s.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),s.domNode.setTop(r),s.domNode.setHeight(a),s.domNode.setDisplay(l),s.marginDomNode&&(s.marginDomNode.setTop(r),s.marginDomNode.setHeight(a),s.marginDomNode.setDisplay(l))}n&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class Ci{constructor(e){this._theme=e}get type(){return this._theme.type}get value(){return this._theme}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class yi{constructor(e,t,i){this.configuration=e,this.theme=new Ci(t),this.viewModel=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.viewModel.addViewEventHandler(e)}removeEventHandler(e){this.viewModel.removeViewEventHandler(e)}}class wi{constructor(e,t,i,n){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=i,this._model=n,this.visibleRange=new ge.e(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewportViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class Si extends H{constructor(e){super(e),this.blocks=[],this.contentWidth=-1,this.domNode=(0,V.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let e=!1;const t=this._context.configuration.options.get(133),i=t.contentWidth-t.verticalScrollbarWidth;return this.contentWidth!==i&&(this.contentWidth=i,e=!0),e}dispose(){super.dispose()}onConfigurationChanged(e){return this.update()}onScrollChanged(e){return e.scrollTopChanged||e.scrollLeftChanged}onDecorationsChanged(e){return!0}onZonesChanged(e){return!0}prepareRender(e){}render(e){let t=0;const i=e.getDecorationsInViewport();for(const n of i){if(!n.options.blockClassName)continue;let i=this.blocks[t];i||(i=this.blocks[t]=(0,V.X)(document.createElement("div")),this.domNode.appendChild(i));const o=e.getVerticalOffsetForLineNumber(n.range.startLineNumber),s=e.getVerticalOffsetForLineNumber(n.range.endLineNumber+1);i.setClassName("blockDecorations-block "+n.options.blockClassName),i.setLeft(e.scrollLeft),i.setWidth(this.contentWidth),i.setTop(o),i.setHeight(s-o),t++}for(let e=t;e<this.blocks.length;e++)this.blocks[e].domNode.remove();this.blocks.length=t}}class ki extends U{constructor(e,t,i,n,o,s){super(),this._selections=[new O.Y(1,1,1,1)],this._renderAnimationFrame=null;const r=new Je(t,n,o,e);this._context=new yi(t,i,n),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new Qe(this._context,r,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,V.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,V.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,V.X)(document.createElement("div")),G.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new bt(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new At(this._context,this._linesContent),this._viewZones=new bi(this._context),this._viewParts.push(this._viewZones);const a=new oi(this._context);this._viewParts.push(a);const l=new li(this._context);this._viewParts.push(l);const d=new at(this._context);this._viewParts.push(d),d.addDynamicOverlay(new pt(this._context)),d.addDynamicOverlay(new gi(this._context)),d.addDynamicOverlay(new xt(this._context)),d.addDynamicOverlay(new ft(this._context));const c=new lt(this._context);this._viewParts.push(c),c.addDynamicOverlay(new mt(this._context)),c.addDynamicOverlay(new wt(this._context)),c.addDynamicOverlay(new Mt(this._context)),c.addDynamicOverlay(new Tt(this._context)),c.addDynamicOverlay(new Ue(this._context));const h=new He(this._context);h.getDomNode().appendChild(this._viewZones.marginDomNode),h.getDomNode().appendChild(c.getDomNode()),this._viewParts.push(h),this._contentWidgets=new ct(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new vi(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new ii(this._context),this._viewParts.push(this._overlayWidgets);const u=new ai(this._context);this._viewParts.push(u);const g=new Si(this._context);this._viewParts.push(g);const p=new Xt(this._context);if(this._viewParts.push(p),a){const e=this._scrollbar.getOverviewRulerLayoutInfo();e.parent.insertBefore(a.getDomNode(),e.insertBefore)}this._linesContent.appendChild(d.getDomNode()),this._linesContent.appendChild(u.domNode),this._linesContent.appendChild(g.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(h.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(l.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(p.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),s?s.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new Pe(this._context,r,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new _e(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new ue.L(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){const e=this._context.configuration.options.get(133);this.domNode.setWidth(e.width),this.domNode.setHeight(e.height),this._overflowGuardContainer.setWidth(e.width),this._overflowGuardContainer.setHeight(e.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(130)+" "+(0,Be.m6)(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=d.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function(e){try{e()}catch(e){(0,c.dL)(e)}}((()=>this._actualRender()))}_getViewPartsToRender(){const e=[];let t=0;for(const i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_actualRender(){if(!d.Uw(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===e.length)return;const t=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const i=new wi(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const n=new K(this._context.viewLayout,i,this._viewLines);for(const t of e)t.prepareRender(n);for(const t of e)t.render(n),t.onDidRender()}delegateVerticalScrollbarPointerDown(e){this._scrollbar.delegateVerticalScrollbarPointerDown(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){const i=this._context.viewModel.model.validatePosition({lineNumber:e,column:t}),n=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();const o=this._viewLines.visibleRangeForPosition(new ue.L(n.lineNumber,n.column));return o?o.left:-1}getTargetAtClientPoint(e,t){const i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?Xe.convertViewToModelMouseTarget(i,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new ri(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const e of this._viewParts)e.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){var t,i;let n=e.position&&e.position.range||null;if(null===n){const t=e.position?e.position.position:null;null!==t&&(n=new ge.e(t.lineNumber,t.column,t.lineNumber,t.column))}const o=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,n,o,null!==(i=null===(t=e.position)||void 0===t?void 0:t.positionAffinity)&&void 0!==i?i:null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}var Li=i(5343);class xi{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new Li.rS(new ge.e(1,1,1,1),0,new ue.L(1,1),0),new Li.rS(new ge.e(1,1,1,1),0,new ue.L(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Li.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return O.Y.fromRange(t,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,n){return t.equals(i)?n:e.normalizePosition(t,2)}static _validateViewState(e,t){const i=t.position,n=t.selectionStart.getStartPosition(),o=t.selectionStart.getEndPosition(),s=e.normalizePosition(i,2),r=this._validatePositionWithCache(e,n,i,s),a=this._validatePositionWithCache(e,o,n,r);return i.equals(s)&&n.equals(r)&&o.equals(a)?t:new Li.rS(ge.e.fromPositions(r,a),t.selectionStartLeftoverVisibleColumns+n.column-r.column,s,t.leftoverVisibleColumns+i.column-s.column)}_setState(e,t,i){if(i&&(i=xi._validateViewState(e.viewModel,i)),t){const i=e.model.validateRange(t.selectionStart),n=t.selectionStart.equalsRange(i)?t.selectionStartLeftoverVisibleColumns:0,o=e.model.validatePosition(t.position),s=t.position.equals(o)?t.leftoverVisibleColumns:0;t=new Li.rS(i,n,o,s)}else{if(!i)return;const n=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),o=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new Li.rS(n,i.selectionStartLeftoverVisibleColumns,o,i.leftoverVisibleColumns)}if(i){const n=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),o=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new Li.rS(n,t.selectionStartLeftoverVisibleColumns,o,t.leftoverVisibleColumns)}else{const n=e.coordinatesConverter.convertModelPositionToViewPosition(new ue.L(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),o=e.coordinatesConverter.convertModelPositionToViewPosition(new ue.L(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),s=new ge.e(n.lineNumber,n.column,o.lineNumber,o.column),r=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new Li.rS(s,t.selectionStartLeftoverVisibleColumns,r,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}}class Ii{constructor(e){this.context=e,this.cursors=[new xi(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map((e=>e.readSelectionFromMarkers(this.context)))}getAll(){return this.cursors.map((e=>e.asCursorState()))}getViewPositions(){return this.cursors.map((e=>e.viewState.position))}getTopMostViewPosition(){return(0,m.VJ)(this.cursors,(0,m.tT)((e=>e.viewState.position),ue.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,m.jV)(this.cursors,(0,m.tT)((e=>e.viewState.position),ue.L.compare)).viewState.position}getSelections(){return this.cursors.map((e=>e.modelState.selection))}getViewSelections(){return this.cursors.map((e=>e.viewState.selection))}setSelections(e){this.setStates(Li.Vi.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){null!==e&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.cursors.length-1,i=e.length;if(t<i){const e=i-t;for(let t=0;t<e;t++)this._addSecondaryCursor()}else if(t>i){const e=t-i;for(let t=0;t<e;t++)this._removeSecondaryCursor(this.cursors.length-2)}for(let t=0;t<i;t++)this.cursors[t+1].setState(this.context,e[t].modelState,e[t].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new xi(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(1===this.cursors.length)return;const e=this.cursors.slice(0),t=[];for(let i=0,n=e.length;i<n;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort((0,m.tT)((e=>e.selection),ge.e.compareRangesUsingStarts));for(let i=0;i<t.length-1;i++){const n=t[i],o=t[i+1],s=n.selection,r=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let a;if(a=r.isEmpty()||s.isEmpty()?r.getStartPosition().isBeforeOrEqual(s.getEndPosition()):r.getStartPosition().isBefore(s.getEndPosition()),a){const s=n.index<o.index?i:i+1,r=n.index<o.index?i+1:i,a=t[r].index,l=t[s].index,d=t[r].selection,c=t[s].selection;if(!d.equalsSelection(c)){const i=d.plusRange(c),n=d.selectionStartLineNumber===d.startLineNumber&&d.selectionStartColumn===d.startColumn,o=c.selectionStartLineNumber===c.startLineNumber&&c.selectionStartColumn===c.startColumn;let r,h;a===this.lastAddedCursorIndex?(r=n,this.lastAddedCursorIndex=l):r=o,h=r?new O.Y(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new O.Y(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn),t[s].selection=h;const u=Li.Vi.fromModelSelection(h);e[l].setState(this.context,u.modelState,u.viewState)}for(const e of t)e.index>a&&e.index--;e.splice(a,1),t.splice(r,1),this._removeSecondaryCursor(a-1),i--}}}}class Di{constructor(e,t,i,n){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=n}}var Ni=i(9436),Ei=i(1336),Ai=i(4706);class Ti{constructor(){this.type=0}}class Mi{constructor(){this.type=1}}class Ri{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class Pi{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}}class Oi{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class Vi{constructor(){this.type=5}}class Fi{constructor(e){this.type=6,this.isFocused=e}}class Wi{constructor(){this.type=7}}class zi{constructor(){this.type=8}}class Bi{constructor(e,t){this.fromLineNumber=e,this.count=t,this.type=9}}class Ui{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class Hi{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class Gi{constructor(e,t,i,n,o,s,r){this.source=e,this.minimalReveal=t,this.range=i,this.selections=n,this.verticalType=o,this.revealHorizontal=s,this.scrollType=r,this.type=12}}class ji{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class Ki{constructor(e){this.theme=e,this.type=14}}class $i{constructor(e){this.type=15,this.ranges=e}}class qi{constructor(){this.type=16}}class Yi{constructor(){this.type=17}}class Qi extends u.JT{constructor(){super(),this._onEvent=this._register(new h.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++){const i=this._outgoingEvents[t].kind===e.kind?this._outgoingEvents[t].attemptToMerge(e):null;if(i)return void(this._outgoingEvents[t]=i)}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new Zi),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const t of e)this._addOutgoingEvent(t);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class Zi{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class Ji{constructor(e,t,i,n){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=n,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(e){return e.kind!==this.kind?null:new Ji(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class Xi{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(e){return e.kind!==this.kind?null:new Xi(this.oldHasFocus,e.hasFocus)}}class en{constructor(e,t,i,n,o,s,r,a){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=n,this.scrollWidth=o,this.scrollLeft=s,this.scrollHeight=r,this.scrollTop=a,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}attemptToMerge(e){return e.kind!==this.kind?null:new en(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class tn{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class nn{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class on{constructor(e,t,i,n,o,s,r){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=n,this.source=o,this.reason=s,this.reachedMaxCursorCount=r}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(!e[n].equalsSelection(t[n]))return!1;return!0}isNoOp(){return on._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(e){return e.kind!==this.kind?null:new on(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class sn{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class rn{constructor(e){this.event=e,this.kind=7}isNoOp(){return!1}attemptToMerge(e){return null}}class an{constructor(e){this.event=e,this.kind=8}isNoOp(){return!1}attemptToMerge(e){return null}}class ln{constructor(e){this.event=e,this.kind=9}isNoOp(){return!1}attemptToMerge(e){return null}}class dn{constructor(e){this.event=e,this.kind=10}isNoOp(){return!1}attemptToMerge(e){return null}}class cn{constructor(e){this.event=e,this.kind=11}isNoOp(){return!1}attemptToMerge(e){return null}}class hn{constructor(e){this.event=e,this.kind=12}isNoOp(){return!1}attemptToMerge(e){return null}}class un extends u.JT{constructor(e,t,i,n){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new Di(this._model,this._viewModel,this._coordinatesConverter,n),this._cursors=new Ii(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,u.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new Di(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,n){let o=!1;null!==n&&n.length>un.MAX_CURSOR_COUNT&&(n=n.slice(0,un.MAX_CURSOR_COUNT),o=!0);const s=gn.from(this._model,this);return this._cursors.setStates(n),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,s,o)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,n,o,s){const r=this._cursors.getViewPositions();let a=null,l=null;r.length>1?l=this._cursors.getViewSelections():a=ge.e.fromPositions(r[0],r[0]),e.emitViewEvent(new Gi(t,i,a,l,n,o,s))}saveState(){const e=[],t=this._cursors.getSelections();for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push({inSelectionMode:!n.isEmpty(),selectionStart:{lineNumber:n.selectionStartLineNumber,column:n.selectionStartColumn},position:{lineNumber:n.positionLineNumber,column:n.positionColumn}})}return e}restoreState(e,t){const i=[];for(let e=0,n=t.length;e<n;e++){const n=t[e];let o=1,s=1;n.position&&n.position.lineNumber&&(o=n.position.lineNumber),n.position&&n.position.column&&(s=n.position.column);let r=o,a=s;n.selectionStart&&n.selectionStart.lineNumber&&(r=n.selectionStart.lineNumber),n.selectionStart&&n.selectionStart.column&&(a=n.selectionStart.column),i.push({selectionStartLineNumber:r,selectionStartColumn:a,positionLineNumber:o,positionColumn:s})}this.setStates(e,"restoreState",0,Li.Vi.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,t){if(t instanceof Ai.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const i=t.rawContentChangedEvent;if(this._knownModelVersionId=i.versionId,this._isHandling)return;const n=i.containsEvent(1);if(this._prevEditOperationType=0,n)this._cursors.dispose(),this._cursors=new Ii(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&i.resultingSelection&&i.resultingSelection.length>0){const t=Li.Vi.fromModelSelections(i.resultingSelection);this.setStates(e,"modelChange",i.isUndoing?5:i.isRedoing?6:2,t)&&this.revealPrimary(e,"modelChange",!1,0,!0,0)}else{const t=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,Li.Vi.fromModelSelections(t))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,n){this.setStates(e,t,n,Li.Vi.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){const i=[],n=[];for(let o=0,s=e.length;o<s;o++)i.push({range:e[o],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),n.push({range:t[o],options:{description:"auto-closed-enclosing",stickiness:1}});const o=this._model.deltaDecorations([],i),s=this._model.deltaDecorations([],n);this._autoClosedActions.push(new pn(this._model,o,s))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=mn.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);const i=[],n=[];for(let t=0;t<e.commands.length;t++){const o=e.commands[t];o instanceof Ei.g_&&o.enclosingRange&&o.closeCharacterRange&&(i.push(o.closeCharacterRange),n.push(o.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,n),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){e&&0!==e.length||(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,n,o){const s=gn.from(this._model,this);if(s.equals(n))return!1;const r=this._cursors.getSelections(),a=this._cursors.getViewSelections();if(e.emitViewEvent(new Pi(a,r)),!n||n.cursorState.length!==s.cursorState.length||s.cursorState.some(((e,t)=>!e.modelState.equals(n.cursorState[t].modelState)))){const a=n?n.cursorState.map((e=>e.modelState.selection)):null,l=n?n.modelVersionId:0;e.emitOutgoingEvent(new on(a,r,l,s.modelVersionId,t||"keyboard",i,o))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n.text||n.text.indexOf("\n")>=0)return null;const o=n.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!o)return null;const s=o[1],r=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(s);if(!r||1!==r.length)return null;const a=r[0].open,l=n.text.length-o[2].length-1,d=n.text.lastIndexOf(a,l-1);if(-1===d)return null;t.push([d,l])}return t}executeEdits(e,t,i,n){let o=null;"snippet"===t&&(o=this._findAutoClosingPairs(i)),o&&(i[0]._isTracked=!0);const s=[],r=[],a=this._model.pushEditOperations(this.getSelections(),i,(e=>{if(o)for(let t=0,i=o.length;t<i;t++){const[i,n]=o[t],a=e[t],l=a.range.startLineNumber,d=a.range.startColumn-1+i,c=a.range.startColumn-1+n;s.push(new ge.e(l,c+1,l,c+2)),r.push(new ge.e(l,d+1,l,c+2))}const t=n(e);return t&&(this._isHandling=!0),t}));a&&(this._isHandling=!1,this.setSelections(e,t,a,0)),s.length>0&&this._pushAutoClosedAction(s,r)}_executeEdit(e,t,i,n=0){if(this.context.cursorConfig.readOnly)return;const o=gn.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(e){(0,c.dL)(e)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,n,o,!1)&&this.revealPrimary(t,i,!1,0,!0,0)}getAutoClosedCharacters(){return pn.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new vn(this._model,this.getSelections())}endComposition(e,t){const i=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit((()=>{"keyboard"===t&&this._executeEditOperation(Ei.u6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,i,this.getSelections(),this.getAutoClosedCharacters()))}),e,t)}type(e,t,i){this._executeEdit((()=>{if("keyboard"===i){const e=t.length;let i=0;for(;i<e;){const e=Oe.vH(t,i),n=t.substr(i,e);this._executeEditOperation(Ei.u6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),n)),i+=e}}else this._executeEditOperation(Ei.u6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))}),e,i)}compositionType(e,t,i,n,o,s){if(0!==t.length||0!==i||0!==n)this._executeEdit((()=>{this._executeEditOperation(Ei.u6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,n,o))}),e,s);else if(0!==o){const t=this.getSelections().map((e=>{const t=e.getPosition();return new O.Y(t.lineNumber,t.column+o,t.lineNumber,t.column+o)}));this.setSelections(e,s,t,0)}}paste(e,t,i,n,o){this._executeEdit((()=>{this._executeEditOperation(Ei.u6.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,n||[]))}),e,o,4)}cut(e,t){this._executeEdit((()=>{this._executeEditOperation(Ni.A.cut(this.context.cursorConfig,this._model,this.getSelections()))}),e,t)}executeCommand(e,t,i){this._executeEdit((()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Li.Tp(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,i)}executeCommands(e,t,i){this._executeEdit((()=>{this._executeEditOperation(new Li.Tp(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,i)}}un.MAX_CURSOR_COUNT=1e4;class gn{constructor(e,t){this.modelVersionId=e,this.cursorState=t}static from(e,t){return new gn(e.getVersionId(),t.getCursorStates())}equals(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class pn{constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){const t=[];for(let e=0;e<this._autoClosedEnclosingDecorations.length;e++){const i=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[e]);if(i&&(t.push(i),i.startLineNumber!==i.endLineNumber))return!1}t.sort(ge.e.compareRangesUsingStarts),e.sort(ge.e.compareRangesUsingStarts);for(let i=0;i<e.length;i++){if(i>=t.length)return!1;if(!t[i].strictContainsRange(e[i]))return!1}return!0}}class mn{static executeCommands(e,t,i){const n={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(n,i);for(let e=0,t=n.trackedRanges.length;e<t;e++)n.model._setTrackedRange(n.trackedRanges[e],null,0);return o}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const i=this._getEditOperations(e,t);if(0===i.operations.length)return null;const n=i.operations,o=this._getLoserCursorMap(n);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const s=[];for(let e=0,t=n.length;e<t;e++)o.hasOwnProperty(n[e].identifier.major.toString())||s.push(n[e]);i.hadTrackedEditOperation&&s.length>0&&(s[0]._isTracked=!0);let r=e.model.pushEditOperations(e.selectionsBefore,s,(i=>{const n=[];for(let t=0;t<e.selectionsBefore.length;t++)n[t]=[];for(const e of i)e.identifier&&n[e.identifier.major].push(e);const o=(e,t)=>e.identifier.minor-t.identifier.minor,s=[];for(let i=0;i<e.selectionsBefore.length;i++)n[i].length>0?(n[i].sort(o),s[i]=t[i].computeCursorState(e.model,{getInverseEditOperations:()=>n[i],getTrackedSelection:t=>{const i=parseInt(t,10),n=e.model._getTrackedRange(e.trackedRanges[i]);return 0===e.trackedRangesDirection[i]?new O.Y(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):new O.Y(n.endLineNumber,n.endColumn,n.startLineNumber,n.startColumn)}})):s[i]=e.selectionsBefore[i];return s}));r||(r=e.selectionsBefore);const a=[];for(const e in o)o.hasOwnProperty(e)&&a.push(parseInt(e,10));a.sort(((e,t)=>t-e));for(const e of a)r.splice(e,1);return r}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],n=!1;for(let o=0,s=t.length;o<s;o++){const s=t[o];if(s){const t=this._getEditOperationsFromCommand(e,o,s);i=i.concat(t.operations),n=n||t.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:n}}static _getEditOperationsFromCommand(e,t,i){const n=[];let o=0;const s=(e,s,r=!1)=>{ge.e.isEmpty(e)&&""===s||n.push({identifier:{major:t,minor:o++},range:e,text:s,forceMoveMarkers:r,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let r=!1;const a={addEditOperation:s,addTrackedEditOperation:(e,t,i)=>{r=!0,s(e,t,i)},trackSelection:(t,i)=>{const n=O.Y.liftSelection(t);let o;if(n.isEmpty())if("boolean"==typeof i)o=i?2:3;else{const t=e.model.getLineMaxColumn(n.startLineNumber);o=n.startColumn===t?2:3}else o=1;const s=e.trackedRanges.length,r=e.model._setTrackedRange(null,n,o);return e.trackedRanges[s]=r,e.trackedRangesDirection[s]=n.getDirection(),s.toString()}};try{i.getEditOperations(e.model,a)}catch(e){return(0,c.dL)(e),{operations:[],hadTrackedEditOperation:!1}}return{operations:n,hadTrackedEditOperation:r}}static _getLoserCursorMap(e){(e=e.slice(0)).sort(((e,t)=>-ge.e.compareRangesUsingEnds(e.range,t.range)));const t={};for(let i=1;i<e.length;i++){const n=e[i-1],o=e[i];if(ge.e.getStartPosition(n.range).isBefore(ge.e.getEndPosition(o.range))){let s;s=n.identifier.major>o.identifier.major?n.identifier.major:o.identifier.major,t[s.toString()]=!0;for(let t=0;t<e.length;t++)e[t].identifier.major===s&&(e.splice(t,1),t<i&&i--,t--);i>0&&i--}}return t}}class fn{constructor(e,t,i){this.text=e,this.startSelection=t,this.endSelection=i}}class vn{constructor(e,t){this._original=vn._capture(e,t)}static _capture(e,t){const i=[];for(const n of t){if(n.startLineNumber!==n.endLineNumber)return null;i.push(new fn(e.getLineContent(n.startLineNumber),n.startColumn-1,n.endColumn-1))}return i}deduceOutcome(e,t){if(!this._original)return null;const i=vn._capture(e,t);if(!i)return null;if(this._original.length!==i.length)return null;const n=[];for(let e=0,t=this._original.length;e<t;e++)n.push(vn._deduceOutcome(this._original[e],i[e]));return n}static _deduceOutcome(e,t){const i=Math.min(e.startSelection,t.startSelection,Oe.Mh(e.text,t.text)),n=Math.min(e.text.length-e.endSelection,t.text.length-t.endSelection,Oe.P1(e.text,t.text)),o=e.text.substring(i,e.text.length-n),s=t.text.substring(i,t.text.length-n);return new Ei.Nu(o,e.startSelection-i,e.endSelection-i,s,t.startSelection-i,t.endSelection-i)}}var _n=i(653),bn=i(6518),Cn=i(9102),yn=i(2035),wn=i(8801),Sn=i(2963),kn=i(6633);class Ln{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,n=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,n)}}class xn{constructor(e,t,i,n,o){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=n,this.minWidth=o,this.prefixSum=0}}class In{constructor(e,t,i,n){this._instanceId=Oe.PJ(++In.INSTANCE_COUNT),this._pendingChanges=new Ln,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=n}static findInsertionIndex(e,t,i){let n=0,o=e.length;for(;n<o;){const s=n+o>>>1;t===e[s].afterLineNumber?i<e[s].ordinal?o=s:n=s+1:t<e[s].afterLineNumber?o=s:n=s+1}return n}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(e,i,n,o)=>{t=!0,e|=0,i|=0,n|=0,o|=0;const s=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new xn(s,e,i,n,o)),s},changeOneWhitespace:(e,i,n)=>{t=!0,i|=0,n|=0,this._pendingChanges.change({id:e,newAfterLineNumber:i,newHeight:n})},removeWhitespace:e=>{t=!0,this._pendingChanges.remove({id:e})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const t of e)this._insertWhitespace(t);for(const e of t)this._changeOneWhitespace(e.id,e.newAfterLineNumber,e.newHeight);for(const e of i){const t=this._findWhitespaceIndex(e.id);-1!==t&&this._removeWhitespace(t)}return}const n=new Set;for(const e of i)n.add(e.id);const o=new Map;for(const e of t)o.set(e.id,e);const s=e=>{const t=[];for(const i of e)if(!n.has(i.id)){if(o.has(i.id)){const e=o.get(i.id);i.afterLineNumber=e.newAfterLineNumber,i.height=e.newHeight}t.push(i)}return t},r=s(this._arr).concat(s(e));r.sort(((e,t)=>e.afterLineNumber===t.afterLineNumber?e.ordinal-t.ordinal:e.afterLineNumber-t.afterLineNumber)),this._arr=r,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=In.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,n=t.length;i<n;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const n=this._findWhitespaceIndex(e);if(-1!==n&&(this._arr[n].height!==i&&(this._arr[n].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)),this._arr[n].afterLineNumber!==t)){const e=this._arr[n];this._removeWhitespace(n),e.afterLineNumber=t,this._insertWhitespace(e)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount-=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){const n=this._arr[i].afterLineNumber;e<=n&&n<=t?this._arr[i].afterLineNumber=e-1:n>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount+=t-e+1;for(let i=0,n=this._arr.length;i<n;i++)e<=this._arr[i].afterLineNumber&&(this._arr[i].afterLineNumber+=t-e+1)}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e|=0;let t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e|=0;const t=this._arr;let i=0,n=t.length-1;for(;i<=n;){const o=i+((n-i|0)/2|0)|0;if(t[o].afterLineNumber<e){if(o+1>=t.length||t[o+1].afterLineNumber>=e)return o;i=o+1|0}else n=o-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e)+1;return t<this._arr.length?t:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e|=0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e,t=!1){let i;return this._checkPendingChanges(),i=(e|=0)>1?this._lineHeight*(e-1):0,i+this.getWhitespaceAccumulatedHeightBeforeLineNumber(e-(t?1:0))+this._paddingTop}getVerticalOffsetAfterLineNumber(e,t=!1){return this._checkPendingChanges(),e|=0,this._lineHeight*e+this.getWhitespaceAccumulatedHeightBeforeLineNumber(e+(t?1:0))+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){return this._checkPendingChanges(),e>this.getLinesTotalHeight()}isInTopPadding(e){return 0!==this._paddingTop&&(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){return 0!==this._paddingBottom&&(this._checkPendingChanges(),e>=this.getLinesTotalHeight()-this._paddingBottom)}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),(e|=0)<0)return 1;const t=0|this._lineCount,i=this._lineHeight;let n=1,o=t;for(;n<o;){const t=(n+o)/2|0,s=0|this.getVerticalOffsetForLineNumber(t);if(e>=s+i)n=t+1;else{if(e>=s)return t;o=t}}return n>t?t:n}getLinesViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this._lineHeight,n=0|this.getLineNumberAtOrAfterVerticalOffset(e),o=0|this.getVerticalOffsetForLineNumber(n);let s=0|this._lineCount,r=0|this.getFirstWhitespaceIndexAfterLineNumber(n);const a=0|this.getWhitespacesCount();let l,d;-1===r?(r=a,d=s+1,l=0):(d=0|this.getAfterLineNumberForWhitespaceIndex(r),l=0|this.getHeightForWhitespaceIndex(r));let c=o,h=c;const u=5e5;let g=0;o>=u&&(g=Math.floor(o/u)*u,g=Math.floor(g/i)*i,h-=g);const p=[],m=e+(t-e)/2;let f=-1;for(let e=n;e<=s;e++){for(-1===f&&(c<=m&&m<c+i||c>m)&&(f=e),c+=i,p[e-n]=h,h+=i;d===e;)h+=l,c+=l,r++,r>=a?d=s+1:(d=0|this.getAfterLineNumberForWhitespaceIndex(r),l=0|this.getHeightForWhitespaceIndex(r));if(c>=t){s=e;break}}-1===f&&(f=s);const v=0|this.getVerticalOffsetForLineNumber(s);let _=n,b=s;return _<b&&o<e&&_++,_<b&&v+i>t&&b--,{bigNumbersDelta:g,startLineNumber:n,endLineNumber:s,relativeVerticalOffset:p,centeredLineNumber:f,completelyVisibleStartLineNumber:_,completelyVisibleEndLineNumber:b}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e|=0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i,n;return i=t>=1?this._lineHeight*t:0,n=e>0?this.getWhitespacesAccumulatedHeight(e-1):0,i+n+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e|=0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;if(e>=this.getVerticalOffsetForWhitespaceIndex(i)+this.getHeightForWhitespaceIndex(i))return-1;for(;t<i;){const n=Math.floor((t+i)/2),o=this.getVerticalOffsetForWhitespaceIndex(n);if(e>=o+this.getHeightForWhitespaceIndex(n))t=n+1;else{if(e>=o)return n;i=n}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e|=0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const n=this.getHeightForWhitespaceIndex(t);return{id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:i,height:n}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),n=this.getWhitespacesCount()-1;if(i<0)return[];const o=[];for(let e=i;e<=n;e++){const i=this.getVerticalOffsetForWhitespaceIndex(e),n=this.getHeightForWhitespaceIndex(e);if(i>=t)break;o.push({id:this.getIdForWhitespaceIndex(e),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(e),verticalOffset:i,height:n})}return o}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].height}}In.INSTANCE_COUNT=0;class Dn{constructor(e,t,i,n){(e|=0)<0&&(e=0),(t|=0)<0&&(t=0),(i|=0)<0&&(i=0),(n|=0)<0&&(n=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=n,this.scrollHeight=Math.max(i,n)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class Nn extends u.JT{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new h.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Dn(0,0,0,0),this._scrollable=this._register(new kn.Rm({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const i=t.contentWidth!==e.contentWidth,n=t.contentHeight!==e.contentHeight;(i||n)&&this._onDidContentSizeChange.fire(new Ji(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class En extends u.JT{constructor(e,t,i){super(),this._configuration=e;const n=this._configuration.options,o=n.get(133),s=n.get(77);this._linesLayout=new In(t,n.get(61),s.top,s.bottom),this._scrollable=this._register(new Nn(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Dn(o.contentWidth,0,o.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(105)?125:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(61)&&this._linesLayout.setLineHeight(t.get(61)),e.hasChanged(77)){const e=t.get(77);this._linesLayout.setPadding(e.top,e.bottom)}if(e.hasChanged(133)){const e=t.get(133),i=e.contentWidth,n=e.height,o=this._scrollable.getScrollDimensions(),s=o.contentWidth;this._scrollable.setScrollDimensions(new Dn(i,o.contentWidth,n,this._getContentHeight(i,n,s)))}else this._updateHeight();e.hasChanged(105)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const i=this._configuration.options.get(94);return 2===i.horizontal||e>=t?0:i.horizontalScrollbarSize}_getContentHeight(e,t,i){const n=this._configuration.options;let o=this._linesLayout.getLinesTotalHeight();return n.get(96)?o+=Math.max(0,t-n.get(61)-n.get(77).bottom):o+=this._getHorizontalScrollbarHeight(e,i),o}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,n=e.contentWidth;this._scrollable.setScrollDimensions(new Dn(t,e.contentWidth,i,this._getContentHeight(t,i,n)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new Vt.l_(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new Vt.l_(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){const t=this._configuration.options,i=t.get(134),n=t.get(46),o=t.get(133);if(i.isViewportWrapping){const i=t.get(67);return e>o.contentWidth+n.typicalHalfwidthCharacterWidth&&i.enabled&&"right"===i.side?e+o.verticalScrollbarWidth:e}{const i=t.get(95)*n.typicalHalfwidthCharacterWidth,s=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+i+o.verticalScrollbarWidth,s)}}setMaxLineWidth(e){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Dn(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t);return{scrollTop:t,scrollTopWithoutViewZones:t-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i),scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(e,t)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){1===t?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}var An=i(168),Tn=i(7378);function Mn(e,t){return null===e?t?Pn.INSTANCE:On.INSTANCE:new Rn(e,t)}class Rn{constructor(e,t){this._projectionData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,t,i){this._assertVisible();const n=i>0?this._projectionData.breakOffsets[i-1]:0,o=this._projectionData.breakOffsets[i];let s;if(null!==this._projectionData.injectionOffsets){const i=this._projectionData.injectionOffsets.map(((e,t)=>new Ai.gk(0,0,e+1,this._projectionData.injectionOptions[t],0)));s=Ai.gk.applyInjectedText(e.getLineContent(t),i).substring(n,o)}else s=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:o+1});return i>0&&(s=Fn(this._projectionData.wrappedTextIndentLength)+s),s}getViewLineLength(e,t,i){return this._assertVisible(),this._projectionData.getLineLength(i)}getViewLineMinColumn(e,t,i){return this._assertVisible(),this._projectionData.getMinOutputOffset(i)+1}getViewLineMaxColumn(e,t,i){return this._assertVisible(),this._projectionData.getMaxOutputOffset(i)+1}getViewLineData(e,t,i){const n=new Array;return this.getViewLinesData(e,t,i,1,0,[!0],n),n[0]}getViewLinesData(e,t,i,n,o,s,r){this._assertVisible();const a=this._projectionData,l=a.injectionOffsets,d=a.injectionOptions;let c,h=null;if(l){h=[];let e=0,t=0;for(let i=0;i<a.getOutputLineCount();i++){const n=new Array;h[i]=n;const o=i>0?a.breakOffsets[i-1]:0,s=a.breakOffsets[i];for(;t<l.length;){const r=d[t].content.length,c=l[t]+e,h=c+r;if(c>s)break;if(o<h){const e=d[t];if(e.inlineClassName){const t=i>0?a.wrappedTextIndentLength:0,r=t+Math.max(c-o,0),l=t+Math.min(h-o,s);r!==l&&n.push(new Vt.Wx(r,l,e.inlineClassName,e.inlineClassNameAffectsLetterSpacing))}}if(!(h<=s))break;e+=r,t++}}}c=l?e.tokenization.getLineTokens(t).withInserted(l.map(((e,t)=>({offset:e,text:d[t].content,tokenMetadata:Tn.A.defaultTokenMetadata})))):e.tokenization.getLineTokens(t);for(let e=i;e<i+n;e++){const t=o+e-i;s[t]?r[t]=this._getViewLineData(c,h?h[e]:null,e):r[t]=null}}_getViewLineData(e,t,i){this._assertVisible();const n=this._projectionData,o=i>0?n.wrappedTextIndentLength:0,s=i>0?n.breakOffsets[i-1]:0,r=n.breakOffsets[i],a=e.sliceAndInflate(s,r,o);let l=a.getLineContent();i>0&&(l=Fn(n.wrappedTextIndentLength)+l);const d=this._projectionData.getMinOutputOffset(i)+1,c=l.length+1,h=i+1<this.getViewLineCount(),u=0===i?0:n.breakOffsetsVisibleColumn[i-1];return new Vt.IP(l,h,d,c,u,a,t)}getModelColumnOfViewPosition(e,t){return this._assertVisible(),this._projectionData.translateToInputOffset(e,t-1)+1}getViewPositionOfModelPosition(e,t,i=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(t-1,i).toPosition(e)}getViewLineNumberOfModelPosition(e,t){return this._assertVisible(),e+this._projectionData.translateToOutputPosition(t-1).outputLineIndex}normalizePosition(e,t,i){const n=t.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,t.column-1,i).toPosition(n)}getInjectedTextAt(e,t){return this._projectionData.getInjectedText(e,t-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class Pn{constructor(){}isVisible(){return!0}setVisible(e){return e?this:On.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){const n=e.tokenization.getLineTokens(t),o=n.getLineContent();return new Vt.IP(o,!1,1,o.length+1,0,n.inflate(),null)}getViewLinesData(e,t,i,n,o,s,r){s[o]?r[o]=this.getViewLineData(e,t,0):r[o]=null}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new ue.L(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i){return t}getInjectedTextAt(e,t){return null}}Pn.INSTANCE=new Pn;class On{constructor(){}isVisible(){return!1}setVisible(e){return e?Pn.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,n,o,s,r){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}On.INSTANCE=new On;const Vn=[""];function Fn(e){if(e>=Vn.length)for(let t=1;t<=e;t++)Vn[t]=Wn(t);return Vn[e]}function Wn(e){return new Array(e+1).join(" ")}var zn=i(310);class Bn{constructor(e,t,i,n,o,s,r,a,l){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=n,this.fontInfo=o,this.tabSize=s,this.wrappingStrategy=r,this.wrappingColumn=a,this.wrappingIndent=l,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new Gn(this)}_constructLines(e,t){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const i=this.model.getLinesContent(),n=this.model.getInjectedTextDecorations(this._editorId),o=i.length,s=this.createLineBreaksComputer(),r=new m.H9(Ai.gk.fromDecorations(n));for(let e=0;e<o;e++){const n=r.takeWhile((t=>t.lineNumber===e+1));s.addRequest(i[e],n,t?t[e]:null)}const a=s.finalize(),l=[],d=this.hiddenAreasDecorationIds.map((e=>this.model.getDecorationRange(e))).sort(ge.e.compareRangesUsingStarts);let c=1,h=0,u=-1,g=u+1<d.length?h+1:o+2;for(let e=0;e<o;e++){const t=e+1;t===g&&(u++,c=d[u].startLineNumber,h=d[u].endLineNumber,g=u+1<d.length?h+1:o+2);const i=t>=c&&t<=h,n=Mn(a[e],!i);l[e]=n.getViewLineCount(),this.modelLineProjections[e]=n}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new zn.Ck(l)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map((e=>this.model.getDecorationRange(e)))}setHiddenAreas(e){const t=function(e){if(0===e.length)return[];const t=e.slice();t.sort(ge.e.compareRangesUsingStarts);const i=[];let n=t[0].startLineNumber,o=t[0].endLineNumber;for(let e=1,s=t.length;e<s;e++){const s=t[e];s.startLineNumber>o+1?(i.push(new ge.e(n,1,o,1)),n=s.startLineNumber,o=s.endLineNumber):s.endLineNumber>o&&(o=s.endLineNumber)}return i.push(new ge.e(n,1,o,1)),i}(e.map((e=>this.model.validateRange(e)))),i=this.hiddenAreasDecorationIds.map((e=>this.model.getDecorationRange(e))).sort(ge.e.compareRangesUsingStarts);if(t.length===i.length){let e=!1;for(let n=0;n<t.length;n++)if(!t[n].equalsRange(i[n])){e=!0;break}if(!e)return!1}const n=t.map((e=>({range:e,options:yn.qx.EMPTY})));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,n);const o=t;let s=1,r=0,a=-1,l=a+1<o.length?r+1:this.modelLineProjections.length+2,d=!1;for(let e=0;e<this.modelLineProjections.length;e++){const t=e+1;t===l&&(a++,s=o[a].startLineNumber,r=o[a].endLineNumber,l=a+1<o.length?r+1:this.modelLineProjections.length+2);let i=!1;if(t>=s&&t<=r?this.modelLineProjections[e].isVisible()&&(this.modelLineProjections[e]=this.modelLineProjections[e].setVisible(!1),i=!0):(d=!0,this.modelLineProjections[e].isVisible()||(this.modelLineProjections[e]=this.modelLineProjections[e].setVisible(!0),i=!0)),i){const t=this.modelLineProjections[e].getViewLineCount();this.projectedModelLineLineCounts.setValue(e,t)}}return d||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return!(e<1||e>this.modelLineProjections.length)&&this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,n){const o=this.fontInfo.equals(e),s=this.wrappingStrategy===t,r=this.wrappingColumn===i,a=this.wrappingIndent===n;if(o&&s&&r&&a)return!1;const l=o&&s&&!r&&a;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=n;let d=null;if(l){d=[];for(let e=0,t=this.modelLineProjections.length;e<t;e++)d[e]=this.modelLineProjections[e].getProjectionData()}return this._constructLines(!1,d),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;const n=1===t?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,o=this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections.splice(t-1,i-t+1),this.projectedModelLineLineCounts.removeValues(t-1,i-t+1),new Ui(n,o)}onModelLinesInserted(e,t,i,n){if(!e||e<=this._validModelVersionId)return null;const o=t>2&&!this.modelLineProjections[t-2].isVisible(),s=1===t?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1;let r=0;const a=[],l=[];for(let e=0,t=n.length;e<t;e++){const t=Mn(n[e],!o);a.push(t);const i=t.getViewLineCount();r+=i,l[e]=i}return this.modelLineProjections=this.modelLineProjections.slice(0,t-1).concat(a).concat(this.modelLineProjections.slice(t-1)),this.projectedModelLineLineCounts.insertValues(t-1,l),new Hi(s,s+r-1)}onModelLineChanged(e,t,i){if(null!==e&&e<=this._validModelVersionId)return[!1,null,null,null];const n=t-1,o=this.modelLineProjections[n].getViewLineCount(),s=Mn(i,this.modelLineProjections[n].isVisible());this.modelLineProjections[n]=s;const r=this.modelLineProjections[n].getViewLineCount();let a=!1,l=0,d=-1,c=0,h=-1,u=0,g=-1;return o>r?(l=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,d=l+r-1,u=d+1,g=u+(o-r)-1,a=!0):o<r?(l=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,d=l+o-1,c=d+1,h=c+(r-o)-1,a=!0):(l=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,d=l+r-1),this.projectedModelLineLineCounts.setValue(n,r),[a,l<=d?new Bi(l,d-l+1):null,c<=h?new Hi(c,h):null,u<=g?new Ui(u,g):null]}acceptVersionId(e){this._validModelVersionId=e,1!==this.modelLineProjections.length||this.modelLineProjections[0].isVisible()||this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:0|e}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),s=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),r=this.model.guides.getActiveIndentGuide(n.lineNumber,o.lineNumber,s.lineNumber),a=this.convertModelPositionToViewPosition(r.startLineNumber,1),l=this.convertModelPositionToViewPosition(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber));return{startLineNumber:a.lineNumber,endLineNumber:l.lineNumber,indent:r.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);const t=this.projectedModelLineLineCounts.getIndexOf(e-1),i=t.index,n=t.remainder;return new Un(i+1,n)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new ue.L(e.modelLineNumber,n)}getModelEndPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new ue.L(e.modelLineNumber,n)}getViewLineInfosGroupedByModelRanges(e,t){const i=this.getViewLineInfo(e),n=this.getViewLineInfo(t),o=new Array;let s=this.getModelStartPositionOfViewLine(i),r=new Array;for(let e=i.modelLineNumber;e<=n.modelLineNumber;e++){const t=this.modelLineProjections[e-1];if(t.isVisible()){const o=e===i.modelLineNumber?i.modelLineWrappedLineIdx:0,s=e===n.modelLineNumber?n.modelLineWrappedLineIdx+1:t.getViewLineCount();for(let t=o;t<s;t++)r.push(new Un(e,t))}if(!t.isVisible()&&s){const t=new ue.L(e-1,this.model.getLineMaxColumn(e-1)+1),i=ge.e.fromPositions(s,t);o.push(new Hn(i,r)),r=[],s=null}else t.isVisible()&&!s&&(s=new ue.L(e,1))}if(s){const e=ge.e.fromPositions(s,this.getModelEndPositionOfViewLine(n));o.push(new Hn(e,r))}return o}getViewLinesBracketGuides(e,t,i,n){const o=i?this.convertViewPositionToModelPosition(i.lineNumber,i.column):null,s=[];for(const i of this.getViewLineInfosGroupedByModelRanges(e,t)){const e=i.modelRange.startLineNumber,t=this.model.guides.getLinesBracketGuides(e,i.modelRange.endLineNumber,o,n);for(const n of i.viewLines){const i=t[n.modelLineNumber-e].map((e=>{if(-1!==e.forWrappedLinesAfterColumn&&this.modelLineProjections[n.modelLineNumber-1].getViewPositionOfModelPosition(0,e.forWrappedLinesAfterColumn).lineNumber>=n.modelLineWrappedLineIdx)return;if(-1!==e.forWrappedLinesBeforeOrAtColumn&&this.modelLineProjections[n.modelLineNumber-1].getViewPositionOfModelPosition(0,e.forWrappedLinesBeforeOrAtColumn).lineNumber<n.modelLineWrappedLineIdx)return;if(!e.horizontalLine)return e;let t=-1;if(-1!==e.column){const i=this.modelLineProjections[n.modelLineNumber-1].getViewPositionOfModelPosition(0,e.column);if(i.lineNumber===n.modelLineWrappedLineIdx)t=i.column;else if(i.lineNumber<n.modelLineWrappedLineIdx)t=this.getMinColumnOfViewLine(n);else if(i.lineNumber>n.modelLineWrappedLineIdx)return}const i=this.convertModelPositionToViewPosition(n.modelLineNumber,e.horizontalLine.endColumn),o=this.modelLineProjections[n.modelLineNumber-1].getViewPositionOfModelPosition(0,e.horizontalLine.endColumn);return o.lineNumber===n.modelLineWrappedLineIdx?new Lt.UO(e.visibleColumn,t,e.className,new Lt.vW(e.horizontalLine.top,i.column),-1,-1):o.lineNumber<n.modelLineWrappedLineIdx||-1!==e.visibleColumn?void 0:new Lt.UO(e.visibleColumn,t,e.className,new Lt.vW(e.horizontalLine.top,this.getMaxColumnOfViewLine(n)),-1,-1)}));s.push(i.filter((e=>!!e)))}}return s}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),n=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let o=[];const s=[],r=[],a=i.lineNumber-1,l=n.lineNumber-1;let d=null;for(let e=a;e<=l;e++){const t=this.modelLineProjections[e];if(t.isVisible()){const n=t.getViewLineNumberOfModelPosition(0,e===a?i.column:1),o=t.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(e+1)),l=o-n+1;let c=0;l>1&&1===t.getViewLineMinColumn(this.model,e+1,o)&&(c=0===n?1:2),s.push(l),r.push(c),null===d&&(d=new ue.L(e+1,0))}else null!==d&&(o=o.concat(this.model.guides.getLinesIndentGuides(d.lineNumber,e)),d=null)}null!==d&&(o=o.concat(this.model.guides.getLinesIndentGuides(d.lineNumber,n.lineNumber)),d=null);const c=t-e+1,h=new Array(c);let u=0;for(let e=0,t=o.length;e<t;e++){let t=o[e];const i=Math.min(c-u,s[e]),n=r[e];let a;a=2===n?0:1===n?1:i;for(let e=0;e<i;e++)e===a&&(t=0),h[u++]=t}return h}getViewLineContent(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineContent(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineLength(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineLength(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineData(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineData(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const n=this.projectedModelLineLineCounts.getIndexOf(e-1);let o=e;const s=n.index,r=n.remainder,a=[];for(let n=s,l=this.model.getLineCount();n<l;n++){const l=this.modelLineProjections[n];if(!l.isVisible())continue;const d=n===s?r:0;let c=l.getViewLineCount()-d,h=!1;if(o+c>t&&(h=!0,c=t-o+1),l.getViewLinesData(this.model,n+1,d,c,o-e,i,a),o+=c,h)break}return a}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);const n=this.projectedModelLineLineCounts.getIndexOf(e-1),o=n.index,s=n.remainder,r=this.modelLineProjections[o],a=r.getViewLineMinColumn(this.model,o+1,s),l=r.getViewLineMaxColumn(this.model,o+1,s);t<a&&(t=a),t>l&&(t=l);const d=r.getModelColumnOfViewPosition(s,t);return this.model.validatePosition(new ue.L(o+1,d)).equals(i)?new ue.L(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),n=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new ge.e(i.lineNumber,i.column,n.lineNumber,n.column)}convertViewPositionToModelPosition(e,t){const i=this.getViewLineInfo(e),n=this.modelLineProjections[i.modelLineNumber-1].getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,t);return this.model.validatePosition(new ue.L(i.modelLineNumber,n))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new ge.e(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2){const n=this.model.validatePosition(new ue.L(e,t)),o=n.lineNumber,s=n.column;let r=o-1,a=!1;for(;r>0&&!this.modelLineProjections[r].isVisible();)r--,a=!0;if(0===r&&!this.modelLineProjections[r].isVisible())return new ue.L(1,1);const l=1+this.projectedModelLineLineCounts.getPrefixSum(r);let d;return d=a?this.modelLineProjections[r].getViewPositionOfModelPosition(l,this.model.getLineMaxColumn(r+1),i):this.modelLineProjections[o-1].getViewPositionOfModelPosition(l,s,i),d}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return ge.e.fromPositions(i)}{const t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),i=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new ge.e(t.lineNumber,t.column,i.lineNumber,i.column)}}getViewLineNumberOfModelPosition(e,t){let i=e-1;if(this.modelLineProjections[i].isVisible()){const e=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(e,t)}for(;i>0&&!this.modelLineProjections[i].isVisible();)i--;if(0===i&&!this.modelLineProjections[i].isVisible())return 1;const n=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(n,this.model.getLineMaxColumn(i+1))}getDecorationsInRange(e,t,i){const n=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),o=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(o.lineNumber-n.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new ge.e(n.lineNumber,1,o.lineNumber,o.column),t,i);let s=[];const r=n.lineNumber-1,a=o.lineNumber-1;let l=null;for(let e=r;e<=a;e++)if(this.modelLineProjections[e].isVisible())null===l&&(l=new ue.L(e+1,e===r?n.column:1));else if(null!==l){const n=this.model.getLineMaxColumn(e);s=s.concat(this.model.getDecorationsInRange(new ge.e(l.lineNumber,l.column,e,n),t,i)),l=null}null!==l&&(s=s.concat(this.model.getDecorationsInRange(new ge.e(l.lineNumber,l.column,o.lineNumber,o.column),t,i)),l=null),s.sort(((e,t)=>{const i=ge.e.compareRangesUsingStarts(e.range,t.range);return 0===i?e.id<t.id?-1:e.id>t.id?1:0:i}));const d=[];let c=0,h=null;for(const e of s){const t=e.id;h!==t&&(h=t,d[c++]=e)}return d}getInjectedTextAt(e){const t=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[t.modelLineNumber-1].getInjectedTextAt(t.modelLineWrappedLineIdx,e.column)}normalizePosition(e,t){const i=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[i.modelLineNumber-1].normalizePosition(i.modelLineWrappedLineIdx,e,t)}getLineIndentColumn(e){const t=this.getViewLineInfo(e);return 0===t.modelLineWrappedLineIdx?this.model.getLineIndentColumn(t.modelLineNumber):0}}class Un{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}}class Hn{constructor(e,t){this.modelRange=e,this.viewLines=t}}class Gn{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}class jn{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new Kn(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,n){return!1}createLineBreaksComputer(){const e=[];return{addRequest:(t,i,n)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new Ui(t,i)}onModelLinesInserted(e,t,i,n){return new Hi(t,i)}onModelLineChanged(e,t,i){return[!1,new Bi(t,1),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,i){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){const i=t-e+1,n=new Array(i);for(let e=0;e<i;e++)n[e]=0;return n}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){const t=this.model.tokenization.getLineTokens(e),i=t.getLineContent();return new Vt.IP(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){const n=this.model.getLineCount();e=Math.min(Math.max(1,e),n),t=Math.min(Math.max(1,t),n);const o=[];for(let n=e;n<=t;n++){const t=n-e;o[t]=i[t]?this.getViewLineData(n):null}return o}getDecorationsInRange(e,t,i){return this.model.getDecorationsInRange(e,t,i)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class Kn{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}}class $n extends u.JT{constructor(e,t,i,n,o,s,r,a){if(super(),this.languageConfigurationService=r,this._themeService=a,this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new Qi,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Li.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new z.pY((()=>this.tokenizeViewport()),50)),this._updateConfigurationViewLineCount=this._register(new z.pY((()=>this._updateConfigurationViewLineCountNow()),0)),this._hasFocus=!1,this._viewportStart=qn.create(this.model),this.model.isTooLargeForTokenization())this._lines=new jn(this.model);else{const e=this._configuration.options,t=e.get(46),i=e.get(127),s=e.get(134),r=e.get(126);this._lines=new Bn(this._editorId,this.model,n,o,t,this.model.getOptions().tabSize,i,s.wrappingColumn,r)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new un(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new En(this._configuration,this.getLineCount(),s)),this._register(this.viewLayout.onDidScroll((e=>{e.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),e.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new ji(e)),this._eventDispatcher.emitOutgoingEvent(new en(e.oldScrollWidth,e.oldScrollLeft,e.oldScrollHeight,e.oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop))}))),this._register(this.viewLayout.onDidContentSizeChange((e=>{this._eventDispatcher.emitOutgoingEvent(e)}))),this._decorations=new An.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast((e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}}))),this._register(Ot.getInstance().onDidChange((()=>{this._eventDispatcher.emitSingleViewEvent(new qi)}))),this._register(this._themeService.onDidColorThemeChange((e=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Ki(e))}))),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),t=new ge.e(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),i=this._toModelVisibleRanges(t);for(const e of i)this.model.tokenization.tokenizeViewport(e.startLineNumber,e.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new Fi(e)),this._eventDispatcher.emitOutgoingEvent(new Xi(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new Ti)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new Mi)}_onConfigurationChanged(e,t){let i=null;if(this._viewportStart.isValid){const e=new ue.L(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber));i=this.coordinatesConverter.convertViewPositionToModelPosition(e)}let n=!1;const o=this._configuration.options,s=o.get(46),r=o.get(127),a=o.get(134),l=o.get(126);if(this._lines.setWrappingSettings(s,r,a.wrappingColumn,l)&&(e.emitViewEvent(new Vi),e.emitViewEvent(new zi),e.emitViewEvent(new Oi(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(n=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(83)&&(this._decorations.reset(),e.emitViewEvent(new Oi(null))),e.emitViewEvent(new Ri(t)),this.viewLayout.onConfigurationChanged(t),n&&i){const e=this.coordinatesConverter.convertModelPositionToViewPosition(i),t=this.viewLayout.getVerticalOffsetForLineNumber(e.lineNumber);this.viewLayout.setScrollPosition({scrollTop:t+this._viewportStart.startLineDelta},1)}Li.LM.shouldRecreate(t)&&(this.cursorConfig=new Li.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText((e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();let i=!1,n=!1;const o=e instanceof Ai.fV?e.rawContentChangedEvent.changes:e.changes,s=e instanceof Ai.fV?e.rawContentChangedEvent.versionId:null,r=this._lines.createLineBreaksComputer();for(const e of o)switch(e.changeType){case 4:for(let t=0;t<e.detail.length;t++){const i=e.detail[t];let n=e.injectedTexts[t];n&&(n=n.filter((e=>!e.ownerId||e.ownerId===this._editorId))),r.addRequest(i,n,null)}break;case 2:{let t=null;e.injectedText&&(t=e.injectedText.filter((e=>!e.ownerId||e.ownerId===this._editorId))),r.addRequest(e.detail,t,null);break}}const a=r.finalize(),l=new m.H9(a);for(const e of o)switch(e.changeType){case 1:this._lines.onModelFlushed(),t.emitViewEvent(new Vi),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),i=!0;break;case 3:{const n=this._lines.onModelLinesDeleted(s,e.fromLineNumber,e.toLineNumber);null!==n&&(t.emitViewEvent(n),this.viewLayout.onLinesDeleted(n.fromLineNumber,n.toLineNumber)),i=!0;break}case 4:{const n=l.takeCount(e.detail.length),o=this._lines.onModelLinesInserted(s,e.fromLineNumber,e.toLineNumber,n);null!==o&&(t.emitViewEvent(o),this.viewLayout.onLinesInserted(o.fromLineNumber,o.toLineNumber)),i=!0;break}case 2:{const i=l.dequeue(),[o,r,a,d]=this._lines.onModelLineChanged(s,e.lineNumber,i);n=o,r&&t.emitViewEvent(r),a&&(t.emitViewEvent(a),this.viewLayout.onLinesInserted(a.fromLineNumber,a.toLineNumber)),d&&(t.emitViewEvent(d),this.viewLayout.onLinesDeleted(d.fromLineNumber,d.toLineNumber));break}}null!==s&&this._lines.acceptVersionId(s),this.viewLayout.onHeightMaybeChanged(),!i&&n&&(t.emitViewEvent(new zi),t.emitViewEvent(new Oi(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const t=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&t){const e=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(e){const t=this.coordinatesConverter.convertModelPositionToViewPosition(e.getStartPosition()),i=this.viewLayout.getVerticalOffsetForLineNumber(t.lineNumber);this.viewLayout.setScrollPosition({scrollTop:i+this._viewportStart.startLineDelta},1)}}try{const t=this._eventDispatcher.beginEmitViewEvents();e instanceof Ai.fV&&t.emitOutgoingEvent(new dn(e.contentChangedEvent)),this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()}))),this._register(this.model.onDidChangeTokens((e=>{const t=[];for(let i=0,n=e.ranges.length;i<n;i++){const n=e.ranges[i],o=this.coordinatesConverter.convertModelPositionToViewPosition(new ue.L(n.fromLineNumber,1)).lineNumber,s=this.coordinatesConverter.convertModelPositionToViewPosition(new ue.L(n.toLineNumber,this.model.getLineMaxColumn(n.toLineNumber))).lineNumber;t[i]={fromLineNumber:o,toLineNumber:s}}this._eventDispatcher.emitSingleViewEvent(new $i(t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitOutgoingEvent(new hn(e))}))),this._register(this.model.onDidChangeLanguageConfiguration((e=>{this._eventDispatcher.emitSingleViewEvent(new Wi),this.cursorConfig=new Li.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new ln(e))}))),this._register(this.model.onDidChangeLanguage((e=>{this.cursorConfig=new Li.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new an(e))}))),this._register(this.model.onDidChangeOptions((e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const e=this._eventDispatcher.beginEmitViewEvents();e.emitViewEvent(new Vi),e.emitViewEvent(new zi),e.emitViewEvent(new Oi(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Li.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new cn(e))}))),this._register(this.model.onDidChangeDecorations((e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Oi(e)),this._eventDispatcher.emitOutgoingEvent(new rn(e))})))}setHiddenAreas(e){let t=!1;try{const i=this._eventDispatcher.beginEmitViewEvents();t=this._lines.setHiddenAreas(e),t&&(i.emitViewEvent(new Vi),i.emitViewEvent(new zi),i.emitViewEvent(new Oi(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),t&&this._eventDispatcher.emitOutgoingEvent(new nn)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(133),t=this._configuration.options.get(61),i=Math.max(20,Math.round(e.height/t)),n=this.viewLayout.getLinesViewportData(),o=Math.max(1,n.completelyVisibleStartLineNumber-i),s=Math.min(this.getLineCount(),n.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new ge.e(o,this.getLineMinColumn(o),s,this.getLineMaxColumn(s)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(0===i.length)return[t];const n=[];let o=0,s=t.startLineNumber,r=t.startColumn;const a=t.endLineNumber,l=t.endColumn;for(let e=0,t=i.length;e<t;e++){const t=i[e].startLineNumber,l=i[e].endLineNumber;l<s||t>a||(s<t&&(n[o++]=new ge.e(s,r,t-1,this.model.getLineMaxColumn(t-1))),s=l+1,r=1)}return(s<a||s===a&&r<l)&&(n[o++]=new ge.e(s,r,a,l)),n}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new ge.e(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,n=t.completelyVisibleEndLineNumber;return new ge.e(i,this.getLineMinColumn(i),n,this.getLineMaxColumn(n))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),n=this.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(i,this.getLineMinColumn(i))),o=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:n,firstPositionDeltaTop:o}}reduceRestoreState(e){if(void 0===e.firstPosition)return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:n}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStart.update(this,e)}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,i,n){return this._lines.getViewLinesBracketGuides(e,t,i,n)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=Oe.LC(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=Oe.ow(this.getLineContent(e));return-1===t?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewportViewLineRenderingData(e,t){const i=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return this._getViewLineRenderingData(t,i)}getViewLineRenderingData(e){const t=this._decorations.getInlineDecorationsOnLine(e);return this._getViewLineRenderingData(e,t)}_getViewLineRenderingData(e,t){const i=this.model.mightContainRTL(),n=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),s=this._lines.getViewLineData(e);return s.inlineDecorations&&(t=[...t,...s.inlineDecorations.map((t=>t.toInlineDecoration(e)))]),new Vt.wA(s.minColumn,s.maxColumn,s.content,s.continuesWithWrappedLine,i,n,s.tokens,t,o,s.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){const n=this._lines.getViewLinesData(e,t,i);return new Vt.ud(this.getTabSize(),n)}getAllOverviewRulerDecorations(e){const t=this.model.getOverviewRulerDecorations(this._editorId,(0,L.$J)(this._configuration.options)),i=new Yn;for(const n of t){const t=n.options,o=t.overviewRuler;if(!o)continue;const s=o.position;if(0===s)continue;const r=o.getColor(e.value),a=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.startLineNumber,n.range.startColumn),l=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.endLineNumber,n.range.endColumn);i.accept(r,t.zIndex,a,l,s)}return i.asArray}_invalidateDecorationsColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const e=t.options.overviewRuler;e&&e.invalidateCachedColor();const i=t.options.minimap;i&&i.invalidateCachedColor()}}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}deduceModelPositionRelativeToViewPosition(e,t,i){const n=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=i:t+=i);const o=this.model.getOffsetAt(n)+t;return this.model.getPositionAt(o)}getPlainTextToCopy(e,t,i){const n=i?"\r\n":this.model.getEOL();(e=e.slice(0)).sort(ge.e.compareRangesUsingStarts);let o=!1,s=!1;for(const t of e)t.isEmpty()?o=!0:s=!0;if(!s){if(!t)return"";const i=e.map((e=>e.startLineNumber));let o="";for(let e=0;e<i.length;e++)e>0&&i[e-1]===i[e]||(o+=this.model.getLineContent(i[e])+n);return o}if(o&&t){const t=[];let n=0;for(const o of e){const e=o.startLineNumber;o.isEmpty()?e!==n&&t.push(this.model.getLineContent(e)):t.push(this.model.getValueInRange(o,i?2:0)),n=e}return 1===t.length?t[0]:t}const r=[];for(const t of e)t.isEmpty()||r.push(this.model.getValueInRange(t,i?2:0));return 1===r.length?r[0]:r}getRichTextToCopy(e,t){const i=this.model.getLanguageId();if(i===wn.bd)return null;if(1!==e.length)return null;let n=e[0];if(n.isEmpty()){if(!t)return null;const e=n.startLineNumber;n=new ge.e(e,this.model.getLineMinColumn(e),e,this.model.getLineMaxColumn(e))}const o=this._configuration.options.get(46),s=this._getColorMap();let r;return/[:;\\\/<>]/.test(o.fontFamily)||o.fontFamily===L.hL.fontFamily?r=L.hL.fontFamily:(r=o.fontFamily,r=r.replace(/"/g,"'"),/[,']/.test(r)||/[+ ]/.test(r)&&(r=`'${r}'`),r=`${r}, ${L.hL.fontFamily}`),{mode:i,html:`<div style="color: ${s[1]};background-color: ${s[2]};font-family: ${r};font-weight: ${o.fontWeight};font-size: ${o.fontSize}px;line-height: ${o.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(n,s)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn,r=this.getTabSize();let a="";for(let e=i;e<=o;e++){const l=this.model.tokenization.getLineTokens(e),d=l.getLineContent(),c=e===i?n-1:0,h=e===o?s-1:d.length;a+=""===d?"<br>":(0,Sn.Fq)(d,l.inflate(),t,c,h,r,v.ED)}return a}_getColorMap(){const e=Ke.RW.getColorMap(),t=["#000000"];if(e)for(let i=1,n=e.length;i<n;i++)t[i]=$e.Il.Format.CSS.formatHex(e[i]);return t}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){return this._withViewEventsCollector((n=>this._cursor.setStates(n,e,t,i)))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector((n=>this._cursor.setSelections(n,e,t,i)))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector((t=>this._cursor.restoreState(t,e)))}_executeCursorEdit(e){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new sn):this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit((n=>this._cursor.executeEdits(n,e,t,i)))}startComposition(){this._executeCursorEdit((e=>this._cursor.startComposition(e)))}endComposition(e){this._executeCursorEdit((t=>this._cursor.endComposition(t,e)))}type(e,t){this._executeCursorEdit((i=>this._cursor.type(i,e,t)))}compositionType(e,t,i,n,o){this._executeCursorEdit((s=>this._cursor.compositionType(s,e,t,i,n,o)))}paste(e,t,i,n){this._executeCursorEdit((o=>this._cursor.paste(o,e,t,i,n)))}cut(e){this._executeCursorEdit((t=>this._cursor.cut(t,e)))}executeCommand(e,t){this._executeCursorEdit((i=>this._cursor.executeCommand(i,e,t)))}executeCommands(e,t){this._executeCursorEdit((i=>this._cursor.executeCommands(i,e,t)))}revealPrimaryCursor(e,t,i=!1){this._withViewEventsCollector((n=>this._cursor.revealPrimary(n,e,i,0,t,0)))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new ge.e(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((t=>t.emitViewEvent(new Gi(e,!1,i,null,0,!0,0))))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new ge.e(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((t=>t.emitViewEvent(new Gi(e,!1,i,null,0,!0,0))))}revealRange(e,t,i,n,o){this._withViewEventsCollector((s=>s.emitViewEvent(new Gi(e,!1,i,null,n,t,o))))}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new Yi),this._eventDispatcher.emitOutgoingEvent(new tn))}_withViewEventsCollector(e){try{return e(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class qn{constructor(e,t,i,n,o){this._model=e,this._viewLineNumber=t,this._isValid=i,this._modelTrackedRange=n,this._startLineDelta=o}static create(e){const t=e._setTrackedRange(null,new ge.e(1,1,1,1),1);return new qn(e,1,!1,t,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(e,t){const i=e.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(t,e.getLineMinColumn(t))),n=e.model._setTrackedRange(this._modelTrackedRange,new ge.e(i.lineNumber,i.column,i.lineNumber,i.column),1),o=e.viewLayout.getVerticalOffsetForLineNumber(t),s=e.viewLayout.getCurrentScrollTop();this._viewLineNumber=t,this._isValid=!0,this._modelTrackedRange=n,this._startLineDelta=s-o}invalidate(){this._isValid=!1}}class Yn{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,i,n,o){const s=this._asMap[e];if(s){const e=s.data,t=e[e.length-3],r=e[e.length-1];if(t===o&&r+1>=i)return void(n>r&&(e[e.length-1]=n));e.push(o,i,n)}else{const s=new Vt.SQ(e,t,[o,i,n]);this._asMap[e]=s,this.asArray.push(s)}}}var Qn=i(4565),Zn=i(8819),Jn=i(2065),Xn=i(972),eo=i(9422),to=i(4906);class io{constructor(e,t,i,n,o){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=i,this.breakOffsetsVisibleColumn=n,this.wrappedTextIndentLength=o}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const t=e>0?this.breakOffsets[e-1]:0;let i=this.breakOffsets[e]-t;return e>0&&(i+=this.wrappedTextIndentLength),i}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let i=0===e?t:this.breakOffsets[e-1]+t;if(null!==this.injectionOffsets)for(let e=0;e<this.injectionOffsets.length&&i>this.injectionOffsets[e];e++)i<this.injectionOffsets[e]+this.injectionOptions[e].content.length?i=this.injectionOffsets[e]:i-=this.injectionOptions[e].content.length;return i}translateToOutputPosition(e,t=2){let i=e;if(null!==this.injectionOffsets)for(let n=0;n<this.injectionOffsets.length&&!(e<this.injectionOffsets[n])&&(1===t||e!==this.injectionOffsets[n]);n++)i+=this.injectionOptions[n].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,t)}offsetInInputWithInjectionsToOutputPosition(e,t=2){let i=0,n=this.breakOffsets.length-1,o=0,s=0;for(;i<=n;){o=i+(n-i)/2|0;const r=this.breakOffsets[o];if(s=o>0?this.breakOffsets[o-1]:0,0===t)if(e<=s)n=o-1;else{if(!(e>r))break;i=o+1}else if(e<s)n=o-1;else{if(!(e>=r))break;i=o+1}}let r=e-s;return o>0&&(r+=this.wrappedTextIndentLength),new so(o,r)}normalizeOutputPosition(e,t,i){if(null!==this.injectionOffsets){const n=this.outputPositionToOffsetInInputWithInjections(e,t),o=this.normalizeOffsetInInputWithInjectionsAroundInjections(n,i);if(o!==n)return this.offsetInInputWithInjectionsToOutputPosition(o,i)}if(0===i){if(e>0&&t===this.getMinOutputOffset(e))return new so(e-1,this.getMaxOutputOffset(e-1))}else if(1===i&&e<this.getOutputLineCount()-1&&t===this.getMaxOutputOffset(e))return new so(e+1,this.getMinOutputOffset(e+1));return new so(e,t)}outputPositionToOffsetInInputWithInjections(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){const i=this.getInjectedTextAtOffset(e);if(!i)return e;if(2===t){if(e===i.offsetInInputWithInjections+i.length&&no(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let e=i.offsetInInputWithInjections;if(oo(this.injectionOptions[i.injectedTextIndex].cursorStops))return e;let t=i.injectedTextIndex-1;for(;t>=0&&this.injectionOffsets[t]===this.injectionOffsets[i.injectedTextIndex]&&!no(this.injectionOptions[t].cursorStops)&&(e-=this.injectionOptions[t].content.length,!oo(this.injectionOptions[t].cursorStops));)t--;return e}}if(1===t||4===t){let e=i.offsetInInputWithInjections+i.length,t=i.injectedTextIndex;for(;t+1<this.injectionOffsets.length&&this.injectionOffsets[t+1]===this.injectionOffsets[t];)e+=this.injectionOptions[t+1].content.length,t++;return e}if(0===t||3===t){let e=i.offsetInInputWithInjections,t=i.injectedTextIndex;for(;t-1>=0&&this.injectionOffsets[t-1]===this.injectionOffsets[t];)e-=this.injectionOptions[t-1].content.length,t--;return e}(0,St.vE)(t)}getInjectedText(e,t){const i=this.outputPositionToOffsetInInputWithInjections(e,t),n=this.getInjectedTextAtOffset(i);return n?{options:this.injectionOptions[n.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,i=this.injectionOptions;if(null!==t){let n=0;for(let o=0;o<t.length;o++){const s=i[o].content.length,r=t[o]+n,a=t[o]+n+s;if(r>e)break;if(e<=a)return{injectedTextIndex:o,offsetInInputWithInjections:r,length:s};n+=s}}}}function no(e){return null==e||e===Kt.RM.Right||e===Kt.RM.Both}function oo(e){return null==e||e===Kt.RM.Left||e===Kt.RM.Both}class so{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new ue.L(e+this.outputLineIndex,this.outputOffset+1)}}class ro{constructor(e,t){this.classifier=new ao(e,t)}static create(e){return new ro(e.get(122),e.get(121))}createLineBreaksComputer(e,t,i,n){const o=[],s=[],r=[];return{addRequest:(e,t,i)=>{o.push(e),s.push(t),r.push(i)},finalize:()=>{const a=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,l=[];for(let e=0,d=o.length;e<d;e++){const d=s[e],c=r[e];!c||c.injectionOptions||d?l[e]=uo(this.classifier,o[e],d,t,i,a,n):l[e]=ho(this.classifier,c,o[e],t,i,a,n)}return lo.length=0,co.length=0,l}}}}class ao extends to.N{constructor(e,t){super(0);for(let t=0;t<e.length;t++)this.set(e.charCodeAt(t),1);for(let e=0;e<t.length;e++)this.set(t.charCodeAt(e),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let lo=[],co=[];function ho(e,t,i,n,o,s,r){if(-1===o)return null;const a=i.length;if(a<=1)return null;const l=t.breakOffsets,d=t.breakOffsetsVisibleColumn,c=fo(i,n,o,s,r),h=o-c,u=lo,g=co;let p=0,m=0,f=0,v=o;const _=l.length;let b=0;if(b>=0){let e=Math.abs(d[b]-v);for(;b+1<_;){const t=Math.abs(d[b+1]-v);if(t>=e)break;e=t,b++}}for(;b<_;){let t=b<0?0:l[b],o=b<0?0:d[b];m>t&&(t=m,o=f);let r=0,c=0,C=0,y=0;if(o<=v){let f=o,_=0===t?0:i.charCodeAt(t-1),b=0===t?0:e.get(_),w=!0;for(let o=t;o<a;o++){const t=o,a=i.charCodeAt(o);let l,d;if(Oe.ZG(a)?(o++,l=0,d=2):(l=e.get(a),d=go(a,f,n,s)),t>m&&mo(0,b,a,l)&&(r=t,c=f),f+=d,f>v){t>m?(C=t,y=f-d):(C=o+1,y=f),f-c>h&&(r=0),w=!1;break}_=a,b=l}if(w){p>0&&(u[p]=l[l.length-1],g[p]=d[l.length-1],p++);break}}if(0===r){let a=o,l=i.charCodeAt(t),d=e.get(l),u=!1;for(let n=t-1;n>=m;n--){const t=n+1,o=i.charCodeAt(n);if(9===o){u=!0;break}let g,p;if(Oe.YK(o)?(n--,g=0,p=2):(g=e.get(o),p=Oe.K7(o)?s:1),a<=v){if(0===C&&(C=t,y=a),a<=v-h)break;if(mo(0,g,l,d)){r=t,c=a;break}}a-=p,l=o,d=g}if(0!==r){const e=h-(y-c);if(e<=n){const t=i.charCodeAt(C);let o;o=Oe.ZG(t)?2:go(t,y,n,s),e-o<0&&(r=0)}}if(u){b--;continue}}if(0===r&&(r=C,c=y),r<=m){const e=i.charCodeAt(m);Oe.ZG(e)?(r=m+2,c=f+2):(r=m+1,c=f+go(e,f,n,s))}for(m=r,u[p]=r,f=c,g[p]=c,p++,v=c+h;b<0||b<_&&d[b]<c;)b++;let w=Math.abs(d[b]-v);for(;b+1<_;){const e=Math.abs(d[b+1]-v);if(e>=w)break;w=e,b++}}return 0===p?null:(u.length=p,g.length=p,lo=t.breakOffsets,co=t.breakOffsetsVisibleColumn,t.breakOffsets=u,t.breakOffsetsVisibleColumn=g,t.wrappedTextIndentLength=c,t)}function uo(e,t,i,n,o,s,r){const a=Ai.gk.applyInjectedText(t,i);let l,d;if(i&&i.length>0?(l=i.map((e=>e.options)),d=i.map((e=>e.column-1))):(l=null,d=null),-1===o)return l?new io(d,l,[a.length],[],0):null;const c=a.length;if(c<=1)return l?new io(d,l,[a.length],[],0):null;const h=fo(a,n,o,s,r),u=o-h,g=[],p=[];let m=0,f=0,v=0,_=o,b=a.charCodeAt(0),C=e.get(b),y=go(b,0,n,s),w=1;Oe.ZG(b)&&(y+=1,b=a.charCodeAt(1),C=e.get(b),w++);for(let t=w;t<c;t++){const i=t,o=a.charCodeAt(t);let r,l;Oe.ZG(o)?(t++,r=0,l=2):(r=e.get(o),l=go(o,y,n,s)),mo(0,C,o,r)&&(f=i,v=y),y+=l,y>_&&((0===f||y-v>u)&&(f=i,v=y-l),g[m]=f,p[m]=v,m++,_=v+u,f=0),b=o,C=r}return 0!==m||i&&0!==i.length?(g[m]=c,p[m]=y,new io(d,l,g,p,h)):null}function go(e,t,i,n){return 9===e?i-t%i:Oe.K7(e)||e<32?n:1}function po(e,t){return t-e%t}function mo(e,t,i,n){return 32!==i&&(2===t&&2!==n||1!==t&&1===n||3===t&&2!==n||3===n&&1!==t)}function fo(e,t,i,n,o){let s=0;if(0!==o){const r=Oe.LC(e);if(-1!==r){for(let i=0;i<r;i++)s+=9===e.charCodeAt(i)?po(s,t):1;const a=3===o?2:2===o?1:0;for(let e=0;e<a;e++)s+=po(s,t);s+n>i&&(s=0)}}return s}var vo;const _o=null===(vo=window.trustedTypes)||void 0===vo?void 0:vo.createPolicy("domLineBreaksComputer",{createHTML:e=>e});class bo{static create(){return new bo}constructor(){}createLineBreaksComputer(e,t,i,n){const o=[],s=[];return{addRequest:(e,t,i)=>{o.push(e),s.push(t)},finalize:()=>function(e,t,i,n,o,s){var r;function a(t){const i=s[t];if(i){const n=Ai.gk.applyInjectedText(e[t],i),o=i.map((e=>e.options)),s=i.map((e=>e.column-1));return new io(s,o,[n.length],[],0)}return null}if(-1===n){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=a(i);return t}const l=Math.round(n*t.typicalHalfwidthCharacterWidth),d=3===o?2:2===o?1:0,c=Math.round(i*d),h=Math.ceil(t.spaceWidth*c),u=document.createElement("div");(0,Ve.N)(u,t);const g=(0,tt.l$)(1e4),p=[],m=[],f=[],v=[],_=[];for(let n=0;n<e.length;n++){const r=Ai.gk.applyInjectedText(e[n],s[n]);let a=0,d=0,c=l;if(0!==o)if(a=Oe.LC(r),-1===a)a=0;else{for(let e=0;e<a;e++)d+=9===r.charCodeAt(e)?i-d%i:1;const e=Math.ceil(t.spaceWidth*d);e+t.typicalFullwidthCharacterWidth>l?(a=0,d=0):c=l-e}const u=r.substr(a),b=Co(u,d,i,c,g,h);p[n]=a,m[n]=d,f[n]=u,v[n]=b[0],_[n]=b[1]}const b=g.build(),C=null!==(r=null==_o?void 0:_o.createHTML(b))&&void 0!==r?r:b;u.innerHTML=C,u.style.position="absolute",u.style.top="10000",u.style.wordWrap="break-word",document.body.appendChild(u);const y=document.createRange(),w=Array.prototype.slice.call(u.children,0),S=[];for(let t=0;t<e.length;t++){const e=yo(y,w[t],f[t],v[t]);if(null===e){S[t]=a(t);continue}const i=p[t],n=m[t]+c,o=_[t],r=[];for(let t=0,i=e.length;t<i;t++)r[t]=o[e[t]];if(0!==i)for(let t=0,n=e.length;t<n;t++)e[t]+=i;let l,d;const h=s[t];h?(l=h.map((e=>e.options)),d=h.map((e=>e.column-1))):(l=null,d=null),S[t]=new io(d,l,e,r,n)}return document.body.removeChild(u),S}(o,e,t,i,n,s)}}}function Co(e,t,i,n,o,s){if(0!==s){const e=String(s);o.appendASCIIString('<div style="text-indent: -'),o.appendASCIIString(e),o.appendASCIIString("px; padding-left: "),o.appendASCIIString(e),o.appendASCIIString("px; box-sizing: border-box; width:")}else o.appendASCIIString('<div style="width:');o.appendASCIIString(String(n)),o.appendASCIIString('px;">');const r=e.length;let a=t,l=0;const d=[],c=[];let h=0<r?e.charCodeAt(0):0;o.appendASCIIString("<span>");for(let t=0;t<r;t++){0!==t&&t%16384==0&&o.appendASCIIString("</span><span>"),d[t]=l,c[t]=a;const n=h;h=t+1<r?e.charCodeAt(t+1):0;let s=1,u=1;switch(n){case 9:s=i-a%i,u=s;for(let e=1;e<=s;e++)e<s?o.write1(160):o.appendASCII(32);break;case 32:32===h?o.write1(160):o.appendASCII(32);break;case 60:o.appendASCIIString("&lt;");break;case 62:o.appendASCIIString("&gt;");break;case 38:o.appendASCIIString("&amp;");break;case 0:o.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:o.write1(65533);break;default:Oe.K7(n)&&u++,n<32?o.write1(9216+n):o.write1(n)}l+=s,a+=u}return o.appendASCIIString("</span>"),d[e.length]=l,c[e.length]=a,o.appendASCIIString("</div>"),[d,c]}function yo(e,t,i,n){if(i.length<=1)return null;const o=Array.prototype.slice.call(t.children,0),s=[];try{wo(e,o,n,0,null,i.length-1,null,s)}catch(e){return console.log(e),null}return 0===s.length?null:(s.push(i.length),s)}function wo(e,t,i,n,o,s,r,a){if(n===s)return;if(o=o||So(e,t,i[n],i[n+1]),r=r||So(e,t,i[s],i[s+1]),Math.abs(o[0].top-r[0].top)<=.1)return;if(n+1===s)return void a.push(s);const l=n+(s-n)/2|0,d=So(e,t,i[l],i[l+1]);wo(e,t,i,n,o,l,d,a),wo(e,t,i,l,d,s,r,a)}function So(e,t,i,n){return e.setStart(t[i/16384|0].firstChild,i%16384),e.setEnd(t[n/16384|0].firstChild,n%16384),e.getClientRects()}var ko=i(2896),Lo=i(1381),xo=i(1922),Io=function(e,t){return function(i,n){t(i,n,e)}};let Do=0;class No{constructor(e,t,i,n,o){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=n,this.listenersToRemove=o}dispose(){(0,u.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Eo=class e extends u.JT{constructor(e,t,i,n,s,r,a,l,u,g,p,m){super(),this.languageConfigurationService=p,this._deliveryQueue=new h.F3,this._onDidDispose=this._register(new h.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Ao({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Ao({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onWillType=this._onWillType.event,this._onDidType=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new h.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection();const f=Object.assign({},t);let v;this._domElement=e,this._overflowWidgetsDomNode=f.overflowWidgetsDomNode,delete f.overflowWidgetsDomNode,this._id=++Do,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(i.isSimpleWidget||!1,f,g)),this._register(this._configuration.onDidChange((e=>{this._onDidChangeConfiguration.fire(e);const t=this._configuration.options;if(e.hasChanged(133)){const e=t.get(133);this._onDidLayoutChange.fire(e)}}))),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=u,this._codeEditorService=s,this._commandService=r,this._themeService=l,this._register(new To(this,this._contextKeyService)),this._register(new Mo(this,this._contextKeyService,m)),this._instantiationService=n.createChild(new Xn.y([Zn.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new Ro(e),this._register(this._focusTracker.onChange((()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())}))),this._contentWidgets={},this._overlayWidgets={},v=Array.isArray(i.contributions)?i.contributions:o.Uc.getEditorContributions();for(const e of v)if(this._contributions[e.id])(0,c.dL)(new Error(`Cannot have two contributions with the same id ${e.id}`));else try{const t=this._instantiationService.createInstance(e.ctor,this);this._contributions[e.id]=t}catch(e){(0,c.dL)(e)}o.Uc.getEditorActions().forEach((e=>{if(this._actions[e.id])return void(0,c.dL)(new Error(`Cannot have two actions with the same id ${e.id}`));const t=new _n.p(e.id,e.label,e.alias,(0,St.f6)(e.precondition),(()=>this._instantiationService.invokeFunction((t=>Promise.resolve(e.runEditorCommand(t,this,null))))),this._contextKeyService);this._actions[t.id]=t}));const _=()=>!this._configuration.options.get(83)&&this._configuration.options.get(32).enabled;this._register(new d.eg(this._domElement,{onDragEnter:()=>{},onDragOver:e=>{if(!_())return;const t=this.getTargetAtClientPoint(e.clientX,e.clientY);(null==t?void 0:t.position)&&this.showDropIndicatorAt(t.position)},onDrop:e=>{return t=this,i=void 0,o=function*(){if(!_())return;if(this.removeDropIndicator(),!e.dataTransfer)return;const t=this.getTargetAtClientPoint(e.clientX,e.clientY);(null==t?void 0:t.position)&&this._onDropIntoEditor.fire({position:t.position,event:e})},new((n=void 0)||(n=Promise))((function(e,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,n,o},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(e,t,i){return new N(e,t,this._domElement,i)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return bn.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let t=0,i=e.length;t<i;t++){const i=e[t];this._contributions[i].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?ko.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(119),e):null}getValue(e=null){if(!this._modelData)return"";const t=!(!e||!e.preserveBOM);let i=0;return e&&e.lineEnding&&"\n"===e.lineEnding?i=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const t=e;if(null===this._modelData&&null===t)return;if(this._modelData&&this._modelData.model===t)return;const i=this.hasTextFocus(),n=this._detachModel();this._attachModel(t),i&&this.hasModel()&&this.focus();const o={oldModelUrl:n?n.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(o),this._postDetachModelCleanup(n)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(const i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(e,t,i,n){const o=e.model.validatePosition({lineNumber:t,column:i}),s=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(s.lineNumber,n)}getTopForLineNumber(t,i=!1){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,1,i):-1}getTopForPosition(t,i){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,i,!1):-1}static _getVerticalOffsetForPosition(e,t,i,n=!1){const o=e.model.validatePosition({lineNumber:t,column:i}),s=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(s.lineNumber,n)}getBottomForLineNumber(t,i=!1){return this._modelData?e._getVerticalOffsetAfterPosition(this._modelData,t,1,i):-1}setHiddenAreas(e){var t;null===(t=this._modelData)||void 0===t||t.viewModel.setHiddenAreas(e.map((e=>ge.e.lift(e))))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return pe.i.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e,t="api"){if(this._modelData){if(!ue.L.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,n){if(!this._modelData)return;if(!ge.e.isIRange(e))throw new Error("Invalid arguments");const o=this._modelData.model.validateRange(e),s=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this._modelData.viewModel.revealRange("api",i,s,t,n)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if("number"!=typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new ge.e(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,n){if(!ue.L.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new ge.e(e.lineNumber,e.column,e.lineNumber,e.column),t,i,n)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e,t="api"){const i=O.Y.isISelection(e),n=ge.e.isIRange(e);if(!i&&!n)throw new Error("Invalid arguments");if(i)this._setSelectionImpl(e,t);else if(n){const i={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(i,t)}}_setSelectionImpl(e,t){if(!this._modelData)return;const i=new O.Y(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(t,[i])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,n){if("number"!=typeof e||"number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new ge.e(e,1,t,1),i,!1,n)}revealRange(e,t=0,i=!1,n=!0){this._revealRange(e,i?1:0,n,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,n){if(!ge.e.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(ge.e.lift(e),t,i,n)}setSelections(e,t="api",i=0){if(this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(let t=0,i=e.length;t<i;t++)if(!O.Y.isISelection(e[t]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;const e={},t=Object.keys(this._contributions);for(const i of t){const t=this._contributions[i];"function"==typeof t.saveViewState&&(e[i]=t.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const e=t.cursorState;Array.isArray(e)?e.length>0&&this._modelData.viewModel.restoreCursorState(e):this._modelData.viewModel.restoreCursorState([e]);const i=t.contributionsState||{},n=Object.keys(this._contributions);for(let e=0,t=n.length;e<t;e++){const t=n[e],o=this._contributions[t];"function"==typeof o.restoreViewState&&o.restoreViewState(i[t])}const o=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(o)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],t=Object.keys(this._actions);for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push(this._actions[n])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter((e=>e.isSupported())),e}getAction(e){return this._actions[e]||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(e);case"type":{const t=i;return void this._type(e,t.text||"")}case"replacePreviousChar":{const t=i;return void this._compositionType(e,t.text||"",t.replaceCharCnt||0,0,0)}case"compositionType":{const t=i;return void this._compositionType(e,t.text||"",t.replacePrevCharCnt||0,t.replaceNextCharCnt||0,t.positionDelta||0)}case"paste":{const t=i;return void this._paste(e,t.text||"",t.pasteOnNewLine||!1,t.multicursorText||null,t.mode||null)}case"cut":return void this._cut(e)}const n=this.getAction(t);n?Promise.resolve(n.run()).then(void 0,c.dL):this._modelData&&(this._triggerEditorCommand(e,t,i)||this._triggerCommand(t,i))}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){this._modelData&&0!==t.length&&("keyboard"===e&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),"keyboard"===e&&this._onDidType.fire(t))}_compositionType(e,t,i,n,o){this._modelData&&this._modelData.viewModel.compositionType(t,i,n,o,e)}_paste(e,t,i,n,o){if(!this._modelData||0===t.length)return;const s=this._modelData.viewModel,r=s.getSelection().getStartPosition();s.paste(t,i,n,e);const a=s.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire({range:new ge.e(r.lineNumber,r.column,a.lineNumber,a.column),languageId:o})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const n=o.Uc.getEditorCommand(t);return!!n&&((i=i||{}).source=e,this._instantiationService.invokeFunction((e=>{Promise.resolve(n.runEditorCommand(e,this,i)).then(void 0,c.dL)})),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!!this._modelData&&!this._configuration.options.get(83)&&(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!!this._modelData&&!this._configuration.options.get(83)&&(this._modelData.model.popStackElement(),!0)}executeEdits(e,t,i){if(!this._modelData)return!1;if(this._configuration.options.get(83))return!1;let n;return n=i?Array.isArray(i)?()=>i:i:()=>null,this._modelData.viewModel.executeEdits(e,t,n),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}createDecorationsCollection(e){return new Po(this,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,(0,L.$J)(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,(0,L.$J)(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){this._modelData&&0!==e.length&&this._modelData.model.changeDecorations((t=>{t.deltaDecorations(e,[])}))}removeDecorationsByType(e){const t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(133)}createOverviewRuler(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarPointerDown(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarPointerDown(e)}layout(e){this._configuration.observeContainer(e),this.render()}focus(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const e=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(e)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const e=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(e)}}changeViewZones(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null}getScrolledVisiblePosition(t){if(!this._modelData||!this._modelData.hasRealView)return null;const i=this._modelData.model.validatePosition(t),n=this._configuration.options,o=n.get(133);return{top:e._getVerticalOffsetForPosition(this._modelData,i.lineNumber,i.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(i.lineNumber,i.column)+o.glyphMarginWidth+o.lineNumbersWidth+o.decorationsWidth-this.getScrollLeft(),height:n.get(61)}}getOffsetForColumn(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1}render(e=!1){this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)}setAriaOptions(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(e)}applyFontInfo(e){(0,Ve.N)(e,this._configuration.options.get(46))}setBanner(e,t){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?t:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e)return void(this._modelData=null);const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount()),e.onBeforeAttached();const i=new $n(this._id,this._configuration,e,bo.create(),ro.create(this._configuration.options),(e=>d.jL(e)),this.languageConfigurationService,this._themeService);t.push(e.onWillDispose((()=>this.setModel(null)))),t.push(i.onEvent((t=>{switch(t.kind){case 0:this._onDidContentSizeChange.fire(t);break;case 1:this._editorTextFocus.setValue(t.hasFocus);break;case 2:this._onDidScrollChange.fire(t);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{t.reachedMaxCursorCount&&this._notificationService.warn(l.NC("cursors.maximum","The number of cursors has been limited to {0}.",un.MAX_CURSOR_COUNT));const e=[];for(let i=0,n=t.selections.length;i<n;i++)e[i]=t.selections[i].getPosition();const i={position:e[0],secondaryPositions:e.slice(1),reason:t.reason,source:t.source};this._onDidChangeCursorPosition.fire(i);const n={selection:t.selections[0],secondarySelections:t.selections.slice(1),modelVersionId:t.modelVersionId,oldSelections:t.oldSelections,oldModelVersionId:t.oldModelVersionId,source:t.source,reason:t.reason};this._onDidChangeCursorSelection.fire(n);break}case 7:this._onDidChangeModelDecorations.fire(t.event);break;case 8:this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(t.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(t.event);break;case 10:this._onDidChangeModelContent.fire(t.event);break;case 11:this._onDidChangeModelOptions.fire(t.event);break;case 12:this._onDidChangeModelTokens.fire(t.event)}})));const[n,o]=this._createView(i);if(o){this._domElement.appendChild(n.domNode.domNode);let t=Object.keys(this._contentWidgets);for(let e=0,i=t.length;e<i;e++){const i=t[e];n.addContentWidget(this._contentWidgets[i])}t=Object.keys(this._overlayWidgets);for(let e=0,i=t.length;e<i;e++){const i=t[e];n.addOverlayWidget(this._overlayWidgets[i])}n.render(!1,!0),n.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new No(e,i,n,o,t)}_createView(e){let t;t=this.isSimpleWidget?{paste:(e,t,i,n)=>{this._paste("keyboard",e,t,i,n)},type:e=>{this._type("keyboard",e)},compositionType:(e,t,i,n)=>{this._compositionType("keyboard",e,t,i,n)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(e,t,i,n)=>{const o={text:e,pasteOnNewLine:t,multicursorText:i,mode:n};this._commandService.executeCommand("paste",o)},type:e=>{const t={text:e};this._commandService.executeCommand("type",t)},compositionType:(e,t,i,n)=>{if(i||n){const o={text:e,replacePrevCharCnt:t,replaceNextCharCnt:i,positionDelta:n};this._commandService.executeCommand("compositionType",o)}else{const i={text:e,replaceCharCnt:t};this._commandService.executeCommand("replacePreviousChar",i)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new Xe(e.coordinatesConverter);return i.onKeyDown=e=>this._onKeyDown.fire(e),i.onKeyUp=e=>this._onKeyUp.fire(e),i.onContextMenu=e=>this._onContextMenu.fire(e),i.onMouseMove=e=>this._onMouseMove.fire(e),i.onMouseLeave=e=>this._onMouseLeave.fire(e),i.onMouseDown=e=>this._onMouseDown.fire(e),i.onMouseUp=e=>this._onMouseUp.fire(e),i.onMouseDrag=e=>this._onMouseDrag.fire(e),i.onMouseDrop=e=>this._onMouseDrop.fire(e),i.onMouseDropCanceled=e=>this._onMouseDropCanceled.fire(e),i.onMouseWheel=e=>this._onMouseWheel.fire(e),[new ki(t,this._configuration,this._themeService.getColorTheme(),e,i,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){null==e||e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return null!==this._modelData}showDropIndicatorAt(t){const i=[{range:new ge.e(t.lineNumber,t.column,t.lineNumber,t.column),options:e.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(i),this.revealPosition(t,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};Eo.dropIntoEditorDecorationOptions=yn.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),Eo=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Io(3,Jn.TG),Io(4,P.$),Io(5,Qn.Hy),Io(6,Zn.i6),Io(7,Be.XE),Io(8,eo.lT),Io(9,D.F),Io(10,Lo.c_),Io(11,xo.p)],Eo);class Ao extends u.JT{constructor(e){super(),this._emitterOptions=e,this._onDidChangeToTrue=this._register(new h.Q5(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new h.Q5(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class To extends u.JT{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=Cn.u.editorSimpleInput.bindTo(t),this._editorFocus=Cn.u.focus.bindTo(t),this._textInputFocus=Cn.u.textInputFocus.bindTo(t),this._editorTextFocus=Cn.u.editorTextFocus.bindTo(t),this._editorTabMovesFocus=Cn.u.tabMovesFocus.bindTo(t),this._editorReadonly=Cn.u.readOnly.bindTo(t),this._inDiffEditor=Cn.u.inDiffEditor.bindTo(t),this._editorColumnSelection=Cn.u.columnSelection.bindTo(t),this._hasMultipleSelections=Cn.u.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=Cn.u.hasNonEmptySelection.bindTo(t),this._canUndo=Cn.u.canUndo.bindTo(t),this._canRedo=Cn.u.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromConfig()))),this._register(this._editor.onDidChangeCursorSelection((()=>this._updateFromSelection()))),this._register(this._editor.onDidFocusEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidFocusEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidChangeModel((()=>this._updateFromModel()))),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromModel()))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(132)),this._editorReadonly.set(e.get(83)),this._inDiffEditor.set(e.get(56)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some((e=>!e.isEmpty())))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}class Mo extends u.JT{constructor(e,t,i){super(),this._editor=e,this._contextKeyService=t,this._languageFeaturesService=i,this._langId=Cn.u.languageId.bindTo(t),this._hasCompletionItemProvider=Cn.u.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=Cn.u.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=Cn.u.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=Cn.u.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=Cn.u.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=Cn.u.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=Cn.u.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=Cn.u.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=Cn.u.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=Cn.u.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=Cn.u.hasReferenceProvider.bindTo(t),this._hasRenameProvider=Cn.u.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=Cn.u.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=Cn.u.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=Cn.u.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=Cn.u.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=Cn.u.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=Cn.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=Cn.u.isInWalkThroughSnippet.bindTo(t);const n=()=>this._update();this._register(e.onDidChangeModel(n)),this._register(e.onDidChangeModelLanguage(n)),this._register(i.completionProvider.onDidChange(n)),this._register(i.codeActionProvider.onDidChange(n)),this._register(i.codeLensProvider.onDidChange(n)),this._register(i.definitionProvider.onDidChange(n)),this._register(i.declarationProvider.onDidChange(n)),this._register(i.implementationProvider.onDidChange(n)),this._register(i.typeDefinitionProvider.onDidChange(n)),this._register(i.hoverProvider.onDidChange(n)),this._register(i.documentHighlightProvider.onDidChange(n)),this._register(i.documentSymbolProvider.onDidChange(n)),this._register(i.referenceProvider.onDidChange(n)),this._register(i.renameProvider.onDidChange(n)),this._register(i.documentFormattingEditProvider.onDidChange(n)),this._register(i.documentRangeFormattingEditProvider.onDidChange(n)),this._register(i.signatureHelpProvider.onDidChange(n)),this._register(i.inlayHintsProvider.onDidChange(n)),n()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents((()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()}))}_update(){const e=this._editor.getModel();e?this._contextKeyService.bufferChangeEvents((()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===g.lg.walkThroughSnippet)})):this.reset()}}class Ro extends u.JT{constructor(e){super(),this._onChange=this._register(new h.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(d.go(e)),this._register(this._domFocusTracker.onDidFocus((()=>{this._hasFocus=!0,this._onChange.fire(void 0)}))),this._register(this._domFocusTracker.onDidBlur((()=>{this._hasFocus=!1,this._onChange.fire(void 0)})))}hasFocus(){return this._hasFocus}}class Po{constructor(e,t){this._editor=e,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(t)&&t.length>0&&this.set(t)}get length(){return this._decorationIds.length}onDidChange(e,t,i){return this._editor.onDidChangeModelDecorations((i=>{this._isChangingDecorations||e.call(t,i)}),i)}getRange(e){return this._editor.hasModel()?e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e]):null}getRanges(){if(!this._editor.hasModel())return[];const e=this._editor.getModel(),t=[];for(const i of this._decorationIds){const n=e.getDecorationRange(i);n&&t.push(n)}return t}has(e){return this._decorationIds.includes(e.id)}clear(){0!==this._decorationIds.length&&this.set([])}set(e){try{this._isChangingDecorations=!0,this._editor.changeDecorations((t=>{this._decorationIds=t.deltaDecorations(this._decorationIds,e)}))}finally{this._isChangingDecorations=!1}}}const Oo=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Vo=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Fo(e){return Oo+encodeURIComponent(e.toString())+Vo}const Wo=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),zo=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');(0,Be.Ic)(((e,t)=>{const i=e.getColor(_t.b6y);i&&t.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${i}; }`);const n=e.getColor(_t.lXJ);n&&t.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Fo(n)}") repeat-x bottom left; }`);const o=e.getColor(_t.L_H);o&&t.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${o}; }`);const s=e.getColor(_t.pW3);s&&t.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${s}; }`);const r=e.getColor(_t.uoC);r&&t.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Fo(r)}") repeat-x bottom left; }`);const a=e.getColor(_t.gpD);a&&t.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${a}; }`);const l=e.getColor(_t.T83);l&&t.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${l}; }`);const d=e.getColor(_t.c63);d&&t.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Fo(d)}") repeat-x bottom left; }`);const c=e.getColor(_t.few);c&&t.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${c}; }`);const h=e.getColor(_t.fEB);h&&t.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${h}; }`);const u=e.getColor(_t.Dut);u&&t.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${function(e){return Wo+encodeURIComponent(e.toString())+zo}(u)}") no-repeat bottom left; }`);const g=e.getColor(ze.zu);g&&t.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${g.rgba.a}; }`);const p=e.getColor(ze.kp);p&&t.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${p}; }`);const m=e.getColor(_t.NOs)||"inherit";t.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${m}}`)}))},8143:(e,t,i)=>{"use strict";i.d(t,{p:()=>me});var n,o=i(3580),s=i(5321),r=i(5146),a=i(8626),l=i(3098),d=i(5393),c=i(4669),h=i(5976),u=i(2136),g=i(3407),p=i(1640),m=i(6180),f=i(317),v=i(9802),_=i(4741),b=i(6830),C=i(4141),y=i(7378),w=i(187),S=i(8625),k=i(1557),L=i(1118),x=i(8819),I=i(3910),D=i(7781),N=i(3046),E=i(9554),A=i(2042);class T{constructor(e,t,i,n){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=n}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class M{constructor(e){this.entries=e}}const R=(0,E.q5)("diff-review-insert",N.lA.add,o.NC("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),P=(0,E.q5)("diff-review-remove",N.lA.remove,o.NC("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),O=(0,E.q5)("diff-review-close",N.lA.close,o.NC("diffReviewCloseIcon","Icon for 'Close' in diff review."));let V=class e extends h.JT{constructor(e,t){super(),this._languageService=t,this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=(0,a.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,a.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new f.o(this.actionBarContainer.domNode)),this._actionBar.push(new _.aU("diffreview.close",o.NC("label.close","Close"),"close-diff-review "+D.kS.asClassName(O),!0,(()=>{return e=this,t=void 0,n=function*(){return this.hide()},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n})),{label:!1,icon:!0}),this.domNode=(0,a.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,a.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new v.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff((()=>{this._isVisible&&(this._diffs=this._compute(),this._render())}))),this._register(e.getModifiedEditor().onDidChangeCursorPosition((()=>{this._isVisible&&this._render()}))),this._register(s.mu(this.domNode.domNode,"click",(e=>{e.preventDefault();const t=s.Fx(e.target,"diff-review-row");t&&this._goToRow(t)}))),this._register(s.mu(this.domNode.domNode,"keydown",(e=>{(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),this._goToRow(this._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),this._goToRow(this._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),this.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),this.accept())}))),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,i=this._diffs.length;e<i;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=this._diffs.length+t-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new w.L(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,i=this._diffs.length;e<i;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=t+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new w.L(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1;const t=this._getCurrentFocusedRow();if(t){const i=parseInt(t.getAttribute("data-line"),10);isNaN(i)||(e=i)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new w.L(e,1)),this._diffEditor.revealPosition(new w.L(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){const e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){const t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const t=this._diffEditor.getLineChanges();if(!t||0===t.length)return[];const i=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel();return i&&n?e._mergeAdjacent(t,i.getLineCount(),n.getLineCount()):[]}static _mergeAdjacent(e,t,i){if(!e||0===e.length)return[];const n=[];let o=0;for(let s=0,r=e.length;s<r;s++){const a=e[s],l=a.originalStartLineNumber,d=a.originalEndLineNumber,c=a.modifiedStartLineNumber,h=a.modifiedEndLineNumber,u=[];let g=0;{const t=0===d?l:l-1,i=0===h?c:c-1;let n=1,o=1;if(s>0){const t=e[s-1];n=0===t.originalEndLineNumber?t.originalStartLineNumber+1:t.originalEndLineNumber+1,o=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber+1:t.modifiedEndLineNumber+1}let r=t-3+1,a=i-3+1;if(r<n){const e=n-r;r+=e,a+=e}if(a<o){const e=o-a;r+=e,a+=e}u[g++]=new T(r,t,a,i)}0!==d&&(u[g++]=new T(l,d,0,0)),0!==h&&(u[g++]=new T(0,0,c,h));{const n=0===d?l+1:d+1,o=0===h?c+1:h+1;let a=t,p=i;if(s+1<r){const t=e[s+1];a=0===t.originalEndLineNumber?t.originalStartLineNumber:t.originalStartLineNumber-1,p=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1}let m=n+3-1,f=o+3-1;if(m>a){const e=a-m;m+=e,f+=e}if(f>p){const e=p-f;m+=e,f+=e}u[g++]=new T(n,m,o,f)}n[o++]=new M(u)}let s=n[0].entries;const r=[];let a=0;for(let e=1,t=n.length;e<t;e++){const t=n[e].entries,i=s[s.length-1],o=t[0];0===i.getType()&&0===o.getType()&&o.originalLineStart<=i.originalLineEnd?(s[s.length-1]=new T(i.originalLineStart,o.originalLineEnd,i.modifiedLineStart,o.modifiedLineEnd),s=s.concat(t.slice(1))):(r[a++]=new M(s),s=t)}return r[a++]=new M(s),r}_findDiffIndex(e){const t=e.lineNumber;for(let e=0,i=this._diffs.length;e<i;e++){const i=this._diffs[e].entries;if(t<=i[i.length-1].modifiedLineEnd)return e}return 0}_render(){const t=this._diffEditor.getOriginalEditor().getOptions(),i=this._diffEditor.getModifiedEditor().getOptions(),n=this._diffEditor.getOriginalEditor().getModel(),r=this._diffEditor.getModifiedEditor().getModel(),a=n.getOptions(),l=r.getOptions();if(!this._isVisible||!n||!r)return s.PO(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const d=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[d]===this._currentDiff)return;this._currentDiff=this._diffs[d];const c=this._diffs[d].entries,h=document.createElement("div");h.className="diff-review-table",h.setAttribute("role","list"),h.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,u.N)(h,i.get(46));let g=0,p=0,m=0,f=0;for(let e=0,t=c.length;e<t;e++){const t=c[e],i=t.originalLineStart,n=t.originalLineEnd,o=t.modifiedLineStart,s=t.modifiedLineEnd;0!==i&&(0===g||i<g)&&(g=i),0!==n&&(0===p||n>p)&&(p=n),0!==o&&(0===m||o<m)&&(m=o),0!==s&&(0===f||s>f)&&(f=s)}const v=document.createElement("div");v.className="diff-review-row";const _=document.createElement("div");_.className="diff-review-cell diff-review-summary";const b=p-g+1,C=f-m+1;_.appendChild(document.createTextNode(`${d+1}/${this._diffs.length}: @@ -${g},${b} +${m},${C} @@`)),v.setAttribute("data-line",String(m));const y=e=>0===e?o.NC("no_lines_changed","no lines changed"):1===e?o.NC("one_line_changed","1 line changed"):o.NC("more_lines_changed","{0} lines changed",e),w=y(b),S=y(C);v.setAttribute("aria-label",o.NC({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",d+1,this._diffs.length,g,w,m,S)),v.appendChild(_),v.setAttribute("role","listitem"),h.appendChild(v);const k=i.get(61);let L=m;for(let o=0,s=c.length;o<s;o++){const s=c[o];e._renderSection(h,s,L,k,this._width,t,n,a,i,r,l,this._languageService.languageIdCodec),0!==s.modifiedLineStart&&(L=s.modifiedLineEnd)}s.PO(this._content.domNode),this._content.domNode.appendChild(h),this.scrollbar.scanDomNode()}static _renderSection(t,i,n,s,r,a,l,d,c,h,u,g){const p=i.getType();let m="diff-review-row",f="",v=null;switch(p){case 1:m="diff-review-row line-insert",f=" char-insert",v=R;break;case 2:m="diff-review-row line-delete",f=" char-delete",v=P}const _=i.originalLineStart,b=i.originalLineEnd,C=i.modifiedLineStart,y=i.modifiedLineEnd,w=Math.max(y-C,b-_),S=a.get(133),k=S.glyphMarginWidth+S.lineNumbersWidth,L=c.get(133),x=10+L.glyphMarginWidth+L.lineNumbersWidth;for(let i=0;i<=w;i++){const b=0===_?0:_+i,y=0===C?0:C+i,w=document.createElement("div");w.style.minWidth=r+"px",w.className=m,w.setAttribute("role","listitem"),0!==y&&(n=y),w.setAttribute("data-line",String(n));const S=document.createElement("div");S.className="diff-review-cell",S.style.height=`${s}px`,w.appendChild(S);const L=document.createElement("span");L.style.width=k+"px",L.style.minWidth=k+"px",L.className="diff-review-line-number"+f,0!==b?L.appendChild(document.createTextNode(String(b))):L.innerText="",S.appendChild(L);const I=document.createElement("span");I.style.width=x+"px",I.style.minWidth=x+"px",I.style.paddingRight="10px",I.className="diff-review-line-number"+f,0!==y?I.appendChild(document.createTextNode(String(y))):I.innerText="",S.appendChild(I);const N=document.createElement("span");if(N.className="diff-review-spacer",v){const e=document.createElement("span");e.className=D.kS.asClassName(v),e.innerText="",N.appendChild(e)}else N.innerText="";let E;if(S.appendChild(N),0!==y){let t=this._renderLine(h,c,u.tabSize,y,g);e._ttPolicy&&(t=e._ttPolicy.createHTML(t)),S.insertAdjacentHTML("beforeend",t),E=h.getLineContent(y)}else{let t=this._renderLine(l,a,d.tabSize,b,g);e._ttPolicy&&(t=e._ttPolicy.createHTML(t)),S.insertAdjacentHTML("beforeend",t),E=l.getLineContent(b)}0===E.length&&(E=o.NC("blankLine","blank"));let A="";switch(p){case 0:A=b===y?o.NC({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",E,b):o.NC("equalLine","{0} original line {1} modified line {2}",E,b,y);break;case 1:A=o.NC("insertLine","+ {0} modified line {1}",E,y);break;case 2:A=o.NC("deleteLine","- {0} original line {1}",E,b)}w.setAttribute("aria-label",A),t.appendChild(w)}}static _renderLine(e,t,i,n,o){const s=e.getLineContent(n),r=t.get(46),a=y.A.createEmpty(s,o),l=L.wA.isBasicASCII(s,e.mightContainNonBasicASCII()),d=L.wA.containsRTL(s,l,e.mightContainRTL());return(0,k.tF)(new k.IJ(r.isMonospace&&!t.get(29),r.canUseHalfwidthRightwardsArrow,s,!1,l,d,0,a,[],i,0,r.spaceWidth,r.middotWidth,r.wsmiddotWidth,t.get(107),t.get(90),t.get(85),t.get(47)!==C.n0.OFF,null)).html}};var F,W;V._ttPolicy=null===(n=window.trustedTypes)||void 0===n?void 0:n.createPolicy("diffReview",{createHTML:e=>e}),V=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(F=1,W=A.O,function(e,t){W(e,t,F)})],V),(0,D.Ic)(((e,t)=>{const i=e.getColor(S.hw);i&&t.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${i}; }`);const n=e.getColor(I._wn);n&&t.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${n} 0 -6px 6px -6px inset; }`)}));class z extends b.R6{constructor(){super({id:"editor.action.diffReview.next",label:o.NC("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:x.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){const i=U(e);i&&i.diffReviewNext()}}class B extends b.R6{constructor(){super({id:"editor.action.diffReview.prev",label:o.NC("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:x.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,t){const i=U(e);i&&i.diffReviewPrev()}}function U(e){const t=e.get(p.$),i=t.listDiffEditors(),n=t.getActiveCodeEditor();if(!n)return null;for(let e=0,t=i.length;e<t;e++){const t=i[e];if(t.getModifiedEditor().getId()===n.getId()||t.getOriginalEditor().getId()===n.getId())return t}return null}(0,b.Qr)(z),(0,b.Qr)(B);var H=i(4314),G=i(72),j=i(6518),K=i(2035),$=i(4319),q=i(665),Y=i(2550),Q=i(2065),Z=i(972),J=i(9422),X=i(5606),ee=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class te extends h.JT{constructor(e,t,i,n,r,a){super(),this._viewZoneId=e,this._marginDomNode=t,this.editor=i,this.diff=n,this._contextMenuService=r,this._clipboardService=a,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=N.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const l=i.getOption(61),d=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${l}px`,this._diffActions.style.lineHeight=`${l}px`,this._marginDomNode.appendChild(this._diffActions);const c=[],h=0===n.modifiedEndLineNumber;c.push(new _.aU("diff.clipboard.copyDeletedContent",h?n.originalEndLineNumber>n.modifiedStartLineNumber?o.NC("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):o.NC("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):n.originalEndLineNumber>n.modifiedStartLineNumber?o.NC("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):o.NC("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,(()=>ee(this,void 0,void 0,(function*(){const e=new H.e(n.originalStartLineNumber,1,n.originalEndLineNumber+1,1),t=n.originalModel.getValueInRange(e);yield this._clipboardService.writeText(t)})))));let u,g=0;n.originalEndLineNumber>n.modifiedStartLineNumber&&(u=new _.aU("diff.clipboard.copyDeletedLineContent",h?o.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber):o.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",n.originalStartLineNumber),void 0,!0,(()=>ee(this,void 0,void 0,(function*(){const e=n.originalModel.getLineContent(n.originalStartLineNumber+g);if(""===e){const e=n.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(0===e?"\n":"\r\n")}else yield this._clipboardService.writeText(e)})))),c.push(u)),i.getOption(83)||c.push(new _.aU("diff.inline.revertChange",o.NC("diff.inline.revertChange.label","Revert this change"),void 0,!0,(()=>ee(this,void 0,void 0,(function*(){const e=new H.e(n.originalStartLineNumber,1,n.originalEndLineNumber,n.originalModel.getLineMaxColumn(n.originalEndLineNumber)),t=n.originalModel.getValueInRange(e);if(0===n.modifiedEndLineNumber){const e=i.getModel().getLineMaxColumn(n.modifiedStartLineNumber);i.executeEdits("diffEditor",[{range:new H.e(n.modifiedStartLineNumber,e,n.modifiedStartLineNumber,e),text:d+t}])}else{const e=i.getModel().getLineMaxColumn(n.modifiedEndLineNumber);i.executeEdits("diffEditor",[{range:new H.e(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,e),text:t}])}})))));const p=(e,t)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:e,y:t}),getActions:()=>(u&&(u.label=h?o.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber+g):o.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",n.originalStartLineNumber+g)),c),autoSelectFirstItem:!0})};this._register(s.mu(this._diffActions,"mousedown",(e=>{const{top:t,height:i}=s.i(this._diffActions),n=Math.floor(l/3);e.preventDefault(),p(e.posx,t+i+n)}))),this._register(i.onMouseMove((e=>{(8===e.target.type||5===e.target.type)&&e.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,g=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,l)):this.visibility=!1}))),this._register(i.onMouseDown((e=>{!e.event.rightButton||8!==e.target.type&&5!==e.target.type||e.target.detail.viewZoneId===this._viewZoneId&&(e.event.preventDefault(),g=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,l),p(e.event.posx,e.event.posy+l))})))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}_updateLightBulbPosition(e,t,i){const{top:n}=s.i(e),o=t-n,r=Math.floor(o/i),a=r*i;if(this._diffActions.style.top=`${a}px`,this.diff.viewLineCounts){let e=0;for(let t=0;t<this.diff.viewLineCounts.length;t++)if(e+=this.diff.viewLineCounts[t],r<e)return t}return r}}var ie,ne=i(4972),oe=i(7301),se=i(535),re=i(4534),ae=i(6542),le=i(2321),de=function(e,t){return function(i,n){t(i,n,e)}};class ce{constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter((e=>!this._zonesMap[String(e.id)]))}clean(e){this._zones.length>0&&e.changeViewZones((e=>{for(const t of this._zones)e.removeZone(t)})),this._zones=[],this._zonesMap={},e.changeDecorations((e=>{this._decorations=e.deltaDecorations(this._decorations,[])}))}apply(e,t,i,n){const o=n?g.Z.capture(e):null;e.changeViewZones((t=>{var n;for(const e of this._zones)t.removeZone(e);for(const e of this._inlineDiffMargins)e.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let o=0,s=i.zones.length;o<s;o++){const s=i.zones[o];s.suppressMouseDown=!0;const r=t.addZone(s);this._zones.push(r),this._zonesMap[String(r)]=!0,i.zones[o].diff&&s.marginDomNode&&(s.suppressMouseDown=!1,0!==(null===(n=i.zones[o].diff)||void 0===n?void 0:n.originalModel.getValueLength())&&this._inlineDiffMargins.push(new te(r,s.marginDomNode,e,i.zones[o].diff,this._contextMenuService,this._clipboardService)))}})),null==o||o.restore(e),e.changeDecorations((e=>{this._decorations=e.deltaDecorations(this._decorations,i.decorations)})),null==t||t.setZones(i.overviewZones)}}let he=0;const ue=(0,E.q5)("diff-insert",N.lA.add,o.NC("diffInsertIcon","Line decoration for inserts in the diff editor.")),ge=(0,E.q5)("diff-remove",N.lA.remove,o.NC("diffRemoveIcon","Line decoration for removals in the diff editor.")),pe=null===(ie=window.trustedTypes)||void 0===ie?void 0:ie.createPolicy("diffEditorWidget",{createHTML:e=>e});let me=class e extends h.JT{constructor(t,i,n,o,r,l,h,u,g,p,m,f){super(),this._editorProgressService=f,this._onDidDispose=this._register(new c.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new c.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new c.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=r,this._codeEditorService=u,this._contextKeyService=this._register(l.createScoped(t)),this._instantiationService=h.createChild(new Z.y([x.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=g,this._notificationService=p,this._id=++he,this._state=0,this._updatingDiffProgress=null,this._domElement=t,i=i||{},this._options=Te(i,{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),void 0!==i.isInEmbeddedEditor?this._contextKeyService.createKey("isInEmbeddedDiffEditor",i.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new d.pY((()=>this._updateDecorations()),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,a.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(s.mu(this._overviewDomElement,s.tw.POINTER_DOWN,(e=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(e)}))),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new ce(m,o),this._modifiedEditorState=new ce(m,o),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new re.I(this._containerDomElement,i.dimension)),this._register(this._elementSizeObserver.onDidChange((()=>this._onDidContainerSizeChanged()))),i.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(i,n.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(i,n.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=h.createInstance(V,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new ye(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Se(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(g.onDidColorThemeChange((t=>{this._strategy&&this._strategy.applyColors(t)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)})));const v=b.Uc.getDiffEditorContributions();for(const e of v)try{this._register(h.createInstance(e.ctor,this))}catch(e){(0,oe.dL)(e)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=(0,D.m6)(e.type),i}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){this._options.renderOverviewRuler&&(r.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(t,i){const n=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(t),i);this._register(n.onDidScrollChange((e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())}))),this._register(n.onDidChangeViewZones((()=>{this._onViewZonesChanged()}))),this._register(n.onDidChangeConfiguration((e=>{n.getModel()&&(e.hasChanged(46)&&this._updateDecorationsRunner.schedule(),e.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))}))),this._register(n.onDidChangeHiddenAreas((()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()}))),this._register(n.onDidChangeModelContent((()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})));const o=this._contextKeyService.createKey("isInDiffLeftEditor",n.hasWidgetFocus());return this._register(n.onDidFocusEditorWidget((()=>o.set(!0)))),this._register(n.onDidBlurEditorWidget((()=>o.set(!1)))),this._register(n.onDidContentSizeChange((t=>{const i=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,n=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:n,contentWidth:i,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})}))),n}_createRightHandSideEditor(t,i){const n=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t),i);this._register(n.onDidScrollChange((e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())}))),this._register(n.onDidChangeViewZones((()=>{this._onViewZonesChanged()}))),this._register(n.onDidChangeConfiguration((e=>{n.getModel()&&(e.hasChanged(46)&&this._updateDecorationsRunner.schedule(),e.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))}))),this._register(n.onDidChangeHiddenAreas((()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()}))),this._register(n.onDidChangeModelContent((()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}))),this._register(n.onDidChangeModelOptions((e=>{e.tabSize&&this._updateDecorationsRunner.schedule()})));const o=this._contextKeyService.createKey("isInDiffRightEditor",n.hasWidgetFocus());return this._register(n.onDidFocusEditorWidget((()=>o.set(!0)))),this._register(n.onDidBlurEditorWidget((()=>o.set(!1)))),this._register(n.onDidContentSizeChange((t=>{const i=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,n=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:n,contentWidth:i,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})}))),this._register(n.onMouseDown((e=>{var t,i;if(!e.event.rightButton&&e.target.position&&(null===(t=e.target.element)||void 0===t?void 0:t.className.includes("arrow-revert-change"))){const t=e.target.position.lineNumber,n=null===(i=this._diffComputationResult)||void 0===i?void 0:i.changes.find((e=>e.modifiedStartLineNumber===t-1||e.modifiedStartLineNumber===t));return n&&this.revertChange(n),e.event.stopPropagation(),void this._updateDecorations()}}))),n}revertChange(e){const t=this._modifiedEditor,i=this._originalEditor.getModel(),n=this._modifiedEditor.getModel();if(!i||!n||!t)return;const o=e.originalEndLineNumber>0?new H.e(e.originalStartLineNumber,1,e.originalEndLineNumber,i.getLineMaxColumn(e.originalEndLineNumber)):null,s=o?i.getValueInRange(o):null,r=e.modifiedEndLineNumber>0?new H.e(e.modifiedStartLineNumber,1,e.modifiedEndLineNumber,n.getLineMaxColumn(e.modifiedEndLineNumber)):null,a=n.getEOL();if(0===e.originalEndLineNumber&&r){let i=r;e.modifiedStartLineNumber>1?i=r.setStartPosition(e.modifiedStartLineNumber-1,n.getLineMaxColumn(e.modifiedStartLineNumber-1)):e.modifiedEndLineNumber<n.getLineCount()&&(i=r.setEndPosition(e.modifiedEndLineNumber+1,1)),t.executeEdits("diffEditor",[{range:i,text:""}])}else if(0===e.modifiedEndLineNumber&&null!==s){const i=e.modifiedStartLineNumber<n.getLineCount()?new w.L(e.modifiedStartLineNumber+1,1):new w.L(e.modifiedStartLineNumber,n.getLineMaxColumn(e.modifiedStartLineNumber));t.executeEdits("diffEditor",[{range:H.e.fromPositions(i,i),text:e.modifiedStartLineNumber<n.getLineCount()?s+a:a+s}])}else r&&null!==s&&t.executeEdits("diffEditor",[{range:r,text:s}])}_createInnerEditor(e,t,i,n){return e.createInstance(m.Gm,t,i,n)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return j.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(t){const i=Te(t,this._options),n=(s=i,{enableSplitViewResizing:(o=this._options).enableSplitViewResizing!==s.enableSplitViewResizing,renderSideBySide:o.renderSideBySide!==s.renderSideBySide,renderMarginRevertIcon:o.renderMarginRevertIcon!==s.renderMarginRevertIcon,maxComputationTime:o.maxComputationTime!==s.maxComputationTime,maxFileSize:o.maxFileSize!==s.maxFileSize,ignoreTrimWhitespace:o.ignoreTrimWhitespace!==s.ignoreTrimWhitespace,renderIndicators:o.renderIndicators!==s.renderIndicators,originalEditable:o.originalEditable!==s.originalEditable,diffCodeLens:o.diffCodeLens!==s.diffCodeLens,renderOverviewRuler:o.renderOverviewRuler!==s.renderOverviewRuler,diffWordWrap:o.diffWordWrap!==s.diffWordWrap});var o,s;this._options=i;const r=n.ignoreTrimWhitespace||n.renderIndicators||n.renderMarginRevertIcon,a=this._isVisible&&(n.maxComputationTime||n.maxFileSize);r?this._beginUpdateDecorations():a&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),n.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new ye(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Se(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),n.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(e?e.original:null),this._modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this._modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(e,t="api"){this._modifiedEditor.setPosition(e,t)}revealLine(e,t=0){this._modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(e,t="api"){this._modifiedEditor.setSelection(e,t)}setSelections(e,t="api"){this._modifiedEditor.setSelections(e,t)}revealLines(e,t,i=0){this._modifiedEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._modifiedEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._modifiedEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,n=!0){this._modifiedEditor.revealRange(e,t,i,n)}revealRangeInCenter(e,t=0){this._modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(e){if(e&&e.original&&e.modified){const t=e;this._originalEditor.restoreViewState(t.original),this._modifiedEditor.restoreViewState(t.modified)}}layout(e){this._elementSizeObserver.observe(e)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(e,t,i){this._modifiedEditor.trigger(e,t,i)}createDecorationsCollection(e){return this._modifiedEditor.createDecorationsCollection(e)}changeDecorations(e){return this._modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler)return;if(!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),n=e.ENTIRE_DIFF_OVERVIEW_WIDTH-2*e.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:e.ONE_OVERVIEW_WIDTH,right:n+e.ONE_OVERVIEW_WIDTH,height:t-i}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:e.ONE_OVERVIEW_WIDTH,height:t-i}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout((()=>this._beginUpdateDecorations()),e.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t||!(!e||!t)&&e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const t=this._originalEditor.getModel(),i=this._modifiedEditor.getModel();if(!t||!i)return;this._diffComputationToken++;const n=this._diffComputationToken,s=1024*this._options.maxFileSize*1024,r=e=>{const t=e.getValueLength();return 0===s||t<=s};r(t)&&r(i)?(this._setState(1),this._editorWorkerService.computeDiff(t.uri,i.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then((e=>{n===this._diffComputationToken&&t===this._originalEditor.getModel()&&i===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=e,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())}),(e=>{n===this._diffComputationToken&&t===this._originalEditor.getModel()&&i===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())}))):e._equals(t.uri,this._lastOriginalWarning)&&e._equals(i.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=i.uri,this._notificationService.warn(o.NC("diff.tooLarge","Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),n=this._strategy.getEditorsDiffDecorations(e,this._options.ignoreTrimWhitespace,this._options.renderIndicators,this._options.renderMarginRevertIcon,t,i);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,n.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,n.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(e){const t=Object.assign({},e);return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._options.diffCodeLens,t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e){const t=this._adjustOptionsForSubEditor(e);return this._options.renderSideBySide?t.wordWrapOverride1=this._options.diffWordWrap:(t.wordWrapOverride1="off",t.wordWrapOverride2="off"),e.originalAriaLabel&&(t.ariaLabel=e.originalAriaLabel),t.readOnly=!this._options.originalEditable,t.dropIntoEditor={enabled:!t.readOnly},t.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(t){const i=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(i.ariaLabel=t.modifiedAriaLabel),i.wordWrapOverride1=this._options.diffWordWrap,i.revealHorizontalRightPadding=C.BH.revealHorizontalRightPadding.defaultValue+e.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},i),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const t=this._elementSizeObserver.getWidth(),i=this._elementSizeObserver.getHeight(),n=this._getReviewHeight(),o=this._strategy.layout();this._originalDomNode.style.width=o+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=t-o+"px",this._modifiedDomNode.style.left=o+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=i-n+"px",this._overviewDomElement.style.width=e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=t-e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(e.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:o,height:i-n}),this._modifiedEditor.layout({width:t-o-(this._options.renderOverviewRuler?e.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:i-n}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(i-n,t,n),this._layoutOverviewViewport()}_layoutOverviewViewport(){const e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const e=this._modifiedEditor.getLayoutInfo();if(!e)return null;const t=this._modifiedEditor.getScrollTop(),i=this._modifiedEditor.getScrollHeight(),n=Math.max(0,e.height),o=Math.max(0,n-0),s=i>0?o/i:0;return{height:Math.max(0,Math.floor(e.height*s)),top:Math.floor(t*s)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){const i=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===i.length||e<t(i[0]))return null;let n=0,o=i.length-1;for(;n<o;){const s=Math.floor((n+o)/2),r=t(i[s]),a=s+1<=o?t(i[s+1]):1073741824;e<r?o=s-1:e>=a?n=s+1:(n=s,o=s)}return i[n]}_getEquivalentLineForOriginalLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,(e=>e.originalStartLineNumber));if(!t)return e;const i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,s=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,r=e-i;return r<=o?n+Math.min(r,s):n+s-o+r}_getEquivalentLineForModifiedLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,(e=>e.modifiedStartLineNumber));if(!t)return e;const i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,s=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,r=e-n;return r<=s?i+Math.min(r,o):i+o-s+r}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};me.ONE_OVERVIEW_WIDTH=15,me.ENTIRE_DIFF_OVERVIEW_WIDTH=30,me.UPDATE_DIFF_DECORATIONS_DELAY=200,me=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([de(3,ne.p),de(4,$.p),de(5,x.i6),de(6,Q.TG),de(7,p.$),de(8,D.XE),de(9,J.lT),de(10,X.i),de(11,se.ek)],me);class fe extends h.JT{constructor(e){super(),this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){const t=e.getColor(I.P6Y)||(e.getColor(I.ypS)||I.CzK).transparent(2),i=e.getColor(I.F9q)||(e.getColor(I.P4M)||I.keg).transparent(2),n=!t.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=t,this._removeColor=i,n}getEditorsDiffDecorations(e,t,i,n,o,s){s=s.sort(((e,t)=>e.afterLineNumber-t.afterLineNumber)),o=o.sort(((e,t)=>e.afterLineNumber-t.afterLineNumber));const r=this._getViewZones(e,o,s,i),a=this._getOriginalEditorDecorations(r,e,t,i),l=this._getModifiedEditorDecorations(r,e,t,i,n);return{original:{decorations:a.decorations,overviewZones:a.overviewZones,zones:r.original},modified:{decorations:l.decorations,overviewZones:l.overviewZones,zones:r.modified}}}}class ve{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class _e{constructor(e,t,i,n,o){this._lineChanges=e,this._originalForeignVZ=t,this._modifiedForeignVZ=i,this._originalEditor=n,this._modifiedEditor=o}static _getViewLineCount(e,t,i){const n=e.getModel(),o=e._getViewModel();if(n&&o){const e=Ae(n,o,t,i);return e.endLineNumber-e.startLineNumber+1}return i-t+1}getViewZones(){const e=this._originalEditor.getOption(61),t=this._modifiedEditor.getOption(61),i=-1!==this._originalEditor.getOption(134).wrappingColumn,n=-1!==this._modifiedEditor.getOption(134).wrappingColumn,o=i||n,s=this._originalEditor.getModel(),r=this._originalEditor._getViewModel().coordinatesConverter,a=this._modifiedEditor._getViewModel().coordinatesConverter,l=[],d=[];let c=0,h=0,u=0,g=0,p=0,m=0;const f=(e,t)=>e.afterLineNumber-t.afterLineNumber,v=(e,t)=>{if(null===t.domNode&&e.length>0){const i=e[e.length-1];if(i.afterLineNumber===t.afterLineNumber&&null===i.domNode)return void(i.heightInLines+=t.heightInLines)}e.push(t)},_=new ve(this._modifiedForeignVZ),b=new ve(this._originalForeignVZ);let C=1,y=1;for(let i=0,n=this._lineChanges.length;i<=n;i++){const w=i<n?this._lineChanges[i]:null;null!==w?(u=w.originalStartLineNumber+(w.originalEndLineNumber>0?-1:0),g=w.modifiedStartLineNumber+(w.modifiedEndLineNumber>0?-1:0),h=w.originalEndLineNumber>0?_e._getViewLineCount(this._originalEditor,w.originalStartLineNumber,w.originalEndLineNumber):0,c=w.modifiedEndLineNumber>0?_e._getViewLineCount(this._modifiedEditor,w.modifiedStartLineNumber,w.modifiedEndLineNumber):0,p=Math.max(w.originalStartLineNumber,w.originalEndLineNumber),m=Math.max(w.modifiedStartLineNumber,w.modifiedEndLineNumber)):(u+=1e7+h,g+=1e7+c,p=u,m=g);let S=[],k=[];if(o){let e;e=w?w.originalEndLineNumber>0?w.originalStartLineNumber-C:w.modifiedStartLineNumber-y:s.getLineCount()-C+1;for(let t=0;t<e;t++){const e=C+t,i=y+t,n=r.getModelLineViewLineCount(e),o=a.getModelLineViewLineCount(i);n<o?S.push({afterLineNumber:e,heightInLines:o-n,domNode:null,marginDomNode:null}):n>o&&k.push({afterLineNumber:i,heightInLines:n-o,domNode:null,marginDomNode:null})}w&&(C=(w.originalEndLineNumber>0?w.originalEndLineNumber:w.originalStartLineNumber)+1,y=(w.modifiedEndLineNumber>0?w.modifiedEndLineNumber:w.modifiedStartLineNumber)+1)}for(;_.current&&_.current.afterLineNumber<=m;){let e;e=_.current.afterLineNumber<=g?u-g+_.current.afterLineNumber:p;let i=null;w&&w.modifiedStartLineNumber<=_.current.afterLineNumber&&_.current.afterLineNumber<=w.modifiedEndLineNumber&&(i=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),S.push({afterLineNumber:e,heightInLines:_.current.height/t,domNode:null,marginDomNode:i}),_.advance()}for(;b.current&&b.current.afterLineNumber<=p;){let t;t=b.current.afterLineNumber<=u?g-u+b.current.afterLineNumber:m,k.push({afterLineNumber:t,heightInLines:b.current.height/e,domNode:null}),b.advance()}if(null!==w&&Le(w)){const e=this._produceOriginalFromDiff(w,h,c);e&&S.push(e)}if(null!==w&&xe(w)){const e=this._produceModifiedFromDiff(w,h,c);e&&k.push(e)}let L=0,x=0;for(S=S.sort(f),k=k.sort(f);L<S.length&&x<k.length;){const e=S[L],t=k[x],i=e.afterLineNumber-u,n=t.afterLineNumber-g;i<n?(v(l,e),L++):n<i?(v(d,t),x++):e.shouldNotShrink?(v(l,e),L++):t.shouldNotShrink?(v(d,t),x++):e.heightInLines>=t.heightInLines?(e.heightInLines-=t.heightInLines,x++):(t.heightInLines-=e.heightInLines,L++)}for(;L<S.length;)v(l,S[L]),L++;for(;x<k.length;)v(d,k[x]),x++}return{original:_e._ensureDomNodes(l),modified:_e._ensureDomNodes(d)}}static _ensureDomNodes(e){return e.map((e=>(e.domNode||(e.domNode=Ne()),e)))}}function be(e,t,i,n,o){return{range:new H.e(e,t,i,n),options:o}}const Ce={arrowRevertChange:K.qx.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+D.kS.asClassName(N.lA.arrowRight)}),charDelete:K.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:K.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:K.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:K.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:K.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:K.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+D.kS.asClassName(ue),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:K.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:K.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+D.kS.asClassName(ge),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:K.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class ye extends fe{constructor(e,t){super(e),this._disableSash=!1===t,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new l.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart((()=>this._onSashDragStart())),this._sash.onDidChange((e=>this._onSashDrag(e))),this._sash.onDidEnd((()=>this._onSashDragEnd())),this._sash.onDidReset((()=>this._onSashReset()))}setEnableSplitViewResizing(e){const t=!1===e;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)}layout(e=this._sashRatio){const t=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?me.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let i=Math.floor((e||.5)*t);const n=Math.floor(.5*t);return i=this._disableSash?n:i||n,t>2*ye.MINIMUM_EDITOR_WIDTH?(i<ye.MINIMUM_EDITOR_WIDTH&&(i=ye.MINIMUM_EDITOR_WIDTH),i>t-ye.MINIMUM_EDITOR_WIDTH&&(i=t-ye.MINIMUM_EDITOR_WIDTH)):i=n,this._sashPosition!==i&&(this._sashPosition=i),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(e){const t=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?me.ENTIRE_DIFF_OVERVIEW_WIDTH:0),i=this.layout((this._startSashPosition+(e.currentX-e.startX))/t);this._sashRatio=i/t,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(e){return 0}getVerticalSashLeft(e){return this._sashPosition}getVerticalSashHeight(e){return this._dataSource.getHeight()}_getViewZones(e,t,i){const n=this._dataSource.getOriginalEditor(),o=this._dataSource.getModifiedEditor();return new we(e,t,i,n,o).getViewZones()}_getOriginalEditorDecorations(e,t,i,n){const o=this._dataSource.getOriginalEditor(),s=String(this._removeColor),r={decorations:[],overviewZones:[]},a=o.getModel(),l=o._getViewModel();for(const e of t)if(xe(e)){r.decorations.push({range:new H.e(e.originalStartLineNumber,1,e.originalEndLineNumber,1073741824),options:n?Ce.lineDeleteWithSign:Ce.lineDelete}),Le(e)&&e.charChanges||r.decorations.push(be(e.originalStartLineNumber,1,e.originalEndLineNumber,1073741824,Ce.charDeleteWholeLine));const t=Ae(a,l,e.originalStartLineNumber,e.originalEndLineNumber);if(r.overviewZones.push(new q.EY(t.startLineNumber,t.endLineNumber,0,s)),e.charChanges)for(const t of e.charChanges)if(De(t))if(i)for(let e=t.originalStartLineNumber;e<=t.originalEndLineNumber;e++){let i,n;i=e===t.originalStartLineNumber?t.originalStartColumn:a.getLineFirstNonWhitespaceColumn(e),n=e===t.originalEndLineNumber?t.originalEndColumn:a.getLineLastNonWhitespaceColumn(e),r.decorations.push(be(e,i,e,n,Ce.charDelete))}else r.decorations.push(be(t.originalStartLineNumber,t.originalStartColumn,t.originalEndLineNumber,t.originalEndColumn,Ce.charDelete))}return r}_getModifiedEditorDecorations(e,t,i,n,o){const s=this._dataSource.getModifiedEditor(),r=String(this._insertColor),a={decorations:[],overviewZones:[]},l=s.getModel(),d=s._getViewModel();for(const s of t){if(o)if(s.modifiedEndLineNumber>0)a.decorations.push({range:new H.e(s.modifiedStartLineNumber,1,s.modifiedStartLineNumber,1),options:Ce.arrowRevertChange});else{const t=e.modified.find((e=>e.afterLineNumber===s.modifiedStartLineNumber));t&&(t.marginDomNode=Ee())}if(Le(s)){a.decorations.push({range:new H.e(s.modifiedStartLineNumber,1,s.modifiedEndLineNumber,1073741824),options:n?Ce.lineInsertWithSign:Ce.lineInsert}),xe(s)&&s.charChanges||a.decorations.push(be(s.modifiedStartLineNumber,1,s.modifiedEndLineNumber,1073741824,Ce.charInsertWholeLine));const e=Ae(l,d,s.modifiedStartLineNumber,s.modifiedEndLineNumber);if(a.overviewZones.push(new q.EY(e.startLineNumber,e.endLineNumber,0,r)),s.charChanges)for(const e of s.charChanges)if(Ie(e))if(i)for(let t=e.modifiedStartLineNumber;t<=e.modifiedEndLineNumber;t++){let i,n;i=t===e.modifiedStartLineNumber?e.modifiedStartColumn:l.getLineFirstNonWhitespaceColumn(t),n=t===e.modifiedEndLineNumber?e.modifiedEndColumn:l.getLineLastNonWhitespaceColumn(t),a.decorations.push(be(t,i,t,n,Ce.charInsert))}else a.decorations.push(be(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn,Ce.charInsert))}}return a}}ye.MINIMUM_EDITOR_WIDTH=100;class we extends _e{constructor(e,t,i,n,o){super(e,t,i,n,o)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null}_produceModifiedFromDiff(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null}}class Se extends fe{constructor(e,t){super(e),this._decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange((t=>{this._decorationsLeft!==t.decorationsLeft&&(this._decorationsLeft=t.decorationsLeft,e.relayoutEditors())})))}setEnableSplitViewResizing(e){}_getViewZones(e,t,i,n){const o=this._dataSource.getOriginalEditor(),s=this._dataSource.getModifiedEditor();return new ke(e,t,i,o,s,n).getViewZones()}_getOriginalEditorDecorations(e,t,i,n){const o=String(this._removeColor),s={decorations:[],overviewZones:[]},r=this._dataSource.getOriginalEditor(),a=r.getModel(),l=r._getViewModel();let d=0;for(const i of t)if(xe(i)){for(s.decorations.push({range:new H.e(i.originalStartLineNumber,1,i.originalEndLineNumber,1073741824),options:Ce.lineDeleteMargin});d<e.modified.length;){const t=e.modified[d];if(t.diff&&t.diff.originalStartLineNumber>=i.originalStartLineNumber)break;d++}let t=0;if(d<e.modified.length){const n=e.modified[d];n.diff&&n.diff.originalStartLineNumber===i.originalStartLineNumber&&n.diff.originalEndLineNumber===i.originalEndLineNumber&&n.diff.modifiedStartLineNumber===i.modifiedStartLineNumber&&n.diff.modifiedEndLineNumber===i.modifiedEndLineNumber&&(t=n.heightInLines)}const n=Ae(a,l,i.originalStartLineNumber,i.originalEndLineNumber);s.overviewZones.push(new q.EY(n.startLineNumber,n.endLineNumber,t,o))}return s}_getModifiedEditorDecorations(e,t,i,n,o){const s=this._dataSource.getModifiedEditor(),r=String(this._insertColor),a={decorations:[],overviewZones:[]},l=s.getModel(),d=s._getViewModel();for(const e of t)if(Le(e)){a.decorations.push({range:new H.e(e.modifiedStartLineNumber,1,e.modifiedEndLineNumber,1073741824),options:n?Ce.lineInsertWithSign:Ce.lineInsert});const t=Ae(l,d,e.modifiedStartLineNumber,e.modifiedEndLineNumber);if(a.overviewZones.push(new q.EY(t.startLineNumber,t.endLineNumber,0,r)),e.charChanges){for(const t of e.charChanges)if(Ie(t))if(i)for(let e=t.modifiedStartLineNumber;e<=t.modifiedEndLineNumber;e++){let i,n;i=e===t.modifiedStartLineNumber?t.modifiedStartColumn:l.getLineFirstNonWhitespaceColumn(e),n=e===t.modifiedEndLineNumber?t.modifiedEndColumn:l.getLineLastNonWhitespaceColumn(e),a.decorations.push(be(e,i,e,n,Ce.charInsert))}else a.decorations.push(be(t.modifiedStartLineNumber,t.modifiedStartColumn,t.modifiedEndLineNumber,t.modifiedEndColumn,Ce.charInsert))}else a.decorations.push(be(e.modifiedStartLineNumber,1,e.modifiedEndLineNumber,1073741824,Ce.charInsertWholeLine))}return a}layout(){return Math.max(5,this._decorationsLeft)}}class ke extends _e{constructor(e,t,i,n,o,s){super(e,t,i,n,o),this._originalModel=n.getModel(),this._renderIndicators=s,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const e=super.getViewZones();return this._finalize(e),e}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,i){const n=document.createElement("div");return n.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:n}}_produceModifiedFromDiff(e,t,i){const n=document.createElement("div");n.className=`view-lines line-delete ${ae.S}`;const o=document.createElement("div");o.className="inline-deleted-margin-view-zone";const s={shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:0,domNode:n,marginDomNode:o,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let t=e.originalStartLineNumber;t<=e.originalEndLineNumber;t++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(t),null,null);return this._pendingLineChange.push(e),this._pendingViewZones.push(s),s}_finalize(e){const t=this._modifiedEditor.getOptions(),i=this._modifiedEditor.getModel().getOptions().tabSize,n=t.get(46),o=t.get(29),s=n.typicalHalfwidthCharacterWidth,r=t.get(95),a=this._originalModel.mightContainNonBasicASCII(),l=this._originalModel.mightContainRTL(),d=t.get(61),c=t.get(133).decorationsWidth,h=t.get(107),g=t.get(90),p=t.get(85),m=t.get(47),f=this._lineBreaksComputer.finalize();let v=0;for(let t=0;t<this._pendingLineChange.length;t++){const _=this._pendingLineChange[t],b=this._pendingViewZones[t],C=b.domNode;(0,u.N)(C,n);const y=b.marginDomNode;(0,u.N)(y,n);const w=[];if(_.charChanges)for(const e of _.charChanges)De(e)&&w.push(new L.$t(new H.e(e.originalStartLineNumber,e.originalStartColumn,e.originalEndLineNumber,e.originalEndColumn),"char-delete",0));const S=w.length>0,k=(0,G.l$)(1e4);let x=0,I=0,D=null;for(let t=_.originalStartLineNumber;t<=_.originalEndLineNumber;t++){const s=t-_.originalStartLineNumber,r=this._originalModel.tokenization.getLineTokens(t),u=r.getLineContent(),C=f[v++],L=Y.Kp.filter(w,t,1,u.length+1);if(C){let f=0;for(const e of C.breakOffsets){const t=r.sliceAndInflate(f,e,0),s=u.substring(f,e);x=Math.max(x,this._renderOriginalLine(I++,s,t,Y.Kp.extractWrapped(L,f,e),S,a,l,n,o,d,c,h,g,p,m,i,k,y)),f=e}for(D||(D=[]);D.length<s;)D[D.length]=1;D[s]=C.breakOffsets.length,b.heightInLines+=C.breakOffsets.length-1;const v=document.createElement("div");v.className="gutter-delete",e.original.push({afterLineNumber:t,afterColumn:0,heightInLines:C.breakOffsets.length-1,domNode:Ne(),marginDomNode:v})}else x=Math.max(x,this._renderOriginalLine(I++,u,r,L,S,a,l,n,o,d,c,h,g,p,m,i,k,y))}x+=r;const N=k.build(),E=pe?pe.createHTML(N):N;if(C.innerHTML=E,b.minWidthInPx=x*s,D){const e=_.originalEndLineNumber-_.originalStartLineNumber;for(;D.length<=e;)D[D.length]=1}b.diff.viewLineCounts=D}e.original.sort(((e,t)=>e.afterLineNumber-t.afterLineNumber))}_renderOriginalLine(e,t,i,n,o,s,r,a,l,d,c,h,u,g,p,m,f,v){f.appendASCIIString('<div class="view-line'),o||f.appendASCIIString(" char-delete"),f.appendASCIIString('" style="top:'),f.appendASCIIString(String(e*d)),f.appendASCIIString('px;width:1000000px;">');const _=L.wA.isBasicASCII(t,s),b=L.wA.containsRTL(t,_,r),y=(0,k.d1)(new k.IJ(a.isMonospace&&!l,a.canUseHalfwidthRightwardsArrow,t,!1,_,b,0,i,n,m,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,h,u,g,p!==C.n0.OFF,null),f);if(f.appendASCIIString("</div>"),this._renderIndicators){const t=document.createElement("div");t.className=`delete-sign ${D.kS.asClassName(ge)}`,t.setAttribute("style",`position:absolute;top:${e*d}px;width:${c}px;height:${d}px;right:0;`),v.appendChild(t)}return y.characterMapping.getHorizontalOffset(y.characterMapping.length)}}function Le(e){return e.modifiedEndLineNumber>0}function xe(e){return e.originalEndLineNumber>0}function Ie(e){return e.modifiedStartLineNumber===e.modifiedEndLineNumber?e.modifiedEndColumn-e.modifiedStartColumn>0:e.modifiedEndLineNumber-e.modifiedStartLineNumber>0}function De(e){return e.originalStartLineNumber===e.originalEndLineNumber?e.originalEndColumn-e.originalStartColumn>0:e.originalEndLineNumber-e.originalStartLineNumber>0}function Ne(){const e=document.createElement("div");return e.className="diagonal-fill",e}function Ee(){const e=document.createElement("div");return e.className="arrow-revert-change "+D.kS.asClassName(N.lA.arrowRight),s.$("div",{},e)}function Ae(e,t,i,n){const o=e.getLineCount();return i=Math.min(o,Math.max(1,i)),n=Math.min(o,Math.max(1,n)),t.coordinatesConverter.convertModelRangeToViewRange(new H.e(i,e.getLineMinColumn(i),n,e.getLineMaxColumn(n)))}function Te(e,t){return{enableSplitViewResizing:(0,C.O7)(e.enableSplitViewResizing,t.enableSplitViewResizing),renderSideBySide:(0,C.O7)(e.renderSideBySide,t.renderSideBySide),renderMarginRevertIcon:(0,C.O7)(e.renderMarginRevertIcon,t.renderMarginRevertIcon),maxComputationTime:(0,C.Zc)(e.maxComputationTime,t.maxComputationTime,0,1073741824),maxFileSize:(0,C.Zc)(e.maxFileSize,t.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,C.O7)(e.ignoreTrimWhitespace,t.ignoreTrimWhitespace),renderIndicators:(0,C.O7)(e.renderIndicators,t.renderIndicators),originalEditable:(0,C.O7)(e.originalEditable,t.originalEditable),diffCodeLens:(0,C.O7)(e.diffCodeLens,t.diffCodeLens),renderOverviewRuler:(0,C.O7)(e.renderOverviewRuler,t.renderOverviewRuler),diffWordWrap:(i=e.diffWordWrap,n=t.diffWordWrap,(0,C.NY)(i,n,["off","on","inherit"]))};var i,n}(0,D.Ic)(((e,t)=>{const i=e.getColor(I.ypS);i&&t.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${i}; }`);const n=e.getColor(I.hzo)||i;n&&t.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${n}; }`);const o=e.getColor(I.j51)||n;o&&(t.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${o}; }`),t.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${o}; }`));const s=e.getColor(I.P4M);s&&t.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${s}; }`);const r=e.getColor(I.xi6)||s;r&&t.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${r}; }`);const a=e.getColor(I.zOm)||r;a&&(t.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${a}; }`),t.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${a}; }`));const l=e.getColor(I.XL$);l&&t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${(0,le.c3)(e.type)?"dashed":"solid"} ${l}; }`);const d=e.getColor(I.mHy);d&&t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${(0,le.c3)(e.type)?"dashed":"solid"} ${d}; }`);const c=e.getColor(I._wn);c&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${c}; }`);const h=e.getColor(I.LLc);h&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${h}; }`);const u=e.getColor(I.etL);u&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${u};\n\t\t\t}\n\t\t`);const g=e.getColor(I.ABB);g&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${g};\n\t\t\t}\n\t\t`);const p=e.getColor(I.ynu);p&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${p};\n\t\t\t}\n\t\t`);const m=e.getColor(I.L_t);t.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${m} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${m} 50%, ${m} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)}))},5623:(e,t,i)=>{"use strict";i.d(t,{F:()=>d});var n=i(5146),o=i(4669),s=i(5976),r=i(6248),a=i(4314);const l={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class d extends s.JT{constructor(e,t={}){super(),this._onDidUpdate=this._register(new o.Q5),this._editor=e,this._options=r.jB(t,l,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose((()=>this.dispose()))),this._register(this._editor.onDidUpdateDiff((()=>this._onDiffUpdated()))),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition((e=>{this.ignoreSelectionChange||(this.nextIdx=-1)}))),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel((e=>{this.revealFirst=!0}))),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(e){this.ranges=[],e&&e.forEach((e=>{!this._options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach((e=>{this.ranges.push({rhs:!0,range:new a.e(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})})):0===e.modifiedEndLineNumber?this.ranges.push({rhs:!0,range:new a.e(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new a.e(e.modifiedStartLineNumber,1,e.modifiedEndLineNumber+1,1)})})),this.ranges.sort(((e,t)=>a.e.compareRangesUsingStarts(e.range,t.range))),this._onDidUpdate.fire(this)}_initIdx(e){let t=!1;const i=this._editor.getPosition();if(i){for(let n=0,o=this.ranges.length;n<o&&!t;n++){const o=this.ranges[n].range;i.isBeforeOrEqual(o.getStartPosition())&&(this.nextIdx=n+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(e,t){if(n.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const e=i.range.getStartPosition();this._editor.setPosition(e),this._editor.revealRangeInCenter(i.range,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(e=0){this._move(!0,e)}previous(e=0){this._move(!1,e)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}},4527:(e,t,i)=>{"use strict";i.d(t,{H:()=>m});var n=i(6248),o=i(1640),s=i(6180),r=i(4565),a=i(8819),l=i(2065),d=i(9422),c=i(7781),h=i(1106),u=i(1381),g=i(1922),p=function(e,t){return function(i,n){t(i,n,e)}};let m=class extends s.Gm{constructor(e,t,i,n,o,s,r,a,l,d,c,h){super(e,Object.assign(Object.assign({},i.getRawOptions()),{overflowWidgetsDomNode:i.getOverflowWidgetsDomNode()}),{},n,o,s,r,a,l,d,c,h),this._parentEditor=i,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(i.onDidChangeConfiguration((e=>this._onParentConfigurationChanged(e))))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){n.jB(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};m=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([p(3,l.TG),p(4,o.$),p(5,r.Hy),p(6,a.i6),p(7,c.XE),p(8,d.lT),p(9,h.F),p(10,u.c_),p(11,g.p)],m)},1329:(e,t,i)=>{"use strict";i.d(t,{OY:()=>s,Sj:()=>r,T4:()=>o,Uo:()=>a,hP:()=>l});var n=i(3860);class o{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return n.Y.fromPositions(i.getEndPosition())}}class s{constructor(e,t){this._range=e,this._text=t}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return n.Y.fromRange(i,0)}}class r{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return n.Y.fromPositions(i.getStartPosition())}}class a{constructor(e,t,i,n,o=!1){this._range=e,this._text=t,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=o}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return n.Y.fromPositions(i.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class l{constructor(e,t,i,n=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}},291:(e,t,i)=>{"use strict";i.d(t,{U:()=>h});var n=i(7295),o=i(7988),s=i(4314),r=i(3860),a=i(1615),l=i(1381);const d=Object.create(null);function c(e,t){if(t<=0)return"";d[e]||(d[e]=["",e]);const i=d[e];for(let n=i.length;n<=t;n++)i[n]=i[n-1]+e;return i[t]}let h=class e{constructor(e,t,i){this._languageConfigurationService=i,this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(e,t,i,n,s){const r=o.i.visibleColumnFromColumn(e,t,i);if(s){const e=c(" ",n);return c(e,o.i.prevIndentTabStop(r,n)/n)}return c("\t",o.i.prevRenderTabStop(r,i)/i)}static shiftIndent(e,t,i,n,s){const r=o.i.visibleColumnFromColumn(e,t,i);if(s){const e=c(" ",n);return c(e,o.i.nextIndentTabStop(r,n)/n)}return c("\t",o.i.nextRenderTabStop(r,i)/i)}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(t,i){const r=this._selection.startLineNumber;let l=this._selection.endLineNumber;1===this._selection.endColumn&&r!==l&&(l-=1);const{tabSize:d,indentSize:h,insertSpaces:u}=this._opts,g=r===l;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(t.getLineContent(r))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,p=0;for(let m=r;m<=l;m++,c=p){p=0;const l=t.getLineContent(m);let f,v=n.LC(l);if((!this._opts.isUnshift||0!==l.length&&0!==v)&&(g||this._opts.isUnshift||0!==l.length)){if(-1===v&&(v=l.length),m>1&&o.i.visibleColumnFromColumn(l,v+1,d)%h!=0&&t.tokenization.isCheapToTokenize(m-1)){const e=(0,a.A)(this._opts.autoIndent,t,new s.e(m-1,t.getLineMaxColumn(m-1),m-1,t.getLineMaxColumn(m-1)),this._languageConfigurationService);if(e){if(p=c,e.appendText)for(let t=0,i=e.appendText.length;t<i&&p<h&&32===e.appendText.charCodeAt(t);t++)p++;e.removeText&&(p=Math.max(0,p-e.removeText));for(let e=0;e<p&&0!==v&&32===l.charCodeAt(v-1);e++)v--}}this._opts.isUnshift&&0===v||(f=this._opts.isUnshift?e.unshiftIndent(l,v+1,d,h,u):e.shiftIndent(l,v+1,d,h,u),this._addEditOperation(i,new s.e(m,1,m,v+1),f),m!==r||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=this._selection.startColumn<=v+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===t.getLineLength(r)&&(this._useLastEditRangeForCursorEndPosition=!0);const e=u?c(" ",h):"\t";for(let o=r;o<=l;o++){const a=t.getLineContent(o);let l=n.LC(a);if((!this._opts.isUnshift||0!==a.length&&0!==l)&&(g||this._opts.isUnshift||0!==a.length)&&(-1===l&&(l=a.length),!this._opts.isUnshift||0!==l))if(this._opts.isUnshift){l=Math.min(l,h);for(let e=0;e<l;e++)if(9===a.charCodeAt(e)){l=e+1;break}this._addEditOperation(i,new s.e(o,1,o,l+1),"")}else this._addEditOperation(i,new s.e(o,1,o,1),e),o!==r||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=i.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){const e=t.getInverseEditOperations()[0];return new r.Y(e.range.endLineNumber,e.range.endColumn,e.range.endLineNumber,e.range.endColumn)}const i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const e=this._selection.startColumn;return i.startColumn<=e?i:0===i.getDirection()?new r.Y(i.startLineNumber,e,i.endLineNumber,i.endColumn):new r.Y(i.endLineNumber,i.endColumn,i.startLineNumber,e)}return i}};var u,g;h=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(u=2,g=l.c_,function(e,t){g(e,t,u)})],h)},800:(e,t,i)=>{"use strict";i.d(t,{Pe:()=>p,ei:()=>g,wk:()=>l});var n=i(4141),o=i(2075),s=i(3580),r=i(3193),a=i(9872);const l=Object.freeze({id:"editor",order:5,type:"object",title:s.NC("editorConfigurationTitle","Editor"),scope:5}),d=Object.assign(Object.assign({},l),{properties:{"editor.tabSize":{type:"number",default:o.D.tabSize,minimum:1,markdownDescription:s.NC("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:o.D.insertSpaces,markdownDescription:s.NC("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:o.D.detectIndentation,markdownDescription:s.NC("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:o.D.trimAutoWhitespace,description:s.NC("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:o.D.largeFileOptimizations,description:s.NC("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:s.NC("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[s.NC("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),s.NC("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),s.NC("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:s.NC("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[s.NC("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),s.NC("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),s.NC("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:s.NC("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:s.NC("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:s.NC("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:["array","null"],default:null,description:s.NC("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:s.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:s.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:s.NC("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:s.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:s.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:s.NC("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:s.NC("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:s.NC("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:s.NC("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:s.NC("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:s.NC("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:s.NC("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[s.NC("wordWrap.off","Lines will never wrap."),s.NC("wordWrap.on","Lines will wrap at the viewport width."),s.NC("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});for(const e of n.Bc){const t=e.schema;if(void 0!==t)if(void 0!==(c=t).type||void 0!==c.anyOf)d.properties[`editor.${e.name}`]=t;else for(const e in t)Object.hasOwnProperty.call(t,e)&&(d.properties[e]=t[e])}var c;let h=null;function u(){return null===h&&(h=Object.create(null),Object.keys(d.properties).forEach((e=>{h[e]=!0}))),h}function g(e){return u()[`editor.${e}`]||!1}function p(e){return u()[`diffEditor.${e}`]||!1}a.B.as(r.IP.Configuration).registerConfiguration(d)},4141:(e,t,i)=>{"use strict";i.d(t,{$J:()=>E,Av:()=>T,BH:()=>F,Bb:()=>c,Bc:()=>O,LJ:()=>h,NY:()=>S,O7:()=>v,Zc:()=>b,d2:()=>x,gk:()=>N,hL:()=>P,n0:()=>I,qt:()=>M,rk:()=>g,y0:()=>d});var n=i(3580),o=i(1432),s=i(270),r=i(9488),a=i(6248),l=i(2075);const d=8;class c{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class h{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class u{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}applyUpdate(e,t){return p(e,t)}compute(e,t,i){return i}}class g{constructor(e,t){this.newValue=e,this.didChange=t}}function p(e,t){if("object"!=typeof e||"object"!=typeof t||!e||!t)return new g(t,e!==t);if(Array.isArray(e)||Array.isArray(t)){const i=Array.isArray(e)&&Array.isArray(t)&&r.fS(e,t);return new g(t,!i)}let i=!1;for(const n in t)if(t.hasOwnProperty(n)){const o=p(e[n],t[n]);o.didChange&&(e[n]=o.newValue,i=!0)}return new g(e,i)}class m{constructor(e){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0}applyUpdate(e,t){return p(e,t)}validate(e){return this.defaultValue}}class f{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}applyUpdate(e,t){return p(e,t)}validate(e){return void 0===e?this.defaultValue:e}compute(e,t,i){return i}}function v(e,t){return void 0===e?t:"false"!==e&&Boolean(e)}class _ extends f{constructor(e,t,i,n){void 0!==n&&(n.type="boolean",n.default=i),super(e,t,i,n)}validate(e){return v(e,this.defaultValue)}}function b(e,t,i,n){if(void 0===e)return t;let o=parseInt(e,10);return isNaN(o)?t:(o=Math.max(i,o),o=Math.min(n,o),0|o)}class C extends f{constructor(e,t,i,n,o,s){void 0!==s&&(s.type="integer",s.default=i,s.minimum=n,s.maximum=o),super(e,t,i,s),this.minimum=n,this.maximum=o}static clampedInt(e,t,i,n){return b(e,t,i,n)}validate(e){return C.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}class y extends f{constructor(e,t,i,n,o){void 0!==o&&(o.type="number",o.default=i),super(e,t,i,o),this.validationFn=n}static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if("number"==typeof e)return e;if(void 0===e)return t;const i=parseFloat(e);return isNaN(i)?t:i}validate(e){return this.validationFn(y.float(e,this.defaultValue))}}class w extends f{static string(e,t){return"string"!=typeof e?t:e}constructor(e,t,i,n){void 0!==n&&(n.type="string",n.default=i),super(e,t,i,n)}validate(e){return w.string(e,this.defaultValue)}}function S(e,t,i){return"string"!=typeof e||-1===i.indexOf(e)?t:e}class k extends f{constructor(e,t,i,n,o){void 0!==o&&(o.type="string",o.enum=n,o.default=i),super(e,t,i,o),this._allowedValues=n}validate(e){return S(e,this.defaultValue,this._allowedValues)}}class L extends u{constructor(e,t,i,n,o,s,r){void 0!==r&&(r.type="string",r.enum=o,r.default=n),super(e,t,i,r),this._allowedValues=o,this._convert=s}validate(e){return"string"!=typeof e||-1===this._allowedValues.indexOf(e)?this.defaultValue:this._convert(e)}}var x;!function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(x||(x={}));class I extends u{constructor(){super(47,"fontLigatures",I.OFF,{anyOf:[{type:"boolean",description:n.NC("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:n.NC("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:n.NC("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return void 0===e?this.defaultValue:"string"==typeof e?"false"===e?I.OFF:"true"===e?I.ON:e:Boolean(e)?I.ON:I.OFF}}I.OFF='"liga" off, "calt" off',I.ON='"liga" on, "calt" on';class D extends u{constructor(){super(49,"fontWeight",P.fontWeight,{anyOf:[{type:"number",minimum:D.MINIMUM_VALUE,maximum:D.MAXIMUM_VALUE,errorMessage:n.NC("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:D.SUGGESTION_VALUES}],default:P.fontWeight,description:n.NC("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return"normal"===e||"bold"===e?e:String(C.clampedInt(e,P.fontWeight,D.MINIMUM_VALUE,D.MAXIMUM_VALUE))}}D.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],D.MINIMUM_VALUE=1,D.MAXIMUM_VALUE=1e3;class N extends m{constructor(){super(133)}compute(e,t,i){return N.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,i=e.scrollBeyondLastLine?t-1:0,n=(e.viewLineCount+i)/(e.pixelRatio*e.height);return{typicalViewportLineCount:t,extraLinesBeyondLastLine:i,desiredRatio:n,minimapLineCount:Math.floor(e.viewLineCount/n)}}static _computeMinimapLayout(e,t){const i=e.outerWidth,n=e.outerHeight,o=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*n),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:n};const s=t.stableMinimapLayoutInput,r=s&&e.outerHeight===s.outerHeight&&e.lineHeight===s.lineHeight&&e.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&e.pixelRatio===s.pixelRatio&&e.scrollBeyondLastLine===s.scrollBeyondLastLine&&e.minimap.enabled===s.minimap.enabled&&e.minimap.side===s.minimap.side&&e.minimap.size===s.minimap.size&&e.minimap.showSlider===s.minimap.showSlider&&e.minimap.renderCharacters===s.minimap.renderCharacters&&e.minimap.maxColumn===s.minimap.maxColumn&&e.minimap.scale===s.minimap.scale&&e.verticalScrollbarWidth===s.verticalScrollbarWidth&&e.isViewportWrapping===s.isViewportWrapping,a=e.lineHeight,l=e.typicalHalfwidthCharacterWidth,c=e.scrollBeyondLastLine,h=e.minimap.renderCharacters;let u=o>=2?Math.round(2*e.minimap.scale):e.minimap.scale;const g=e.minimap.maxColumn,p=e.minimap.size,m=e.minimap.side,f=e.verticalScrollbarWidth,v=e.viewLineCount,_=e.remainingWidth,b=e.isViewportWrapping,C=h?2:3;let y=Math.floor(o*n);const w=y/o;let S=!1,k=!1,L=C*u,x=u/o,I=1;if("fill"===p||"fit"===p){const{typicalViewportLineCount:i,extraLinesBeyondLastLine:s,desiredRatio:l,minimapLineCount:d}=N.computeContainedMinimapLineCount({viewLineCount:v,scrollBeyondLastLine:c,height:n,lineHeight:a,pixelRatio:o});if(v/d>1)S=!0,k=!0,u=1,L=1,x=u/o;else{let n=!1,d=u+1;if("fit"===p){const e=Math.ceil((v+s)*L);b&&r&&_<=t.stableFitRemainingWidth?(n=!0,d=t.stableFitMaxMinimapScale):n=e>y}if("fill"===p||n){S=!0;const n=u;L=Math.min(a*o,Math.max(1,Math.floor(1/l))),b&&r&&_<=t.stableFitRemainingWidth&&(d=t.stableFitMaxMinimapScale),u=Math.min(d,Math.max(1,Math.floor(L/C))),u>n&&(I=Math.min(2,u/n)),x=u/o/I,y=Math.ceil(Math.max(i,v+s)*L),b?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=_,t.stableFitMaxMinimapScale=u):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const D=Math.floor(g*x),E=Math.min(D,Math.max(0,Math.floor((_-f-2)*x/(l+x)))+d);let A=Math.floor(o*E);const T=A/o;return A=Math.floor(A*I),{renderMinimap:h?1:2,minimapLeft:"left"===m?0:i-E-f,minimapWidth:E,minimapHeightIsEditorHeight:S,minimapIsSampling:k,minimapScale:u,minimapLineHeight:L,minimapCanvasInnerWidth:A,minimapCanvasInnerHeight:y,minimapCanvasOuterWidth:T,minimapCanvasOuterHeight:w}}static computeLayout(e,t){const i=0|t.outerWidth,n=0|t.outerHeight,o=0|t.lineHeight,s=0|t.lineNumbersDigitCount,r=t.typicalHalfwidthCharacterWidth,a=t.maxDigitWidth,l=t.pixelRatio,d=t.viewLineCount,c=e.get(125),u="inherit"===c?e.get(124):c,g="inherit"===u?e.get(120):u,p=e.get(123),m=e.get(2),f=t.isDominatedByLongLines,v=e.get(52),_=0!==e.get(62).renderType,b=e.get(63),y=e.get(96),w=e.get(67),S=e.get(94),k=S.verticalScrollbarSize,L=S.verticalHasArrows,x=S.arrowSize,I=S.horizontalScrollbarSize,D=e.get(60),E=e.get(39),A="never"!==e.get(101);let T;if("string"==typeof D&&/^\d+(\.\d+)?ch$/.test(D)){const e=parseFloat(D.substr(0,D.length-2));T=C.clampedInt(e*r,0,0,1e3)}else T=C.clampedInt(D,0,0,1e3);E&&A&&(T+=16);let M=0;if(_){const e=Math.max(s,b);M=Math.round(e*a)}let R=0;v&&(R=o);let P=0,O=P+R,V=O+M,F=V+T;const W=i-R-M-T;let z=!1,B=!1,U=-1;2!==m&&("inherit"===u&&f?(z=!0,B=!0):"on"===g||"bounded"===g?B=!0:"wordWrapColumn"===g&&(U=p));const H=N._computeMinimapLayout({outerWidth:i,outerHeight:n,lineHeight:o,typicalHalfwidthCharacterWidth:r,pixelRatio:l,scrollBeyondLastLine:y,minimap:w,verticalScrollbarWidth:k,viewLineCount:d,remainingWidth:W,isViewportWrapping:B},t.memory||new h);0!==H.renderMinimap&&0===H.minimapLeft&&(P+=H.minimapWidth,O+=H.minimapWidth,V+=H.minimapWidth,F+=H.minimapWidth);const G=W-H.minimapWidth,j=Math.max(1,Math.floor((G-k-2)/r)),K=L?x:0;return B&&(U=Math.max(1,j),"bounded"===g&&(U=Math.min(U,p))),{width:i,height:n,glyphMarginLeft:P,glyphMarginWidth:R,lineNumbersLeft:O,lineNumbersWidth:M,decorationsLeft:V,decorationsWidth:T,contentLeft:F,contentWidth:G,minimap:H,viewportColumn:j,isWordWrapMinified:z,isViewportWrapping:B,wrappingColumn:U,verticalScrollbarWidth:k,horizontalScrollbarHeight:I,overviewRuler:{top:K,width:k,height:n-2*K,right:0}}}}function E(e){const t=e.get(89);return"editable"===t?e.get(83):"on"!==t}function A(e,t){if("string"!=typeof e)return t;switch(e){case"hidden":return 2;case"visible":return 3;default:return 1}}const T="inUntrustedWorkspace",M={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};function R(e,t,i){const n=i.indexOf(e);return-1===n?t:i[n]}const P={fontFamily:o.dz?"Menlo, Monaco, 'Courier New', monospace":o.IJ?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:o.dz?12:14,lineHeight:0,letterSpacing:0},O=[];function V(e){return O[e.id]=e,e}const F={acceptSuggestionOnCommitCharacter:V(new _(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:n.NC("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`; `) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:V(new k(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",n.NC("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:n.NC("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:V(new class extends u{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[n.NC("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),n.NC("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),n.NC("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:n.NC("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return 0===i?e.accessibilitySupport:i}}),accessibilityPageSize:V(new C(3,"accessibilityPageSize",10,1,1073741824,{description:n.NC("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:V(new w(4,"ariaLabel",n.NC("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:V(new k(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",n.NC("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),n.NC("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:n.NC("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:V(new k(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",n.NC("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:n.NC("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:V(new k(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",n.NC("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:n.NC("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:V(new k(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",n.NC("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),n.NC("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:n.NC("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:V(new L(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],(function(e){switch(e){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}),{enumDescriptions:[n.NC("editor.autoIndent.none","The editor will not insert indentation automatically."),n.NC("editor.autoIndent.keep","The editor will keep the current line's indentation."),n.NC("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),n.NC("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),n.NC("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:n.NC("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:V(new _(10,"automaticLayout",!1)),autoSurround:V(new k(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[n.NC("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),n.NC("editor.autoSurround.quotes","Surround with quotes but not brackets."),n.NC("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:n.NC("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:V(new class extends u{constructor(){const e={enabled:l.D.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:l.D.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,markdownDescription:n.NC("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:e.independentColorPoolPerBracketType,description:n.NC("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:v(t.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:v(t.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}),bracketPairGuides:V(new class extends u{constructor(){const e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[n.NC("editor.guides.bracketPairs.true","Enables bracket pair guides."),n.NC("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),n.NC("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:n.NC("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[n.NC("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),n.NC("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),n.NC("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:n.NC("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:n.NC("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:n.NC("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[n.NC("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),n.NC("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),n.NC("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:e.highlightActiveIndentation,description:n.NC("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{bracketPairs:R(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:R(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:v(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:v(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:R(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}),stickyTabStops:V(new _(106,"stickyTabStops",!1,{description:n.NC("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:V(new _(14,"codeLens",!0,{description:n.NC("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:V(new w(15,"codeLensFontFamily","",{description:n.NC("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:V(new C(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:n.NC("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:V(new _(17,"colorDecorators",!0,{description:n.NC("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:V(new _(18,"columnSelection",!1,{description:n.NC("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:V(new class extends u{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:n.NC("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:n.NC("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertSpace:v(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:v(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:V(new _(20,"contextmenu",!0)),copyWithSyntaxHighlighting:V(new _(21,"copyWithSyntaxHighlighting",!0,{description:n.NC("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:V(new L(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],(function(e){switch(e){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}),{description:n.NC("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:V(new _(23,"cursorSmoothCaretAnimation",!1,{description:n.NC("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:V(new L(24,"cursorStyle",x.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],(function(e){switch(e){case"line":return x.Line;case"block":return x.Block;case"underline":return x.Underline;case"line-thin":return x.LineThin;case"block-outline":return x.BlockOutline;case"underline-thin":return x.UnderlineThin}}),{description:n.NC("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:V(new C(25,"cursorSurroundingLines",0,0,1073741824,{description:n.NC("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:V(new k(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[n.NC("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),n.NC("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:n.NC("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:V(new C(27,"cursorWidth",0,0,1073741824,{markdownDescription:n.NC("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:V(new _(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:V(new _(29,"disableMonospaceOptimizations",!1)),domReadOnly:V(new _(30,"domReadOnly",!1)),dragAndDrop:V(new _(31,"dragAndDrop",!0,{description:n.NC("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:V(new class extends _{constructor(){super(33,"emptySelectionClipboard",!0,{description:n.NC("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}),dropIntoEditor:V(new class extends u{constructor(){const e={enabled:!0};super(32,"dropIntoEditor",e,{"editor.dropIntoEditor.enabled":{type:"boolean",default:e.enabled,markdownDescription:n.NC("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")}})}validate(e){return e&&"object"==typeof e?{enabled:v(e.enabled,this.defaultValue.enabled)}:this.defaultValue}}),experimental:V(new class extends u{constructor(){const e={stickyScroll:{enabled:!1}};super(34,"experimental",e,{"editor.experimental.stickyScroll.enabled":{type:"boolean",default:e.stickyScroll.enabled,description:n.NC("editor.experimental.stickyScroll","Shows the nested current scopes during the scroll at the top of the editor.")}})}validate(e){var t;return e&&"object"==typeof e?{stickyScroll:{enabled:v(null===(t=e.stickyScroll)||void 0===t?void 0:t.enabled,this.defaultValue.stickyScroll.enabled)}}:this.defaultValue}}),extraEditorClassName:V(new w(35,"extraEditorClassName","")),fastScrollSensitivity:V(new y(36,"fastScrollSensitivity",5,(e=>e<=0?5:e),{markdownDescription:n.NC("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:V(new class extends u{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(37,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:n.NC("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[n.NC("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),n.NC("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),n.NC("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:n.NC("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[n.NC("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),n.NC("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),n.NC("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:n.NC("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:n.NC("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:o.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:n.NC("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:n.NC("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{cursorMoveOnType:v(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof e.seedSearchStringFromSelection?e.seedSearchStringFromSelection?"always":"never":S(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof e.autoFindInSelection?e.autoFindInSelection?"always":"never":S(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:v(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:v(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:v(t.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:V(new _(38,"fixedOverflowWidgets",!1)),folding:V(new _(39,"folding",!0,{description:n.NC("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:V(new k(40,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[n.NC("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),n.NC("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:n.NC("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:V(new _(41,"foldingHighlight",!0,{description:n.NC("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:V(new _(42,"foldingImportsByDefault",!1,{description:n.NC("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:V(new C(43,"foldingMaximumRegions",5e3,10,65e3,{description:n.NC("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:V(new _(44,"unfoldOnClickAfterEndOfLine",!1,{description:n.NC("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:V(new w(45,"fontFamily",P.fontFamily,{description:n.NC("fontFamily","Controls the font family.")})),fontInfo:V(new class extends m{constructor(){super(46)}compute(e,t,i){return e.fontInfo}}),fontLigatures2:V(new I),fontSize:V(new class extends f{constructor(){super(48,"fontSize",P.fontSize,{type:"number",minimum:6,maximum:100,default:P.fontSize,description:n.NC("fontSize","Controls the font size in pixels.")})}validate(e){const t=y.float(e,this.defaultValue);return 0===t?P.fontSize:y.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}),fontWeight:V(new D),formatOnPaste:V(new _(50,"formatOnPaste",!1,{description:n.NC("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:V(new _(51,"formatOnType",!1,{description:n.NC("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:V(new _(52,"glyphMargin",!0,{description:n.NC("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:V(new class extends u{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[n.NC("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),n.NC("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),n.NC("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(53,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:n.NC("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:n.NC("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:n.NC("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:n.NC("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:n.NC("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:n.NC("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:n.NC("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:n.NC("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:n.NC("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:n.NC("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:n.NC("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,i,n,o,s;if(!e||"object"!=typeof e)return this.defaultValue;const r=e;return{multiple:S(r.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(t=r.multipleDefinitions)&&void 0!==t?t:S(r.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(i=r.multipleTypeDefinitions)&&void 0!==i?i:S(r.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(n=r.multipleDeclarations)&&void 0!==n?n:S(r.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(o=r.multipleImplementations)&&void 0!==o?o:S(r.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(s=r.multipleReferences)&&void 0!==s?s:S(r.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:w.string(r.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:w.string(r.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:w.string(r.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:w.string(r.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:w.string(r.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:V(new _(54,"hideCursorInOverviewRuler",!1,{description:n.NC("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:V(new class extends u{constructor(){const e={enabled:!0,delay:300,sticky:!0,above:!0};super(55,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:n.NC("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,minimum:0,maximum:1e4,description:n.NC("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:n.NC("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:e.above,description:n.NC("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:v(t.enabled,this.defaultValue.enabled),delay:C.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:v(t.sticky,this.defaultValue.sticky),above:v(t.above,this.defaultValue.above)}}}),inDiffEditor:V(new _(56,"inDiffEditor",!1)),letterSpacing:V(new y(58,"letterSpacing",P.letterSpacing,(e=>y.clamp(e,-5,20)),{description:n.NC("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:V(new class extends u{constructor(){const e={enabled:!0};super(59,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:n.NC("codeActions","Enables the code action lightbulb in the editor.")}})}validate(e){return e&&"object"==typeof e?{enabled:v(e.enabled,this.defaultValue.enabled)}:this.defaultValue}}),lineDecorationsWidth:V(new f(60,"lineDecorationsWidth",10)),lineHeight:V(new class extends y{constructor(){super(61,"lineHeight",P.lineHeight,(e=>y.clamp(e,0,150)),{markdownDescription:n.NC("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(e,t,i){return e.fontInfo.lineHeight}}),lineNumbers:V(new class extends u{constructor(){super(62,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[n.NC("lineNumbers.off","Line numbers are not rendered."),n.NC("lineNumbers.on","Line numbers are rendered as absolute number."),n.NC("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),n.NC("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:n.NC("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return void 0!==e&&("function"==typeof e?(t=4,i=e):t="interval"===e?3:"relative"===e?2:"on"===e?1:0),{renderType:t,renderFn:i}}}),lineNumbersMinChars:V(new C(63,"lineNumbersMinChars",5,1,300)),linkedEditing:V(new _(64,"linkedEditing",!1,{description:n.NC("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:V(new _(65,"links",!0,{description:n.NC("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:V(new k(66,"matchBrackets","always",["always","near","never"],{description:n.NC("matchBrackets","Highlight matching brackets.")})),minimap:V(new class extends u{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(67,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:n.NC("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:e.autohide,description:n.NC("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[n.NC("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),n.NC("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),n.NC("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:n.NC("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:n.NC("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:n.NC("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:n.NC("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:n.NC("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:n.NC("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:v(t.enabled,this.defaultValue.enabled),autohide:v(t.autohide,this.defaultValue.autohide),size:S(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:S(t.side,this.defaultValue.side,["right","left"]),showSlider:S(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:v(t.renderCharacters,this.defaultValue.renderCharacters),scale:C.clampedInt(t.scale,1,1,3),maxColumn:C.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:V(new k(68,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:V(new y(69,"mouseWheelScrollSensitivity",1,(e=>0===e?1:e),{markdownDescription:n.NC("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:V(new _(70,"mouseWheelZoom",!1,{markdownDescription:n.NC("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:V(new _(71,"multiCursorMergeOverlapping",!0,{description:n.NC("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:V(new L(72,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],(function(e){return"ctrlCmd"===e?o.dz?"metaKey":"ctrlKey":"altKey"}),{markdownEnumDescriptions:[n.NC("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),n.NC("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:n.NC({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:V(new k(73,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[n.NC("multiCursorPaste.spread","Each cursor pastes a single line of the text."),n.NC("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:n.NC("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:V(new _(74,"occurrencesHighlight",!0,{description:n.NC("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:V(new _(75,"overviewRulerBorder",!0,{description:n.NC("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:V(new C(76,"overviewRulerLanes",3,0,3)),padding:V(new class extends u{constructor(){super(77,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:n.NC("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:n.NC("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{top:C.clampedInt(t.top,0,0,1e3),bottom:C.clampedInt(t.bottom,0,0,1e3)}}}),parameterHints:V(new class extends u{constructor(){const e={enabled:!0,cycle:!1};super(78,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:n.NC("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:n.NC("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:v(t.enabled,this.defaultValue.enabled),cycle:v(t.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:V(new k(79,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[n.NC("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),n.NC("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:n.NC("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:V(new _(80,"definitionLinkOpensInPeek",!1,{description:n.NC("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:V(new class extends u{constructor(){const e={other:"on",comments:"off",strings:"off"},t=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[n.NC("on","Quick suggestions show inside the suggest widget"),n.NC("inline","Quick suggestions show as ghost text"),n.NC("off","Quick suggestions are disabled")]}];super(81,"quickSuggestions",e,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:t,default:e.strings,description:n.NC("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:t,default:e.comments,description:n.NC("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:t,default:e.other,description:n.NC("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:e,markdownDescription:n.NC("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=e}validate(e){if("boolean"==typeof e){const t=e?"on":"off";return{comments:t,strings:t,other:t}}if(!e||"object"!=typeof e)return this.defaultValue;const{other:t,comments:i,strings:n}=e,o=["on","inline","off"];let s,r,a;return s="boolean"==typeof t?t?"on":"off":S(t,this.defaultValue.other,o),r="boolean"==typeof i?i?"on":"off":S(i,this.defaultValue.comments,o),a="boolean"==typeof n?n?"on":"off":S(n,this.defaultValue.strings,o),{other:s,comments:r,strings:a}}}),quickSuggestionsDelay:V(new C(82,"quickSuggestionsDelay",10,0,1073741824,{description:n.NC("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:V(new _(83,"readOnly",!1)),renameOnType:V(new _(84,"renameOnType",!1,{description:n.NC("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:n.NC("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:V(new _(85,"renderControlCharacters",!0,{description:n.NC("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:V(new _(86,"renderFinalNewline",!0,{description:n.NC("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:V(new k(87,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",n.NC("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:n.NC("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:V(new _(88,"renderLineHighlightOnlyWhenFocus",!1,{description:n.NC("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:V(new k(89,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:V(new k(90,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",n.NC("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),n.NC("renderWhitespace.selection","Render whitespace characters only on selected text."),n.NC("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:n.NC("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:V(new C(91,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:V(new _(92,"roundedSelection",!0,{description:n.NC("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:V(new class extends u{constructor(){const e=[],t={type:"number",description:n.NC("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(93,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:n.NC("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:n.NC("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){const t=[];for(const i of e)if("number"==typeof i)t.push({column:C.clampedInt(i,0,0,1e4),color:null});else if(i&&"object"==typeof i){const e=i;t.push({column:C.clampedInt(e.column,0,0,1e4),color:e.color})}return t.sort(((e,t)=>e.column-t.column)),t}return this.defaultValue}}),scrollbar:V(new class extends u{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(94,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[n.NC("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),n.NC("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),n.NC("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:n.NC("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[n.NC("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),n.NC("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),n.NC("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:n.NC("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:n.NC("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:n.NC("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:n.NC("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e,i=C.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),n=C.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:C.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:A(t.vertical,this.defaultValue.vertical),horizontal:A(t.horizontal,this.defaultValue.horizontal),useShadows:v(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:v(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:v(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:v(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:v(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:C.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:n,verticalSliderSize:C.clampedInt(t.verticalSliderSize,n,0,1e3),scrollByPage:v(t.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:V(new C(95,"scrollBeyondLastColumn",4,0,1073741824,{description:n.NC("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:V(new _(96,"scrollBeyondLastLine",!0,{description:n.NC("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:V(new _(97,"scrollPredominantAxis",!0,{description:n.NC("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:V(new _(98,"selectionClipboard",!0,{description:n.NC("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:o.IJ})),selectionHighlight:V(new _(99,"selectionHighlight",!0,{description:n.NC("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:V(new _(100,"selectOnLineNumbers",!0)),showFoldingControls:V(new k(101,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[n.NC("showFoldingControls.always","Always show the folding controls."),n.NC("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),n.NC("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:n.NC("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:V(new _(102,"showUnused",!0,{description:n.NC("showUnused","Controls fading out of unused code.")})),showDeprecated:V(new _(128,"showDeprecated",!0,{description:n.NC("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:V(new class extends u{constructor(){const e={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(129,"inlayHints",e,{"editor.inlayHints.enabled":{type:"string",default:e.enabled,description:n.NC("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[n.NC("editor.inlayHints.on","Inlay hints are enabled"),n.NC("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding `Ctrl+Alt`"),n.NC("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding `Ctrl+Alt`"),n.NC("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:n.NC("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:n.NC("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:e.padding,description:n.NC("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return"boolean"==typeof t.enabled&&(t.enabled=t.enabled?"on":"off"),{enabled:S(t.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:C.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:w.string(t.fontFamily,this.defaultValue.fontFamily),padding:v(t.padding,this.defaultValue.padding)}}}),snippetSuggestions:V(new k(103,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[n.NC("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),n.NC("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),n.NC("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),n.NC("snippetSuggestions.none","Do not show snippet suggestions.")],description:n.NC("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:V(new class extends u{constructor(){super(104,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:n.NC("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(e){return e&&"object"==typeof e?{selectLeadingAndTrailingWhitespace:v(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:V(new _(105,"smoothScrolling",!1,{description:n.NC("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:V(new C(107,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:V(new class extends u{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(108,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[n.NC("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),n.NC("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:n.NC("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:n.NC("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:n.NC("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:n.NC("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:n.NC("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:n.NC("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:n.NC("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:n.NC("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:n.NC("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:n.NC("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:n.NC("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:n.NC("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertMode:S(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:v(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:v(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:v(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:v(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:v(t.showIcons,this.defaultValue.showIcons),showStatusBar:v(t.showStatusBar,this.defaultValue.showStatusBar),preview:v(t.preview,this.defaultValue.preview),previewMode:S(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:v(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:v(t.showMethods,this.defaultValue.showMethods),showFunctions:v(t.showFunctions,this.defaultValue.showFunctions),showConstructors:v(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:v(t.showDeprecated,this.defaultValue.showDeprecated),showFields:v(t.showFields,this.defaultValue.showFields),showVariables:v(t.showVariables,this.defaultValue.showVariables),showClasses:v(t.showClasses,this.defaultValue.showClasses),showStructs:v(t.showStructs,this.defaultValue.showStructs),showInterfaces:v(t.showInterfaces,this.defaultValue.showInterfaces),showModules:v(t.showModules,this.defaultValue.showModules),showProperties:v(t.showProperties,this.defaultValue.showProperties),showEvents:v(t.showEvents,this.defaultValue.showEvents),showOperators:v(t.showOperators,this.defaultValue.showOperators),showUnits:v(t.showUnits,this.defaultValue.showUnits),showValues:v(t.showValues,this.defaultValue.showValues),showConstants:v(t.showConstants,this.defaultValue.showConstants),showEnums:v(t.showEnums,this.defaultValue.showEnums),showEnumMembers:v(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:v(t.showKeywords,this.defaultValue.showKeywords),showWords:v(t.showWords,this.defaultValue.showWords),showColors:v(t.showColors,this.defaultValue.showColors),showFiles:v(t.showFiles,this.defaultValue.showFiles),showReferences:v(t.showReferences,this.defaultValue.showReferences),showFolders:v(t.showFolders,this.defaultValue.showFolders),showTypeParameters:v(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:v(t.showSnippets,this.defaultValue.showSnippets),showUsers:v(t.showUsers,this.defaultValue.showUsers),showIssues:v(t.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:V(new class extends u{constructor(){const e={enabled:!0,mode:"subwordSmart"};super(57,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:n.NC("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:v(t.enabled,this.defaultValue.enabled),mode:S(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}),suggestFontSize:V(new C(109,"suggestFontSize",0,0,1e3,{markdownDescription:n.NC("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:V(new C(110,"suggestLineHeight",0,0,1e3,{markdownDescription:n.NC("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:V(new _(111,"suggestOnTriggerCharacters",!0,{description:n.NC("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:V(new k(112,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[n.NC("suggestSelection.first","Always select the first suggestion."),n.NC("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),n.NC("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:n.NC("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:V(new k(113,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[n.NC("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),n.NC("tabCompletion.off","Disable tab completions."),n.NC("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:n.NC("tabCompletion","Enables tab completions.")})),tabIndex:V(new C(114,"tabIndex",0,-1,1073741824)),unicodeHighlight:V(new class extends u{constructor(){const e={nonBasicASCII:T,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:T,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(115,"unicodeHighlight",e,{[M.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,T],default:e.nonBasicASCII,description:n.NC("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[M.invisibleCharacters]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:n.NC("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[M.ambiguousCharacters]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:n.NC("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[M.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,T],default:e.includeComments,description:n.NC("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[M.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,T],default:e.includeStrings,description:n.NC("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[M.allowedCharacters]:{restricted:!0,type:"object",default:e.allowedCharacters,description:n.NC("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[M.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:e.allowedLocales,description:n.NC("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(e,t){let i=!1;t.allowedCharacters&&e&&(a.fS(e.allowedCharacters,t.allowedCharacters)||(e=Object.assign(Object.assign({},e),{allowedCharacters:t.allowedCharacters}),i=!0)),t.allowedLocales&&e&&(a.fS(e.allowedLocales,t.allowedLocales)||(e=Object.assign(Object.assign({},e),{allowedLocales:t.allowedLocales}),i=!0));const n=super.applyUpdate(e,t);return i?new g(n.newValue,!0):n}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{nonBasicASCII:R(t.nonBasicASCII,T,[!0,!1,T]),invisibleCharacters:v(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:v(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:R(t.includeComments,T,[!0,!1,T]),includeStrings:R(t.includeStrings,T,[!0,!1,T]),allowedCharacters:this.validateBooleanMap(e.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(e.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(e,t){if("object"!=typeof e||!e)return t;const i={};for(const[t,n]of Object.entries(e))!0===n&&(i[t]=!0);return i}}),unusualLineTerminators:V(new k(116,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[n.NC("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),n.NC("unusualLineTerminators.off","Unusual line terminators are ignored."),n.NC("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:n.NC("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:V(new _(117,"useShadowDOM",!0)),useTabStops:V(new _(118,"useTabStops",!0,{description:n.NC("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:V(new w(119,"wordSeparators",s.vu,{description:n.NC("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:V(new k(120,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[n.NC("wordWrap.off","Lines will never wrap."),n.NC("wordWrap.on","Lines will wrap at the viewport width."),n.NC({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),n.NC({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:n.NC({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:V(new w(121,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;")),wordWrapBreakBeforeCharacters:V(new w(122,"wordWrapBreakBeforeCharacters","([{+")),wordWrapColumn:V(new C(123,"wordWrapColumn",80,1,1073741824,{markdownDescription:n.NC({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:V(new k(124,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:V(new k(125,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:V(new L(126,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],(function(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}),{enumDescriptions:[n.NC("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),n.NC("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),n.NC("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),n.NC("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:n.NC("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:V(new k(127,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[n.NC("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),n.NC("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:n.NC("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:V(new class extends m{constructor(){super(130)}compute(e,t,i){const n=["monaco-editor"];return t.get(35)&&n.push(t.get(35)),e.extraEditorClassName&&n.push(e.extraEditorClassName),"default"===t.get(68)?n.push("mouse-default"):"copy"===t.get(68)&&n.push("mouse-copy"),t.get(102)&&n.push("showUnused"),t.get(128)&&n.push("showDeprecated"),n.join(" ")}}),pixelRatio:V(new class extends m{constructor(){super(131)}compute(e,t,i){return e.pixelRatio}}),tabFocusMode:V(new class extends m{constructor(){super(132)}compute(e,t,i){return!!t.get(83)||e.tabFocusMode}}),layoutInfo:V(new N),wrappingInfo:V(new class extends m{constructor(){super(134)}compute(e,t,i){const n=t.get(133);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:n.isWordWrapMinified,isViewportWrapping:n.isViewportWrapping,wrappingColumn:n.wrappingColumn}}})}},2334:(e,t,i)=>{"use strict";i.d(t,{C:()=>o});var n=i(4669);const o=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new n.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(e){e=Math.min(Math.max(-5,e),20),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},7374:(e,t,i)=>{"use strict";i.d(t,{E4:()=>a,pR:()=>l});var n=i(1432),o=i(4141),s=i(2334);const r=n.dz?1.5:1.35;class a{constructor(e){this._bareFontInfoBrand=void 0,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=0|e.lineHeight,this.letterSpacing=e.letterSpacing}static createFromValidatedSettings(e,t,i){const n=e.get(45),o=e.get(49),s=e.get(48),r=e.get(47),l=e.get(61),d=e.get(58);return a._create(n,o,s,r,l,d,t,i)}static _create(e,t,i,n,o,l,d,c){0===o?o=r*i:o<8&&(o*=i),(o=Math.round(o))<8&&(o=8);const h=1+(c?0:.1*s.C.getZoomLevel());return new a({pixelRatio:d,fontFamily:e,fontWeight:t,fontSize:i*=h,fontFeatureSettings:n,lineHeight:o*=h,letterSpacing:l})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const e=o.hL.fontFamily,t=a._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}}class l extends a{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=1,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}},4906:(e,t,i)=>{"use strict";i.d(t,{N:()=>o,q:()=>s});var n=i(5427);class o{constructor(e){const t=(0,n.K)(e);this._defaultValue=t,this._asciiMap=o._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){const t=new Uint8Array(256);for(let i=0;i<256;i++)t[i]=e;return t}set(e,t){const i=(0,n.K)(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}}class s{constructor(){this._actual=new o(0)}add(e){this._actual.set(e,1)}has(e){return 1===this._actual.get(e)}}},7988:(e,t,i)=>{"use strict";i.d(t,{i:()=>o});var n=i(7295);class o{static _nextVisibleColumn(e,t,i){return 9===e?o.nextRenderTabStop(t,i):n.K7(e)||n.C8(e)?t+2:t+1}static visibleColumnFromColumn(e,t,i){const o=Math.min(t-1,e.length),s=e.substring(0,o),r=new n.W1(s);let a=0;for(;!r.eol();){const e=n.ZH(s,o,r.offset);r.nextGraphemeLength(),a=this._nextVisibleColumn(e,a,i)}return a}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const o=e.length,s=new n.W1(e);let r=0,a=1;for(;!s.eol();){const l=n.ZH(e,o,s.offset);s.nextGraphemeLength();const d=this._nextVisibleColumn(l,r,i),c=s.offset+1;if(d>=t)return d-t<t-r?c:a;r=d,a=c}return o+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}},9386:(e,t,i)=>{"use strict";i.d(t,{h:()=>o});var n=i(4314);class o{static insert(e,t){return{range:new n.e(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}},8625:(e,t,i)=>{"use strict";i.d(t,{CE:()=>z,DD:()=>y,DS:()=>$,Dl:()=>k,HV:()=>te,IO:()=>T,Jn:()=>Y,Kh:()=>l,L7:()=>ee,Mm:()=>d,N5:()=>A,Qb:()=>Z,Re:()=>O,TC:()=>S,To:()=>X,UP:()=>B,Vs:()=>W,YF:()=>Q,Ym:()=>_,eS:()=>V,e_:()=>x,f9:()=>ie,fY:()=>m,hw:()=>b,kp:()=>D,lK:()=>P,lS:()=>q,m$:()=>K,m1:()=>H,m3:()=>J,m9:()=>R,n0:()=>p,oV:()=>j,r0:()=>U,tR:()=>v,ts:()=>G,x3:()=>E,zJ:()=>F,zk:()=>w,zu:()=>N,zw:()=>L});var n=i(3580),o=i(1264),s=i(3910),r=i(7781),a=i(2321);const l=(0,s.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},n.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),d=(0,s.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:s.lRK},n.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),c=(0,s.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},n.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),h=(0,s.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:s.xL1,hcLight:s.xL1},n.NC("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),u=(0,s.P6G)("editor.symbolHighlightBackground",{dark:s.MUv,light:s.MUv,hcDark:null,hcLight:null},n.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),g=(0,s.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:s.xL1,hcLight:s.xL1},n.NC("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),p=(0,s.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:o.Il.black,hcDark:o.Il.white,hcLight:"#0F4A85"},n.NC("caret","Color of the editor cursor.")),m=(0,s.P6G)("editorCursor.background",null,n.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),f=(0,s.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},n.NC("editorWhitespaces","Color of whitespace characters in the editor.")),v=(0,s.P6G)("editorIndentGuide.background",{dark:f,light:f,hcDark:f,hcLight:f},n.NC("editorIndentGuides","Color of the editor indentation guides.")),_=(0,s.P6G)("editorIndentGuide.activeBackground",{dark:f,light:f,hcDark:f,hcLight:f},n.NC("editorActiveIndentGuide","Color of the active editor indentation guides.")),b=(0,s.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:o.Il.white,hcLight:"#292929"},n.NC("editorLineNumbers","Color of editor line numbers.")),C=(0,s.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:s.xL1,hcLight:s.xL1},n.NC("editorActiveLineNumber","Color of editor active line number"),!1,n.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),y=(0,s.P6G)("editorLineNumber.activeForeground",{dark:C,light:C,hcDark:C,hcLight:C},n.NC("editorActiveLineNumber","Color of editor active line number")),w=(0,s.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:o.Il.lightgrey,hcDark:o.Il.white,hcLight:"#292929"},n.NC("editorRuler","Color of the editor rulers.")),S=((0,s.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},n.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),(0,s.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},n.NC("editorBracketMatchBackground","Background color behind matching brackets"))),k=(0,s.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:s.lRK,hcLight:s.lRK},n.NC("editorBracketMatchBorder","Color for matching brackets boxes")),L=(0,s.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},n.NC("editorOverviewRulerBorder","Color of the overview ruler border.")),x=(0,s.P6G)("editorOverviewRuler.background",null,n.NC("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),I=(0,s.P6G)("editorGutter.background",{dark:s.cvW,light:s.cvW,hcDark:s.cvW,hcLight:s.cvW},n.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),D=(0,s.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:o.Il.fromHex("#fff").transparent(.8),hcLight:s.lRK},n.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),N=(0,s.P6G)("editorUnnecessaryCode.opacity",{dark:o.Il.fromHex("#000a"),light:o.Il.fromHex("#0007"),hcDark:null,hcLight:null},n.NC("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),E=(0,s.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:o.Il.fromHex("#fff").transparent(.8),hcLight:o.Il.fromHex("#292929").transparent(.8)},n.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),A=(0,s.P6G)("editorGhostText.foreground",{dark:o.Il.fromHex("#ffffff56"),light:o.Il.fromHex("#0007"),hcDark:null,hcLight:null},n.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),T=(0,s.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},n.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),M=new o.Il(new o.VS(0,122,204,.6)),R=(0,s.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:M,light:M,hcDark:M,hcLight:M},n.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),P=(0,s.P6G)("editorOverviewRuler.errorForeground",{dark:new o.Il(new o.VS(255,18,18,.7)),light:new o.Il(new o.VS(255,18,18,.7)),hcDark:new o.Il(new o.VS(255,50,50,1)),hcLight:"#B5200D"},n.NC("overviewRuleError","Overview ruler marker color for errors.")),O=(0,s.P6G)("editorOverviewRuler.warningForeground",{dark:s.uoC,light:s.uoC,hcDark:s.pW3,hcLight:s.pW3},n.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),V=(0,s.P6G)("editorOverviewRuler.infoForeground",{dark:s.c63,light:s.c63,hcDark:s.T83,hcLight:s.T83},n.NC("overviewRuleInfo","Overview ruler marker color for infos.")),F=(0,s.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},n.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),W=(0,s.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},n.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),z=(0,s.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},n.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),B=(0,s.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),U=(0,s.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),H=(0,s.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),G=(0,s.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new o.Il(new o.VS(255,18,18,.8)),light:new o.Il(new o.VS(255,18,18,.8)),hcDark:new o.Il(new o.VS(255,50,50,1)),hcLight:""},n.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),j=(0,s.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),K=(0,s.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),$=(0,s.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),q=(0,s.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Y=(0,s.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Q=(0,s.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Z=(0,s.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),J=(0,s.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),X=(0,s.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),ee=(0,s.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),te=(0,s.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),ie=(0,s.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},n.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,s.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:""},n.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),(0,s.P6G)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:""},n.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters.")),(0,r.Ic)(((e,t)=>{const i=e.getColor(s.cvW);i&&t.addRule(`.monaco-editor, .monaco-editor-background { background-color: ${i}; }`);const n=e.getColor(l),o=n&&!n.isTransparent()?n:i;o&&t.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${o}; }`);const r=e.getColor(s.NOs);r&&t.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${r}; }`);const d=e.getColor(I);d&&t.addRule(`.monaco-editor .margin { background-color: ${d}; }`);const p=e.getColor(c);p&&t.addRule(`.monaco-editor .rangeHighlight { background-color: ${p}; }`);const m=e.getColor(h);m&&t.addRule(`.monaco-editor .rangeHighlight { border: 1px ${(0,a.c3)(e.type)?"dotted":"solid"} ${m}; }`);const v=e.getColor(u);v&&t.addRule(`.monaco-editor .symbolHighlight { background-color: ${v}; }`);const _=e.getColor(g);_&&t.addRule(`.monaco-editor .symbolHighlight { border: 1px ${(0,a.c3)(e.type)?"dotted":"solid"} ${_}; }`);const b=e.getColor(f);b&&(t.addRule(`.monaco-editor .mtkw { color: ${b} !important; }`),t.addRule(`.monaco-editor .mtkz { color: ${b} !important; }`))}))},3795:(e,t,i)=>{"use strict";function n(e){let t=0,i=0,n=0,o=0;for(let s=0,r=e.length;s<r;s++){const a=e.charCodeAt(s);13===a?(0===t&&(i=s),t++,s+1<r&&10===e.charCodeAt(s+1)?(o|=2,s++):o|=3,n=s+1):10===a&&(o|=1,0===t&&(i=s),t++,n=s+1)}return 0===t&&(i=e.length),[t,i,e.length-n,o]}i.d(t,{Q:()=>n})},3158:(e,t,i)=>{"use strict";i.d(t,{x:()=>s});var n=i(7295),o=i(7988);function s(e,t,i){let s=n.LC(e);return-1===s&&(s=e.length),function(e,t,i){let n=0;for(let i=0;i<e.length;i++)"\t"===e.charAt(i)?n=o.i.nextIndentTabStop(n,t):n++;let s="";if(!i){const e=Math.floor(n/t);n%=t;for(let t=0;t<e;t++)s+="\t"}for(let e=0;e<n;e++)s+=" ";return s}(e.substring(0,s),t,i)+e.substring(s)}},187:(e,t,i)=>{"use strict";i.d(t,{L:()=>n});class n{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new n(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return n.equals(this,e)}static equals(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return n.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column}isBeforeOrEqual(e){return n.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column}static compare(e,t){const i=0|e.lineNumber,n=0|t.lineNumber;return i===n?(0|e.column)-(0|t.column):i-n}clone(){return new n(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new n(e.lineNumber,e.column)}static isIPosition(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}}},4314:(e,t,i)=>{"use strict";i.d(t,{e:()=>o});var n=i(187);class o{constructor(e,t,i,n){e>i||e===i&&t>n?(this.startLineNumber=i,this.startColumn=n,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=n)}isEmpty(){return o.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return o.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<=e.startColumn||t.lineNumber===e.endLineNumber&&t.column>=e.endColumn)}containsRange(e){return o.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return o.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return o.plusRange(this,e)}static plusRange(e,t){let i,n,s,r;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,n=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,n=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,n=e.startColumn),t.endLineNumber>e.endLineNumber?(s=t.endLineNumber,r=t.endColumn):t.endLineNumber===e.endLineNumber?(s=t.endLineNumber,r=Math.max(t.endColumn,e.endColumn)):(s=e.endLineNumber,r=e.endColumn),new o(i,n,s,r)}intersectRanges(e){return o.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,n=e.startColumn,s=e.endLineNumber,r=e.endColumn;const a=t.startLineNumber,l=t.startColumn,d=t.endLineNumber,c=t.endColumn;return i<a?(i=a,n=l):i===a&&(n=Math.max(n,l)),s>d?(s=d,r=c):s===d&&(r=Math.min(r,c)),i>s||i===s&&n>r?null:new o(i,n,s,r)}equalsRange(e){return o.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return o.getEndPosition(this)}static getEndPosition(e){return new n.L(e.endLineNumber,e.endColumn)}getStartPosition(){return o.getStartPosition(this)}static getStartPosition(e){return new n.L(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new o(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new o(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return o.collapseToStart(this)}static collapseToStart(e){return new o(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new o(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new o(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const i=0|e.startLineNumber,n=0|t.startLineNumber;if(i===n){const i=0|e.startColumn,n=0|t.startColumn;if(i===n){const i=0|e.endLineNumber,n=0|t.endLineNumber;return i===n?(0|e.endColumn)-(0|t.endColumn):i-n}return i-n}return i-n}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}}},3860:(e,t,i)=>{"use strict";i.d(t,{Y:()=>s});var n=i(187),o=i(4314);class s extends o.e{constructor(e,t,i,n){super(e,t,i,n),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=n}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return s.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return 0===this.getDirection()?new s(this.startLineNumber,this.startColumn,e,t):new s(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new n.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new n.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){return 0===this.getDirection()?new s(e,t,this.endLineNumber,this.endColumn):new s(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new s(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){return 0===t?new s(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new s(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}static liftSelection(e){return new s(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn}static createWithDirection(e,t,i,n,o){return 0===o?new s(e,t,i,n):new s(i,n,e,t)}}},72:(e,t,i)=>{"use strict";i.d(t,{kH:()=>g,l$:()=>u,lZ:()=>h,oe:()=>c});var n=i(7295),o=i(1432),s=i(3060);let r,a,l;function d(){return r||(r=new TextDecoder("UTF-16LE")),r}function c(){return l||(l=o.r()?d():(a||(a=new TextDecoder("UTF-16BE")),a)),l}const h="undefined"!=typeof TextDecoder;let u,g;function p(e,t,i){const n=[];let o=0;for(let r=0;r<i;r++){const i=s.mP(e,t);t+=2,n[o++]=String.fromCharCode(i)}return n.join("")}h?(u=e=>new m(e),g=function(e,t,i){const n=new Uint16Array(e.buffer,t,i);return i>0&&(65279===n[0]||65534===n[0])?p(e,t,i):d().decode(n)}):(u=e=>new f,g=p);class m{constructor(e){this._capacity=0|e,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return c().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}write1(e){const t=this._capacity-this._bufferLength;t<=1&&(0===t||n.ZG(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCII(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIIString(e){const t=e.length;if(this._bufferLength+t>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=e);for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}class f{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCII(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCIIString(e){this._pieces[this._piecesLen++]=e}}},3033:(e,t,i)=>{"use strict";i.d(t,{b:()=>a,q:()=>r});var n=i(3060),o=i(72);function s(e){return e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class r{constructor(e,t,i,n){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=n}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${s(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${s(this.oldText)}")`:`(replace@${this.oldPosition} "${s(this.oldText)}" with "${s(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const o=t.length;n.T4(e,o,i),i+=4;for(let s=0;s<o;s++)n.oq(e,t.charCodeAt(s),i),i+=2;return i}static _readString(e,t){const i=n.Ag(e,t);return t+=4,(0,o.kH)(e,t,i)}writeSize(){return 8+r._writeStringSize(this.oldText)+r._writeStringSize(this.newText)}write(e,t){return n.T4(e,this.oldPosition,t),t+=4,n.T4(e,this.newPosition,t),t+=4,t=r._writeString(e,this.oldText,t),r._writeString(e,this.newText,t)}static read(e,t,i){const o=n.Ag(e,t);t+=4;const s=n.Ag(e,t);t+=4;const a=r._readString(e,t);t+=r._writeStringSize(a);const l=r._readString(e,t);return t+=r._writeStringSize(l),i.push(new r(o,a,s,l)),t}}function a(e,t){return null===e||0===e.length?t:new l(e,t).compress()}class l{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),n=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(null===i){this._acceptCurr(n),n=this._getCurr(++t);continue}if(null===n){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldEnd<=i.newPosition){this._acceptCurr(n),n=this._getCurr(++t);continue}if(i.newEnd<=n.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldPosition<i.newPosition){const[e,t]=l._splitCurr(n,i.newPosition-n.oldPosition);this._acceptCurr(e),n=t;continue}if(i.newPosition<n.oldPosition){const[e,t]=l._splitPrev(i,n.oldPosition-i.newPosition);this._acceptPrev(e),i=t;continue}let o,s;if(n.oldEnd===i.newEnd)o=i,s=n,i=this._getPrev(++e),n=this._getCurr(++t);else if(n.oldEnd<i.newEnd){const[e,r]=l._splitPrev(i,n.oldLength);o=e,s=n,i=r,n=this._getCurr(++t)}else{const[t,r]=l._splitCurr(n,i.newLength);o=i,s=t,i=this._getPrev(++e),n=r}this._result[this._resultLen++]=new r(o.oldPosition,o.oldText,s.newPosition,s.newText),this._prevDeltaOffset+=o.newLength-o.oldLength,this._currDeltaOffset+=s.newLength-s.oldLength}const o=l._merge(this._result);return l._removeNoOps(o)}_acceptCurr(e){this._result[this._resultLen++]=l._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=l._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new r(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new r(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),n=e.newText.substr(t);return[new r(e.oldPosition,e.oldText,e.newPosition,i),new r(e.oldEnd,"",e.newPosition+t,n)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),n=e.oldText.substr(t);return[new r(e.oldPosition,i,e.newPosition,e.newText),new r(e.oldPosition+t,n,e.newEnd,"")]}static _merge(e){if(0===e.length)return e;const t=[];let i=0,n=e[0];for(let o=1;o<e.length;o++){const s=e[o];n.oldEnd===s.oldPosition?n=new r(n.oldPosition,n.oldText+s.oldText,n.newPosition,n.newText+s.newText):(t[i++]=n,n=s)}return t[i++]=n,t}static _removeNoOps(e){if(0===e.length)return e;const t=[];let i=0;for(let n=0;n<e.length;n++){const o=e[n];o.oldText!==o.newText&&(t[i++]=o)}return t}}},2075:(e,t,i)=>{"use strict";i.d(t,{D:()=>n});const n={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},4929:(e,t,i)=>{"use strict";i.d(t,{u:()=>s});var n=i(4906);class o extends n.N{constructor(e){super(0);for(let t=0,i=e.length;t<i;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}const s=function(e){const t={};return e=>(t.hasOwnProperty(e)||(t[e]=(e=>new o(e))(e)),t[e])}()},270:(e,t,i)=>{"use strict";i.d(t,{Af:()=>r,eq:()=>a,t2:()=>d,vu:()=>s});var n=i(3725),o=i(1741);const s="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",r=function(e=""){let t="(-?\\d*\\.\\d\\w*)|([^";for(const i of s)e.indexOf(i)>=0||(t+="\\"+i);return t+="\\s]+)",new RegExp(t,"g")}();function a(e){let t=r;if(e&&e instanceof RegExp)if(e.global)t=e;else{let i="g";e.ignoreCase&&(i+="i"),e.multiline&&(i+="m"),e.unicode&&(i+="u"),t=new RegExp(e.source,i)}return t.lastIndex=0,t}const l=new o.S;function d(e,t,i,o,s){if(s||(s=n.$.first(l)),i.length>s.maxLen){let n=e-s.maxLen/2;return n<0?n=0:o+=n,d(e,t,i=i.substring(n,e+s.maxLen/2),o,s)}const r=Date.now(),a=e-1-o;let h=-1,u=null;for(let e=1;!(Date.now()-r>=s.timeBudget);e++){const n=a-s.windowSize*e;t.lastIndex=Math.max(0,n);const o=c(t,i,a,h);if(!o&&u)break;if(u=o,n<=0)break;h=n}if(u){const e={word:u[0],startColumn:o+1+u.index,endColumn:o+1+u.index+u[0].length};return t.lastIndex=0,e}return null}function c(e,t,i,n){let o;for(;o=e.exec(t);){const t=o.index||0;if(t<=i&&e.lastIndex>=i)return o;if(n>0&&t>n)return null}return null}l.unshift({maxLen:1e3,windowSize:15,timeBudget:150})},5343:(e,t,i)=>{"use strict";i.d(t,{LM:()=>u,LN:()=>_,Tp:()=>v,Vi:()=>g,rS:()=>f});var n=i(187),o=i(4314),s=i(3860),r=i(9111),a=i(7988),l=i(3158);const d=()=>!0,c=()=>!1,h=e=>" "===e||"\t"===e;class u{constructor(e,t,i,n){this.languageConfigurationService=n,this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const o=i.options,s=o.get(133);this.readOnly=o.get(83),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=o.get(106),this.lineHeight=o.get(61),this.pageSize=Math.max(1,Math.floor(s.height/this.lineHeight)-2),this.useTabStops=o.get(118),this.wordSeparators=o.get(119),this.emptySelectionClipboard=o.get(33),this.copyWithSyntaxHighlighting=o.get(21),this.multiCursorMergeOverlapping=o.get(71),this.multiCursorPaste=o.get(73),this.autoClosingBrackets=o.get(5),this.autoClosingQuotes=o.get(8),this.autoClosingDelete=o.get(6),this.autoClosingOvertype=o.get(7),this.autoSurround=o.get(11),this.autoIndent=o.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(e,this.autoClosingQuotes),bracket:this._getShouldAutoClose(e,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(e).getAutoClosingPairs();const r=this.languageConfigurationService.getLanguageConfiguration(e).getSurroundingPairs();if(r)for(const e of r)this.surroundingPairs[e.open]=e.close}static shouldRecreate(e){return e.hasChanged(133)||e.hasChanged(119)||e.hasChanged(33)||e.hasChanged(71)||e.hasChanged(73)||e.hasChanged(5)||e.hasChanged(8)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(118)||e.hasChanged(61)||e.hasChanged(83)}get electricChars(){var e;if(!this._electricChars){this._electricChars={};const t=null===(e=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===e?void 0:e.getElectricCharacters();if(t)for(const e of t)this._electricChars[e]=!0}return this._electricChars}onElectricCharacter(e,t,i){const n=(0,r.wH)(t,i-1),o=this.languageConfigurationService.getLanguageConfiguration(n.languageId).electricCharacter;return o?o.onElectricCharacter(e,n,i-n.firstCharOffset):null}normalizeIndentation(e){return(0,l.x)(e,this.indentSize,this.insertSpaces)}_getShouldAutoClose(e,t){switch(t){case"beforeWhitespace":return h;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(e);case"always":return d;case"never":return c}}_getLanguageDefinedShouldAutoClose(e){const t=this.languageConfigurationService.getLanguageConfiguration(e).getAutoCloseBeforeSet();return e=>-1!==t.indexOf(e)}visibleColumnFromColumn(e,t){return a.i.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,this.tabSize)}columnFromVisibleColumn(e,t,i){const n=a.i.columnFromVisibleColumn(e.getLineContent(t),i,this.tabSize),o=e.getLineMinColumn(t);if(n<o)return o;const s=e.getLineMaxColumn(t);return n>s?s:n}}class g{constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}static fromModelState(e){return new p(e)}static fromViewState(e){return new m(e)}static fromModelSelection(e){const t=s.Y.liftSelection(e),i=new f(o.e.fromPositions(t.getSelectionStart()),0,t.getPosition(),0);return g.fromModelState(i)}static fromModelSelections(e){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this.fromModelSelection(e[i]);return t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class p{constructor(e){this.modelState=e,this.viewState=null}}class m{constructor(e){this.modelState=null,this.viewState=e}}class f{constructor(e,t,i,n){this._singleCursorStateBrand=void 0,this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=i,this.leftoverVisibleColumns=n,this.selection=f._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,s){return e?new f(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new n.L(t,i),s):new f(new o.e(t,i,t,i),s,new n.L(t,i),s)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?s.Y.fromPositions(e.getStartPosition(),t):s.Y.fromPositions(e.getEndPosition(),t)}}class v{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}function _(e){return"'"===e||'"'===e||"`"===e}},7128:(e,t,i)=>{"use strict";i.d(t,{l:()=>o});var n=i(7988);class o{static whitespaceVisibleColumn(e,t,i){const o=e.length;let s=0,r=-1,a=-1;for(let l=0;l<o;l++){if(l===t)return[r,a,s];switch(s%i==0&&(r=l,a=s),e.charCodeAt(l)){case 32:s+=1;break;case 9:s=n.i.nextRenderTabStop(s,i);break;default:return[-1,-1,-1]}}return t===o?[r,a,s]:[-1,-1,-1]}static atomicPosition(e,t,i,s){const r=e.length,[a,l,d]=o.whitespaceVisibleColumn(e,t,i);if(-1===d)return-1;let c;switch(s){case 0:c=!0;break;case 1:c=!1;break;case 2:if(d%i==0)return t;c=d%i<=i/2}if(c){if(-1===a)return-1;let t=l;for(let o=a;o<r;++o){if(t===l+i)return a;switch(e.charCodeAt(o)){case 32:t+=1;break;case 9:t=n.i.nextRenderTabStop(t,i);break;default:return-1}}return t===l+i?a:-1}const h=n.i.nextRenderTabStop(d,i);let u=d;for(let o=t;o<r;o++){if(u===h)return o;switch(e.charCodeAt(o)){case 32:u+=1;break;case 9:u=n.i.nextRenderTabStop(u,i);break;default:return-1}}return u===h?r:-1}}},9436:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(7295),o=i(1329),s=i(5343),r=i(7988),a=i(839),l=i(4314),d=i(187);class c{static deleteRight(e,t,i,n){const s=[];let r=3!==e;for(let e=0,d=n.length;e<d;e++){const d=n[e];let c=d;if(c.isEmpty()){const e=d.getPosition(),n=a.o.right(t,i,e);c=new l.e(n.lineNumber,n.column,e.lineNumber,e.column)}c.isEmpty()?s[e]=null:(c.startLineNumber!==c.endLineNumber&&(r=!0),s[e]=new o.T4(c,""))}return[r,s]}static isAutoClosingPairDelete(e,t,i,n,o,r,a){if("never"===t&&"never"===i)return!1;if("never"===e)return!1;for(let l=0,d=r.length;l<d;l++){const d=r[l],c=d.getPosition();if(!d.isEmpty())return!1;const h=o.getLineContent(c.lineNumber);if(c.column<2||c.column>=h.length+1)return!1;const u=h.charAt(c.column-2),g=n.get(u);if(!g)return!1;if((0,s.LN)(u)){if("never"===i)return!1}else if("never"===t)return!1;const p=h.charAt(c.column-1);let m=!1;for(const e of g)e.open===u&&e.close===p&&(m=!0);if(!m)return!1;if("auto"===e){let e=!1;for(let t=0,i=a.length;t<i;t++){const i=a[t];if(c.lineNumber===i.startLineNumber&&c.column===i.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){const n=[];for(let e=0,t=i.length;e<t;e++){const t=i[e].getPosition(),s=new l.e(t.lineNumber,t.column-1,t.lineNumber,t.column+1);n[e]=new o.T4(s,"")}return[!0,n]}static deleteLeft(e,t,i,n,s){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,n,s))return this._runAutoClosingPairDelete(t,i,n);const r=[];let a=2!==e;for(let e=0,s=n.length;e<s;e++){const s=c.getDeleteRange(n[e],i,t);s.isEmpty()?r[e]=null:(s.startLineNumber!==s.endLineNumber&&(a=!0),r[e]=new o.T4(s,""))}return[a,r]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;const o=e.getPosition();if(i.useTabStops&&o.column>1){const e=t.getLineContent(o.lineNumber),s=n.LC(e),a=-1===s?e.length+1:s+1;if(o.column<=a){const e=i.visibleColumnFromColumn(t,o),n=r.i.prevIndentTabStop(e,i.indentSize),s=i.columnFromVisibleColumn(t,o.lineNumber,n);return new l.e(o.lineNumber,s,o.lineNumber,o.column)}}return l.e.fromPositions(c.getPositionAfterDeleteLeft(o,t),o)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const i=n.oH(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}if(e.lineNumber>1){const i=e.lineNumber-1;return new d.L(i,t.getLineMaxColumn(i))}return e}static cut(e,t,i){const n=[];let r=null;i.sort(((e,t)=>d.L.compare(e.getStartPosition(),t.getEndPosition())));for(let s=0,a=i.length;s<a;s++){const a=i[s];if(a.isEmpty())if(e.emptySelectionClipboard){const e=a.getPosition();let i,d,c,h;e.lineNumber<t.getLineCount()?(i=e.lineNumber,d=1,c=e.lineNumber+1,h=1):e.lineNumber>1&&(null==r?void 0:r.endLineNumber)!==e.lineNumber?(i=e.lineNumber-1,d=t.getLineMaxColumn(e.lineNumber-1),c=e.lineNumber,h=t.getLineMaxColumn(e.lineNumber)):(i=e.lineNumber,d=1,c=e.lineNumber,h=t.getLineMaxColumn(e.lineNumber));const u=new l.e(i,d,c,h);r=u,u.isEmpty()?n[s]=null:n[s]=new o.T4(u,"")}else n[s]=null;else n[s]=new o.T4(a,"")}return new s.Tp(0,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},8108:(e,t,i)=>{"use strict";i.d(t,{N:()=>n,P:()=>c});var n,o=i(8401),s=i(5343),r=i(839),a=i(2896),l=i(187),d=i(4314);class c{static addCursorDown(e,t,i){const n=[];let o=0;for(let a=0,l=t.length;a<l;a++){const l=t[a];n[o++]=new s.Vi(l.modelState,l.viewState),n[o++]=i?s.Vi.fromModelState(r.o.translateDown(e.cursorConfig,e.model,l.modelState)):s.Vi.fromViewState(r.o.translateDown(e.cursorConfig,e,l.viewState))}return n}static addCursorUp(e,t,i){const n=[];let o=0;for(let a=0,l=t.length;a<l;a++){const l=t[a];n[o++]=new s.Vi(l.modelState,l.viewState),n[o++]=i?s.Vi.fromModelState(r.o.translateUp(e.cursorConfig,e.model,l.modelState)):s.Vi.fromViewState(r.o.translateUp(e.cursorConfig,e,l.viewState))}return n}static moveToBeginningOfLine(e,t,i){const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];n[o]=this._moveToLineStart(e,s,i)}return n}static _moveToLineStart(e,t,i){const n=t.viewState.position.column,o=n===t.modelState.position.column,s=t.viewState.position.lineNumber,r=e.getLineFirstNonWhitespaceColumn(s);return o||n===r?this._moveToLineStartByModel(e,t,i):this._moveToLineStartByView(e,t,i)}static _moveToLineStartByView(e,t,i){return s.Vi.fromViewState(r.o.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return s.Vi.fromModelState(r.o.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,n){const o=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];o[s]=this._moveToLineEnd(e,r,i,n)}return o}static _moveToLineEnd(e,t,i,n){const o=t.viewState.position,s=e.getLineMaxColumn(o.lineNumber),r=o.column===s,a=t.modelState.position,l=e.model.getLineMaxColumn(a.lineNumber),d=s-o.column==l-a.column;return r||d?this._moveToLineEndByModel(e,t,i,n):this._moveToLineEndByView(e,t,i,n)}static _moveToLineEndByView(e,t,i,n){return s.Vi.fromViewState(r.o.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,n))}static _moveToLineEndByModel(e,t,i,n){return s.Vi.fromModelState(r.o.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,n))}static expandLineSelection(e,t){const i=[];for(let n=0,o=t.length;n<o;n++){const o=t[n],r=o.modelState.selection.startLineNumber,a=e.model.getLineCount();let c,h=o.modelState.selection.endLineNumber;h===a?c=e.model.getLineMaxColumn(a):(h++,c=1),i[n]=s.Vi.fromModelState(new s.rS(new d.e(r,1,r,1),0,new l.L(h,c),0))}return i}static moveToBeginningOfBuffer(e,t,i){const n=[];for(let o=0,a=t.length;o<a;o++){const a=t[o];n[o]=s.Vi.fromModelState(r.o.moveToBeginningOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return n}static moveToEndOfBuffer(e,t,i){const n=[];for(let o=0,a=t.length;o<a;o++){const a=t[o];n[o]=s.Vi.fromModelState(r.o.moveToEndOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return n}static selectAll(e,t){const i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return s.Vi.fromModelState(new s.rS(new d.e(1,1,1,1),0,new l.L(i,n),0))}static line(e,t,i,n,o){const r=e.model.validatePosition(n),a=o?e.coordinatesConverter.validateViewPosition(new l.L(o.lineNumber,o.column),r):e.coordinatesConverter.convertModelPositionToViewPosition(r);if(!i||!t.modelState.hasSelection()){const t=e.model.getLineCount();let i=r.lineNumber+1,n=1;return i>t&&(i=t,n=e.model.getLineMaxColumn(i)),s.Vi.fromModelState(new s.rS(new d.e(r.lineNumber,1,i,n),0,new l.L(i,n),0))}const c=t.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<c)return s.Vi.fromViewState(t.viewState.move(t.modelState.hasSelection(),a.lineNumber,1,0));if(r.lineNumber>c){const i=e.getLineCount();let n=a.lineNumber+1,o=1;return n>i&&(n=i,o=e.getLineMaxColumn(n)),s.Vi.fromViewState(t.viewState.move(t.modelState.hasSelection(),n,o,0))}{const e=t.modelState.selectionStart.getEndPosition();return s.Vi.fromModelState(t.modelState.move(t.modelState.hasSelection(),e.lineNumber,e.column,0))}}static word(e,t,i,n){const o=e.model.validatePosition(n);return s.Vi.fromModelState(a.w.word(e.cursorConfig,e.model,t.modelState,i,o))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new s.Vi(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,n=t.viewState.position.column;return s.Vi.fromViewState(new s.rS(new d.e(i,n,i,n),0,new l.L(i,n),0))}static moveTo(e,t,i,n,o){const r=e.model.validatePosition(n),a=o?e.coordinatesConverter.validateViewPosition(new l.L(o.lineNumber,o.column),r):e.coordinatesConverter.convertModelPositionToViewPosition(r);return s.Vi.fromViewState(t.viewState.move(i,a.lineNumber,a.column,0))}static simpleMove(e,t,i,n,o,a){switch(i){case 0:return 4===a?this._moveHalfLineLeft(e,t,n):this._moveLeft(e,t,n,o);case 1:return 4===a?this._moveHalfLineRight(e,t,n):this._moveRight(e,t,n,o);case 2:return 2===a?this._moveUpByViewLines(e,t,n,o):this._moveUpByModelLines(e,t,n,o);case 3:return 2===a?this._moveDownByViewLines(e,t,n,o):this._moveDownByModelLines(e,t,n,o);case 4:return 2===a?t.map((t=>s.Vi.fromViewState(r.o.moveToPrevBlankLine(e.cursorConfig,e,t.viewState,n)))):t.map((t=>s.Vi.fromModelState(r.o.moveToPrevBlankLine(e.cursorConfig,e.model,t.modelState,n))));case 5:return 2===a?t.map((t=>s.Vi.fromViewState(r.o.moveToNextBlankLine(e.cursorConfig,e,t.viewState,n)))):t.map((t=>s.Vi.fromModelState(r.o.moveToNextBlankLine(e.cursorConfig,e.model,t.modelState,n))));case 6:return this._moveToViewMinColumn(e,t,n);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,n);case 8:return this._moveToViewCenterColumn(e,t,n);case 9:return this._moveToViewMaxColumn(e,t,n);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,n);default:return null}}static viewportMove(e,t,i,n,o){const s=e.getCompletelyVisibleViewRange(),r=e.coordinatesConverter.convertViewRangeToModelRange(s);switch(i){case 11:{const i=this._firstLineNumberInRange(e.model,r,o),s=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,s)]}case 13:{const i=this._lastLineNumberInRange(e.model,r,o),s=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,s)]}case 12:{const i=Math.round((r.startLineNumber+r.endLineNumber)/2),o=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,o)]}case 14:{const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o];i[o]=this.findPositionInViewportIfOutside(e,r,s,n)}return i}default:return null}}static findPositionInViewportIfOutside(e,t,i,n){const o=t.viewState.position.lineNumber;if(i.startLineNumber<=o&&o<=i.endLineNumber-1)return new s.Vi(t.modelState,t.viewState);{let a;a=o>i.endLineNumber-1?i.endLineNumber-1:o<i.startLineNumber?i.startLineNumber:o;const l=r.o.vertical(e.cursorConfig,e,o,t.viewState.position.column,t.viewState.leftoverVisibleColumns,a,!1);return s.Vi.fromViewState(t.viewState.move(n,l.lineNumber,l.column,l.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.min(t.endLineNumber,n+i-1)}static _lastLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.max(n,t.endLineNumber-i+1)}static _moveLeft(e,t,i,n){return t.map((t=>s.Vi.fromViewState(r.o.moveLeft(e.cursorConfig,e,t.viewState,i,n))))}static _moveHalfLineLeft(e,t,i){const n=[];for(let o=0,a=t.length;o<a;o++){const a=t[o],l=a.viewState.position.lineNumber,d=Math.round(e.getLineContent(l).length/2);n[o]=s.Vi.fromViewState(r.o.moveLeft(e.cursorConfig,e,a.viewState,i,d))}return n}static _moveRight(e,t,i,n){return t.map((t=>s.Vi.fromViewState(r.o.moveRight(e.cursorConfig,e,t.viewState,i,n))))}static _moveHalfLineRight(e,t,i){const n=[];for(let o=0,a=t.length;o<a;o++){const a=t[o],l=a.viewState.position.lineNumber,d=Math.round(e.getLineContent(l).length/2);n[o]=s.Vi.fromViewState(r.o.moveRight(e.cursorConfig,e,a.viewState,i,d))}return n}static _moveDownByViewLines(e,t,i,n){const o=[];for(let a=0,l=t.length;a<l;a++){const l=t[a];o[a]=s.Vi.fromViewState(r.o.moveDown(e.cursorConfig,e,l.viewState,i,n))}return o}static _moveDownByModelLines(e,t,i,n){const o=[];for(let a=0,l=t.length;a<l;a++){const l=t[a];o[a]=s.Vi.fromModelState(r.o.moveDown(e.cursorConfig,e.model,l.modelState,i,n))}return o}static _moveUpByViewLines(e,t,i,n){const o=[];for(let a=0,l=t.length;a<l;a++){const l=t[a];o[a]=s.Vi.fromViewState(r.o.moveUp(e.cursorConfig,e,l.viewState,i,n))}return o}static _moveUpByModelLines(e,t,i,n){const o=[];for(let a=0,l=t.length;a<l;a++){const l=t[a];o[a]=s.Vi.fromModelState(r.o.moveUp(e.cursorConfig,e.model,l.modelState,i,n))}return o}static _moveToViewPosition(e,t,i,n,o){return s.Vi.fromViewState(t.viewState.move(i,n,o,0))}static _moveToModelPosition(e,t,i,n,o){return s.Vi.fromModelState(t.modelState.move(i,n,o,0))}static _moveToViewMinColumn(e,t,i){const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=e.getLineMinColumn(r);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}static _moveToViewFirstNonWhitespaceColumn(e,t,i){const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=e.getLineFirstNonWhitespaceColumn(r);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}static _moveToViewCenterColumn(e,t,i){const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=Math.round((e.getLineMaxColumn(r)+e.getLineMinColumn(r))/2);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}static _moveToViewMaxColumn(e,t,i){const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=e.getLineMaxColumn(r);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}static _moveToViewLastNonWhitespaceColumn(e,t,i){const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=e.getLineLastNonWhitespaceColumn(r);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}}!function(e){e.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){if(!o.Kn(e))return!1;const t=e;return!(!o.HD(t.to)||!o.o8(t.select)&&!o.jn(t.select)||!o.o8(t.by)&&!o.HD(t.by)||!o.o8(t.value)&&!o.hj(t.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},e.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},e.parse=function(t){if(!t.to)return null;let i;switch(t.to){case e.RawDirection.Left:i=0;break;case e.RawDirection.Right:i=1;break;case e.RawDirection.Up:i=2;break;case e.RawDirection.Down:i=3;break;case e.RawDirection.PrevBlankLine:i=4;break;case e.RawDirection.NextBlankLine:i=5;break;case e.RawDirection.WrappedLineStart:i=6;break;case e.RawDirection.WrappedLineFirstNonWhitespaceCharacter:i=7;break;case e.RawDirection.WrappedLineColumnCenter:i=8;break;case e.RawDirection.WrappedLineEnd:i=9;break;case e.RawDirection.WrappedLineLastNonWhitespaceCharacter:i=10;break;case e.RawDirection.ViewPortTop:i=11;break;case e.RawDirection.ViewPortBottom:i=13;break;case e.RawDirection.ViewPortCenter:i=12;break;case e.RawDirection.ViewPortIfOutside:i=14;break;default:return null}let n=0;switch(t.by){case e.RawUnit.Line:n=1;break;case e.RawUnit.WrappedLine:n=2;break;case e.RawUnit.Character:n=3;break;case e.RawUnit.HalfLine:n=4}return{direction:i,unit:n,select:!!t.select,value:t.value||1}}}(n||(n={}))},839:(e,t,i)=>{"use strict";i.d(t,{o:()=>c});var n=i(5343),o=i(7988),s=i(187),r=i(4314),a=i(7295),l=i(7128);class d{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class c{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-a.HO(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new s.L(i,e.getLineMaxColumn(i))}return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const n=e.getLineMinColumn(t.lineNumber),o=e.getLineContent(t.lineNumber),r=l.l.atomicPosition(o,t.column-1,i,0);if(-1!==r&&r+1>=n)return new s.L(t.lineNumber,r+1)}return this.leftPosition(e,t)}static left(e,t,i){const n=e.stickyTabStops?c.leftPositionAtomicSoftTabs(t,i,e.tabSize):c.leftPosition(t,i);return new d(n.lineNumber,n.column,0)}static moveLeft(e,t,i,n,o){let s,r;if(i.hasSelection()&&!n)s=i.selection.startLineNumber,r=i.selection.startColumn;else{const n=i.position.delta(void 0,-(o-1)),a=t.normalizePosition(c.clipPositionColumn(n,t),0),l=c.left(e,t,a);s=l.lineNumber,r=l.column}return i.move(n,s,r,0)}static clipPositionColumn(e,t){return new s.L(e.lineNumber,c.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i+=a.vH(e.getLineContent(t),i-1):t<e.getLineCount()&&(t+=1,i=e.getLineMinColumn(t)),new s.L(t,i)}static rightPositionAtomicSoftTabs(e,t,i,n,o){if(i<e.getLineIndentColumn(t)){const o=e.getLineContent(t),r=l.l.atomicPosition(o,i-1,n,1);if(-1!==r)return new s.L(t,r+1)}return this.rightPosition(e,t,i)}static right(e,t,i){const n=e.stickyTabStops?c.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):c.rightPosition(t,i.lineNumber,i.column);return new d(n.lineNumber,n.column,0)}static moveRight(e,t,i,n,o){let s,r;if(i.hasSelection()&&!n)s=i.selection.endLineNumber,r=i.selection.endColumn;else{const n=i.position.delta(void 0,o-1),a=t.normalizePosition(c.clipPositionColumn(n,t),1),l=c.right(e,t,a);s=l.lineNumber,r=l.column}return i.move(n,s,r,0)}static vertical(e,t,i,n,r,a,l,c){const h=o.i.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize)+r,u=t.getLineCount(),g=1===i&&1===n,p=i===u&&n===t.getLineMaxColumn(i),m=a<i?g:p;if((i=a)<1?(i=1,n=l?t.getLineMinColumn(i):Math.min(t.getLineMaxColumn(i),n)):i>u?(i=u,n=l?t.getLineMaxColumn(i):Math.min(t.getLineMaxColumn(i),n)):n=e.columnFromVisibleColumn(t,i,h),r=m?0:h-o.i.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize),void 0!==c){const e=new s.L(i,n),o=t.normalizePosition(e,c);r+=n-o.column,i=o.lineNumber,n=o.column}return new d(i,n,r)}static down(e,t,i,n,o,s,r){return this.vertical(e,t,i,n,o,i+s,r,4)}static moveDown(e,t,i,n,o){let s,r;i.hasSelection()&&!n?(s=i.selection.endLineNumber,r=i.selection.endColumn):(s=i.position.lineNumber,r=i.position.column);const a=c.down(e,t,s,r,i.leftoverVisibleColumns,o,!0);return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateDown(e,t,i){const o=i.selection,a=c.down(e,t,o.selectionStartLineNumber,o.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),l=c.down(e,t,o.positionLineNumber,o.positionColumn,i.leftoverVisibleColumns,1,!1);return new n.rS(new r.e(a.lineNumber,a.column,a.lineNumber,a.column),a.leftoverVisibleColumns,new s.L(l.lineNumber,l.column),l.leftoverVisibleColumns)}static up(e,t,i,n,o,s,r){return this.vertical(e,t,i,n,o,i-s,r,3)}static moveUp(e,t,i,n,o){let s,r;i.hasSelection()&&!n?(s=i.selection.startLineNumber,r=i.selection.startColumn):(s=i.position.lineNumber,r=i.position.column);const a=c.up(e,t,s,r,i.leftoverVisibleColumns,o,!0);return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateUp(e,t,i){const o=i.selection,a=c.up(e,t,o.selectionStartLineNumber,o.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),l=c.up(e,t,o.positionLineNumber,o.positionColumn,i.leftoverVisibleColumns,1,!1);return new n.rS(new r.e(a.lineNumber,a.column,a.lineNumber,a.column),a.leftoverVisibleColumns,new s.L(l.lineNumber,l.column),l.leftoverVisibleColumns)}static _isBlankLine(e,t){return 0===e.getLineFirstNonWhitespaceColumn(t)}static moveToPrevBlankLine(e,t,i,n){let o=i.position.lineNumber;for(;o>1&&this._isBlankLine(t,o);)o--;for(;o>1&&!this._isBlankLine(t,o);)o--;return i.move(n,o,t.getLineMinColumn(o),0)}static moveToNextBlankLine(e,t,i,n){const o=t.getLineCount();let s=i.position.lineNumber;for(;s<o&&this._isBlankLine(t,s);)s++;for(;s<o&&!this._isBlankLine(t,s);)s++;return i.move(n,s,t.getLineMinColumn(s),0)}static moveToBeginningOfLine(e,t,i,n){const o=i.position.lineNumber,s=t.getLineMinColumn(o),r=t.getLineFirstNonWhitespaceColumn(o)||s;let a;return a=i.position.column===r?s:r,i.move(n,o,a,0)}static moveToEndOfLine(e,t,i,n,o){const s=i.position.lineNumber,r=t.getLineMaxColumn(s);return i.move(n,s,r,o?1073741824-r:0)}static moveToBeginningOfBuffer(e,t,i,n){return i.move(n,1,1,0)}static moveToEndOfBuffer(e,t,i,n){const o=t.getLineCount(),s=t.getLineMaxColumn(o);return i.move(n,o,s,0)}}},1336:(e,t,i)=>{"use strict";i.d(t,{Nu:()=>y,u6:()=>b,g_:()=>C});var n=i(7301),o=i(7295),s=i(1329),r=i(291),a=i(4314),l=i(3860);class d{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new a.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new a.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){const i=t.getInverseEditOperations(),n=i[0].range,o=i[1].range;return new l.Y(n.endLineNumber,n.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)}}class c{constructor(e,t,i){this._position=e,this._text=t,this._charAfter=i}getEditOperations(e,t){t.addTrackedEditOperation(new a.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return new l.Y(i.endLineNumber,i.startColumn,i.endLineNumber,i.endColumn-this._charAfter.length)}}var h=i(5343),u=i(4929),g=i(187),p=i(9119),m=i(1381),f=i(9111),v=i(5383),_=i(1615);class b{static indent(e,t,i){if(null===t||null===i)return[];const n=[];for(let t=0,o=i.length;t<o;t++)n[t]=new r.U(i[t],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return n}static outdent(e,t,i){const n=[];for(let t=0,o=i.length;t<o;t++)n[t]=new r.U(i[t],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return n}static shiftIndent(e,t,i){return i=i||1,r.U.shiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return i=i||1,r.U.unshiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,n){const o=[];for(let e=0,t=i.length;e<t;e++)o[e]=new s.T4(i[e],n[e]);return new h.Tp(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,n,o){const r=[];for(let e=0,t=i.length;e<t;e++){const t=i[e],l=t.getPosition();if(o&&!t.isEmpty()&&(o=!1),o&&n.indexOf("\n")!==n.length-1&&(o=!1),o){const i=new a.e(l.lineNumber,1,l.lineNumber,1);r[e]=new s.hP(i,n,t,!0)}else r[e]=new s.T4(t,n)}return new h.Tp(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,n,s){if(n)return null;if(1===t.length)return null;if(s&&s.length===t.length)return s;if("spread"===e.multiCursorPaste){10===i.charCodeAt(i.length-1)&&(i=i.substr(0,i.length-1)),13===i.charCodeAt(i.length-1)&&(i=i.substr(0,i.length-1));const e=o.uq(i);if(e.length===t.length)return e}return null}static paste(e,t,i,n,o,s){const r=this._distributePasteToCursors(e,i,n,o,s);return r?(i=i.sort(a.e.compareRangesUsingStarts),this._distributedPaste(e,t,i,r)):this._simplePaste(e,t,i,n,o)}static _goodIndentForLine(e,t,i){let n=null,s="";const r=(0,v.r7)(e.autoIndent,t,i,!1,e.languageConfigurationService);if(r)n=r.action,s=r.indentation;else if(i>1){let n;for(n=i-1;n>=1;n--){const e=t.getLineContent(n);if(o.ow(e)>=0)break}if(n<1)return null;const r=t.getLineMaxColumn(n),l=(0,_.A)(e.autoIndent,t,new a.e(n,r,n,r),e.languageConfigurationService);l&&(s=l.indentation+l.appendText)}return n&&(n===p.wU.Indent&&(s=b.shiftIndent(e,s)),n===p.wU.Outdent&&(s=b.unshiftIndent(e,s)),s=e.normalizeIndentation(s)),s||null}static _replaceJumpToNextIndent(e,t,i,n){let o="";const r=i.getStartPosition();if(e.insertSpaces){const i=e.visibleColumnFromColumn(t,r),n=e.indentSize,s=n-i%n;for(let e=0;e<s;e++)o+=" "}else o="\t";return new s.T4(i,o,n)}static tab(e,t,i){const n=[];for(let o=0,l=i.length;o<l;o++){const l=i[o];if(l.isEmpty()){const i=t.getLineContent(l.startLineNumber);if(/^\s*$/.test(i)&&t.tokenization.isCheapToTokenize(l.startLineNumber)){let r=this._goodIndentForLine(e,t,l.startLineNumber);r=r||"\t";const d=e.normalizeIndentation(r);if(!i.startsWith(d)){n[o]=new s.T4(new a.e(l.startLineNumber,1,l.startLineNumber,i.length+1),d,!0);continue}}n[o]=this._replaceJumpToNextIndent(e,t,l,!0)}else{if(l.startLineNumber===l.endLineNumber){const i=t.getLineMaxColumn(l.startLineNumber);if(1!==l.startColumn||l.endColumn!==i){n[o]=this._replaceJumpToNextIndent(e,t,l,!1);continue}}n[o]=new r.U(l,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService)}}return n}static compositionType(e,t,i,n,o,s,r,a){const l=n.map((e=>this._compositionType(i,e,o,s,r,a)));return new h.Tp(4,l,{shouldPushStackElementBefore:S(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,n,o,r){if(!t.isEmpty())return null;const l=t.getPosition(),d=Math.max(1,l.column-n),c=Math.min(e.getLineMaxColumn(l.lineNumber),l.column+o),h=new a.e(l.lineNumber,d,l.lineNumber,c);return e.getValueInRange(h)===i&&0===r?null:new s.Uo(h,i,0,r)}static _typeCommand(e,t,i){return i?new s.Sj(e,t,!0):new s.T4(e,t,!0)}static _enter(e,t,i,n){if(0===e.autoIndent)return b._typeCommand(n,"\n",i);if(!t.tokenization.isCheapToTokenize(n.getStartPosition().lineNumber)||1===e.autoIndent){const s=t.getLineContent(n.startLineNumber),r=o.V8(s).substring(0,n.startColumn-1);return b._typeCommand(n,"\n"+e.normalizeIndentation(r),i)}const r=(0,_.A)(e.autoIndent,t,n,e.languageConfigurationService);if(r){if(r.indentAction===p.wU.None)return b._typeCommand(n,"\n"+e.normalizeIndentation(r.indentation+r.appendText),i);if(r.indentAction===p.wU.Indent)return b._typeCommand(n,"\n"+e.normalizeIndentation(r.indentation+r.appendText),i);if(r.indentAction===p.wU.IndentOutdent){const t=e.normalizeIndentation(r.indentation),o=e.normalizeIndentation(r.indentation+r.appendText),a="\n"+o+"\n"+t;return i?new s.Sj(n,a,!0):new s.Uo(n,a,-1,o.length-t.length,!0)}if(r.indentAction===p.wU.Outdent){const t=b.unshiftIndent(e,r.indentation);return b._typeCommand(n,"\n"+e.normalizeIndentation(t+r.appendText),i)}}const a=t.getLineContent(n.startLineNumber),l=o.V8(a).substring(0,n.startColumn-1);if(e.autoIndent>=4){const r=(0,v.UF)(e.autoIndent,t,n,{unshiftIndent:t=>b.unshiftIndent(e,t),shiftIndent:t=>b.shiftIndent(e,t),normalizeIndentation:t=>e.normalizeIndentation(t)},e.languageConfigurationService);if(r){let a=e.visibleColumnFromColumn(t,n.getEndPosition());const l=n.endColumn,d=t.getLineContent(n.endLineNumber),c=o.LC(d);if(n=c>=0?n.setEndPosition(n.endLineNumber,Math.max(n.endColumn,c+1)):n.setEndPosition(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),i)return new s.Sj(n,"\n"+e.normalizeIndentation(r.afterEnter),!0);{let t=0;return l<=c+1&&(e.insertSpaces||(a=Math.ceil(a/e.indentSize)),t=Math.min(a+1-e.normalizeIndentation(r.afterEnter).length-1,0)),new s.Uo(n,"\n"+e.normalizeIndentation(r.afterEnter),0,t,!0)}}}return b._typeCommand(n,"\n"+e.normalizeIndentation(l),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let e=0,n=i.length;e<n;e++)if(!t.tokenization.isCheapToTokenize(i[e].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,n){const o=(0,m.u0)(t,i.startLineNumber,i.startColumn),s=(0,v.$9)(e.autoIndent,t,i,n,{shiftIndent:t=>b.shiftIndent(e,t),unshiftIndent:t=>b.unshiftIndent(e,t)},e.languageConfigurationService);if(null===s)return null;if(s!==e.normalizeIndentation(o)){const o=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return 0===o?b._typeCommand(new a.e(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+n,!1):b._typeCommand(new a.e(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+t.getLineContent(i.startLineNumber).substring(o-1,i.startColumn-1)+n,!1)}return null}static _isAutoClosingOvertype(e,t,i,n,o){if("never"===e.autoClosingOvertype)return!1;if(!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let s=0,r=i.length;s<r;s++){const r=i[s];if(!r.isEmpty())return!1;const a=r.getPosition(),l=t.getLineContent(a.lineNumber);if(l.charAt(a.column-1)!==o)return!1;const d=(0,h.LN)(o);if(92===(a.column>2?l.charCodeAt(a.column-2):0)&&d)return!1;if("auto"===e.autoClosingOvertype){let e=!1;for(let t=0,i=n.length;t<i;t++){const i=n[t];if(a.lineNumber===i.startLineNumber&&a.column===i.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,n,o){const r=[];for(let e=0,t=n.length;e<t;e++){const t=n[e].getPosition(),i=new a.e(t.lineNumber,t.column,t.lineNumber,t.column+1);r[e]=new s.T4(i,o)}return new h.Tp(4,r,{shouldPushStackElementBefore:S(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const i=t.charAt(0),n=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],o=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],s=n.some((e=>t.startsWith(e.open))),r=o.some((e=>t.startsWith(e.close)));return!s&&r}static _findAutoClosingPairOpen(e,t,i,n){const o=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(n);if(!o)return null;let s=null;for(const e of o)if(null===s||e.open.length>s.open.length){let o=!0;for(const s of i)if(t.getValueInRange(new a.e(s.lineNumber,s.column-e.open.length+1,s.lineNumber,s.column))+n!==e.open){o=!1;break}o&&(s=e)}return s}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;const i=t.close.charAt(t.close.length-1),n=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[];let o=null;for(const e of n)e.open!==t.open&&t.open.includes(e.open)&&t.close.endsWith(e.close)&&(!o||e.open.length>o.open.length)&&(o=e);return o}static _getAutoClosingPairClose(e,t,i,n,o){const s=(0,h.LN)(n),r=s?e.autoClosingQuotes:e.autoClosingBrackets,a=s?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;if("never"===r)return null;for(const e of i)if(!e.isEmpty())return null;const l=i.map((e=>{const t=e.getPosition();return o?{lineNumber:t.lineNumber,beforeColumn:t.column-n.length,afterColumn:t.column}:{lineNumber:t.lineNumber,beforeColumn:t.column,afterColumn:t.column}})),d=this._findAutoClosingPairOpen(e,t,l.map((e=>new g.L(e.lineNumber,e.beforeColumn))),n);if(!d)return null;const c=this._findContainedAutoClosingPair(e,d),p=c?c.close:"";let m=!0;for(const i of l){const{lineNumber:o,beforeColumn:s,afterColumn:l}=i,c=t.getLineContent(o),h=c.substring(0,s-1),g=c.substring(l-1);if(g.startsWith(p)||(m=!1),g.length>0){const t=g.charAt(0);if(!b._isBeforeClosingBrace(e,g)&&!a(t))return null}if(1===d.open.length&&("'"===n||'"'===n)&&"always"!==r){const t=(0,u.u)(e.wordSeparators);if(h.length>0){const e=h.charCodeAt(h.length-1);if(0===t.get(e))return null}}if(!t.tokenization.isCheapToTokenize(o))return null;t.tokenization.forceTokenization(o);const v=t.tokenization.getLineTokens(o),_=(0,f.wH)(v,s-1);if(!d.shouldAutoClose(_,s-_.firstCharOffset))return null;const C=d.findNeutralCharacter();if(C){const e=t.tokenization.getTokenTypeIfInsertingCharacter(o,s,C);if(!d.isOK(e))return null}}return m?d.close.substring(0,d.close.length-p.length):d.close}static _runAutoClosingOpenCharType(e,t,i,n,o,s,r){const a=[];for(let e=0,t=n.length;e<t;e++){const t=n[e];a[e]=new C(t,o,!s,r)}return new h.Tp(4,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return(0,h.LN)(t)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround}static _isSurroundSelectionType(e,t,i,n){if(!b._shouldSurroundChar(e,n)||!e.surroundingPairs.hasOwnProperty(n))return!1;const o=(0,h.LN)(n);for(const e of i){if(e.isEmpty())return!1;let i=!0;for(let n=e.startLineNumber;n<=e.endLineNumber;n++){const o=t.getLineContent(n),s=n===e.startLineNumber?e.startColumn-1:0,r=n===e.endLineNumber?e.endColumn-1:o.length,a=o.substring(s,r);if(/[^ \t]/.test(a)){i=!1;break}}if(i)return!1;if(o&&e.startLineNumber===e.endLineNumber&&e.startColumn+1===e.endColumn){const i=t.getValueInRange(e);if((0,h.LN)(i))return!1}}return!0}static _runSurroundSelectionType(e,t,i,n,o){const s=[];for(let e=0,i=n.length;e<i;e++){const i=n[e],r=t.surroundingPairs[o];s[e]=new d(i,o,r)}return new h.Tp(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!(1!==i.length||!t.tokenization.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,r,l){if(!t.electricChars.hasOwnProperty(l)||!r.isEmpty())return null;const d=r.getPosition();i.tokenization.forceTokenization(d.lineNumber);const c=i.tokenization.getLineTokens(d.lineNumber);let u;try{u=t.onElectricCharacter(l,c,d.column)}catch(e){return(0,n.dL)(e),null}if(!u)return null;if(u.matchOpenBracket){const n=(c.getLineContent()+l).lastIndexOf(u.matchOpenBracket)+1,r=i.bracketPairs.findMatchingBracketUp(u.matchOpenBracket,{lineNumber:d.lineNumber,column:n},500);if(r){if(r.startLineNumber===d.lineNumber)return null;const n=i.getLineContent(r.startLineNumber),c=o.V8(n),u=t.normalizeIndentation(c),g=i.getLineContent(d.lineNumber),p=i.getLineFirstNonWhitespaceColumn(d.lineNumber)||d.column,m=u+g.substring(p-1,d.column-1)+l,f=new a.e(d.lineNumber,1,d.lineNumber,d.column),v=new s.T4(f,m);return new h.Tp(w(m,e),[v],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,i,n,o,r){if(!n)return null;let l=null;for(const e of n)if(null===l)l=e.insertedText;else if(l!==e.insertedText)return null;if(!l||1!==l.length)return null;const d=l;let u=!1;for(const e of n)if(0!==e.deletedText.length){u=!0;break}if(u){if(!b._shouldSurroundChar(t,d)||!t.surroundingPairs.hasOwnProperty(d))return null;const e=(0,h.LN)(d);for(const t of n){if(0!==t.deletedSelectionStart||t.deletedSelectionEnd!==t.deletedText.length)return null;if(/^[ \t]+$/.test(t.deletedText))return null;if(e&&(0,h.LN)(t.deletedText))return null}const i=[];for(const e of o){if(!e.isEmpty())return null;i.push(e.getPosition())}if(i.length!==n.length)return null;const s=[];for(let e=0,t=i.length;e<t;e++)s.push(new c(i[e],n[e].deletedText,d));return new h.Tp(4,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(t,i,o,r,d)){const e=o.map((e=>new s.T4(new a.e(e.positionLineNumber,e.positionColumn,e.positionLineNumber,e.positionColumn+1),"",!1)));return new h.Tp(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const g=this._getAutoClosingPairClose(t,i,o,d,!0);return null!==g?this._runAutoClosingOpenCharType(e,t,i,o,d,!0,g):null}static typeWithInterceptors(e,t,i,n,o,r,a){if(!e&&"\n"===a){const e=[];for(let t=0,s=o.length;t<s;t++)e[t]=b._enter(i,n,!1,o[t]);return new h.Tp(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,n,o)){const e=[];let t=!1;for(let s=0,r=o.length;s<r;s++)if(e[s]=this._runAutoIndentType(i,n,o[s],a),!e[s]){t=!0;break}if(!t)return new h.Tp(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(i,n,o,r,a))return this._runAutoClosingOvertype(t,i,n,o,a);if(!e){const e=this._getAutoClosingPairClose(i,n,o,a,!1);if(e)return this._runAutoClosingOpenCharType(t,i,n,o,a,!1,e)}if(!e&&this._isSurroundSelectionType(i,n,o,a))return this._runSurroundSelectionType(t,i,n,o,a);if(!e&&this._isTypeInterceptorElectricChar(i,n,o)){const e=this._typeInterceptorElectricChar(t,i,n,o[0],a);if(e)return e}const l=[];for(let e=0,t=o.length;e<t;e++)l[e]=new s.T4(o[e],a);const d=w(a,t);return new h.Tp(d,l,{shouldPushStackElementBefore:S(t,d),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,n,o){const r=[];for(let e=0,t=n.length;e<t;e++)r[e]=new s.T4(n[e],o);const a=w(o,e);return new h.Tp(a,r,{shouldPushStackElementBefore:S(e,a),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(null===t||null===i)return[];const n=[];for(let o=0,r=i.length;o<r;o++){let r=i[o].positionLineNumber;if(1===r)n[o]=new s.Sj(new a.e(1,1,1,1),"\n");else{r--;const i=t.getLineMaxColumn(r);n[o]=this._enter(e,t,!1,new a.e(r,i,r,i))}}return n}static lineInsertAfter(e,t,i){if(null===t||null===i)return[];const n=[];for(let o=0,s=i.length;o<s;o++){const s=i[o].positionLineNumber,r=t.getLineMaxColumn(s);n[o]=this._enter(e,t,!1,new a.e(s,r,s,r))}return n}static lineBreakInsert(e,t,i){const n=[];for(let o=0,s=i.length;o<s;o++)n[o]=this._enter(e,t,!0,i[o]);return n}}class C extends s.Uo{constructor(e,t,i,n){super(e,(i?t:"")+n,0,-n.length),this._openCharacter=t,this._closeCharacter=n,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new a.e(i.startLineNumber,i.endColumn-this._closeCharacter.length,i.endLineNumber,i.endColumn),this.enclosingRange=new a.e(i.startLineNumber,i.endColumn-this._openCharacter.length-this._closeCharacter.length,i.endLineNumber,i.endColumn),super.computeCursorState(e,t)}}class y{constructor(e,t,i,n,o,s){this.deletedText=e,this.deletedSelectionStart=t,this.deletedSelectionEnd=i,this.insertedText=n,this.insertedSelectionStart=o,this.insertedSelectionEnd=s}}function w(e,t){return" "===e?5===t||6===t?6:5:4}function S(e,t){return!(!L(e)||L(t))||5!==e&&k(e)!==k(t)}function k(e){return 6===e||5===e?"space":e}function L(e){return 4===e||5===e||6===e}},2896:(e,t,i)=>{"use strict";i.d(t,{L:()=>c,w:()=>d});var n=i(7295),o=i(5343),s=i(9436),r=i(4929),a=i(187),l=i(4314);class d{static _createWord(e,t,i,n,o){return{start:n,end:o,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){const n=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(n,e,i)}static _doFindPreviousWordOnLine(e,t,i){let n=0;for(let o=i.column-2;o>=0;o--){const i=e.charCodeAt(o),s=t.get(i);if(0===s){if(2===n)return this._createWord(e,n,s,o+1,this._findEndOfWord(e,t,n,o+1));n=1}else if(2===s){if(1===n)return this._createWord(e,n,s,o+1,this._findEndOfWord(e,t,n,o+1));n=2}else if(1===s&&0!==n)return this._createWord(e,n,s,o+1,this._findEndOfWord(e,t,n,o+1))}return 0!==n?this._createWord(e,n,1,0,this._findEndOfWord(e,t,n,0)):null}static _findEndOfWord(e,t,i,n){const o=e.length;for(let s=n;s<o;s++){const n=e.charCodeAt(s),o=t.get(n);if(1===o)return s;if(1===i&&2===o)return s;if(2===i&&0===o)return s}return o}static _findNextWordOnLine(e,t,i){const n=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(n,e,i)}static _doFindNextWordOnLine(e,t,i){let n=0;const o=e.length;for(let s=i.column-1;s<o;s++){const i=e.charCodeAt(s),o=t.get(i);if(0===o){if(2===n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,s-1),s);n=1}else if(2===o){if(1===n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,s-1),s);n=2}else if(1===o&&0!==n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,s-1),s)}return 0!==n?this._createWord(e,n,1,this._findStartOfWord(e,t,n,o-1),o):null}static _findStartOfWord(e,t,i,n){for(let o=n;o>=0;o--){const n=e.charCodeAt(o),s=t.get(n);if(1===s)return o+1;if(1===i&&2===s)return o+1;if(2===i&&0===s)return o+1}return 0}static moveWordLeft(e,t,i,n){let o=i.lineNumber,s=i.column;1===s&&o>1&&(o-=1,s=t.getLineMaxColumn(o));let r=d._findPreviousWordOnLine(e,t,new a.L(o,s));if(0===n)return new a.L(o,r?r.start+1:1);if(1===n)return r&&2===r.wordType&&r.end-r.start==1&&0===r.nextCharClass&&(r=d._findPreviousWordOnLine(e,t,new a.L(o,r.start+1))),new a.L(o,r?r.start+1:1);if(3===n){for(;r&&2===r.wordType;)r=d._findPreviousWordOnLine(e,t,new a.L(o,r.start+1));return new a.L(o,r?r.start+1:1)}return r&&s<=r.end+1&&(r=d._findPreviousWordOnLine(e,t,new a.L(o,r.start+1))),new a.L(o,r?r.end+1:1)}static _moveWordPartLeft(e,t){const i=t.lineNumber,o=e.getLineMaxColumn(i);if(1===t.column)return i>1?new a.L(i-1,e.getLineMaxColumn(i-1)):t;const s=e.getLineContent(i);for(let e=t.column-1;e>1;e--){const t=s.charCodeAt(e-2),r=s.charCodeAt(e-1);if(95===t&&95!==r)return new a.L(i,e);if((n.mK(t)||n.T5(t))&&n.df(r))return new a.L(i,e);if(n.df(t)&&n.df(r)&&e+1<o){const t=s.charCodeAt(e);if(n.mK(t)||n.T5(t))return new a.L(i,e)}}return new a.L(i,1)}static moveWordRight(e,t,i,n){let o=i.lineNumber,s=i.column,r=!1;s===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(r=!0,o+=1,s=1);let l=d._findNextWordOnLine(e,t,new a.L(o,s));if(2===n)l&&2===l.wordType&&l.end-l.start==1&&0===l.nextCharClass&&(l=d._findNextWordOnLine(e,t,new a.L(o,l.end+1))),s=l?l.end+1:t.getLineMaxColumn(o);else if(3===n){for(r&&(s=0);l&&(2===l.wordType||l.start+1<=s);)l=d._findNextWordOnLine(e,t,new a.L(o,l.end+1));s=l?l.start+1:t.getLineMaxColumn(o)}else l&&!r&&s>=l.start+1&&(l=d._findNextWordOnLine(e,t,new a.L(o,l.end+1))),s=l?l.start+1:t.getLineMaxColumn(o);return new a.L(o,s)}static _moveWordPartRight(e,t){const i=t.lineNumber,o=e.getLineMaxColumn(i);if(t.column===o)return i<e.getLineCount()?new a.L(i+1,1):t;const s=e.getLineContent(i);for(let e=t.column+1;e<o;e++){const t=s.charCodeAt(e-2),r=s.charCodeAt(e-1);if(95!==t&&95===r)return new a.L(i,e);if((n.mK(t)||n.T5(t))&&n.df(r))return new a.L(i,e);if(n.df(t)&&n.df(r)&&e+1<o){const t=s.charCodeAt(e);if(n.mK(t)||n.T5(t))return new a.L(i,e)}}return new a.L(i,o)}static _deleteWordLeftWhitespace(e,t){const i=e.getLineContent(t.lineNumber),o=t.column-2,s=n.ow(i,o);return s+1<o?new l.e(t.lineNumber,s+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const i=e.wordSeparators,n=e.model,o=e.selection,r=e.whitespaceHeuristics;if(!o.isEmpty())return o;if(s.A.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const t=e.selection.getPosition();return new l.e(t.lineNumber,t.column-1,t.lineNumber,t.column+1)}const c=new a.L(o.positionLineNumber,o.positionColumn);let h=c.lineNumber,u=c.column;if(1===h&&1===u)return null;if(r){const e=this._deleteWordLeftWhitespace(n,c);if(e)return e}let g=d._findPreviousWordOnLine(i,n,c);return 0===t?g?u=g.start+1:u>1?u=1:(h--,u=n.getLineMaxColumn(h)):(g&&u<=g.end+1&&(g=d._findPreviousWordOnLine(i,n,new a.L(h,g.start+1))),g?u=g.end+1:u>1?u=1:(h--,u=n.getLineMaxColumn(h))),new l.e(h,u,c.lineNumber,c.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;const n=new a.L(i.positionLineNumber,i.positionColumn);return this._deleteInsideWordWhitespace(t,n)||this._deleteInsideWordDetermineDeleteRange(e,t,n)}static _charAtIsWhitespace(e,t){const i=e.charCodeAt(t);return 32===i||9===i}static _deleteInsideWordWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=i.length;if(0===n)return null;let o=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,o))return null;let s=Math.min(t.column-1,n-1);if(!this._charAtIsWhitespace(i,s))return null;for(;o>0&&this._charAtIsWhitespace(i,o-1);)o--;for(;s+1<n&&this._charAtIsWhitespace(i,s+1);)s++;return new l.e(t.lineNumber,o+1,t.lineNumber,s+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){const n=t.getLineContent(i.lineNumber),o=n.length;if(0===o)return i.lineNumber>1?new l.e(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new l.e(i.lineNumber,1,i.lineNumber+1,1):new l.e(i.lineNumber,1,i.lineNumber,1);const s=e=>e.start+1<=i.column&&i.column<=e.end+1,r=(e,t)=>(e=Math.min(e,i.column),t=Math.max(t,i.column),new l.e(i.lineNumber,e,i.lineNumber,t)),a=e=>{let t=e.start+1,i=e.end+1,s=!1;for(;i-1<o&&this._charAtIsWhitespace(n,i-1);)s=!0,i++;if(!s)for(;t>1&&this._charAtIsWhitespace(n,t-2);)t--;return r(t,i)},c=d._findPreviousWordOnLine(e,t,i);if(c&&s(c))return a(c);const h=d._findNextWordOnLine(e,t,i);return h&&s(h)?a(h):c&&h?r(c.end+1,h.start+1):c?r(c.start+1,c.end+1):h?r(h.start+1,h.end+1):r(1,o+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=d._moveWordPartLeft(e,i);return new l.e(i.lineNumber,i.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(e,t){const i=e.length;for(let n=t;n<i;n++){const t=e.charAt(n);if(" "!==t&&"\t"!==t)return n}return i}static _deleteWordRightWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=t.column-1,o=this._findFirstNonWhitespaceChar(i,n);return n+1<o?new l.e(t.lineNumber,t.column,t.lineNumber,o+1):null}static deleteWordRight(e,t){const i=e.wordSeparators,n=e.model,o=e.selection,s=e.whitespaceHeuristics;if(!o.isEmpty())return o;const r=new a.L(o.positionLineNumber,o.positionColumn);let c=r.lineNumber,h=r.column;const u=n.getLineCount(),g=n.getLineMaxColumn(c);if(c===u&&h===g)return null;if(s){const e=this._deleteWordRightWhitespace(n,r);if(e)return e}let p=d._findNextWordOnLine(i,n,r);return 2===t?p?h=p.end+1:h<g||c===u?h=g:(c++,p=d._findNextWordOnLine(i,n,new a.L(c,1)),h=p?p.start+1:n.getLineMaxColumn(c)):(p&&h>=p.start+1&&(p=d._findNextWordOnLine(i,n,new a.L(c,p.end+1))),p?h=p.start+1:h<g||c===u?h=g:(c++,p=d._findNextWordOnLine(i,n,new a.L(c,1)),h=p?p.start+1:n.getLineMaxColumn(c))),new l.e(c,h,r.lineNumber,r.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=d._moveWordPartRight(e,i);return new l.e(i.lineNumber,i.column,n.lineNumber,n.column)}static _createWordAtPosition(e,t,i){const n=new l.e(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(e,t,i){const n=(0,r.u)(t),o=d._findPreviousWordOnLine(n,e,i);if(o&&1===o.wordType&&o.start<=i.column-1&&i.column-1<=o.end)return d._createWordAtPosition(e,i.lineNumber,o);const s=d._findNextWordOnLine(n,e,i);return s&&1===s.wordType&&s.start<=i.column-1&&i.column-1<=s.end?d._createWordAtPosition(e,i.lineNumber,s):null}static word(e,t,i,n,s){const c=(0,r.u)(e.wordSeparators),h=d._findPreviousWordOnLine(c,t,s),u=d._findNextWordOnLine(c,t,s);if(!n){let e,i;return h&&1===h.wordType&&h.start<=s.column-1&&s.column-1<=h.end?(e=h.start+1,i=h.end+1):u&&1===u.wordType&&u.start<=s.column-1&&s.column-1<=u.end?(e=u.start+1,i=u.end+1):(e=h?h.end+1:1,i=u?u.start+1:t.getLineMaxColumn(s.lineNumber)),new o.rS(new l.e(s.lineNumber,e,s.lineNumber,i),0,new a.L(s.lineNumber,i),0)}let g,p;h&&1===h.wordType&&h.start<s.column-1&&s.column-1<h.end?(g=h.start+1,p=h.end+1):u&&1===u.wordType&&u.start<s.column-1&&s.column-1<u.end?(g=u.start+1,p=u.end+1):(g=s.column,p=s.column);const m=s.lineNumber;let f;if(i.selectionStart.containsPosition(s))f=i.selectionStart.endColumn;else if(s.isBeforeOrEqual(i.selectionStart.getStartPosition())){f=g;const e=new a.L(m,f);i.selectionStart.containsPosition(e)&&(f=i.selectionStart.endColumn)}else{f=p;const e=new a.L(m,f);i.selectionStart.containsPosition(e)&&(f=i.selectionStart.startColumn)}return i.move(!0,m,f,0)}}class c extends d{static deleteWordPartLeft(e){const t=h([d.deleteWordLeft(e,0),d.deleteWordLeft(e,2),d._deleteWordPartLeft(e.model,e.selection)]);return t.sort(l.e.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){const t=h([d.deleteWordRight(e,0),d.deleteWordRight(e,2),d._deleteWordPartRight(e.model,e.selection)]);return t.sort(l.e.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,i){const n=h([d.moveWordLeft(e,t,i,0),d.moveWordLeft(e,t,i,2),d._moveWordPartLeft(t,i)]);return n.sort(a.L.compare),n[2]}static moveWordPartRight(e,t,i){const n=h([d.moveWordRight(e,t,i,0),d.moveWordRight(e,t,i,2),d._moveWordPartRight(t,i)]);return n.sort(a.L.compare),n[0]}}function h(e){return e.filter((e=>Boolean(e)))}},653:(e,t,i)=>{"use strict";i.d(t,{p:()=>n});class n{constructor(e,t,i,n,o,s){this.id=e,this.label=t,this.alias=i,this._precondition=n,this._run=o,this._contextKeyService=s}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},6518:(e,t,i)=>{"use strict";i.d(t,{g:()=>n});const n={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},9102:(e,t,i)=>{"use strict";i.d(t,{u:()=>n});var n,o=i(3580),s=i(8819);!function(e){e.editorSimpleInput=new s.uy("editorSimpleInput",!1,!0),e.editorTextFocus=new s.uy("editorTextFocus",!1,o.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),e.focus=new s.uy("editorFocus",!1,o.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),e.textInputFocus=new s.uy("textInputFocus",!1,o.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),e.readOnly=new s.uy("editorReadonly",!1,o.NC("editorReadonly","Whether the editor is read only")),e.inDiffEditor=new s.uy("inDiffEditor",!1,o.NC("inDiffEditor","Whether the context is a diff editor")),e.columnSelection=new s.uy("editorColumnSelection",!1,o.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),e.writable=e.readOnly.toNegated(),e.hasNonEmptySelection=new s.uy("editorHasSelection",!1,o.NC("editorHasSelection","Whether the editor has text selected")),e.hasOnlyEmptySelection=e.hasNonEmptySelection.toNegated(),e.hasMultipleSelections=new s.uy("editorHasMultipleSelections",!1,o.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),e.hasSingleSelection=e.hasMultipleSelections.toNegated(),e.tabMovesFocus=new s.uy("editorTabMovesFocus",!1,o.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),e.tabDoesNotMoveFocus=e.tabMovesFocus.toNegated(),e.isInWalkThroughSnippet=new s.uy("isInEmbeddedEditor",!1,!0),e.canUndo=new s.uy("canUndo",!1,!0),e.canRedo=new s.uy("canRedo",!1,!0),e.hoverVisible=new s.uy("editorHoverVisible",!1,o.NC("editorHoverVisible","Whether the editor hover is visible")),e.inCompositeEditor=new s.uy("inCompositeEditor",void 0,o.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),e.notInCompositeEditor=e.inCompositeEditor.toNegated(),e.languageId=new s.uy("editorLangId","",o.NC("editorLangId","The language identifier of the editor")),e.hasCompletionItemProvider=new s.uy("editorHasCompletionItemProvider",!1,o.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),e.hasCodeActionsProvider=new s.uy("editorHasCodeActionsProvider",!1,o.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),e.hasCodeLensProvider=new s.uy("editorHasCodeLensProvider",!1,o.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),e.hasDefinitionProvider=new s.uy("editorHasDefinitionProvider",!1,o.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),e.hasDeclarationProvider=new s.uy("editorHasDeclarationProvider",!1,o.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),e.hasImplementationProvider=new s.uy("editorHasImplementationProvider",!1,o.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),e.hasTypeDefinitionProvider=new s.uy("editorHasTypeDefinitionProvider",!1,o.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),e.hasHoverProvider=new s.uy("editorHasHoverProvider",!1,o.NC("editorHasHoverProvider","Whether the editor has a hover provider")),e.hasDocumentHighlightProvider=new s.uy("editorHasDocumentHighlightProvider",!1,o.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),e.hasDocumentSymbolProvider=new s.uy("editorHasDocumentSymbolProvider",!1,o.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),e.hasReferenceProvider=new s.uy("editorHasReferenceProvider",!1,o.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),e.hasRenameProvider=new s.uy("editorHasRenameProvider",!1,o.NC("editorHasRenameProvider","Whether the editor has a rename provider")),e.hasSignatureHelpProvider=new s.uy("editorHasSignatureHelpProvider",!1,o.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),e.hasInlayHintsProvider=new s.uy("editorHasInlayHintsProvider",!1,o.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),e.hasDocumentFormattingProvider=new s.uy("editorHasDocumentFormattingProvider",!1,o.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),e.hasDocumentSelectionFormattingProvider=new s.uy("editorHasDocumentSelectionFormattingProvider",!1,o.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),e.hasMultipleDocumentFormattingProvider=new s.uy("editorHasMultipleDocumentFormattingProvider",!1,o.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),e.hasMultipleDocumentSelectionFormattingProvider=new s.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,o.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))}(n||(n={}))},5797:(e,t,i)=>{"use strict";i.d(t,{N:()=>n});class n{static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(768&e)>>>8}static containsBalancedBrackets(e){return 0!=(1024&e)}static getFontStyle(e){return(30720&e)>>>11}static getForeground(e){return(16744448&e)>>>15}static getBackground(e){return(4278190080&e)>>>24}static getClassNameFromMetadata(e){let t="mtk"+this.getForeground(e);const i=this.getFontStyle(e);return 1&i&&(t+=" mtki"),2&i&&(t+=" mtkb"),4&i&&(t+=" mtku"),8&i&&(t+=" mtks"),t}static getInlineStyleFromMetadata(e,t){const i=this.getForeground(e),n=this.getFontStyle(e);let o=`color: ${t[i]};`;1&n&&(o+="font-style: italic;"),2&n&&(o+="font-weight: bold;");let s="";return 4&n&&(s+=" underline"),8&n&&(s+=" line-through"),s&&(o+=`text-decoration:${s};`),o}static getPresentationFromMetadata(e){const t=this.getForeground(e),i=this.getFontStyle(e);return{foreground:t,italic:Boolean(1&i),bold:Boolean(2&i),underline:Boolean(4&i),strikethrough:Boolean(8&i)}}}},6887:(e,t,i)=>{"use strict";i.d(t,{mY:()=>l,gX:()=>n,MY:()=>r,DI:()=>b,AD:()=>y,gl:()=>d,bw:()=>o,WW:()=>s,uZ:()=>a,WU:()=>v,RW:()=>w,hG:()=>_,vx:()=>C});var n,o,s,r,a,l,d,c=i(3046),h=i(666),u=i(4314),g=i(4669),p=i(5976),m=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class f extends p.JT{constructor(e,t,i){super(),this._registry=e,this._languageId=t,this._factory=i,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return m(this,void 0,void 0,(function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}))}_create(){return m(this,void 0,void 0,(function*(){const e=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,e&&!this._isDisposed&&this._register(this._registry.register(this._languageId,e))}))}}class v{constructor(e,t,i){this._tokenBrand=void 0,this.offset=e,this.type=t,this.language=i}toString(){return"("+this.offset+", "+this.type+")"}}class _{constructor(e,t){this._tokenizationResultBrand=void 0,this.tokens=e,this.endState=t}}class b{constructor(e,t){this._encodedTokenizationResultBrand=void 0,this.tokens=e,this.endState=t}}function C(e){return e&&h.o.isUri(e.uri)&&u.e.isIRange(e.range)&&(u.e.isIRange(e.originSelectionRange)||u.e.isIRange(e.targetSelectionRange))}!function(e){const t=new Map;t.set(0,c.lA.symbolMethod),t.set(1,c.lA.symbolFunction),t.set(2,c.lA.symbolConstructor),t.set(3,c.lA.symbolField),t.set(4,c.lA.symbolVariable),t.set(5,c.lA.symbolClass),t.set(6,c.lA.symbolStruct),t.set(7,c.lA.symbolInterface),t.set(8,c.lA.symbolModule),t.set(9,c.lA.symbolProperty),t.set(10,c.lA.symbolEvent),t.set(11,c.lA.symbolOperator),t.set(12,c.lA.symbolUnit),t.set(13,c.lA.symbolValue),t.set(15,c.lA.symbolEnum),t.set(14,c.lA.symbolConstant),t.set(15,c.lA.symbolEnum),t.set(16,c.lA.symbolEnumMember),t.set(17,c.lA.symbolKeyword),t.set(27,c.lA.symbolSnippet),t.set(18,c.lA.symbolText),t.set(19,c.lA.symbolColor),t.set(20,c.lA.symbolFile),t.set(21,c.lA.symbolReference),t.set(22,c.lA.symbolCustomColor),t.set(23,c.lA.symbolFolder),t.set(24,c.lA.symbolTypeParameter),t.set(25,c.lA.account),t.set(26,c.lA.issues),e.toIcon=function(e){let i=t.get(e);return i||(console.info("No codicon found for CompletionItemKind "+e),i=c.lA.symbolProperty),i};const i=new Map;i.set("method",0),i.set("function",1),i.set("constructor",2),i.set("field",3),i.set("variable",4),i.set("class",5),i.set("struct",6),i.set("interface",7),i.set("module",8),i.set("property",9),i.set("event",10),i.set("operator",11),i.set("unit",12),i.set("value",13),i.set("constant",14),i.set("enum",15),i.set("enum-member",16),i.set("enumMember",16),i.set("keyword",17),i.set("snippet",27),i.set("text",18),i.set("color",19),i.set("file",20),i.set("reference",21),i.set("customcolor",22),i.set("folder",23),i.set("type-parameter",24),i.set("typeParameter",24),i.set("account",25),i.set("issue",26),e.fromString=function(e,t){let n=i.get(e);return void 0!==n||t||(n=9),n}}(n||(n={})),function(e){e[e.Automatic=0]="Automatic",e[e.Explicit=1]="Explicit"}(o||(o={})),function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(s||(s={})),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(r||(r={})),function(e){const t=new Map;t.set(0,c.lA.symbolFile),t.set(1,c.lA.symbolModule),t.set(2,c.lA.symbolNamespace),t.set(3,c.lA.symbolPackage),t.set(4,c.lA.symbolClass),t.set(5,c.lA.symbolMethod),t.set(6,c.lA.symbolProperty),t.set(7,c.lA.symbolField),t.set(8,c.lA.symbolConstructor),t.set(9,c.lA.symbolEnum),t.set(10,c.lA.symbolInterface),t.set(11,c.lA.symbolFunction),t.set(12,c.lA.symbolVariable),t.set(13,c.lA.symbolConstant),t.set(14,c.lA.symbolString),t.set(15,c.lA.symbolNumber),t.set(16,c.lA.symbolBoolean),t.set(17,c.lA.symbolArray),t.set(18,c.lA.symbolObject),t.set(19,c.lA.symbolKey),t.set(20,c.lA.symbolNull),t.set(21,c.lA.symbolEnumMember),t.set(22,c.lA.symbolStruct),t.set(23,c.lA.symbolEvent),t.set(24,c.lA.symbolOperator),t.set(25,c.lA.symbolTypeParameter),e.toIcon=function(e){let i=t.get(e);return i||(console.info("No codicon found for SymbolKind "+e),i=c.lA.symbolProperty),i}}(a||(a={}));class y{constructor(e){this.value=e}}y.Comment=new y("comment"),y.Imports=new y("imports"),y.Region=new y("region"),function(e){e.is=function(e){return!(!e||"object"!=typeof e)&&"string"==typeof e.id&&"string"==typeof e.title}}(l||(l={})),function(e){e[e.Type=1]="Type",e[e.Parameter=2]="Parameter"}(d||(d={}));const w=new class{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new g.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),(0,p.OF)((()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))}))}registerFactory(e,t){var i;null===(i=this._factories.get(e))||void 0===i||i.dispose();const n=new f(this,e,t);return this._factories.set(e,n),(0,p.OF)((()=>{const t=this._factories.get(e);t&&t===n&&(this._factories.delete(e),t.dispose())}))}getOrCreate(e){return m(this,void 0,void 0,(function*(){const t=this.get(e);if(t)return t;const i=this._factories.get(e);return!i||i.isResolved?null:(yield i.resolve(),this.get(e))}))}get(e){return this._map.get(e)||null}isResolved(e){if(this.get(e))return!0;const t=this._factories.get(e);return!(t&&!t.isResolved)}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},5383:(e,t,i)=>{"use strict";i.d(t,{$9:()=>c,UF:()=>d,n8:()=>l,r7:()=>a,tI:()=>h});var n=i(7295),o=i(9119),s=i(9111),r=i(1381);function a(e,t,i,s=!0,r){if(e<4)return null;const a=r.getLanguageConfiguration(t.tokenization.getLanguageId()).indentRulesSupport;if(!a)return null;if(i<=1)return{indentation:"",action:null};const l=function(e,t,i){const n=e.tokenization.getLanguageIdAtPosition(t,0);if(t>1){let o,s=-1;for(o=t-1;o>=1;o--){if(e.tokenization.getLanguageIdAtPosition(o,0)!==n)return s;const t=e.getLineContent(o);if(!i.shouldIgnore(t)&&!/^\s+$/.test(t)&&""!==t)return o;s=o}}return-1}(t,i,a);if(l<0)return null;if(l<1)return{indentation:"",action:null};const d=t.getLineContent(l);if(a.shouldIncrease(d)||a.shouldIndentNextLine(d))return{indentation:n.V8(d),action:o.wU.Indent,line:l};if(a.shouldDecrease(d))return{indentation:n.V8(d),action:null,line:l};{if(1===l)return{indentation:n.V8(t.getLineContent(l)),action:null,line:l};const e=l-1,i=a.getIndentMetadata(t.getLineContent(e));if(!(3&i)&&4&i){let i=0;for(let n=e-1;n>0;n--)if(!a.shouldIndentNextLine(t.getLineContent(n))){i=n;break}return{indentation:n.V8(t.getLineContent(i+1)),action:null,line:i+1}}if(s)return{indentation:n.V8(t.getLineContent(l)),action:null,line:l};for(let e=l;e>0;e--){const i=t.getLineContent(e);if(a.shouldIncrease(i))return{indentation:n.V8(i),action:o.wU.Indent,line:e};if(a.shouldIndentNextLine(i)){let i=0;for(let n=e-1;n>0;n--)if(!a.shouldIndentNextLine(t.getLineContent(e))){i=n;break}return{indentation:n.V8(t.getLineContent(i+1)),action:null,line:i+1}}if(a.shouldDecrease(i))return{indentation:n.V8(i),action:null,line:e}}return{indentation:n.V8(t.getLineContent(1)),action:null,line:1}}}function l(e,t,i,s,r,l){if(e<4)return null;const d=l.getLanguageConfiguration(i);if(!d)return null;const c=l.getLanguageConfiguration(i).indentRulesSupport;if(!c)return null;const h=a(e,t,s,void 0,l),u=t.getLineContent(s);if(h){const i=h.line;if(void 0!==i){const s=d.onEnter(e,"",t.getLineContent(i),"");if(s){let e=n.V8(t.getLineContent(i));return s.removeText&&(e=e.substring(0,e.length-s.removeText)),s.indentAction===o.wU.Indent||s.indentAction===o.wU.IndentOutdent?e=r.shiftIndent(e):s.indentAction===o.wU.Outdent&&(e=r.unshiftIndent(e)),c.shouldDecrease(u)&&(e=r.unshiftIndent(e)),s.appendText&&(e+=s.appendText),n.V8(e)}}return c.shouldDecrease(u)?h.action===o.wU.Indent?h.indentation:r.unshiftIndent(h.indentation):h.action===o.wU.Indent?r.shiftIndent(h.indentation):h.indentation}return null}function d(e,t,i,l,d){if(e<4)return null;t.tokenization.forceTokenization(i.startLineNumber);const c=t.tokenization.getLineTokens(i.startLineNumber),h=(0,s.wH)(c,i.startColumn-1),u=h.getLineContent();let g,p,m=!1;h.firstCharOffset>0&&c.getLanguageId(0)!==h.languageId?(m=!0,g=u.substr(0,i.startColumn-1-h.firstCharOffset)):g=c.getLineContent().substring(0,i.startColumn-1),p=i.isEmpty()?u.substr(i.startColumn-1-h.firstCharOffset):(0,r.n2)(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-h.firstCharOffset);const f=d.getLanguageConfiguration(h.languageId).indentRulesSupport;if(!f)return null;const v=g,_=n.V8(g),b={tokenization:{getLineTokens:e=>t.tokenization.getLineTokens(e),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(e,i)=>t.getLanguageIdAtPosition(e,i)},getLineContent:e=>e===i.startLineNumber?v:t.getLineContent(e)},C=n.V8(c.getLineContent()),y=a(e,b,i.startLineNumber+1,void 0,d);if(!y){const e=m?C:_;return{beforeEnter:e,afterEnter:e}}let w=m?C:y.indentation;return y.action===o.wU.Indent&&(w=l.shiftIndent(w)),f.shouldDecrease(p)&&(w=l.unshiftIndent(w)),{beforeEnter:m?C:_,afterEnter:w}}function c(e,t,i,n,s,l){if(e<4)return null;const d=(0,r.n2)(t,i.startLineNumber,i.startColumn);if(d.firstCharOffset)return null;const c=l.getLanguageConfiguration(d.languageId).indentRulesSupport;if(!c)return null;const h=d.getLineContent(),u=h.substr(0,i.startColumn-1-d.firstCharOffset);let g;if(g=i.isEmpty()?h.substr(i.startColumn-1-d.firstCharOffset):(0,r.n2)(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-d.firstCharOffset),!c.shouldDecrease(u+g)&&c.shouldDecrease(u+n+g)){const n=a(e,t,i.startLineNumber,!1,l);if(!n)return null;let r=n.indentation;return n.action!==o.wU.Indent&&(r=s.unshiftIndent(r)),r}return null}function h(e,t,i){const n=i.getLanguageConfiguration(e.getLanguageId()).indentRulesSupport;return n?t<1||t>e.getLineCount()?null:n.getIndentMetadata(e.getLineContent(t)):null}},1615:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(9119),o=i(1381);function s(e,t,i,s){const r=(0,o.n2)(t,i.startLineNumber,i.startColumn),a=s.getLanguageConfiguration(r.languageId);if(!a)return null;const l=r.getLineContent(),d=l.substr(0,i.startColumn-1-r.firstCharOffset);let c;c=i.isEmpty()?l.substr(i.startColumn-1-r.firstCharOffset):(0,o.n2)(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-r.firstCharOffset);let h="";if(i.startLineNumber>1&&0===r.firstCharOffset){const e=(0,o.n2)(t,i.startLineNumber-1);e.languageId===r.languageId&&(h=e.getLineContent())}const u=a.onEnter(e,h,d,c);if(!u)return null;const g=u.indentAction;let p=u.appendText;const m=u.removeText||0;p?g===n.wU.Indent&&(p="\t"+p):p=g===n.wU.Indent||g===n.wU.IndentOutdent?"\t":"";let f=(0,o.u0)(t,i.startLineNumber,i.startColumn);return m&&(f=f.substring(0,f.length-m)),{indentAction:g,appendText:p,removeText:m,indentation:f}}},2042:(e,t,i)=>{"use strict";i.d(t,{O:()=>n});const n=(0,i(2065).yh)("languageService")},9119:(e,t,i)=>{"use strict";var n;i.d(t,{V6:()=>o,c$:()=>s,wU:()=>n}),function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(n||(n={}));class o{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(0===e.getTokenCount())return!0;const i=e.findTokenIndexAtOffset(t-2),n=e.getStandardTokenType(i);return this.isOK(n)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){const e=String.fromCharCode(i);if(!this.open.includes(e)&&!this.close.includes(e))return e}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class s{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)r(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),r(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),r(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),r(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&r(this.autoClosingPairsCloseSingleChar,t.close,t)}}function r(e,t,i){e.has(t)?e.get(t).push(i):e.set(t,[i])}},1381:(e,t,i)=>{"use strict";i.d(t,{c_:()=>E,u0:()=>R,n2:()=>P});var n=i(4669),o=i(5976),s=i(7295),r=i(270),a=i(9119),l=i(9111);class d{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map((e=>new a.V6(e))):e.brackets?this._autoClosingPairs=e.brackets.map((e=>new a.V6({open:e[0],close:e[1]}))):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new a.V6({open:t.open,close:t.close||""}))}this._autoCloseBefore="string"==typeof e.autoCloseBefore?e.autoCloseBefore:d.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}}d.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t";var c=i(9488),h=i(4302);class u{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const t=i.charAt(i.length-1);e.push(t)}return(0,c.EB)(e)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const n=t.findTokenIndexAtOffset(i-1);if((0,l.Bu)(t.getStandardTokenType(n)))return null;const o=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,i-1)+e,r=h.Vr.findPrevBracketInRange(o,1,s,0,s.length);if(!r)return null;const a=s.substring(r.startColumn-1,r.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[a])return null;const d=t.getActualLineContentBefore(r.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:a}:null}}function g(e){return e.global&&(e.lastIndex=0),!0}class p{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&g(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&g(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&g(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&g(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}var m=i(7301);class f{constructor(e){(e=e||{}).brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach((e=>{const t=f._createOpenBracketRegExp(e[0]),i=f._createCloseBracketRegExp(e[1]);t&&i&&this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:i})})),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,n){if(e>=3)for(let e=0,o=this._regExpRules.length;e<o;e++){const o=this._regExpRules[e];if([{reg:o.beforeText,text:i},{reg:o.afterText,text:n},{reg:o.previousLineText,text:t}].every((e=>!e.reg||(e.reg.lastIndex=0,e.reg.test(e.text)))))return o.action}if(e>=2&&i.length>0&&n.length>0)for(let e=0,t=this._brackets.length;e<t;e++){const t=this._brackets[e];if(t.openRegExp.test(i)&&t.closeRegExp.test(n))return{indentAction:a.wU.IndentOutdent}}if(e>=2&&i.length>0)for(let e=0,t=this._brackets.length;e<t;e++)if(this._brackets[e].openRegExp.test(i))return{indentAction:a.wU.Indent};return null}static _createOpenBracketRegExp(e){let t=s.ec(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",f._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=s.ec(e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,f._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(e){return(0,m.dL)(e),null}}}var v=i(2065),_=i(3108),b=i(2042),C=i(5026),y=i(8801),w=i(701);class S{constructor(e,t){let i;this.languageId=e,i=t.colorizedBracketPairs?k(t.colorizedBracketPairs.map((e=>[e[0],e[1]]))):t.brackets?k(t.brackets.map((e=>[e[0],e[1]])).filter((e=>!("<"===e[0]&&">"===e[1])))):[];const n=new w.b((e=>{const t=new Set;return{info:new x(this,e,t),closing:t}})),o=new w.b((e=>{const t=new Set;return{info:new I(this,e,t),opening:t}}));for(const[e,t]of i){const i=n.get(e),s=o.get(t);i.closing.add(s.info),s.opening.add(i.info)}this._openingBrackets=new Map([...n.cachedValues].map((([e,t])=>[e,t.info]))),this._closingBrackets=new Map([...o.cachedValues].map((([e,t])=>[e,t.info])))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}}function k(e){return e.filter((([e,t])=>""!==e&&""!==t))}class L{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}}class x extends L{constructor(e,t,i){super(e,t),this.openedBrackets=i,this.isOpeningBracket=!0}}class I extends L{constructor(e,t,i){super(e,t),this.closedBrackets=i,this.isOpeningBracket=!1}closes(e){if(e.languageId===this.languageId&&e.config!==this.config)throw new m.he("Brackets from different language configuration cannot be used.");return this.closedBrackets.has(e)}getClosedBrackets(){return[...this.closedBrackets]}}var D=function(e,t){return function(i,n){t(i,n,e)}};class N{constructor(e){this.languageId=e}affects(e){return!this.languageId||this.languageId===e}}const E=(0,v.yh)("languageConfigurationService");let A=class extends o.JT{constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new z),this.onDidChangeEmitter=this._register(new n.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const i=new Set(Object.values(T));this._register(this.configurationService.onDidChangeConfiguration((e=>{const t=e.change.keys.some((e=>i.has(e))),n=e.change.overrides.filter((([e,t])=>t.some((e=>i.has(e))))).map((([e])=>e));if(t)this.configurations.clear(),this.onDidChangeEmitter.fire(new N(void 0));else for(const e of n)this.languageService.isRegisteredLanguageId(e)&&(this.configurations.delete(e),this.onDidChangeEmitter.fire(new N(e)))}))),this._register(this._registry.onDidChange((e=>{this.configurations.delete(e.languageId),this.onDidChangeEmitter.fire(new N(e.languageId))})))}register(e,t,i){return this._registry.register(e,t,i)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=function(e,t,i,n){let o=t.getLanguageConfiguration(e);if(!o){if(!n.isRegisteredLanguageId(e))throw new Error(`Language id "${e}" is not configured nor known`);o=new B(e,{})}const s=function(e,t){const i=t.getValue(T.brackets,{overrideIdentifier:e}),n=t.getValue(T.colorizedBracketPairs,{overrideIdentifier:e});return{brackets:M(i),colorizedBracketPairs:M(n)}}(o.languageId,i),r=V([o.underlyingConfig,s]);return new B(o.languageId,r)}(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};A=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([D(0,_.Ui),D(1,b.O)],A);const T={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function M(e){if(Array.isArray(e))return e.map((e=>{if(Array.isArray(e)&&2===e.length)return[e[0],e[1]]})).filter((e=>!!e))}function R(e,t,i){const n=e.getLineContent(t);let o=s.V8(n);return o.length>i-1&&(o=o.substring(0,i-1)),o}function P(e,t,i){e.tokenization.forceTokenization(t);const n=e.tokenization.getLineTokens(t),o=void 0===i?e.getLineMaxColumn(t)-1:i-1;return(0,l.wH)(n,o)}class O{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new F(e,t,++this._order);return this._entries.push(i),this._resolved=null,(0,o.OF)((()=>{for(let e=0;e<this._entries.length;e++)if(this._entries[e]===i){this._entries.splice(e,1),this._resolved=null;break}}))}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new B(this.languageId,e))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(F.cmp),V(this._entries.map((e=>e.configuration))))}}function V(e){let t={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const i of e)t={comments:i.comments||t.comments,brackets:i.brackets||t.brackets,wordPattern:i.wordPattern||t.wordPattern,indentationRules:i.indentationRules||t.indentationRules,onEnterRules:i.onEnterRules||t.onEnterRules,autoClosingPairs:i.autoClosingPairs||t.autoClosingPairs,surroundingPairs:i.surroundingPairs||t.surroundingPairs,autoCloseBefore:i.autoCloseBefore||t.autoCloseBefore,folding:i.folding||t.folding,colorizedBracketPairs:i.colorizedBracketPairs||t.colorizedBracketPairs,__electricCharacterSupport:i.__electricCharacterSupport||t.__electricCharacterSupport};return t}class F{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class W{constructor(e){this.languageId=e}}class z extends o.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new n.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(y.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,i=0){let n=this._entries.get(e);n||(n=new O(e),this._entries.set(e,n));const s=n.register(t,i);return this._onDidChange.fire(new W(e)),(0,o.OF)((()=>{s.dispose(),this._onDidChange.fire(new W(e))}))}getLanguageConfiguration(e){const t=this._entries.get(e);return(null==t?void 0:t.getResolvedConfiguration())||null}}class B{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new f(this.underlyingConfig):null,this.comments=B._handleComments(this.underlyingConfig),this.characterPair=new d(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||r.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new p(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new S(e,this.underlyingConfig)}getWordDefinition(){return(0,r.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new h.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new u(this.brackets)),this._electricCharacter}onEnter(e,t,i,n){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,n):null}getAutoClosingPairs(){return new a.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){const[e,n]=t.blockComment;i.blockCommentStartToken=e,i.blockCommentEndToken=n}return i}}(0,C.z)(E,A)},8801:(e,t,i)=>{"use strict";i.d(t,{bd:()=>d,dQ:()=>l});var n=i(3580),o=i(4669),s=i(9872),r=i(1170),a=i(3193);const l=new class{constructor(){this._onDidChangeLanguages=new o.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return this._languages}};s.B.add("editor.modesRegistry",l);const d="plaintext";l.registerLanguage({id:d,extensions:[".txt"],aliases:[n.NC("plainText.alias","Plain Text"),"text"],mimetypes:[r.v.text]}),s.B.as(a.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},276:(e,t,i)=>{"use strict";i.d(t,{Dy:()=>r,Ri:()=>s,TJ:()=>o});var n=i(6887);const o=new class{clone(){return this}equals(e){return this===e}};function s(e,t){return new n.hG([new n.WU(0,"",e)],t)}function r(e,t){const i=new Uint32Array(2);return i[0]=0,i[1]=(32768|e<<0|2<<24)>>>0,new n.DI(i,null===t?o:t)}},9111:(e,t,i)=>{"use strict";function n(e,t){const i=e.getCount(),n=e.findTokenIndexAtOffset(t),s=e.getLanguageId(n);let r=n;for(;r+1<i&&e.getLanguageId(r+1)===s;)r++;let a=n;for(;a>0&&e.getLanguageId(a-1)===s;)a--;return new o(e,s,a,r+1,e.getStartOffset(a),e.getEndOffset(r))}i.d(t,{Bu:()=>s,wH:()=>n});class o{constructor(e,t,i,n,o,s){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=n,this.firstCharOffset=o,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function s(e){return 0!=(3&e)}},4302:(e,t,i)=>{"use strict";i.d(t,{EA:()=>a,Vr:()=>p});var n=i(7295),o=i(72),s=i(4314);class r{constructor(e,t,i,n,o,s){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=n,this.forwardRegex=o,this.reversedRegex=s,this._openSet=r._toSet(this.open),this._closeSet=r._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}class a{constructor(e,t){this._richEditBracketsBrand=void 0;const i=function(e){const t=e.length;e=e.map((e=>[e[0].toLowerCase(),e[1].toLowerCase()]));const i=[];for(let e=0;e<t;e++)i[e]=e;const n=(e,t)=>{const[i,n]=e,[o,s]=t;return i===o||i===s||n===o||n===s},o=(e,n)=>{const o=Math.min(e,n),s=Math.max(e,n);for(let e=0;e<t;e++)i[e]===s&&(i[e]=o)};for(let s=0;s<t;s++){const r=e[s];for(let a=s+1;a<t;a++)n(r,e[a])&&o(i[s],i[a])}const s=[];for(let n=0;n<t;n++){const o=[],r=[];for(let s=0;s<t;s++)if(i[s]===n){const[t,i]=e[s];o.push(t),r.push(i)}o.length>0&&s.push({open:o,close:r})}return s}(t);this.brackets=i.map(((t,n)=>new r(e,n,t.open,t.close,function(e,t,i,n){let o=[];o=o.concat(e),o=o.concat(t);for(let e=0,t=o.length;e<t;e++)l(o[e],i,n,o);return o=c(o),o.sort(d),o.reverse(),u(o)}(t.open,t.close,i,n),function(e,t,i,n){let o=[];o=o.concat(e),o=o.concat(t);for(let e=0,t=o.length;e<t;e++)l(o[e],i,n,o);return o=c(o),o.sort(d),o.reverse(),u(o.map(g))}(t.open,t.close,i,n)))),this.forwardRegex=function(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return t=c(t),u(t)}(this.brackets),this.reversedRegex=function(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return t=c(t),u(t.map(g))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const e of this.brackets){for(const t of e.open)this.textIsBracket[t]=e,this.textIsOpenBracket[t]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,t.length);for(const t of e.close)this.textIsBracket[t]=e,this.textIsOpenBracket[t]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,t.length)}}}function l(e,t,i,n){for(let o=0,s=t.length;o<s;o++){if(o===i)continue;const s=t[o];for(const t of s.open)t.indexOf(e)>=0&&n.push(t);for(const t of s.close)t.indexOf(e)>=0&&n.push(t)}}function d(e,t){return e.length-t.length}function c(e){if(e.length<=1)return e;const t=[],i=new Set;for(const n of e)i.has(n)||(t.push(n),i.add(n));return t}function h(e){const t=/^[\w ]+$/.test(e);return e=n.ec(e),t?`\\b${e}\\b`:e}function u(e){const t=`(${e.map(h).join(")|(")})`;return n.GF(t,!0)}const g=function(){let e=null,t=null;return function(i){return e!==i&&(e=i,t=function(e){if(o.lZ){const t=new Uint16Array(e.length);let i=0;for(let n=e.length-1;n>=0;n--)t[i++]=e.charCodeAt(n);return o.oe().decode(t)}{const t=[];let i=0;for(let n=e.length-1;n>=0;n--)t[i++]=e.charAt(n);return t.join("")}}(e)),t}}();class p{static _findPrevBracketInText(e,t,i,n){const o=i.match(e);if(!o)return null;const r=i.length-(o.index||0),a=o[0].length,l=n+r;return new s.e(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,i,n,o){const s=g(i).substring(i.length-o,i.length-n);return this._findPrevBracketInText(e,t,s,n)}static findNextBracketInText(e,t,i,n){const o=i.match(e);if(!o)return null;const r=o.index||0,a=o[0].length;if(0===a)return null;const l=n+r;return new s.e(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,i,n,o){const s=i.substring(n,o);return this.findNextBracketInText(e,t,s,n)}}},2963:(e,t,i)=>{"use strict";i.d(t,{C2:()=>l,Fq:()=>d});var n=i(7295),o=i(7378),s=i(6887),r=i(276);const a={getInitialState:()=>r.TJ,tokenizeEncoded:(e,t,i)=>(0,r.Dy)(0,i)};function l(e,t,i){return n=this,o=void 0,l=function*(){if(!i)return c(t,e.languageIdCodec,a);const n=yield s.RW.getOrCreate(i);return c(t,e.languageIdCodec,n||a)},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{a(l.next(e))}catch(e){t(e)}}function s(e){try{a(l.throw(e))}catch(e){t(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,s)}a((l=l.apply(n,o||[])).next())}));var n,o,r,l}function d(e,t,i,n,o,s,r){let a="<div>",l=n,d=0,c=!0;for(let h=0,u=t.getCount();h<u;h++){const u=t.getEndOffset(h);if(u<=n)continue;let g="";for(;l<u&&l<o;l++){const t=e.charCodeAt(l);switch(t){case 9:{let e=s-(l+d)%s;for(d+=e-1;e>0;)r&&c?(g+="&#160;",c=!1):(g+=" ",c=!0),e--;break}case 60:g+="&lt;",c=!1;break;case 62:g+="&gt;",c=!1;break;case 38:g+="&amp;",c=!1;break;case 0:g+="&#00;",c=!1;break;case 65279:case 8232:case 8233:case 133:g+="",c=!1;break;case 13:g+="&#8203",c=!1;break;case 32:r&&c?(g+="&#160;",c=!1):(g+=" ",c=!0);break;default:g+=String.fromCharCode(t),c=!1}}if(a+=`<span style="${t.getInlineStyle(h,i)}">${g}</span>`,u>o||l>=o)break}return a+="</div>",a}function c(e,t,i){let s='<div class="monaco-tokenized-source">';const r=n.uq(e);let a=i.getInitialState();for(let e=0,l=r.length;e<l;e++){const l=r[e];e>0&&(s+="<br/>");const d=i.tokenizeEncoded(l,!0,a);o.A.convertToEndOffset(d.tokens,l.length);const c=new o.A(d.tokens,l,t).inflate();let h=0;for(let e=0,t=c.getCount();e<t;e++){const t=c.getClassName(e),i=c.getEndOffset(e);s+=`<span class="${t}">${n.YU(l.substring(h,i))}</span>`,h=i}a=d.endState}return s+="</div>",s}},4973:(e,t,i)=>{"use strict";i.d(t,{F5:()=>o,Hf:()=>d,Qi:()=>c,RM:()=>s,Tx:()=>h,dJ:()=>a,je:()=>u,pt:()=>g,sh:()=>n,tk:()=>l});var n,o,s,r=i(6248);!function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(n||(n={})),function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"}(o||(o={})),function(e){e[e.Both=0]="Both",e[e.Right=1]="Right",e[e.Left=2]="Left",e[e.None=3]="None"}(s||(s={}));class a{constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|e.tabSize),this.indentSize=0|e.tabSize,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace),this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&(0,r.fS)(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class l{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}function d(e){return e&&"function"==typeof e.read}class c{constructor(e,t,i,n,o,s){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=n,this.isAutoWhitespaceEdit=o,this._isTracked=s}}class h{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}}class u{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}function g(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}},1720:(e,t,i)=>{"use strict";i.d(t,{BH:()=>m,Dm:()=>v,Kd:()=>a,Y0:()=>l,n2:()=>f});var n=i(7988),o=i(5035),s=i(1761);class r{constructor(e){this._length=e}get length(){return this._length}}class a extends r{constructor(e,t,i,n,o){super(e),this.openingBracket=t,this.child=i,this.closingBracket=n,this.missingOpeningBracketIds=o}static create(e,t,i){let n=e.length;return t&&(n=(0,o.Ii)(n,t.length)),i&&(n=(0,o.Ii)(n,i.length)),new a(n,e,t,i,t?t.missingOpeningBracketIds:s.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=new Array;return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}canBeReused(e){return null!==this.closingBracket&&!e.intersects(this.missingOpeningBracketIds)}deepClone(){return new a(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation((0,o.Ii)(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class l extends r{constructor(e,t,i){super(e),this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}static create23(e,t,i,n=!1){let s=e.length,r=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(s=(0,o.Ii)(s,t.length),r=r.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");s=(0,o.Ii)(s,i.length),r=r.merge(i.missingOpeningBracketIds)}return n?new c(s,e.listHeight+1,e,t,i,r):new d(s,e.listHeight+1,e,t,i,r)}static getEmpty(){return new u(o.xl,0,[],s.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(0===e)return;const t=this.getChild(e-1),i=4===t.kind?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){if(this.throwIfImmutable(),0===this.childrenLength)return;const e=this.getChild(0),t=4===e.kind?e.toMutable():e;return e!==t&&this.setChild(0,t),t}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds))return!1;let t,i=this;for(;4===i.kind&&(t=i.childrenLength)>0;)i=i.getChild(t-1);return i.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let n=1;n<e;n++){const e=this.getChild(n);t=(0,o.Ii)(t,e.length),i=i.merge(e.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,n=e;for(let e=0;e<this.childrenLength;e++){const s=this.getChild(e);s&&(i=Math.min(i,s.computeMinIndentation(n,t)),n=(0,o.Ii)(n,s.length))}return this.cachedMinIndentation=i,i}}class d extends l{constructor(e,t,i,n,o,s){super(e,t,s),this._item1=i,this._item2=n,this._item3=o}get childrenLength(){return null!==this._item3?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:return void(this._item1=t);case 1:return void(this._item2=t);case 2:return void(this._item3=t)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new d(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class c extends d{toMutable(){return new d(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class h extends l{constructor(e,t,i,n){super(e,t,n),this._children=i}get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new h(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class u extends h{toMutable(){return new h(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const g=[];class p extends r{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return g}deepClone(){return this}}class m extends p{get kind(){return 0}get missingOpeningBracketIds(){return s.tS.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const i=(0,o.Hw)(e),s=(0===i.columnCount?i.lineCount:i.lineCount+1)+1,r=(0,o.W9)((0,o.Ii)(e,this.length))+1;let a=Number.MAX_SAFE_INTEGER;for(let e=s;e<=r;e++){const i=t.getLineFirstNonWhitespaceColumn(e),o=t.getLineContent(e);if(0===i)continue;const s=n.i.visibleColumnFromColumn(o,i,t.getOptions().tabSize);a=Math.min(a,s)}return a}}class f extends p{constructor(e,t,i){super(e),this.bracketInfo=t,this.bracketIds=i}static create(e,t,i){return new f(e,t,i)}get kind(){return 1}get missingOpeningBracketIds(){return s.tS.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class v extends p{constructor(e,t){super(t),this.missingOpeningBracketIds=e}get kind(){return 3}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}},2442:(e,t,i)=>{"use strict";i.d(t,{Q:()=>o,Y:()=>s});var n=i(5035);class o{constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}}class s{constructor(e,t){this.documentLength=t,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map((e=>r.from(e)))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],i=t?this.translateOldToCur(t.offsetObj):this.documentLength;return(0,n.BE)(e,i)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?(0,n.Hg)(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):(0,n.Hg)(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=(0,n.Hw)(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,n.Hg)(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):(0,n.Hg)(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(!(0,n.By)(i,e))break;{this.nextEditIdx++;const e=(0,n.Hw)(i),o=(0,n.Hw)(this.translateOldToCur(t.endOffsetBeforeObj)),s=e.lineCount-o.lineCount;this.deltaOldToNewLineCount+=s;const r=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,a=e.columnCount-o.columnCount;this.deltaOldToNewColumnCount=r+a,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}}}}class r{constructor(e,t,i){this.endOffsetBeforeObj=(0,n.Hw)(t),this.endOffsetAfterObj=(0,n.Hw)((0,n.Ii)(e,i)),this.offsetObj=(0,n.Hw)(e)}static from(e){return new r(e.startOffset,e.endOffset,e.newLength)}}},5382:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(7295),o=i(1720),s=i(5035),r=i(1761),a=i(6735);class l{constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(e,t){function i(e){return t.getKey(`${e.languageId}:::${e.bracketText}`)}const n=new Map;for(const t of e.bracketsNew.openingBrackets){const e=(0,s.Hg)(0,t.bracketText.length),l=i(t),d=r.tS.getEmpty().add(l,r.Qw);n.set(t.bracketText,new a.WU(e,1,l,d,o.n2.create(e,t,d)))}for(const t of e.bracketsNew.closingBrackets){const e=(0,s.Hg)(0,t.bracketText.length);let l=r.tS.getEmpty();const d=t.getClosedBrackets();for(const e of d)l=l.add(i(e),r.Qw);n.set(t.bracketText,new a.WU(e,2,i(d[0]),l,o.n2.create(e,t,l)))}return new l(n)}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map((e=>function(e){let t=(0,n.ec)(e);return/^[\w ]+/.test(e)&&(t=`\\b${t}`),/[\w ]+$/.test(e)&&(t=`${t}\\b`),t}(e))).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,i]of this.map)if(2===i.kind&&i.bracketIds.intersects(e))return t}get isEmpty(){return 0===this.map.size}}class d{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=l.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}},5035:(e,t,i)=>{"use strict";i.d(t,{BE:()=>m,By:()=>v,F_:()=>g,Hg:()=>c,Hw:()=>h,Ii:()=>p,PZ:()=>b,Qw:()=>C,VR:()=>f,W9:()=>u,Zq:()=>_,av:()=>r,oR:()=>y,xd:()=>l,xl:()=>a});var n=i(7295),o=i(4314);class s{constructor(e,t){this.lineCount=e,this.columnCount=t}toString(){return`${this.lineCount},${this.columnCount}`}}function r(e,t,i,n){return e!==i?c(i-e,n):c(0,n-t)}s.zero=new s(0,0);const a=0;function l(e){return 0===e}const d=Math.pow(2,26);function c(e,t){return e*d+t}function h(e){const t=e,i=Math.floor(t/d);return new s(i,t-i*d)}function u(e){return Math.floor(e/d)}function g(e){return e}function p(e,t){return t<d?e+t:e-e%d+t}function m(e,t){const i=e,n=t;if(n-i<=0)return a;const o=Math.floor(i/d),s=Math.floor(n/d),r=n-s*d;return o===s?c(0,r-(i-o*d)):c(s-o,r)}function f(e,t){return e<t}function v(e,t){return e<=t}function _(e,t){return e>=t}function b(e){return c(e.lineNumber-1,e.column-1)}function C(e,t){const i=e,n=Math.floor(i/d),s=i-n*d,r=t,a=Math.floor(r/d),l=r-a*d;return new o.e(n+1,s+1,a+1,l+1)}function y(e){const t=(0,n.uq)(e);return c(t.length-1,t[t.length-1].length)}},3883:(e,t,i)=>{"use strict";i.d(t,{w:()=>g});var n=i(1720),o=i(2442),s=i(1761),r=i(5035);function a(e,t=!1){if(0===e.length)return null;if(1===e.length)return e[0];let i=e.length;for(;i>3;){const o=i>>1;for(let s=0;s<o;s++){const o=s<<1;e[s]=n.Y0.create23(e[o],e[o+1],o+3===i?e[o+2]:null,t)}i=o}return n.Y0.create23(e[0],e[1],i>=3?e[2]:null,t)}function l(e,t){return Math.abs(e.listHeight-t.listHeight)}function d(e,t){return e.listHeight===t.listHeight?n.Y0.create23(e,t,null,!1):e.listHeight>t.listHeight?function(e,t){let i=e=e.toMutable();const o=new Array;let s;for(;;){if(t.listHeight===i.listHeight){s=t;break}if(4!==i.kind)throw new Error("unexpected");o.push(i),i=i.makeLastElementMutable()}for(let e=o.length-1;e>=0;e--){const t=o[e];s?t.childrenLength>=3?s=n.Y0.create23(t.unappendChild(),s,null,!1):(t.appendChildOfSameHeight(s),s=void 0):t.handleChildrenChanged()}return s?n.Y0.create23(e,s,null,!1):e}(e,t):function(e,t){let i=e=e.toMutable();const o=new Array;for(;t.listHeight!==i.listHeight;){if(4!==i.kind)throw new Error("unexpected");o.push(i),i=i.makeFirstElementMutable()}let s=t;for(let e=o.length-1;e>=0;e--){const t=o[e];s?t.childrenLength>=3?s=n.Y0.create23(s,t.unprependChild(),null,!1):(t.prependChildOfSameHeight(s),s=void 0):t.handleChildrenChanged()}return s?n.Y0.create23(s,e,null,!1):e}(t,e)}class c{constructor(e){this.lastOffset=r.xl,this.nextNodes=[e],this.offsets=[r.xl],this.idxs=[]}readLongestNodeAt(e,t){if((0,r.VR)(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const i=u(this.nextNodes);if(!i)return;const n=u(this.offsets);if((0,r.VR)(e,n))return;if((0,r.VR)(n,e))if((0,r.Ii)(n,i.length)<=e)this.nextNodeAfterCurrent();else{const e=h(i);-1!==e?(this.nextNodes.push(i.getChild(e)),this.offsets.push(n),this.idxs.push(e)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{const e=h(i);if(-1===e)return void this.nextNodeAfterCurrent();this.nextNodes.push(i.getChild(e)),this.offsets.push(n),this.idxs.push(e)}}}}nextNodeAfterCurrent(){for(;;){const e=u(this.offsets),t=u(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const i=u(this.nextNodes),n=h(i,this.idxs[this.idxs.length-1]);if(-1!==n){this.nextNodes.push(i.getChild(n)),this.offsets.push((0,r.Ii)(e,t.length)),this.idxs[this.idxs.length-1]=n;break}this.idxs.pop()}}}function h(e,t=-1){for(;;){if(++t>=e.childrenLength)return-1;if(e.getChild(t))return t}}function u(e){return e.length>0?e[e.length-1]:void 0}function g(e,t,i,n){return new p(e,t,i,n).parseDocument()}class p{constructor(e,t,i,n){if(this.tokenizer=e,this.createImmutableLists=n,this._itemsConstructed=0,this._itemsFromCache=0,i&&n)throw new Error("Not supported");this.oldNodeReader=i?new c(i):void 0,this.positionMapper=new o.Y(t,e.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(s.tS.getEmpty());return e||(e=n.Y0.getEmpty()),e}parseList(e){const t=new Array;for(;;){const i=this.tokenizer.peek();if(!i||2===i.kind&&i.bracketIds.intersects(e))break;const n=this.parseChild(e);4===n.kind&&0===n.childrenLength||t.push(n)}const i=this.oldNodeReader?function(e){if(0===e.length)return null;if(1===e.length)return e[0];let t=0;function i(){if(t>=e.length)return null;const i=t,n=e[i].listHeight;for(t++;t<e.length&&e[t].listHeight===n;)t++;return t-i>=2?a(0===i&&t===e.length?e:e.slice(i,t),!1):e[i]}let n=i(),o=i();if(!o)return n;for(let e=i();e;e=i())l(n,o)<=l(o,e)?(n=d(n,o),o=e):o=d(o,e);return d(n,o)}(t):a(t,this.createImmutableLists);return i}parseChild(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,r.xd)(t)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(i=>!!(0,r.VR)(i.length,t)&&i.canBeReused(e)));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}this._itemsConstructed++;const t=this.tokenizer.read();switch(t.kind){case 2:return new n.Dm(t.bracketIds,t.length);case 0:return t.astNode;case 1:{const i=e.merge(t.bracketIds),o=this.parseList(i),s=this.tokenizer.peek();return s&&2===s.kind&&(s.bracketId===t.bracketId||s.bracketIds.intersects(t.bracketIds))?(this.tokenizer.read(),n.Kd.create(t.astNode,o,s.astNode)):n.Kd.create(t.astNode,o,null)}default:throw new Error("unexpected")}}}},1761:(e,t,i)=>{"use strict";i.d(t,{FE:()=>r,Qw:()=>s,tS:()=>o});const n=new Array;class o{constructor(e,t){this.items=e,this.additionalItems=t}static create(e,t){if(e<=128&&0===t.length){let i=o.cache[e];return i||(i=new o(e,t),o.cache[e]=i),i}return new o(e,t)}static getEmpty(){return this.empty}add(e,t){const i=t.getKey(e);let n=i>>5;if(0===n){const e=1<<i|this.items;return e===this.items?this:o.create(e,this.additionalItems)}n--;const s=this.additionalItems.slice(0);for(;s.length<n;)s.push(0);return s[n]|=1<<(31&i),o.create(this.items,s)}merge(e){const t=this.items|e.items;if(this.additionalItems===n&&e.additionalItems===n)return t===this.items?this:t===e.items?e:o.create(t,n);const i=new Array;for(let t=0;t<Math.max(this.additionalItems.length,e.additionalItems.length);t++){const n=this.additionalItems[t]||0,o=e.additionalItems[t]||0;i.push(n|o)}return o.create(t,i)}intersects(e){if(0!=(this.items&e.items))return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(0!=(this.additionalItems[t]&e.additionalItems[t]))return!0;return!1}}o.cache=new Array(129),o.empty=o.create(0,n);const s={getKey:e=>e};class r{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return void 0===t&&(t=this.items.size,this.items.set(e,t)),t}}},6735:(e,t,i)=>{"use strict";i.d(t,{WU:()=>l,g:()=>h,xH:()=>d});var n=i(7301),o=i(5797),s=i(1720),r=i(5035),a=i(1761);class l{constructor(e,t,i,n,o){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=n,this.astNode=o}}class d{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new c(this.textModel,this.bracketTokens),this._offset=r.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,r.Hg)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=(0,r.Ii)(this._offset,e);const t=(0,r.Hw)(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=(0,r.Ii)(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class c{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const e=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,r.F_)(e.length),e}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let i=0;for(;;){const n=this.lineTokens,s=n.getCount();let a=null;if(this.lineTokenOffset<s){const l=n.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<s&&l===n.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const d=0===o.N.getTokenType(l),c=o.N.containsBalancedBrackets(l),h=n.getEndOffset(this.lineTokenOffset);if(c&&d&&this.lineCharOffset<h){const e=n.getLanguageId(this.lineTokenOffset),t=this.line.substring(this.lineCharOffset,h),i=this.bracketTokens.getSingleLanguageBracketTokens(e),o=i.regExpGlobal;if(o){o.lastIndex=0;const e=o.exec(t);e&&(a=i.getToken(e[0]),a&&(this.lineCharOffset+=e.index))}}if(i+=h-this.lineCharOffset,a){if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}return this.lineCharOffset+=(0,r.F_)(a.length),a}this.lineTokenOffset++,this.lineCharOffset=h}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3)break}if(i>1500)break}const n=(0,r.av)(e,t,this.lineIdx,this.lineCharOffset);return new l(n,0,-1,a.tS.getEmpty(),new s.BH(n))}}class h{constructor(e,t){this.text=e,this._offset=r.xl,this.idx=0;const i=t.getRegExpStr(),n=i?new RegExp(i+"|\n","gi"):null,o=[];let d,c=0,h=0,u=0,g=0;const p=new Array;for(let e=0;e<60;e++)p.push(new l((0,r.Hg)(0,e),0,-1,a.tS.getEmpty(),new s.BH((0,r.Hg)(0,e))));const m=new Array;for(let e=0;e<60;e++)m.push(new l((0,r.Hg)(1,e),0,-1,a.tS.getEmpty(),new s.BH((0,r.Hg)(1,e))));if(n)for(n.lastIndex=0;null!==(d=n.exec(e));){const e=d.index,i=d[0];if("\n"===i)c++,h=e+1;else{if(u!==e){let t;if(g===c){const i=e-u;if(i<p.length)t=p[i];else{const e=(0,r.Hg)(0,i);t=new l(e,0,-1,a.tS.getEmpty(),new s.BH(e))}}else{const i=c-g,n=e-h;if(1===i&&n<m.length)t=m[n];else{const e=(0,r.Hg)(i,n);t=new l(e,0,-1,a.tS.getEmpty(),new s.BH(e))}}o.push(t)}o.push(t.getToken(i)),u=e+i.length,g=c}}const f=e.length;if(u!==f){const e=g===c?(0,r.Hg)(0,f-u):(0,r.Hg)(c-g,f-h);o.push(new l(e,0,-1,a.tS.getEmpty(),new s.BH(e)))}this.length=(0,r.Hg)(c,f-h),this.tokens=o}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new n.B8}}},5215:(e,t,i)=>{"use strict";i.d(t,{NL:()=>f,e9:()=>m});var n=i(3580),o=i(7301),s=i(3860),r=i(666),a=i(3033),l=i(3060),d=i(5935);function c(e){return e.toString()}class h{constructor(e,t,i,n,o,s,r){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=n,this.beforeCursorState=o,this.afterCursorState=s,this.changes=r}static create(e,t){const i=e.getAlternativeVersionId(),n=p(e);return new h(i,i,n,n,t,t,[])}append(e,t,i,n,o){t.length>0&&(this.changes=(0,a.b)(this.changes,t)),this.afterEOL=i,this.afterVersionId=n,this.afterCursorState=o}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,i){if(l.T4(e,t?t.length:0,i),i+=4,t)for(const n of t)l.T4(e,n.selectionStartLineNumber,i),i+=4,l.T4(e,n.selectionStartColumn,i),i+=4,l.T4(e,n.positionLineNumber,i),i+=4,l.T4(e,n.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const n=l.Ag(e,t);t+=4;for(let o=0;o<n;o++){const n=l.Ag(e,t);t+=4;const o=l.Ag(e,t);t+=4;const r=l.Ag(e,t);t+=4;const a=l.Ag(e,t);t+=4,i.push(new s.Y(n,o,r,a))}return t}serialize(){let e=10+h._writeSelectionsSize(this.beforeCursorState)+h._writeSelectionsSize(this.afterCursorState)+4;for(const t of this.changes)e+=t.writeSize();const t=new Uint8Array(e);let i=0;l.T4(t,this.beforeVersionId,i),i+=4,l.T4(t,this.afterVersionId,i),i+=4,l.Cg(t,this.beforeEOL,i),i+=1,l.Cg(t,this.afterEOL,i),i+=1,i=h._writeSelections(t,this.beforeCursorState,i),i=h._writeSelections(t,this.afterCursorState,i),l.T4(t,this.changes.length,i),i+=4;for(const e of this.changes)i=e.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const n=l.Ag(t,i);i+=4;const o=l.Ag(t,i);i+=4;const s=l.Q$(t,i);i+=1;const r=l.Q$(t,i);i+=1;const d=[];i=h._readSelections(t,i,d);const c=[];i=h._readSelections(t,i,c);const u=l.Ag(t,i);i+=4;const g=[];for(let e=0;e<u;e++)i=a.q.read(t,i,g);return new h(n,o,s,r,d,c,g)}}class u{constructor(e,t,i,n){this.label=e,this.code=t,this.model=i,this._data=h.create(i,n)}get type(){return 0}get resource(){return r.o.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof h?this._data:h.deserialize(this._data)).changes.map((e=>e.toString())).join(", ")}matchesResource(e){return(r.o.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof h}append(e,t,i,n,o){this._data instanceof h&&this._data.append(e,t,i,n,o)}close(){this._data instanceof h&&(this._data=this._data.serialize())}open(){this._data instanceof h||(this._data=h.deserialize(this._data))}undo(){if(r.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof h&&(this._data=this._data.serialize());const e=h.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(r.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof h&&(this._data=this._data.serialize());const e=h.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof h&&(this._data=this._data.serialize()),this._data.byteLength+168}}class g{constructor(e,t,i){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=i.slice(0),this._editStackElementsMap=new Map;for(const e of this._editStackElementsArr){const t=c(e.resource);this._editStackElementsMap.set(t,e)}this._delegate=null}get resources(){return this._editStackElementsArr.map((e=>e.resource))}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=c(e);return this._editStackElementsMap.has(t)}setModel(e){const t=c(r.o.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=c(e.uri);return!!this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).canAppend(e)}append(e,t,i,n,o){const s=c(e.uri);this._editStackElementsMap.get(s).append(e,t,i,n,o)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=c(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr)e.push(`${(0,d.EZ)(t.resource)}: ${t}`);return`{${e.join(", ")}}`}}function p(e){return"\n"===e.getEOL()?0:1}function m(e){return!!e&&(e instanceof u||e instanceof g)}class f{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);m(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);m(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e){const t=this._undoRedoService.getLastElement(this._model.uri);if(m(t)&&t.canAppend(this._model))return t;const i=new u(n.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(i),i}pushEOL(e){const t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],p(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i){const n=this._getOrCreateEditStackElement(e),o=this._model.applyEdits(t,!0),s=f._computeCursorState(i,o),r=o.map(((e,t)=>({index:t,textChange:e.textChange})));return r.sort(((e,t)=>e.textChange.oldPosition===t.textChange.oldPosition?e.index-t.index:e.textChange.oldPosition-t.textChange.oldPosition)),n.append(this._model,r.map((e=>e.textChange)),p(this._model),this._model.getAlternativeVersionId(),s),s}static _computeCursorState(e,t){try{return e?e(t):null}catch(e){return(0,o.dL)(e),null}}}},1516:(e,t,i)=>{"use strict";i.d(t,{W:()=>h,l:()=>c});var n=i(9488),o=i(7295),s=i(7988),r=i(4314),a=i(4954),l=i(9616),d=i(5094);class c extends a.U{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return(0,l.q)(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,i){this.assertNotDisposed();const n=this.textModel.getLineCount();if(e<1||e>n)throw new Error("Illegal value for lineNumber");const o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,s=Boolean(o&&o.offSide);let r=-2,a=-1,l=-2,d=-1;const c=e=>{if(-1!==r&&(-2===r||r>e-1)){r=-1,a=-1;for(let t=e-2;t>=0;t--){const e=this._computeIndentLevel(t);if(e>=0){r=t,a=e;break}}}if(-2===l){l=-1,d=-1;for(let t=e;t<n;t++){const e=this._computeIndentLevel(t);if(e>=0){l=t,d=e;break}}}};let h=-2,u=-1,g=-2,p=-1;const m=e=>{if(-2===h){h=-1,u=-1;for(let t=e-2;t>=0;t--){const e=this._computeIndentLevel(t);if(e>=0){h=t,u=e;break}}}if(-1!==g&&(-2===g||g<e-1)){g=-1,p=-1;for(let t=e;t<n;t++){const e=this._computeIndentLevel(t);if(e>=0){g=t,p=e;break}}}};let f=0,v=!0,_=0,b=!0,C=0,y=0;for(let o=0;v||b;o++){const r=e-o,g=e+o;o>1&&(r<1||r<t)&&(v=!1),o>1&&(g>n||g>i)&&(b=!1),o>5e4&&(v=!1,b=!1);let w=-1;if(v&&r>=1){const e=this._computeIndentLevel(r-1);e>=0?(l=r-1,d=e,w=Math.ceil(e/this.textModel.getOptions().indentSize)):(c(r),w=this._getIndentLevelForWhitespaceLine(s,a,d))}let S=-1;if(b&&g<=n){const e=this._computeIndentLevel(g-1);e>=0?(h=g-1,u=e,S=Math.ceil(e/this.textModel.getOptions().indentSize)):(m(g),S=this._getIndentLevelForWhitespaceLine(s,u,p))}if(0!==o){if(1===o){if(g<=n&&S>=0&&y+1===S){v=!1,f=g,_=g,C=S;continue}if(r>=1&&w>=0&&w-1===y){b=!1,f=r,_=r,C=w;continue}if(f=e,_=e,C=y,0===C)return{startLineNumber:f,endLineNumber:_,indent:C}}v&&(w>=C?f=r:v=!1),b&&(S>=C?_=g:b=!1)}else y=w}return{startLineNumber:f,endLineNumber:_,indent:C}}getLinesBracketGuides(e,t,i,s){var a;const l=[];for(let i=e;i<=t;i++)l.push([]);const c=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new r.e(e,1,t,this.textModel.getLineMaxColumn(t)));let u;if(i&&c.length>0){const o=(e<=i.lineNumber&&i.lineNumber<=t?c:this.textModel.bracketPairs.getBracketPairsInRange(r.e.fromPositions(i))).filter((e=>r.e.strictContainsPosition(e.range,i)));u=null===(a=(0,n.dF)(o,(e=>!0)))||void 0===a?void 0:a.range}const g=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,p=new h;for(const i of c){if(!i.closingBracketRange)continue;const n=u&&i.range.equalsRange(u);if(!n&&!s.includeInactive)continue;const r=p.getInlineClassName(i.nestingLevel,i.nestingLevelOfEqualBracketType,g)+(s.highlightActive&&n?" "+p.activeClassName:""),a=i.openingBracketRange.getStartPosition(),c=i.closingBracketRange.getStartPosition(),h=s.horizontalGuides===d.s6.Enabled||s.horizontalGuides===d.s6.EnabledForActive&&n;if(i.range.startLineNumber===i.range.endLineNumber){h&&l[i.range.startLineNumber-e].push(new d.UO(-1,i.openingBracketRange.getEndPosition().column,r,new d.vW(!1,c.column),-1,-1));continue}const m=this.getVisibleColumnFromPosition(c),f=this.getVisibleColumnFromPosition(i.openingBracketRange.getStartPosition()),v=Math.min(f,m,i.minVisibleColumnIndentation+1);let _=!1;o.LC(this.textModel.getLineContent(i.closingBracketRange.startLineNumber))<i.closingBracketRange.startColumn-1&&(_=!0);const b=Math.max(a.lineNumber,e),C=Math.min(c.lineNumber,t),y=_?1:0;for(let t=b;t<C+y;t++)l[t-e].push(new d.UO(v,-1,r,null,t===a.lineNumber?a.column:-1,t===c.lineNumber?c.column:-1));h&&(a.lineNumber>=e&&f>v&&l[a.lineNumber-e].push(new d.UO(v,-1,r,new d.vW(!1,a.column),-1,-1)),c.lineNumber<=t&&m>v&&l[c.lineNumber-e].push(new d.UO(v,-1,r,new d.vW(!_,c.column),-1,-1)))}for(const e of l)e.sort(((e,t)=>e.visibleColumn-t.visibleColumn));return l}getVisibleColumnFromPosition(e){return s.i.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const i=this.textModel.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const n=this.textModel.getOptions(),o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,s=Boolean(o&&o.offSide),r=new Array(t-e+1);let a=-2,l=-1,d=-2,c=-1;for(let o=e;o<=t;o++){const t=o-e,h=this._computeIndentLevel(o-1);if(h>=0)a=o-1,l=h,r[t]=Math.ceil(h/n.indentSize);else{if(-2===a){a=-1,l=-1;for(let e=o-2;e>=0;e--){const t=this._computeIndentLevel(e);if(t>=0){a=e,l=t;break}}}if(-1!==d&&(-2===d||d<o-1)){d=-1,c=-1;for(let e=o;e<i;e++){const t=this._computeIndentLevel(e);if(t>=0){d=e,c=t;break}}}r[t]=this._getIndentLevelForWhitespaceLine(s,l,c)}}return r}_getIndentLevelForWhitespaceLine(e,t,i){const n=this.textModel.getOptions();return-1===t||-1===i?0:t<i?1+Math.floor(t/n.indentSize):t===i||e?Math.ceil(i/n.indentSize):1+Math.floor(i/n.indentSize)}}class h{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,i){return this.getInlineClassNameOfLevel(i?t:e)}getInlineClassNameOfLevel(e){return"bracket-indent-guide lvl-"+e%30}}},310:(e,t,i)=>{"use strict";i.d(t,{Ck:()=>r,oQ:()=>s});var n=i(9488),o=i(5427);class s{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=(0,o.A)(e);const i=this.values,n=this.prefixSum,s=t.length;return 0!==s&&(this.values=new Uint32Array(i.length+s),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+s),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(e,t){return e=(0,o.A)(e),t=(0,o.A)(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=(0,o.A)(e),t=(0,o.A)(t);const i=this.values,n=this.prefixSum;if(e>=i.length)return!1;const s=i.length-e;return t>=s&&(t=s),0!==t&&(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=(0,o.A)(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,n=0,o=0,s=0;for(;t<=i;)if(n=t+(i-t)/2|0,o=this.prefixSum[n],s=o-this.values[n],e<s)i=n-1;else{if(!(e>=o))break;t=n+1}return new a(n,e-s)}}class r{constructor(e){this._values=e,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(e){return this._ensureValid(),0===e?0:this._prefixSum[e-1]}getIndexOf(e){this._ensureValid();const t=this._indexBySum[e],i=t>0?this._prefixSum[t-1]:0;return new a(t,e-i)}removeValues(e,t){this._values.splice(e,t),this._invalidate(e)}insertValues(e,t){this._values=(0,n.Zv)(this._values,e,t),this._invalidate(e)}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._values.length;e<t;e++){const t=this._values[e],i=e>0?this._prefixSum[e-1]:0;this._prefixSum[e]=i+t;for(let n=0;n<t;n++)this._indexBySum[i+n]=e}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._invalidate(e))}}class a{constructor(e,t){this.index=e,this.remainder=t,this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}},2035:(e,t,i)=>{"use strict";i.d(t,{HS:()=>xt,qx:()=>It,yO:()=>_t});var n=i(9488),o=i(1264),s=i(7301),r=i(4669),a=i(5976),l=i(7295),d=i(666),c=i(3795),h=i(3158),u=i(187),g=i(4314),p=i(3860),m=i(2075),f=i(2042),v=i(1381),_=i(4973);class b{constructor(e,t,i,n){this.range=e,this.nestingLevel=t,this.nestingLevelOfEqualBracketType=i,this.isInvalid=n}}class C{constructor(e,t,i,n,o,s){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=n,this.nestingLevelOfEqualBracketType=o,this.bracketPairNode=s}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class y extends C{constructor(e,t,i,n,o,s,r){super(e,t,i,n,o,s),this.minVisibleColumnIndentation=r}}var w=i(2442),S=i(5382),k=i(5035),L=i(3883),x=i(1761),I=i(6735);class D extends a.JT{constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new r.Q5,this.denseKeyProvider=new x.FE,this.brackets=new S.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,0===e.tokenization.backgroundTokenizationState){const e=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),t=new I.g(this.textModel.getValue(),e);this.initialAstWithoutTokens=(0,L.w)(t,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else 2===e.tokenization.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):1===e.tokenization.backgroundTokenizationState&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(e){return this.brackets.didLanguageChange(e)}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.tokenization.backgroundTokenizationState){const e=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){const t=e.map((e=>new w.Q((0,k.Hg)(e.fromLineNumber-1,0),(0,k.Hg)(e.toLineNumber,0),(0,k.Hg)(e.toLineNumber-e.fromLineNumber+1,0))));this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){const t=e.changes.map((e=>{const t=g.e.lift(e.range);return new w.Q((0,k.PZ)(t.getStartPosition()),(0,k.PZ)(t.getEndPosition()),(0,k.oR)(e.text))})).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(t,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(e,t,i){const n=t,o=new I.xH(this.textModel,this.brackets);return(0,L.w)(o,e,n,i)}getBracketsInRange(e){const t=(0,k.Hg)(e.startLineNumber-1,e.startColumn-1),i=(0,k.Hg)(e.endLineNumber-1,e.endColumn-1),n=new Array,o=this.initialAstWithoutTokens||this.astWithTokens;return A(o,k.xl,o.length,t,i,n,0,new Map),n}getBracketPairsInRange(e,t){const i=new Array,n=(0,k.PZ)(e.getStartPosition()),o=(0,k.PZ)(e.getEndPosition()),s=this.initialAstWithoutTokens||this.astWithTokens,r=new T(i,t,this.textModel);return M(s,k.xl,s.length,n,o,r,0,new Map),i}getFirstBracketAfter(e){const t=this.initialAstWithoutTokens||this.astWithTokens;return E(t,k.xl,t.length,(0,k.PZ)(e))}getFirstBracketBefore(e){const t=this.initialAstWithoutTokens||this.astWithTokens;return N(t,k.xl,t.length,(0,k.PZ)(e))}}function N(e,t,i,n){if(4===e.kind||2===e.kind){const o=[];for(const n of e.children)i=(0,k.Ii)(t,n.length),o.push({nodeOffsetStart:t,nodeOffsetEnd:i}),t=i;for(let t=o.length-1;t>=0;t--){const{nodeOffsetStart:i,nodeOffsetEnd:s}=o[t];if((0,k.VR)(i,n)){const o=N(e.children[t],i,s,n);if(o)return o}}return null}if(3===e.kind)return null;if(1===e.kind){const n=(0,k.Qw)(t,i);return{bracketInfo:e.bracketInfo,range:n}}return null}function E(e,t,i,n){if(4===e.kind||2===e.kind){for(const o of e.children){if(i=(0,k.Ii)(t,o.length),(0,k.VR)(n,i)){const e=E(o,t,i,n);if(e)return e}t=i}return null}if(3===e.kind)return null;if(1===e.kind){const n=(0,k.Qw)(t,i);return{bracketInfo:e.bracketInfo,range:n}}return null}function A(e,t,i,n,o,s,r,a){if(!(r>200))if(4===e.kind)for(const l of e.children)i=(0,k.Ii)(t,l.length),(0,k.By)(t,o)&&(0,k.Zq)(i,n)&&A(l,t,i,n,o,s,r,a),t=i;else if(2===e.kind){let l=0;if(a){let t=a.get(e.openingBracket.text);void 0===t&&(t=0),l=t,t++,a.set(e.openingBracket.text,t)}{const a=e.openingBracket;if(i=(0,k.Ii)(t,a.length),(0,k.By)(t,o)&&(0,k.Zq)(i,n)){const n=(0,k.Qw)(t,i);s.push(new b(n,r,l,!e.closingBracket))}t=i}if(e.child){const l=e.child;i=(0,k.Ii)(t,l.length),(0,k.By)(t,o)&&(0,k.Zq)(i,n)&&A(l,t,i,n,o,s,r+1,a),t=i}if(e.closingBracket){const a=e.closingBracket;if(i=(0,k.Ii)(t,a.length),(0,k.By)(t,o)&&(0,k.Zq)(i,n)){const e=(0,k.Qw)(t,i);s.push(new b(e,r,l,!1))}t=i}null==a||a.set(e.openingBracket.text,l)}else if(3===e.kind){const e=(0,k.Qw)(t,i);s.push(new b(e,r-1,0,!0))}else if(1===e.kind){const e=(0,k.Qw)(t,i);s.push(new b(e,r-1,0,!1))}}class T{constructor(e,t,i){this.result=e,this.includeMinIndentation=t,this.textModel=i}}function M(e,t,i,n,o,s,r,a){var l;if(!(r>200))if(2===e.kind){let d=0;if(a){let t=a.get(e.openingBracket.text);void 0===t&&(t=0),d=t,t++,a.set(e.openingBracket.text,t)}const c=(0,k.Ii)(t,e.openingBracket.length);let h=-1;if(s.includeMinIndentation&&(h=e.computeMinIndentation(t,s.textModel)),s.result.push(new y((0,k.Qw)(t,i),(0,k.Qw)(t,c),e.closingBracket?(0,k.Qw)((0,k.Ii)(c,(null===(l=e.child)||void 0===l?void 0:l.length)||k.xl),i):void 0,r,d,e,h)),t=c,e.child){const l=e.child;i=(0,k.Ii)(t,l.length),(0,k.By)(t,o)&&(0,k.Zq)(i,n)&&M(l,t,i,n,o,s,r+1,a)}null==a||a.set(e.openingBracket.text,d)}else{let i=t;for(const t of e.children){const e=i;i=(0,k.Ii)(i,t.length),(0,k.By)(e,o)&&(0,k.By)(n,i)&&M(t,e,i,n,o,s,r,a)}}}var R=i(9111),P=i(4302);class O extends a.JT{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new a.XK),this.onDidChangeEmitter=new r.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange((e=>{var t;e.languageId&&!(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.didLanguageChange(e.languageId))||(this.bracketPairsTree.clear(),this.updateBracketPairsTree())})))}get canBuildAST(){return this.textModel.getValueLength()<=5e6}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){var t;null===(t=this.bracketPairsTree.value)||void 0===t||t.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){var e;null===(e=this.bracketPairsTree.value)||void 0===e||e.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){var t;null===(t=this.bracketPairsTree.value)||void 0===t||t.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const i=new a.SL;this.bracketPairsTree.value=(e=i.add(new D(this.textModel,(e=>this.languageConfigurationService.getLanguageConfiguration(e)))),t=i,{object:e,dispose:()=>null==t?void 0:t.dispose()}),i.add(this.bracketPairsTree.value.object.onDidChange((e=>this.onDidChangeEmitter.fire(e)))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire());var e,t}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!1))||[]}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!0))||[]}getBracketsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketsInRange(e))||[]}findMatchingBracketUp(e,t,i){const o=this.textModel.validatePosition(t),s=this.textModel.getLanguageIdAtPosition(o.lineNumber,o.column);if(this.canBuildAST){const i=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew.getClosingBracketInfo(e);if(!i)return null;const o=(0,n.dF)(this.getBracketPairsInRange(g.e.fromPositions(t,t))||[],(e=>i.closes(e.openingBracketInfo)));return o?o.openingBracketRange:null}{const t=e.toLowerCase(),n=this.languageConfigurationService.getLanguageConfiguration(s).brackets;if(!n)return null;const r=n.textIsBracket[t];return r?W(this._findMatchingBracketUp(r,o,V(i))):null}}matchBracket(e,t){if(this.canBuildAST){const t=(0,n.jV)(this.getBracketPairsInRange(g.e.fromPositions(e,e)).filter((t=>void 0!==t.closingBracketRange&&(t.openingBracketRange.containsPosition(e)||t.closingBracketRange.containsPosition(e)))),(0,n.tT)((t=>t.openingBracketRange.containsPosition(e)?t.openingBracketRange:t.closingBracketRange),g.e.compareRangesUsingStarts));return t?[t.openingBracketRange,t.closingBracketRange]:null}{const i=V(t);return this._matchBracket(this.textModel.validatePosition(e),i)}}_establishBracketSearchOffsets(e,t,i,n){const o=t.getCount(),s=t.getLanguageId(n);let r=Math.max(0,e.column-1-i.maxBracketLength);for(let e=n-1;e>=0;e--){const i=t.getEndOffset(e);if(i<=r)break;if((0,R.Bu)(t.getStandardTokenType(e))||t.getLanguageId(e)!==s){r=i;break}}let a=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let e=n+1;e<o;e++){const i=t.getStartOffset(e);if(i>=a)break;if((0,R.Bu)(t.getStandardTokenType(e))||t.getLanguageId(e)!==s){a=i;break}}return{searchStartOffset:r,searchEndOffset:a}}_matchBracket(e,t){const i=e.lineNumber,n=this.textModel.tokenization.getLineTokens(i),o=this.textModel.getLineContent(i),s=n.findTokenIndexAtOffset(e.column-1);if(s<0)return null;const r=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(s)).brackets;if(r&&!(0,R.Bu)(n.getStandardTokenType(s))){let{searchStartOffset:a,searchEndOffset:l}=this._establishBracketSearchOffsets(e,n,r,s),d=null;for(;;){const n=P.Vr.findNextBracketInRange(r.forwardRegex,i,o,a,l);if(!n)break;if(n.startColumn<=e.column&&e.column<=n.endColumn){const e=o.substring(n.startColumn-1,n.endColumn-1).toLowerCase(),i=this._matchFoundBracket(n,r.textIsBracket[e],r.textIsOpenBracket[e],t);if(i){if(i instanceof F)return null;d=i}}a=n.endColumn-1}if(d)return d}if(s>0&&n.getStartOffset(s)===e.column-1){const r=s-1,a=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(r)).brackets;if(a&&!(0,R.Bu)(n.getStandardTokenType(r))){const{searchStartOffset:s,searchEndOffset:l}=this._establishBracketSearchOffsets(e,n,a,r),d=P.Vr.findPrevBracketInRange(a.reversedRegex,i,o,s,l);if(d&&d.startColumn<=e.column&&e.column<=d.endColumn){const e=o.substring(d.startColumn-1,d.endColumn-1).toLowerCase(),i=this._matchFoundBracket(d,a.textIsBracket[e],a.textIsOpenBracket[e],t);if(i)return i instanceof F?null:i}}}return null}_matchFoundBracket(e,t,i,n){if(!t)return null;const o=i?this._findMatchingBracketDown(t,e.getEndPosition(),n):this._findMatchingBracketUp(t,e.getStartPosition(),n);return o?o instanceof F?o:[e,o]:null}_findMatchingBracketUp(e,t,i){const n=e.languageId,o=e.reversedRegex;let s=-1,r=0;const a=(t,n,a,l)=>{for(;;){if(i&&++r%100==0&&!i())return F.INSTANCE;const d=P.Vr.findPrevBracketInRange(o,t,n,a,l);if(!d)break;const c=n.substring(d.startColumn-1,d.endColumn-1).toLowerCase();if(e.isOpen(c)?s++:e.isClose(c)&&s--,0===s)return d;l=d.startColumn-1}return null};for(let e=t.lineNumber;e>=1;e--){const i=this.textModel.tokenization.getLineTokens(e),o=i.getCount(),s=this.textModel.getLineContent(e);let r=o-1,l=s.length,d=s.length;e===t.lineNumber&&(r=i.findTokenIndexAtOffset(t.column-1),l=t.column-1,d=t.column-1);let c=!0;for(;r>=0;r--){const t=i.getLanguageId(r)===n&&!(0,R.Bu)(i.getStandardTokenType(r));if(t)c?l=i.getStartOffset(r):(l=i.getStartOffset(r),d=i.getEndOffset(r));else if(c&&l!==d){const t=a(e,s,l,d);if(t)return t}c=t}if(c&&l!==d){const t=a(e,s,l,d);if(t)return t}}return null}_findMatchingBracketDown(e,t,i){const n=e.languageId,o=e.forwardRegex;let s=1,r=0;const a=(t,n,a,l)=>{for(;;){if(i&&++r%100==0&&!i())return F.INSTANCE;const d=P.Vr.findNextBracketInRange(o,t,n,a,l);if(!d)break;const c=n.substring(d.startColumn-1,d.endColumn-1).toLowerCase();if(e.isOpen(c)?s++:e.isClose(c)&&s--,0===s)return d;a=d.endColumn-1}return null},l=this.textModel.getLineCount();for(let e=t.lineNumber;e<=l;e++){const i=this.textModel.tokenization.getLineTokens(e),o=i.getCount(),s=this.textModel.getLineContent(e);let r=0,l=0,d=0;e===t.lineNumber&&(r=i.findTokenIndexAtOffset(t.column-1),l=t.column-1,d=t.column-1);let c=!0;for(;r<o;r++){const t=i.getLanguageId(r)===n&&!(0,R.Bu)(i.getStandardTokenType(r));if(t)c||(l=i.getStartOffset(r)),d=i.getEndOffset(r);else if(c&&l!==d){const t=a(e,s,l,d);if(t)return t}c=t}if(c&&l!==d){const t=a(e,s,l,d);if(t)return t}}return null}findPrevBracket(e){var t;const i=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getFirstBracketBefore(i))||null;let n=null,o=null,s=null;for(let e=i.lineNumber;e>=1;e--){const t=this.textModel.tokenization.getLineTokens(e),r=t.getCount(),a=this.textModel.getLineContent(e);let l=r-1,d=a.length,c=a.length;if(e===i.lineNumber){l=t.findTokenIndexAtOffset(i.column-1),d=i.column-1,c=i.column-1;const e=t.getLanguageId(l);n!==e&&(n=e,o=this.languageConfigurationService.getLanguageConfiguration(n).brackets,s=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew)}let h=!0;for(;l>=0;l--){const i=t.getLanguageId(l);if(n!==i){if(o&&s&&h&&d!==c){const t=P.Vr.findPrevBracketInRange(o.reversedRegex,e,a,d,c);if(t)return this._toFoundBracket(s,t);h=!1}n=i,o=this.languageConfigurationService.getLanguageConfiguration(n).brackets,s=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew}const r=!!o&&!(0,R.Bu)(t.getStandardTokenType(l));if(r)h?d=t.getStartOffset(l):(d=t.getStartOffset(l),c=t.getEndOffset(l));else if(s&&o&&h&&d!==c){const t=P.Vr.findPrevBracketInRange(o.reversedRegex,e,a,d,c);if(t)return this._toFoundBracket(s,t)}h=r}if(s&&o&&h&&d!==c){const t=P.Vr.findPrevBracketInRange(o.reversedRegex,e,a,d,c);if(t)return this._toFoundBracket(s,t)}}return null}findNextBracket(e){var t;const i=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getFirstBracketAfter(i))||null;const n=this.textModel.getLineCount();let o=null,s=null,r=null;for(let e=i.lineNumber;e<=n;e++){const t=this.textModel.tokenization.getLineTokens(e),n=t.getCount(),a=this.textModel.getLineContent(e);let l=0,d=0,c=0;if(e===i.lineNumber){l=t.findTokenIndexAtOffset(i.column-1),d=i.column-1,c=i.column-1;const e=t.getLanguageId(l);o!==e&&(o=e,s=this.languageConfigurationService.getLanguageConfiguration(o).brackets,r=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew)}let h=!0;for(;l<n;l++){const i=t.getLanguageId(l);if(o!==i){if(r&&s&&h&&d!==c){const t=P.Vr.findNextBracketInRange(s.forwardRegex,e,a,d,c);if(t)return this._toFoundBracket(r,t);h=!1}o=i,s=this.languageConfigurationService.getLanguageConfiguration(o).brackets,r=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew}const n=!!s&&!(0,R.Bu)(t.getStandardTokenType(l));if(n)h||(d=t.getStartOffset(l)),c=t.getEndOffset(l);else if(r&&s&&h&&d!==c){const t=P.Vr.findNextBracketInRange(s.forwardRegex,e,a,d,c);if(t)return this._toFoundBracket(r,t)}h=n}if(r&&s&&h&&d!==c){const t=P.Vr.findNextBracketInRange(s.forwardRegex,e,a,d,c);if(t)return this._toFoundBracket(r,t)}}return null}findEnclosingBrackets(e,t){const i=this.textModel.validatePosition(e);if(this.canBuildAST){const e=g.e.fromPositions(i),t=(0,n.dF)(this.getBracketPairsInRange(g.e.fromPositions(i,i)),(t=>void 0!==t.closingBracketRange&&t.range.strictContainsRange(e)));return t?[t.openingBracketRange,t.closingBracketRange]:null}const o=V(t),s=this.textModel.getLineCount(),r=new Map;let a=[];const l=(e,t)=>{if(!r.has(e)){const i=[];for(let e=0,n=t?t.brackets.length:0;e<n;e++)i[e]=0;r.set(e,i)}a=r.get(e)};let d=0;const c=(e,t,i,n,s)=>{for(;;){if(o&&++d%100==0&&!o())return F.INSTANCE;const r=P.Vr.findNextBracketInRange(e.forwardRegex,t,i,n,s);if(!r)break;const l=i.substring(r.startColumn-1,r.endColumn-1).toLowerCase(),c=e.textIsBracket[l];if(c&&(c.isOpen(l)?a[c.index]++:c.isClose(l)&&a[c.index]--,-1===a[c.index]))return this._matchFoundBracket(r,c,!1,o);n=r.endColumn-1}return null};let h=null,u=null;for(let e=i.lineNumber;e<=s;e++){const t=this.textModel.tokenization.getLineTokens(e),n=t.getCount(),o=this.textModel.getLineContent(e);let s=0,r=0,a=0;if(e===i.lineNumber){s=t.findTokenIndexAtOffset(i.column-1),r=i.column-1,a=i.column-1;const e=t.getLanguageId(s);h!==e&&(h=e,u=this.languageConfigurationService.getLanguageConfiguration(h).brackets,l(h,u))}let d=!0;for(;s<n;s++){const i=t.getLanguageId(s);if(h!==i){if(u&&d&&r!==a){const t=c(u,e,o,r,a);if(t)return W(t);d=!1}h=i,u=this.languageConfigurationService.getLanguageConfiguration(h).brackets,l(h,u)}const n=!!u&&!(0,R.Bu)(t.getStandardTokenType(s));if(n)d||(r=t.getStartOffset(s)),a=t.getEndOffset(s);else if(u&&d&&r!==a){const t=c(u,e,o,r,a);if(t)return W(t)}d=n}if(u&&d&&r!==a){const t=c(u,e,o,r,a);if(t)return W(t)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();const n=e.getBracketInfo(i);return n?{range:t,bracketInfo:n}:null}}function V(e){if(void 0===e)return()=>!0;{const t=Date.now();return()=>Date.now()-t<=e}}class F{constructor(){this._searchCanceledBrand=void 0}}function W(e){return e instanceof F?null:e}F.INSTANCE=new F;var z=i(8625),B=i(7781);class U extends a.JT{constructor(e){super(),this.textModel=e,this.colorProvider=new H,this.onDidChangeEmitter=new r.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange((e=>{this.onDidChangeEmitter.fire()})))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,i){if(void 0===t)return[];if(!this.colorizationOptions.enabled)return[];const n=new Array,o=this.textModel.bracketPairs.getBracketsInRange(e);for(const e of o)n.push({id:`bracket${e.range.toString()}-${e.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(e,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:e.range});return n}getAllDecorations(e,t){return void 0===e?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new g.e(1,1,this.textModel.getLineCount(),1),e,t):[]}}class H{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return"bracket-highlighting-"+e%30}}(0,B.Ic)(((e,t)=>{const i=[z.zJ,z.Vs,z.CE,z.UP,z.r0,z.m1],n=new H;t.addRule(`.monaco-editor .${n.unexpectedClosingBracketClassName} { color: ${e.getColor(z.ts)}; }`);const o=i.map((t=>e.getColor(t))).filter((e=>!!e)).filter((e=>!e.isTransparent()));for(let e=0;e<30;e++){const i=o[e%o.length];t.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(e)} { color: ${i}; }`)}}));var G=i(5215),j=i(1516);class K{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function $(e,t,i,n,o){let s;for(o.spacesDiff=0,o.looksLikeAlignment=!1,s=0;s<t&&s<n&&e.charCodeAt(s)===i.charCodeAt(s);s++);let r=0,a=0;for(let i=s;i<t;i++)32===e.charCodeAt(i)?r++:a++;let l=0,d=0;for(let e=s;e<n;e++)32===i.charCodeAt(e)?l++:d++;if(r>0&&a>0)return;if(l>0&&d>0)return;const c=Math.abs(a-d),h=Math.abs(r-l);if(0===c)return o.spacesDiff=h,void(h>0&&0<=l-1&&l-1<e.length&&l<i.length&&32!==i.charCodeAt(l)&&32===e.charCodeAt(l-1)&&44===e.charCodeAt(e.length-1)&&(o.looksLikeAlignment=!0));h%c!=0||(o.spacesDiff=h/c)}function q(e,t,i){const n=Math.min(e.getLineCount(),1e4);let o=0,s=0,r="",a=0;const l=[2,4,6,8,3,5,7],d=[0,0,0,0,0,0,0,0,0],c=new K;for(let l=1;l<=n;l++){const n=e.getLineLength(l),h=e.getLineContent(l),u=n<=65536;let g=!1,p=0,m=0,f=0;for(let t=0,i=n;t<i;t++){const i=u?h.charCodeAt(t):e.getLineCharCode(l,t);if(9===i)f++;else{if(32!==i){g=!0,p=t;break}m++}}if(!g)continue;if(f>0?o++:m>1&&s++,$(r,a,h,p,c),c.looksLikeAlignment&&(!i||t!==c.spacesDiff))continue;const v=c.spacesDiff;v<=8&&d[v]++,r=h,a=p}let h=i;o!==s&&(h=o<s);let u=t;if(h){let e=h?0:.1*n;l.forEach((t=>{const i=d[t];i>e&&(e=i,u=t)})),4===u&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(u=2)}return{insertSpaces:h,tabSize:u}}function Y(e){return(1&e.metadata)>>>0}function Q(e,t){e.metadata=254&e.metadata|t<<0}function Z(e){return(2&e.metadata)>>>1==1}function J(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function X(e){return(4&e.metadata)>>>2==1}function ee(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function te(e,t){e.metadata=231&e.metadata|t<<3}function ie(e,t){e.metadata=223&e.metadata|(t?1:0)<<5}class ne{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,Q(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,ee(this,!1),te(this,1),ie(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,J(this,!1)}reset(e,t,i,n){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=n}setOptions(e){this.options=e;const t=this.options.className;ee(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),te(this,this.options.stickiness),ie(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const oe=new ne(null,0,0);oe.parent=oe,oe.left=oe,oe.right=oe,Q(oe,0);class se{constructor(){this.root=oe,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,n,o){return this.root===oe?[]:function(e,t,i,n,o,s){let r=e.root,a=0,l=0,d=0,c=0;const h=[];let u=0;for(;r!==oe;)if(Z(r))J(r.left,!1),J(r.right,!1),r===r.parent.right&&(a-=r.parent.delta),r=r.parent;else{if(!Z(r.left)){if(l=a+r.maxEnd,l<t){J(r,!0);continue}if(r.left!==oe){r=r.left;continue}}if(d=a+r.start,d>i)J(r,!0);else{if(c=a+r.end,c>=t){r.setCachedOffsets(d,c,s);let e=!0;n&&r.ownerId&&r.ownerId!==n&&(e=!1),o&&X(r)&&(e=!1),e&&(h[u++]=r)}J(r,!0),r.right===oe||Z(r.right)||(a+=r.delta,r=r.right)}}return J(e.root,!1),h}(this,e,t,i,n,o)}search(e,t,i){return this.root===oe?[]:function(e,t,i,n){let o=e.root,s=0,r=0,a=0;const l=[];let d=0;for(;o!==oe;){if(Z(o)){J(o.left,!1),J(o.right,!1),o===o.parent.right&&(s-=o.parent.delta),o=o.parent;continue}if(o.left!==oe&&!Z(o.left)){o=o.left;continue}r=s+o.start,a=s+o.end,o.setCachedOffsets(r,a,n);let e=!0;t&&o.ownerId&&o.ownerId!==t&&(e=!1),i&&X(o)&&(e=!1),e&&(l[d++]=o),J(o,!0),o.right===oe||Z(o.right)||(s+=o.delta,o=o.right)}return J(e.root,!1),l}(this,e,t,i)}collectNodesFromOwner(e){return function(e,t){let i=e.root;const n=[];let o=0;for(;i!==oe;)Z(i)?(J(i.left,!1),J(i.right,!1),i=i.parent):i.left===oe||Z(i.left)?(i.ownerId===t&&(n[o++]=i),J(i,!0),i.right===oe||Z(i.right)||(i=i.right)):i=i.left;return J(e.root,!1),n}(this,e)}collectNodesPostOrder(){return function(e){let t=e.root;const i=[];let n=0;for(;t!==oe;)Z(t)?(J(t.left,!1),J(t.right,!1),t=t.parent):t.left===oe||Z(t.left)?t.right===oe||Z(t.right)?(i[n++]=t,J(t,!0)):t=t.right:t=t.left;return J(e.root,!1),i}(this)}insert(e){le(this,e),this._normalizeDeltaIfNecessary()}delete(e){de(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let n=0;for(;e!==this.root;)e===e.parent.right&&(n+=e.parent.delta),e=e.parent;const o=i.start+n,s=i.end+n;i.setCachedOffsets(o,s,t)}acceptReplace(e,t,i,n){const o=function(e,t,i){let n=e.root,o=0,s=0,r=0,a=0;const l=[];let d=0;for(;n!==oe;)if(Z(n))J(n.left,!1),J(n.right,!1),n===n.parent.right&&(o-=n.parent.delta),n=n.parent;else{if(!Z(n.left)){if(s=o+n.maxEnd,s<t){J(n,!0);continue}if(n.left!==oe){n=n.left;continue}}r=o+n.start,r>i?J(n,!0):(a=o+n.end,a>=t&&(n.setCachedOffsets(r,a,0),l[d++]=n),J(n,!0),n.right===oe||Z(n.right)||(o+=n.delta,n=n.right))}return J(e.root,!1),l}(this,e,e+t);for(let e=0,t=o.length;e<t;e++)de(this,o[e]);this._normalizeDeltaIfNecessary(),function(e,t,i,n){let o=e.root,s=0,r=0,a=0;const l=n-(i-t);for(;o!==oe;)if(Z(o))J(o.left,!1),J(o.right,!1),o===o.parent.right&&(s-=o.parent.delta),pe(o),o=o.parent;else{if(!Z(o.left)){if(r=s+o.maxEnd,r<t){J(o,!0);continue}if(o.left!==oe){o=o.left;continue}}a=s+o.start,a>i?(o.start+=l,o.end+=l,o.delta+=l,(o.delta<-1073741824||o.delta>1073741824)&&(e.requestNormalizeDelta=!0),J(o,!0)):(J(o,!0),o.right===oe||Z(o.right)||(s+=o.delta,o=o.right))}J(e.root,!1)}(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let s=0,r=o.length;s<r;s++){const r=o[s];r.start=r.cachedAbsoluteStart,r.end=r.cachedAbsoluteEnd,ae(r,e,e+t,i,n),r.maxEnd=r.end,le(this,r)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(e){let t=e.root,i=0;for(;t!==oe;)t.left===oe||Z(t.left)?t.right===oe||Z(t.right)?(t.start=i+t.start,t.end=i+t.end,t.delta=0,pe(t),J(t,!0),J(t.left,!1),J(t.right,!1),t===t.parent.right&&(i-=t.parent.delta),t=t.parent):(i+=t.delta,t=t.right):t=t.left;J(e.root,!1)}(this))}}function re(e,t,i,n){return e<i||!(e>i)&&1!==n&&(2===n||t)}function ae(e,t,i,n,o){const s=function(e){return(24&e.metadata)>>>3}(e),r=0===s||2===s,a=1===s||2===s,l=i-t,d=n,c=Math.min(l,d),h=e.start;let u=!1;const g=e.end;let p=!1;t<=h&&g<=i&&function(e){return(32&e.metadata)>>>5==1}(e)&&(e.start=t,u=!0,e.end=t,p=!0);{const e=o?1:l>0?2:0;!u&&re(h,r,t,e)&&(u=!0),!p&&re(g,a,t,e)&&(p=!0)}if(c>0&&!o){const e=l>d?2:0;!u&&re(h,r,t+c,e)&&(u=!0),!p&&re(g,a,t+c,e)&&(p=!0)}{const n=o?1:0;!u&&re(h,r,i,n)&&(e.start=t+d,u=!0),!p&&re(g,a,i,n)&&(e.end=t+d,p=!0)}const m=d-l;u||(e.start=Math.max(0,h+m)),p||(e.end=Math.max(0,g+m)),e.start>e.end&&(e.end=e.start)}function le(e,t){if(e.root===oe)return t.parent=oe,t.left=oe,t.right=oe,Q(t,0),e.root=t,e.root;!function(e,t){let i=0,n=e.root;const o=t.start,s=t.end;for(;;)if(r=o,a=s,l=n.start+i,d=n.end+i,(r===l?a-d:r-l)<0){if(n.left===oe){t.start-=i,t.end-=i,t.maxEnd-=i,n.left=t;break}n=n.left}else{if(n.right===oe){t.start-=i+n.delta,t.end-=i+n.delta,t.maxEnd-=i+n.delta,n.right=t;break}i+=n.delta,n=n.right}var r,a,l,d;t.parent=n,t.left=oe,t.right=oe,Q(t,1)}(e,t),me(t.parent);let i=t;for(;i!==e.root&&1===Y(i.parent);)if(i.parent===i.parent.parent.left){const t=i.parent.parent.right;1===Y(t)?(Q(i.parent,0),Q(t,0),Q(i.parent.parent,1),i=i.parent.parent):(i===i.parent.right&&(i=i.parent,he(e,i)),Q(i.parent,0),Q(i.parent.parent,1),ue(e,i.parent.parent))}else{const t=i.parent.parent.left;1===Y(t)?(Q(i.parent,0),Q(t,0),Q(i.parent.parent,1),i=i.parent.parent):(i===i.parent.left&&(i=i.parent,ue(e,i)),Q(i.parent,0),Q(i.parent.parent,1),he(e,i.parent.parent))}return Q(e.root,0),t}function de(e,t){let i,n;if(t.left===oe?(i=t.right,n=t,i.delta+=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta):t.right===oe?(i=t.left,n=t):(n=function(e){for(;e.left!==oe;)e=e.left;return e}(t.right),i=n.right,i.start+=n.delta,i.end+=n.delta,i.delta+=n.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,n.delta=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0)),n===e.root)return e.root=i,Q(i,0),t.detach(),ce(),pe(i),void(e.root.parent=oe);const o=1===Y(n);if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===t?i.parent=n.parent:(n.parent===t?i.parent=n:i.parent=n.parent,n.left=t.left,n.right=t.right,n.parent=t.parent,Q(n,Y(t)),t===e.root?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left!==oe&&(n.left.parent=n),n.right!==oe&&(n.right.parent=n)),t.detach(),o)return me(i.parent),n!==t&&(me(n),me(n.parent)),void ce();let s;for(me(i),me(i.parent),n!==t&&(me(n),me(n.parent));i!==e.root&&0===Y(i);)i===i.parent.left?(s=i.parent.right,1===Y(s)&&(Q(s,0),Q(i.parent,1),he(e,i.parent),s=i.parent.right),0===Y(s.left)&&0===Y(s.right)?(Q(s,1),i=i.parent):(0===Y(s.right)&&(Q(s.left,0),Q(s,1),ue(e,s),s=i.parent.right),Q(s,Y(i.parent)),Q(i.parent,0),Q(s.right,0),he(e,i.parent),i=e.root)):(s=i.parent.left,1===Y(s)&&(Q(s,0),Q(i.parent,1),ue(e,i.parent),s=i.parent.left),0===Y(s.left)&&0===Y(s.right)?(Q(s,1),i=i.parent):(0===Y(s.left)&&(Q(s.right,0),Q(s,1),he(e,s),s=i.parent.left),Q(s,Y(i.parent)),Q(i.parent,0),Q(s.left,0),ue(e,i.parent),i=e.root));Q(i,0),ce()}function ce(){oe.parent=oe,oe.delta=0,oe.start=0,oe.end=0}function he(e,t){const i=t.right;i.delta+=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta,t.right=i.left,i.left!==oe&&(i.left.parent=t),i.parent=t.parent,t.parent===oe?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left=t,t.parent=i,pe(t),pe(i)}function ue(e,t){const i=t.left;t.delta-=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=i.delta,t.end-=i.delta,t.left=i.right,i.right!==oe&&(i.right.parent=t),i.parent=t.parent,t.parent===oe?e.root=i:t===t.parent.right?t.parent.right=i:t.parent.left=i,i.right=t,t.parent=i,pe(t),pe(i)}function ge(e){let t=e.end;if(e.left!==oe){const i=e.left.maxEnd;i>t&&(t=i)}if(e.right!==oe){const i=e.right.maxEnd+e.delta;i>t&&(t=i)}return t}function pe(e){e.maxEnd=ge(e)}function me(e){for(;e!==oe;){const t=ge(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}class fe{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==ve)return _e(this.right);let e=this;for(;e.parent!==ve&&e.parent.left!==e;)e=e.parent;return e.parent===ve?ve:e.parent}prev(){if(this.left!==ve)return be(this.left);let e=this;for(;e.parent!==ve&&e.parent.right!==e;)e=e.parent;return e.parent===ve?ve:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const ve=new fe(null,0);function _e(e){for(;e.left!==ve;)e=e.left;return e}function be(e){for(;e.right!==ve;)e=e.right;return e}function Ce(e){return e===ve?0:e.size_left+e.piece.length+Ce(e.right)}function ye(e){return e===ve?0:e.lf_left+e.piece.lineFeedCnt+ye(e.right)}function we(){ve.parent=ve}function Se(e,t){const i=t.right;i.size_left+=t.size_left+(t.piece?t.piece.length:0),i.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),t.right=i.left,i.left!==ve&&(i.left.parent=t),i.parent=t.parent,t.parent===ve?e.root=i:t.parent.left===t?t.parent.left=i:t.parent.right=i,i.left=t,t.parent=i}function ke(e,t){const i=t.left;t.left=i.right,i.right!==ve&&(i.right.parent=t),i.parent=t.parent,t.size_left-=i.size_left+(i.piece?i.piece.length:0),t.lf_left-=i.lf_left+(i.piece?i.piece.lineFeedCnt:0),t.parent===ve?e.root=i:t===t.parent.right?t.parent.right=i:t.parent.left=i,i.right=t,t.parent=i}function Le(e,t){let i,n;if(t.left===ve?(n=t,i=n.right):t.right===ve?(n=t,i=n.left):(n=_e(t.right),i=n.right),n===e.root)return e.root=i,i.color=0,t.detach(),we(),void(e.root.parent=ve);const o=1===n.color;if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===t?(i.parent=n.parent,De(e,i)):(n.parent===t?i.parent=n:i.parent=n.parent,De(e,i),n.left=t.left,n.right=t.right,n.parent=t.parent,n.color=t.color,t===e.root?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left!==ve&&(n.left.parent=n),n.right!==ve&&(n.right.parent=n),n.size_left=t.size_left,n.lf_left=t.lf_left,De(e,n)),t.detach(),i.parent.left===i){const t=Ce(i),n=ye(i);if(t!==i.parent.size_left||n!==i.parent.lf_left){const o=t-i.parent.size_left,s=n-i.parent.lf_left;i.parent.size_left=t,i.parent.lf_left=n,Ie(e,i.parent,o,s)}}if(De(e,i.parent),o)return void we();let s;for(;i!==e.root&&0===i.color;)i===i.parent.left?(s=i.parent.right,1===s.color&&(s.color=0,i.parent.color=1,Se(e,i.parent),s=i.parent.right),0===s.left.color&&0===s.right.color?(s.color=1,i=i.parent):(0===s.right.color&&(s.left.color=0,s.color=1,ke(e,s),s=i.parent.right),s.color=i.parent.color,i.parent.color=0,s.right.color=0,Se(e,i.parent),i=e.root)):(s=i.parent.left,1===s.color&&(s.color=0,i.parent.color=1,ke(e,i.parent),s=i.parent.left),0===s.left.color&&0===s.right.color?(s.color=1,i=i.parent):(0===s.left.color&&(s.right.color=0,s.color=1,Se(e,s),s=i.parent.left),s.color=i.parent.color,i.parent.color=0,s.left.color=0,ke(e,i.parent),i=e.root));i.color=0,we()}function xe(e,t){for(De(e,t);t!==e.root&&1===t.parent.color;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;1===i.color?(t.parent.color=0,i.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&Se(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,ke(e,t.parent.parent))}else{const i=t.parent.parent.left;1===i.color?(t.parent.color=0,i.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&ke(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,Se(e,t.parent.parent))}e.root.color=0}function Ie(e,t,i,n){for(;t!==e.root&&t!==ve;)t.parent.left===t&&(t.parent.size_left+=i,t.parent.lf_left+=n),t=t.parent}function De(e,t){let i=0,n=0;if(t!==e.root){for(;t!==e.root&&t===t.parent.right;)t=t.parent;if(t!==e.root)for(i=Ce((t=t.parent).left)-t.size_left,n=ye(t.left)-t.lf_left,t.size_left+=i,t.lf_left+=n;t!==e.root&&(0!==i||0!==n);)t.parent.left===t&&(t.parent.size_left+=i,t.parent.lf_left+=n),t=t.parent}}ve.parent=ve,ve.left=ve,ve.right=ve,ve.color=0;var Ne=i(7277);const Ee=65535;function Ae(e){let t;return t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length),t.set(e,0),t}class Te{constructor(e,t,i,n,o){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=n,this.isBasicASCII=o}}function Me(e,t=!0){const i=[0];let n=1;for(let t=0,o=e.length;t<o;t++){const s=e.charCodeAt(t);13===s?t+1<o&&10===e.charCodeAt(t+1)?(i[n++]=t+2,t++):i[n++]=t+1:10===s&&(i[n++]=t+1)}return t?Ae(i):i}class Re{constructor(e,t,i,n,o){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=n,this.length=o}}class Pe{constructor(e,t){this.buffer=e,this.lineStarts=t}}class Oe{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==ve&&e.iterate(e.root,(e=>(e!==ve&&this._pieces.push(e.piece),!0)))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class Ve{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1;const i=this._cache;for(let n=0;n<i.length;n++){const o=i[n];(null===o.node.parent||o.nodeStartOffset>=e)&&(i[n]=null,t=!0)}if(t){const e=[];for(const t of i)null!==t&&e.push(t);this._cache=e}}}class Fe{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new Pe("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=ve,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let n=null;for(let t=0,i=e.length;t<i;t++)if(e[t].buffer.length>0){e[t].lineStarts||(e[t].lineStarts=Me(e[t].buffer));const i=new Re(t+1,{line:0,column:0},{line:e[t].lineStarts.length-1,column:e[t].buffer.length-e[t].lineStarts[e[t].lineStarts.length-1]},e[t].lineStarts.length-1,e[t].buffer.length);this._buffers.push(e[t]),n=this.rbInsertRight(n,i)}this._searchCache=new Ve(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){const t=65535-Math.floor(21845),i=2*t;let n="",o=0;const s=[];if(this.iterate(this.root,(r=>{const a=this.getNodeContent(r),l=a.length;if(o<=t||o+l<i)return n+=a,o+=l,!0;const d=n.replace(/\r\n|\r|\n/g,e);return s.push(new Pe(d,Me(d))),n=a,o=l,!0})),o>0){const t=n.replace(/\r\n|\r|\n/g,e);s.push(new Pe(t,Me(t)))}this.create(s,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new Oe(this,e)}getOffsetAt(e,t){let i=0,n=this.root;for(;n!==ve;)if(n.left!==ve&&n.lf_left+1>=e)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt+1>=e)return i+=n.size_left,i+(this.getAccumulatedValue(n,e-n.lf_left-2)+t-1);e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0;const n=e;for(;t!==ve;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){const o=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+o.index,0===o.index){const e=n-this.getOffsetAt(i+1,1);return new u.L(i+1,e+1)}return new u.L(i+1,o.remainder+1)}if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===ve){const t=n-e-this.getOffsetAt(i+1,1);return new u.L(i+1,t+1)}t=t.right}return new u.L(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const i=this.nodeAt2(e.startLineNumber,e.startColumn),n=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(i,n);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o}getValueInRange2(e,t){if(e.node===t.node){const i=e.node,n=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n.substring(o+e.remainder,o+t.remainder)}let i=e.node;const n=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);let s=n.substring(o+e.remainder,o+i.piece.length);for(i=i.next();i!==ve;){const e=this._buffers[i.piece.bufferIndex].buffer,n=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){s+=e.substring(n,n+t.remainder);break}s+=e.substr(n,i.piece.length),i=i.next()}return s}getLinesContent(){const e=[];let t=0,i="",n=!1;return this.iterate(this.root,(o=>{if(o===ve)return!0;const s=o.piece;let r=s.length;if(0===r)return!0;const a=this._buffers[s.bufferIndex].buffer,l=this._buffers[s.bufferIndex].lineStarts,d=s.start.line,c=s.end.line;let h=l[d]+s.start.column;if(n&&(10===a.charCodeAt(h)&&(h++,r--),e[t++]=i,i="",n=!1,0===r))return!0;if(d===c)return this._EOLNormalized||13!==a.charCodeAt(h+r-1)?i+=a.substr(h,r):(n=!0,i+=a.substr(h,r-1)),!0;i+=this._EOLNormalized?a.substring(h,Math.max(h,l[d+1]-this._EOLLength)):a.substring(h,l[d+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let n=d+1;n<c;n++)i=this._EOLNormalized?a.substring(l[n],l[n+1]-this._EOLLength):a.substring(l[n],l[n+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return this._EOLNormalized||13!==a.charCodeAt(l[c]+s.end.column-1)?i=a.substr(l[c],s.end.column):(n=!0,0===s.end.column?t--:i=a.substr(l[c],s.end.column-1)),!0})),n&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e||(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t)return 0;const i=this._buffers[t.piece.bufferIndex],n=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(n)}{const t=this._buffers[e.node.piece.bufferIndex],i=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(i)}}getLineCharCode(e,t){const i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,n,o,s,r,a,l,d,c){const h=this._buffers[e.piece.bufferIndex],u=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),p=this.offsetInBuffer(e.piece.bufferIndex,o),m=this.offsetInBuffer(e.piece.bufferIndex,s);let f;const v={line:0,column:0};let _,b;t._wordSeparators?(_=h.buffer.substring(p,m),b=e=>e+p,t.reset(0)):(_=h.buffer,b=e=>e,t.reset(p));do{if(f=t.next(_),f){if(b(f.index)>=m)return d;this.positionInBuffer(e,b(f.index)-u,v);const t=this.getLineFeedCnt(e.piece.bufferIndex,o,v),s=v.line===o.line?v.column-o.column+n:v.column+1,r=s+f[0].length;if(c[d++]=(0,Ne.iE)(new g.e(i+t,s,i+t,r),f,a),b(f.index)+f[0].length>=m)return d;if(d>=l)return d}}while(f);return d}findMatchesLineByLine(e,t,i,n){const o=[];let s=0;const r=new Ne.sz(t.wordSeparators,t.regex);let a=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===a)return[];const l=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===l)return[];let d=this.positionInBuffer(a.node,a.remainder);const c=this.positionInBuffer(l.node,l.remainder);if(a.node===l.node)return this.findMatchesInNode(a.node,r,e.startLineNumber,e.startColumn,d,c,t,i,n,s,o),o;let h=e.startLineNumber,u=a.node;for(;u!==l.node;){const l=this.getLineFeedCnt(u.piece.bufferIndex,d,u.piece.end);if(l>=1){const a=this._buffers[u.piece.bufferIndex].lineStarts,c=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start),g=a[d.line+l],p=h===e.startLineNumber?e.startColumn:1;if(s=this.findMatchesInNode(u,r,h,p,d,this.positionInBuffer(u,g-c),t,i,n,s,o),s>=n)return o;h+=l}const c=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){const a=this.getLineContent(h).substring(c,e.endColumn-1);return s=this._findMatchesInLine(t,r,a,e.endLineNumber,c,s,o,i,n),o}if(s=this._findMatchesInLine(t,r,this.getLineContent(h).substr(c),h,c,s,o,i,n),s>=n)return o;h++,a=this.nodeAt2(h,1),u=a.node,d=this.positionInBuffer(a.node,a.remainder)}if(h===e.endLineNumber){const a=h===e.startLineNumber?e.startColumn-1:0,l=this.getLineContent(h).substring(a,e.endColumn-1);return s=this._findMatchesInLine(t,r,l,e.endLineNumber,a,s,o,i,n),o}const g=h===e.startLineNumber?e.startColumn:1;return s=this.findMatchesInNode(l.node,r,h,g,d,c,t,i,n,s,o),o}_findMatchesInLine(e,t,i,n,o,s,r,a,l){const d=e.wordSeparators;if(!a&&e.simpleSearch){const t=e.simpleSearch,a=t.length,c=i.length;let h=-a;for(;-1!==(h=i.indexOf(t,h+a));)if((!d||(0,Ne.cM)(d,i,c,h,a))&&(r[s++]=new _.tk(new g.e(n,h+1+o,n,h+1+a+o),null),s>=l))return s;return s}let c;t.reset(0);do{if(c=t.next(i),c&&(r[s++]=(0,Ne.iE)(new g.e(n,c.index+1+o,n,c.index+1+c[0].length+o),c,a),s>=l))return s}while(c);return s}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==ve){const{node:i,remainder:n,nodeStartOffset:o}=this.nodeAt(e),s=i.piece,r=s.bufferIndex,a=this.positionInBuffer(i,n);if(0===i.piece.bufferIndex&&s.end.line===this._lastChangeBufferPos.line&&s.end.column===this._lastChangeBufferPos.column&&o+s.length===e&&t.length<Ee)return this.appendToNode(i,t),void this.computeBufferMetadata();if(o===e)this.insertContentToNodeLeft(t,i),this._searchCache.validate(e);else if(o+i.piece.length>e){const e=[];let o=new Re(s.bufferIndex,a,s.end,this.getLineFeedCnt(s.bufferIndex,a,s.end),this.offsetInBuffer(r,s.end)-this.offsetInBuffer(r,a));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&10===this.nodeCharCodeAt(i,n)){const e={line:o.start.line+1,column:0};o=new Re(o.bufferIndex,e,o.end,this.getLineFeedCnt(o.bufferIndex,e,o.end),o.length-1),t+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(13===this.nodeCharCodeAt(i,n-1)){const o=this.positionInBuffer(i,n-1);this.deleteNodeTail(i,o),t="\r"+t,0===i.piece.length&&e.push(i)}else this.deleteNodeTail(i,a);else this.deleteNodeTail(i,a);const l=this.createNewPieces(t);o.length>0&&this.rbInsertRight(i,o);let d=i;for(let e=0;e<l.length;e++)d=this.rbInsertRight(d,l[e]);this.deleteNodes(e)}else this.insertContentToNodeRight(t,i)}else{const e=this.createNewPieces(t);let i=this.rbInsertLeft(null,e[0]);for(let t=1;t<e.length;t++)i=this.rbInsertRight(i,e[t])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===ve)return;const i=this.nodeAt(e),n=this.nodeAt(e+t),o=i.node,s=n.node;if(o===s){const s=this.positionInBuffer(o,i.remainder),r=this.positionInBuffer(o,n.remainder);if(i.nodeStartOffset===e){if(t===o.piece.length){const e=o.next();return Le(this,o),this.validateCRLFWithPrevNode(e),void this.computeBufferMetadata()}return this.deleteNodeHead(o,r),this._searchCache.validate(e),this.validateCRLFWithPrevNode(o),void this.computeBufferMetadata()}return i.nodeStartOffset+o.piece.length===e+t?(this.deleteNodeTail(o,s),this.validateCRLFWithNextNode(o),void this.computeBufferMetadata()):(this.shrinkNode(o,s,r),void this.computeBufferMetadata())}const r=[],a=this.positionInBuffer(o,i.remainder);this.deleteNodeTail(o,a),this._searchCache.validate(e),0===o.piece.length&&r.push(o);const l=this.positionInBuffer(s,n.remainder);this.deleteNodeHead(s,l),0===s.piece.length&&r.push(s);for(let e=o.next();e!==ve&&e!==s;e=e.next())r.push(e);const d=0===o.piece.length?o.prev():o;this.deleteNodes(r),this.validateCRLFWithNextNode(d),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const n=t.piece,o={line:n.start.line+1,column:0},s=new Re(n.bufferIndex,o,n.end,this.getLineFeedCnt(n.bufferIndex,o,n.end),n.length-1);t.piece=s,e+="\n",Ie(this,t,-1,-1),0===t.piece.length&&i.push(t)}const n=this.createNewPieces(e);let o=this.rbInsertLeft(t,n[n.length-1]);for(let e=n.length-2;e>=0;e--)o=this.rbInsertLeft(o,n[e]);this.validateCRLFWithPrevNode(o),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");const i=this.createNewPieces(e),n=this.rbInsertRight(t,i[0]);let o=n;for(let e=1;e<i.length;e++)o=this.rbInsertRight(o,i[e]);this.validateCRLFWithPrevNode(n)}positionInBuffer(e,t,i){const n=e.piece,o=e.piece.bufferIndex,s=this._buffers[o].lineStarts,r=s[n.start.line]+n.start.column+t;let a=n.start.line,l=n.end.line,d=0,c=0,h=0;for(;a<=l&&(d=a+(l-a)/2|0,h=s[d],d!==l);)if(c=s[d+1],r<h)l=d-1;else{if(!(r>=c))break;a=d+1}return i?(i.line=d,i.column=r-h,null):{line:d,column:r-h}}getLineFeedCnt(e,t,i){if(0===i.column)return i.line-t.line;const n=this._buffers[e].lineStarts;if(i.line===n.length-1)return i.line-t.line;const o=n[i.line+1],s=n[i.line]+i.column;if(o>s+1)return i.line-t.line;const r=s-1;return 13===this._buffers[e].buffer.charCodeAt(r)?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)Le(this,e[t])}createNewPieces(e){if(e.length>Ee){const t=[];for(;e.length>Ee;){const i=e.charCodeAt(65534);let n;13===i||i>=55296&&i<=56319?(n=e.substring(0,65534),e=e.substring(65534)):(n=e.substring(0,Ee),e=e.substring(Ee));const o=Me(n);t.push(new Re(this._buffers.length,{line:0,column:0},{line:o.length-1,column:n.length-o[o.length-1]},o.length-1,n.length)),this._buffers.push(new Pe(n,o))}const i=Me(e);return t.push(new Re(this._buffers.length,{line:0,column:0},{line:i.length-1,column:e.length-i[i.length-1]},i.length-1,e.length)),this._buffers.push(new Pe(e,i)),t}let t=this._buffers[0].buffer.length;const i=Me(e,!1);let n=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&0!==t&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},n=this._lastChangeBufferPos;for(let e=0;e<i.length;e++)i[e]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(0!==t)for(let e=0;e<i.length;e++)i[e]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const o=this._buffers[0].buffer.length,s=this._buffers[0].lineStarts.length-1,r={line:s,column:o-this._buffers[0].lineStarts[s]},a=new Re(0,n,r,this.getLineFeedCnt(0,n,r),o-t);return this._lastChangeBufferPos=r,[a]}getLineRawContent(e,t=0){let i=this.root,n="";const o=this._searchCache.get2(e);if(o){i=o.node;const s=this.getAccumulatedValue(i,e-o.nodeStartLineNumber-1),r=this._buffers[i.piece.bufferIndex].buffer,a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(o.nodeStartLineNumber+i.piece.lineFeedCnt!==e){const n=this.getAccumulatedValue(i,e-o.nodeStartLineNumber);return r.substring(a+s,a+n-t)}n=r.substring(a+s,a+i.piece.length)}else{let o=0;const s=e;for(;i!==ve;)if(i.left!==ve&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){const n=this.getAccumulatedValue(i,e-i.lf_left-2),r=this.getAccumulatedValue(i,e-i.lf_left-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return o+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:o,nodeStartLineNumber:s-(e-1-i.lf_left)}),a.substring(l+n,l+r-t)}if(i.lf_left+i.piece.lineFeedCnt===e-1){const t=this.getAccumulatedValue(i,e-i.lf_left-2),o=this._buffers[i.piece.bufferIndex].buffer,s=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n=o.substring(s+t,s+i.piece.length);break}e-=i.lf_left+i.piece.lineFeedCnt,o+=i.size_left+i.piece.length,i=i.right}}for(i=i.next();i!==ve;){const e=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const o=this.getAccumulatedValue(i,0),s=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n+=e.substring(s,s+o-t),n}{const t=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n+=e.substr(t,i.piece.length)}i=i.next()}return n}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==ve;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){const i=e.piece,n=this.positionInBuffer(e,t),o=n.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){const t=this.getLineFeedCnt(e.piece.bufferIndex,i.start,n);if(t!==o)return{index:t,remainder:0}}return{index:o,remainder:n.column}}getAccumulatedValue(e,t){if(t<0)return 0;const i=e.piece,n=this._buffers[i.bufferIndex].lineStarts,o=i.start.line+t+1;return o>i.end.line?n[i.end.line]+i.end.column-n[i.start.line]-i.start.column:n[o]-n[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.end),s=t,r=this.offsetInBuffer(i.bufferIndex,s),a=this.getLineFeedCnt(i.bufferIndex,i.start,s),l=a-n,d=r-o,c=i.length+d;e.piece=new Re(i.bufferIndex,i.start,s,a,c),Ie(this,e,d,l)}deleteNodeHead(e,t){const i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.start),s=t,r=this.getLineFeedCnt(i.bufferIndex,s,i.end),a=r-n,l=o-this.offsetInBuffer(i.bufferIndex,s),d=i.length+l;e.piece=new Re(i.bufferIndex,s,i.end,r,d),Ie(this,e,l,a)}shrinkNode(e,t,i){const n=e.piece,o=n.start,s=n.end,r=n.length,a=n.lineFeedCnt,l=t,d=this.getLineFeedCnt(n.bufferIndex,n.start,l),c=this.offsetInBuffer(n.bufferIndex,t)-this.offsetInBuffer(n.bufferIndex,o);e.piece=new Re(n.bufferIndex,n.start,l,d,c),Ie(this,e,c-r,d-a);const h=new Re(n.bufferIndex,i,s,this.getLineFeedCnt(n.bufferIndex,i,s),this.offsetInBuffer(n.bufferIndex,s)-this.offsetInBuffer(n.bufferIndex,i)),u=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(u)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),n=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const o=Me(t,!1);for(let e=0;e<o.length;e++)o[e]+=n;if(i){const e=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:n-e}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));const s=this._buffers[0].lineStarts.length-1,r={line:s,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[s]},a=e.piece.length+t.length,l=e.piece.lineFeedCnt,d=this.getLineFeedCnt(0,e.piece.start,r),c=d-l;e.piece=new Re(e.piece.bufferIndex,e.piece.start,r,d,a),this._lastChangeBufferPos=r,Ie(this,e,t.length,c)}nodeAt(e){let t=this.root;const i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let n=0;for(;t!==ve;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){n+=t.size_left;const i={node:t,remainder:e-t.size_left,nodeStartOffset:n};return this._searchCache.set(i),i}e-=t.size_left+t.piece.length,n+=t.size_left+t.piece.length,t=t.right}return null}nodeAt2(e,t){let i=this.root,n=0;for(;i!==ve;)if(i.left!==ve&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){const o=this.getAccumulatedValue(i,e-i.lf_left-2),s=this.getAccumulatedValue(i,e-i.lf_left-1);return n+=i.size_left,{node:i,remainder:Math.min(o+t-1,s),nodeStartOffset:n}}if(i.lf_left+i.piece.lineFeedCnt===e-1){const o=this.getAccumulatedValue(i,e-i.lf_left-2);if(o+t-1<=i.piece.length)return{node:i,remainder:o+t-1,nodeStartOffset:n};t-=i.piece.length-o;break}e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==ve;){if(i.piece.lineFeedCnt>0){const e=this.getAccumulatedValue(i,0),n=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,e),nodeStartOffset:n}}if(i.piece.length>=t-1)return{node:i,remainder:t-1,nodeStartOffset:this.offsetOfNode(i)};t-=i.piece.length,i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;const i=this._buffers[e.piece.bufferIndex],n=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(n)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(e){if("string"==typeof e)return 10===e.charCodeAt(0);if(e===ve||0===e.piece.lineFeedCnt)return!1;const t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,n=t.start.line,o=i[n]+t.start.column;return n!==i.length-1&&(!(i[n+1]>o+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(o))}endWithCR(e){return"string"==typeof e?13===e.charCodeAt(e.length-1):e!==ve&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){const i=[],n=this._buffers[e.piece.bufferIndex].lineStarts;let o;o=0===e.piece.end.column?{line:e.piece.end.line-1,column:n[e.piece.end.line]-n[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};const s=e.piece.length-1,r=e.piece.lineFeedCnt-1;e.piece=new Re(e.piece.bufferIndex,e.piece.start,o,r,s),Ie(this,e,-1,-1),0===e.piece.length&&i.push(e);const a={line:t.piece.start.line+1,column:0},l=t.piece.length-1,d=this.getLineFeedCnt(t.piece.bufferIndex,a,t.piece.end);t.piece=new Re(t.piece.bufferIndex,a,t.piece.end,d,l),Ie(this,t,-1,-1),0===t.piece.length&&i.push(t);const c=this.createNewPieces("\r\n");this.rbInsertRight(e,c[0]);for(let e=0;e<i.length;e++)Le(this,i[e])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const i=t.next();if(this.startWithLF(i)){if(e+="\n",1===i.piece.length)Le(this,i);else{const e=i.piece,t={line:e.start.line+1,column:0},n=e.length-1,o=this.getLineFeedCnt(e.bufferIndex,t,e.end);i.piece=new Re(e.bufferIndex,t,e.end,o,n),Ie(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===ve)return t(ve);const i=this.iterate(e.left,t);return i?t(e)&&this.iterate(e.right,t):i}getNodeContent(e){if(e===ve)return"";const t=this._buffers[e.piece.bufferIndex],i=e.piece,n=this.offsetInBuffer(i.bufferIndex,i.start),o=this.offsetInBuffer(i.bufferIndex,i.end);return t.buffer.substring(n,o)}getPieceContent(e){const t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),n=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,n)}rbInsertRight(e,t){const i=new fe(t,1);if(i.left=ve,i.right=ve,i.parent=ve,i.size_left=0,i.lf_left=0,this.root===ve)this.root=i,i.color=0;else if(e.right===ve)e.right=i,i.parent=e;else{const t=_e(e.right);t.left=i,i.parent=t}return xe(this,i),i}rbInsertLeft(e,t){const i=new fe(t,1);if(i.left=ve,i.right=ve,i.parent=ve,i.size_left=0,i.lf_left=0,this.root===ve)this.root=i,i.color=0;else if(e.left===ve)e.left=i,i.parent=e;else{const t=be(e.left);t.right=i,i.parent=t}return xe(this,i),i}}var We=i(3033);class ze extends a.JT{constructor(e,t,i,n,o,s,a){super(),this._onDidChangeContent=this._register(new r.Q5),this._BOM=t,this._mightContainNonBasicASCII=!s,this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._pieceTree=new Fe(e,i,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const i=e+t,n=this.getPositionAt(e),o=this.getPositionAt(i);return new g.e(n.lineNumber,n.column,o.lineNumber,o.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;const i=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-i}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const n=e.startLineNumber,o=e.endLineNumber;for(let t=n;t<=o;t++){const s=this.getLineContent(t),r=t===n?e.startColumn-1:0,a=t===o?e.endColumn-1:s.length;for(let e=r;e<a;e++)l.ZG(s.charCodeAt(e))?(i+=1,e+=1):i+=1}return i+=this._getEndOfLine(t).length*(o-n),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=l.LC(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=l.ow(this.getLineContent(e));return-1===t?0:t+2}_getEndOfLine(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let n=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,s=this._mightContainNonBasicASCII,r=!0,a=[];for(let t=0;t<e.length;t++){const i=e[t];r&&i._isTracked&&(r=!1);const d=i.range;if(i.text){let e=!0;s||(e=!l.$i(i.text),s=e),!n&&e&&(n=l.Ut(i.text)),!o&&e&&(o=l.ab(i.text))}let h="",u=0,g=0,p=0;if(i.text){let e;[u,g,p,e]=(0,c.Q)(i.text);const t=this.getEOL();h=0===e||e===("\r\n"===t?2:1)?i.text:i.text.replace(/\r\n|\r|\n/g,t)}a[t]={sortIndex:t,identifier:i.identifier||null,range:d,rangeOffset:this.getOffsetAt(d.startLineNumber,d.startColumn),rangeLength:this.getValueLengthInRange(d),text:h,eolCount:u,firstLineLength:g,lastLineLength:p,forceMoveMarkers:Boolean(i.forceMoveMarkers),isAutoWhitespaceEdit:i.isAutoWhitespaceEdit||!1}}a.sort(ze._sortOpsAscending);let d=!1;for(let e=0,t=a.length-1;e<t;e++){const t=a[e].range.getEndPosition(),i=a[e+1].range.getStartPosition();if(i.isBeforeOrEqual(t)){if(i.isBefore(t))throw new Error("Overlapping ranges are not allowed!");d=!0}}r&&(a=this._reduceOperations(a));const h=i||t?ze._getInverseEditRanges(a):[],u=[];if(t)for(let e=0;e<a.length;e++){const t=a[e],i=h[e];if(t.isAutoWhitespaceEdit&&t.range.isEmpty())for(let e=i.startLineNumber;e<=i.endLineNumber;e++){let n="";e===i.startLineNumber&&(n=this.getLineContent(t.range.startLineNumber),-1!==l.LC(n))||u.push({lineNumber:e,oldContent:n})}}let g=null;if(i){let e=0;g=[];for(let t=0;t<a.length;t++){const i=a[t],n=h[t],o=this.getValueInRange(i.range),s=i.rangeOffset+e;e+=i.text.length-o.length,g[t]={sortIndex:i.sortIndex,identifier:i.identifier,range:n,text:o,textChange:new We.q(i.rangeOffset,o,s,i.text)}}d||g.sort(((e,t)=>e.sortIndex-t.sortIndex))}this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=s;const p=this._doApplyEdits(a);let m=null;if(t&&u.length>0){u.sort(((e,t)=>t.lineNumber-e.lineNumber)),m=[];for(let e=0,t=u.length;e<t;e++){const t=u[e].lineNumber;if(e>0&&u[e-1].lineNumber===t)continue;const i=u[e].oldContent,n=this.getLineContent(t);0!==n.length&&n!==i&&-1===l.LC(n)&&m.push(t)}}return this._onDidChangeContent.fire(),new _.je(g,p,m)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,n=e[e.length-1].range,o=new g.e(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn);let s=i.startLineNumber,r=i.startColumn;const a=[];for(let i=0,n=e.length;i<n;i++){const n=e[i],o=n.range;t=t||n.forceMoveMarkers,a.push(this.getValueInRange(new g.e(s,r,o.startLineNumber,o.startColumn))),n.text.length>0&&a.push(n.text),s=o.endLineNumber,r=o.endColumn}const l=a.join(""),[d,h,u]=(0,c.Q)(l);return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:l,eolCount:d,firstLineLength:h,lastLineLength:u,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(ze._sortOpsDescending);const t=[];for(let i=0;i<e.length;i++){const n=e[i],o=n.range.startLineNumber,s=n.range.startColumn,r=n.range.endLineNumber,a=n.range.endColumn;if(o===r&&s===a&&0===n.text.length)continue;n.text?(this._pieceTree.delete(n.rangeOffset,n.rangeLength),this._pieceTree.insert(n.rangeOffset,n.text,!0)):this._pieceTree.delete(n.rangeOffset,n.rangeLength);const l=new g.e(o,s,r,a);t.push({range:l,rangeLength:n.rangeLength,text:n.text,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,n){return this._pieceTree.findMatchesLineByLine(e,t,i,n)}static _getInverseEditRanges(e){const t=[];let i=0,n=0,o=null;for(let s=0,r=e.length;s<r;s++){const r=e[s];let a,l,d;if(o?o.range.endLineNumber===r.range.startLineNumber?(a=i,l=n+(r.range.startColumn-o.range.endColumn)):(a=i+(r.range.startLineNumber-o.range.endLineNumber),l=r.range.startColumn):(a=r.range.startLineNumber,l=r.range.startColumn),r.text.length>0){const e=r.eolCount+1;d=1===e?new g.e(a,l,a,l+r.firstLineLength):new g.e(a,l,a+e-1,r.lastLineLength+1)}else d=new g.e(a,l,a,l);i=d.endLineNumber,n=d.endColumn,t.push(d),o=r}return t}static _sortOpsAscending(e,t){const i=g.e.compareRangesUsingEnds(e.range,t.range);return 0===i?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){const i=g.e.compareRangesUsingEnds(e.range,t.range);return 0===i?t.sortIndex-e.sortIndex:-i}}class Be{constructor(e,t,i,n,o,s,r,a,l){this._chunks=e,this._bom=t,this._cr=i,this._lf=n,this._crlf=o,this._containsRTL=s,this._containsUnusualLineTerminators=r,this._isBasicASCII=a,this._normalizeEOL=l}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return 0===t?1===e?"\n":"\r\n":i>t/2?"\r\n":"\n"}create(e){const t=this._getEOL(e),i=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(let e=0,n=i.length;e<n;e++){const n=i[e].buffer.replace(/\r\n|\r|\n/g,t),o=Me(n);i[e]=new Pe(n,o)}const n=new ze(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:n,disposable:n}}}class Ue{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(0===e.length)return;0===this.chunks.length&&l.uS(e)&&(this.BOM=l.c1,e=e.substr(1));const t=e.charCodeAt(e.length-1);13===t||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){(t||0!==e.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=function(e,t){e.length=0,e[0]=0;let i=1,n=0,o=0,s=0,r=!0;for(let a=0,l=t.length;a<l;a++){const d=t.charCodeAt(a);13===d?a+1<l&&10===t.charCodeAt(a+1)?(s++,e[i++]=a+2,a++):(n++,e[i++]=a+1):10===d?(o++,e[i++]=a+1):r&&9!==d&&(d<32||d>126)&&(r=!1)}const a=new Te(Ae(e),n,o,s,r);return e.length=0,a}(this._tmpLineStarts,e);this.chunks.push(new Pe(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),this.isBasicASCII||this.containsRTL||(this.containsRTL=l.Ut(e)),this.isBasicASCII||this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=l.ab(e))}finish(e=!0){return this._finish(),new Be(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=Me(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}}}var He=i(270),Ge=i(4954),je=i(7378),Ke=i(6887),$e=i(276),qe=i(4013);class Ye{constructor(e,t){this._startLineNumber=e,this._tokens=t}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}class Qe{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const i=this._tokens[this._tokens.length-1];if(i.endLineNumber+1===e)return void i.appendLineTokens(t)}this._tokens.push(new Ye(e,[t]))}finalize(){return this._tokens}}var Ze=i(5393),Je=i(1432);class Xe{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}delete(e,t){0===t||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(0===t||e>=this._store.length)return;const i=[];for(let e=0;e<t;e++)i[e]=this._default;this._store=n.Zv(this._store,e,i)}}class et{constructor(e,t){this.tokenizationSupport=e,this.initialState=t,this._lineBeginState=new Xe(null),this._lineNeedsTokenization=new Xe(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(e){this._lineNeedsTokenization.set(e,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,e)}getBeginState(e){return this._lineBeginState.get(e)}setEndState(e,t,i){if(this._lineNeedsTokenization.set(t,!1),this._firstLineNeedsTokenization=t+1,t===e-1)return;const n=this._lineBeginState.get(t+1);if(null===n||!i.equals(n))return this._lineBeginState.set(t+1,i),void this.markMustBeTokenized(t+1);let o=t+1;for(;o<e&&!this._lineNeedsTokenization.get(o);)o++;this._firstLineNeedsTokenization=o}applyEdits(e,t){this.markMustBeTokenized(e.startLineNumber-1),this._lineBeginState.delete(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineNeedsTokenization.delete(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineBeginState.insert(e.startLineNumber,t),this._lineNeedsTokenization.insert(e.startLineNumber,t)}}class tt extends a.JT{constructor(e,t,i){super(),this._textModel=e,this._tokenizationPart=t,this._languageIdCodec=i,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(Ke.RW.onDidChange((e=>{const t=this._textModel.getLanguageId();-1!==e.changedLanguages.indexOf(t)&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())}))),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(e){if(e.isFlush)this._resetTokenizationState();else{if(this._tokenizationStateStore)for(let t=0,i=e.changes.length;t<i;t++){const i=e.changes[t],[n]=(0,c.Q)(i.text);this._tokenizationStateStore.applyEdits(i.range,n)}this._beginBackgroundTokenization()}}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(e){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){const[e,t]=function(e,t){if(e.isTooLargeForTokenization())return[null,null];const i=Ke.RW.get(t.getLanguageId());if(!i)return[null,null];let n;try{n=i.getInitialState()}catch(e){return(0,s.dL)(e),[null,null]}return[i,n]}(this._textModel,this._tokenizationPart);this._tokenizationStateStore=e&&t?new et(e,t):null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){!this._isScheduled&&this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&(this._isScheduled=!0,(0,Ze.To)((e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)})))}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining(),i=()=>{!this._isDisposed&&this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?(0,Je.fn)(i):this._beginBackgroundTokenization())};i()}_backgroundTokenizeForAtLeast1ms(){const e=this._textModel.getLineCount(),t=new Qe,i=qe.G.create(!1);do{if(i.elapsed()>1)break;if(this._tokenizeOneInvalidLine(t)>=e)break}while(this._hasLinesToTokenize());this._tokenizationPart.setTokens(t.finalize(),this._isTokenizationComplete())}tokenizeViewport(e,t){const i=new Qe;this._tokenizeViewport(i,e,t),this._tokenizationPart.setTokens(i.finalize(),this._isTokenizationComplete())}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(e){const t=new Qe;this._updateTokensUntilLine(t,e),this._tokenizationPart.setTokens(t.finalize(),this._isTokenizationComplete())}getTokenTypeIfInsertingCharacter(e,t){if(!this._tokenizationStateStore)return 0;this.forceTokenization(e.lineNumber);const i=this._tokenizationStateStore.getBeginState(e.lineNumber-1);if(!i)return 0;const n=this._textModel.getLanguageId(),o=this._textModel.getLineContent(e.lineNumber),s=o.substring(0,e.column-1)+t+o.substring(e.column-1),r=it(this._languageIdCodec,n,this._tokenizationStateStore.tokenizationSupport,s,!0,i),a=new je.A(r.tokens,s,this._languageIdCodec);if(0===a.getCount())return 0;const l=a.findTokenIndexAtOffset(e.column-1);return a.getStandardTokenType(l)}tokenizeLineWithEdit(e,t,i){const n=e.lineNumber,o=e.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(n);const s=this._tokenizationStateStore.getBeginState(n-1);if(!s)return null;const r=this._textModel.getLineContent(n),a=r.substring(0,o-1)+i+r.substring(o-1+t),l=this._textModel.getLanguageIdAtPosition(n,0),d=it(this._languageIdCodec,l,this._tokenizationStateStore.tokenizationSupport,a,!0,s);return new je.A(d.tokens,a,this._languageIdCodec)}isCheapToTokenize(e){if(!this._tokenizationStateStore)return!0;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return!(e>t)&&(e<t||this._textModel.getLineLength(e)<2048)}_hasLinesToTokenize(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_isTokenizationComplete(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex>=this._textModel.getLineCount()}_tokenizeOneInvalidLine(e){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t),t}_updateTokensUntilLine(e,t){if(!this._tokenizationStateStore)return;const i=this._textModel.getLanguageId(),n=this._textModel.getLineCount(),o=t-1;for(let t=this._tokenizationStateStore.invalidLineStartIndex;t<=o;t++){const o=this._textModel.getLineContent(t+1),s=this._tokenizationStateStore.getBeginState(t),r=it(this._languageIdCodec,i,this._tokenizationStateStore.tokenizationSupport,o,!0,s);e.add(t+1,r.tokens),this._tokenizationStateStore.setEndState(n,t,r.endState),t=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(e,t,i){if(!this._tokenizationStateStore)return;if(i<=this._tokenizationStateStore.invalidLineStartIndex)return;if(t<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(e,i);let n=this._textModel.getLineFirstNonWhitespaceColumn(t);const o=[];let s=null;for(let e=t-1;n>1&&e>=1;e--){const t=this._textModel.getLineFirstNonWhitespaceColumn(e);if(0!==t&&t<n&&(o.push(this._textModel.getLineContent(e)),n=t,s=this._tokenizationStateStore.getBeginState(e-1),s))break}s||(s=this._tokenizationStateStore.initialState);const r=this._textModel.getLanguageId();let a=s;for(let e=o.length-1;e>=0;e--)a=it(this._languageIdCodec,r,this._tokenizationStateStore.tokenizationSupport,o[e],!1,a).endState;for(let n=t;n<=i;n++){const t=this._textModel.getLineContent(n),i=it(this._languageIdCodec,r,this._tokenizationStateStore.tokenizationSupport,t,!0,a);e.add(n,i.tokens),this._tokenizationStateStore.markMustBeTokenized(n-1),a=i.endState}}}function it(e,t,i,n,o,r){let a=null;if(i)try{a=i.tokenizeEncoded(n,o,r.clone())}catch(e){(0,s.dL)(e)}return a||(a=(0,$e.Dy)(e.encodeLanguageId(t),r)),je.A.convertToEndOffset(a.tokens,n.length),a}const nt=new Uint32Array(0).buffer;class ot{static deleteBeginning(e,t){return null===e||e===nt?e:ot.delete(e,0,t)}static deleteEnding(e,t){if(null===e||e===nt)return e;const i=st(e),n=i[i.length-2];return ot.delete(e,t,n)}static delete(e,t,i){if(null===e||e===nt||t===i)return e;const n=st(e),o=n.length>>>1;if(0===t&&n[n.length-2]===i)return nt;const s=je.A.findIndexInTokensArray(n,t),r=s>0?n[s-1<<1]:0;if(i<n[s<<1]){const r=i-t;for(let e=s;e<o;e++)n[e<<1]-=r;return e}let a,l;r!==t?(n[s<<1]=t,a=s+1<<1,l=t):(a=s<<1,l=r);const d=i-t;for(let e=s+1;e<o;e++){const t=n[e<<1]-d;t>l&&(n[a++]=t,n[a++]=n[1+(e<<1)],l=t)}if(a===n.length)return e;const c=new Uint32Array(a);return c.set(n.subarray(0,a),0),c.buffer}static append(e,t){if(t===nt)return e;if(e===nt)return t;if(null===e)return e;if(null===t)return null;const i=st(e),n=st(t),o=n.length>>>1,s=new Uint32Array(i.length+n.length);s.set(i,0);let r=i.length;const a=i[i.length-2];for(let e=0;e<o;e++)s[r++]=n[e<<1]+a,s[r++]=n[1+(e<<1)];return s.buffer}static insert(e,t,i){if(null===e||e===nt)return e;const n=st(e),o=n.length>>>1;let s=je.A.findIndexInTokensArray(n,t);s>0&&n[s-1<<1]===t&&s--;for(let e=s;e<o;e++)n[e<<1]+=i;return e}}function st(e){return e instanceof Uint32Array?e:new Uint32Array(e)}var rt=i(5797);class at{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}getTokens(e,t,i){let n=null;if(t<this._len&&(n=this._lineTokens[t]),null!==n&&n!==nt)return new je.A(st(n),i,this._languageIdCodec);const o=new Uint32Array(2);return o[0]=i.length,o[1]=lt(this._languageIdCodec.encodeLanguageId(e)),new je.A(o,i,this._languageIdCodec)}static _massageTokens(e,t,i){const n=i?st(i):null;if(0===t){let t=!1;if(n&&n.length>1&&(t=rt.N.getLanguageId(n[1])!==e),!t)return nt}if(!n||0===n.length){const i=new Uint32Array(2);return i[0]=t,i[1]=lt(e),i.buffer}return n[n.length-2]=t,0===n.byteOffset&&n.byteLength===n.buffer.byteLength?n.buffer:n}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;const i=[];for(let e=0;e<t;e++)i[e]=null;this._lineTokens=n.Zv(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,n,o){const s=at._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,n);this._ensureLine(t);const r=this._lineTokens[t];return this._lineTokens[t]=s,!!o&&!at._equals(r,s)}static _equals(e,t){if(!e||!t)return!e&&!t;const i=st(e),n=st(t);if(i.length!==n.length)return!1;for(let e=0,t=i.length;e<t;e++)if(i[e]!==n[e])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new u.L(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;return void(this._lineTokens[t]=ot.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1))}this._lineTokens[t]=ot.deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let n=null;i<this._len&&(n=ot.deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=ot.append(this._lineTokens[t],n),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(0===t&&0===i)return;const n=e.lineNumber-1;n>=this._len||(0!==t?(this._lineTokens[n]=ot.deleteEnding(this._lineTokens[n],e.column-1),this._lineTokens[n]=ot.insert(this._lineTokens[n],e.column-1,i),this._insertLines(e.lineNumber,t)):this._lineTokens[n]=ot.insert(this._lineTokens[n],e.column-1,i))}}function lt(e){return(32768|e<<0|2<<24|1024)>>>0}class dt{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const n=t[0].getRange(),o=t[t.length-1].getRange();if(!n||!o)return e;i=e.plusRange(n).plusRange(o)}let o=null;for(let e=0,t=this._pieces.length;e<t;e++){const n=this._pieces[e];if(n.endLineNumber<i.startLineNumber)continue;if(n.startLineNumber>i.endLineNumber){o=o||{index:e};break}if(n.removeTokens(i),n.isEmpty()){this._pieces.splice(e,1),e--,t--;continue}if(n.endLineNumber<i.startLineNumber)continue;if(n.startLineNumber>i.endLineNumber){o=o||{index:e};continue}const[s,r]=n.split(i);s.isEmpty()?o=o||{index:e}:r.isEmpty()||(this._pieces.splice(e,1,s,r),e++,t++,o=o||{index:e})}return o=o||{index:this._pieces.length},t.length>0&&(this._pieces=n.Zv(this._pieces,o.index,t)),i}isComplete(){return this._isComplete}addSparseTokens(e,t){if(0===t.getLineContent().length)return t;const i=this._pieces;if(0===i.length)return t;const n=i[dt._findFirstPieceWithLine(i,e)].getLineTokens(e);if(!n)return t;const o=t.getCount(),s=n.getCount();let r=0;const a=[];let l=0,d=0;const c=(e,t)=>{e!==d&&(d=e,a[l++]=e,a[l++]=t)};for(let e=0;e<s;e++){const i=n.getStartCharacter(e),s=n.getEndCharacter(e),a=n.getMetadata(e),l=((1&a?2048:0)|(2&a?4096:0)|(4&a?8192:0)|(8&a?16384:0)|(16&a?16744448:0)|(32&a?4278190080:0))>>>0,d=~l>>>0;for(;r<o&&t.getEndOffset(r)<=i;)c(t.getEndOffset(r),t.getMetadata(r)),r++;for(r<o&&t.getStartOffset(r)<i&&c(i,t.getMetadata(r));r<o&&t.getEndOffset(r)<s;)c(t.getEndOffset(r),t.getMetadata(r)&d|a&l),r++;if(r<o)c(s,t.getMetadata(r)&d|a&l),t.getEndOffset(r)===s&&r++;else{const e=Math.min(Math.max(0,r-1),o-1);c(s,t.getMetadata(e)&d|a&l)}}for(;r<o;)c(t.getEndOffset(r),t.getMetadata(r)),r++;return new je.A(new Uint32Array(a),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,n=e.length-1;for(;i<n;){let o=i+Math.floor((n-i)/2);if(e[o].endLineNumber<t)i=o+1;else{if(!(e[o].startLineNumber>t)){for(;o>i&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber;)o--;return o}n=o-1}}return i}acceptEdit(e,t,i,n,o){for(const s of this._pieces)s.acceptEdit(e,t,i,n,o)}}class ct extends Ge.U{constructor(e,t,i,n,o){super(),this._languageService=e,this._languageConfigurationService=t,this._textModel=i,this.bracketPairsTextModelPart=n,this._languageId=o,this._onDidChangeLanguage=this._register(new r.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new r.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new r.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new r.Q5),this._tokens=new at(this._languageService.languageIdCodec),this._semanticTokens=new dt(this._languageService.languageIdCodec),this._tokenization=new tt(i,this,this._languageService.languageIdCodec),this._languageRegistryListener=this._languageConfigurationService.onDidChange((e=>{e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}))}acceptEdit(e,t,i,n,o){this._tokens.acceptEdit(e,i,n),this._semanticTokens.acceptEdit(e,i,n,o,t.length>0?t.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(e){this._tokenization.handleDidChangeContent(e)}dispose(){this._languageRegistryListener.dispose(),this._tokenization.dispose(),super.dispose()}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(e){if(2===this._backgroundTokenizationState)return;const t=e?2:1;this._backgroundTokenizationState!==t&&(this._backgroundTokenizationState=t,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}setTokens(e,t=!1){if(0!==e.length){const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];let o=0,s=0,r=!1;for(let e=n.startLineNumber;e<=n.endLineNumber;e++)r?(this._tokens.setTokens(this._languageId,e-1,this._textModel.getLineLength(e),n.getLineTokens(e),!1),s=e):this._tokens.setTokens(this._languageId,e-1,this._textModel.getLineLength(e),n.getLineTokens(e),!0)&&(r=!0,o=e,s=e);r&&t.push({fromLineNumber:o,toLineNumber:s})}t.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:t})}this.handleTokenizationProgress(t)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==e,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}tokenizeViewport(e,t){e=Math.max(1,e),t=Math.min(this._textModel.getLineCount(),t),this._tokenization.tokenizeViewport(e,t)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(e){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}resetTokenization(){this._tokenization.reset()}forceTokenization(e){if(e<1||e>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(e)}isCheapToTokenize(e){return this._tokenization.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){if(e<1||e>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)}_getLineTokens(e){const t=this._textModel.getLineContent(e),i=this._tokens.getTokens(this._languageId,e-1,t);return this._semanticTokens.addSparseTokens(e,i)}getTokenTypeIfInsertingCharacter(e,t,i){const n=this._textModel.validatePosition(new u.L(e,t));return this._tokenization.getTokenTypeIfInsertingCharacter(n,i)}tokenizeLineWithEdit(e,t,i){const n=this._textModel.validatePosition(e);return this._tokenization.tokenizeLineWithEdit(n,t,i)}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}getWordAtPosition(e){this.assertNotDisposed();const t=this._textModel.validatePosition(e),i=this._textModel.getLineContent(t.lineNumber),n=this._getLineTokens(t.lineNumber),o=n.findTokenIndexAtOffset(t.column-1),[s,r]=ct._findLanguageBoundaries(n,o),a=(0,He.t2)(t.column,this.getLanguageConfiguration(n.getLanguageId(o)).getWordDefinition(),i.substring(s,r),s);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn)return a;if(o>0&&s===t.column-1){const[s,r]=ct._findLanguageBoundaries(n,o-1),a=(0,He.t2)(t.column,this.getLanguageConfiguration(n.getLanguageId(o-1)).getWordDefinition(),i.substring(s,r),s);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn)return a}return null}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let n=0;for(let o=t;o>=0&&e.getLanguageId(o)===i;o--)n=e.getStartOffset(o);let o=e.getLineContent().length;for(let n=t,s=e.getCount();n<s&&e.getLanguageId(n)===i;n++)o=e.getEndOffset(n);return[n,o]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){const i=this._textModel.validatePosition(new u.L(e,t)),n=this.getLineTokens(i.lineNumber);return n.getLanguageId(n.findTokenIndexAtOffset(i.column-1))}setLanguageId(e){if(this._languageId===e)return;const t={oldLanguage:this._languageId,newLanguage:e};this._languageId=e,this.bracketPairsTextModelPart.handleDidChangeLanguage(t),this._tokenization.handleDidChangeLanguage(t),this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}}var ht=i(4706),ut=i(4862),gt=function(e,t){return function(i,n){t(i,n,e)}};function pt(e,t){let i;return i="string"==typeof e?function(e){const t=new Ue;return t.acceptChunk(e),t.finish()}(e):_.Hf(e)?function(e){const t=new Ue;let i;for(;"string"==typeof(i=e.read());)t.acceptChunk(i);return t.finish()}(e):e,i.create(t)}let mt=0;class ft{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;const e=[];let t=0,i=0;for(;;){const n=this._source.read();if(null===n)return this._eos=!0,0===t?null:e.join("");if(n.length>0&&(e[t++]=n,i+=n.length),i>=65536)return e.join("")}}}const vt=()=>{throw new Error("Invalid change accessor")};let _t=class e extends a.JT{constructor(t,i,n,o=null,s,a,c){super(),this._undoRedoService=s,this._languageService=a,this._languageConfigurationService=c,this._onWillDispose=this._register(new r.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Et((e=>this.handleBeforeFireDecorationsChangedEvent(e)))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new r.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new r.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new r.Q5),this._eventEmitter=this._register(new At),this._deltaDecorationCallCnt=0,mt++,this.id="$model"+mt,this.isForSimpleWidget=n.isForSimpleWidget,this._associatedResource=null==o?d.o.parse("inmemory://model/"+mt):o,this._attachedEditorCount=0;const{textBuffer:h,disposable:u}=pt(t,n.defaultEOL);this._buffer=h,this._bufferDisposable=u,this._options=e.resolveOptions(this._buffer,n),this._bracketPairs=this._register(new O(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new j.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new U(this)),this._tokenizationTextModelPart=new ct(this._languageService,this._languageConfigurationService,this,this._bracketPairs,i);const p=this._buffer.getLineCount(),m=this._buffer.getValueLengthInRange(new g.e(1,1,p,this._buffer.getLineLength(p)+1),0);n.largeFileOptimizations?this._isTooLargeForTokenization=m>e.LARGE_FILE_SIZE_THRESHOLD||p>e.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=m>e.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=l.PJ(mt),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new yt,this._commandManager=new G.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange((()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})))}static resolveOptions(e,t){if(t.detectIndentation){const i=q(e,t.tabSize,t.insertSpaces);return new _.dJ({tabSize:i.tabSize,indentSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new _.dJ({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent((t=>e(t.contentChangedEvent)))}onDidChangeContentOrInjectedText(e){return(0,a.F8)(this._eventEmitter.fastEvent((t=>e(t))),this._onDidChangeInjectedText.event((t=>e(t))))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const e=new ze([],"","\n",!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=a.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(t),this._bracketPairs.handleDidChangeContent(t),this._eventEmitter.fire(new ht.fV(e,t)))}setValue(e){if(this._assertNotDisposed(),null===e)return;const{textBuffer:t,disposable:i}=pt(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,n,o,s,r){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:n}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:o,isRedoing:s,isFlush:r}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new yt,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new ht.dQ([new ht.Jx],this._versionId,!1,!1),this._createContentChanged2(new g.e(1,1,o,s),0,n,this.getValue(),!1,!1,!0))}setEOL(e){this._assertNotDisposed();const t=1===e?"\r\n":"\n";if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new ht.dQ([new ht.CZ],this._versionId,!1,!1),this._createContentChanged2(new g.e(1,1,o,s),0,n,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,n=t.length;i<n;i++){const n=t[i],o=n.range,s=n.cachedAbsoluteStart-n.start,r=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);n.cachedAbsoluteStart=r,n.cachedAbsoluteEnd=a,n.cachedVersionId=e,n.start=r-s,n.end=a-s,pe(n)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let n=1;n<=i;n++){const i=this._buffer.getLineLength(n);i>=1e4?t+=i:e+=i}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const t=void 0!==e.tabSize?e.tabSize:this._options.tabSize,i=void 0!==e.indentSize?e.indentSize:this._options.indentSize,n=void 0!==e.insertSpaces?e.insertSpaces:this._options.insertSpaces,o=void 0!==e.trimAutoWhitespace?e.trimAutoWhitespace:this._options.trimAutoWhitespace,s=void 0!==e.bracketColorizationOptions?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,r=new _.dJ({tabSize:t,indentSize:i,insertSpaces:n,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:o,bracketPairColorizationOptions:s});if(this._options.equals(r))return;const a=this._options.createChangeEvent(r);this._options=r,this._bracketPairs.handleDidChangeOptions(a),this._decorationProvider.handleDidChangeOptions(a),this._onDidChangeOptions.fire(a)}detectIndentation(e,t){this._assertNotDisposed();const i=q(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),(0,h.x)(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(l.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map((e=>({range:e.range,text:null}))),(()=>null))}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueInRange(i,e);return t?this._buffer.getBOM()+n:n}createSnapshot(e=!1){return new ft(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+n:n}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,n=e.startColumn;let o=Math.floor("number"!=typeof i||isNaN(i)?1:i),s=Math.floor("number"!=typeof n||isNaN(n)?1:n);if(o<1)o=1,s=1;else if(o>t)o=t,s=this.getLineMaxColumn(o);else if(s<=1)s=1;else{const e=this.getLineMaxColumn(o);s>=e&&(s=e)}const r=e.endLineNumber,a=e.endColumn;let l=Math.floor("number"!=typeof r||isNaN(r)?1:r),d=Math.floor("number"!=typeof a||isNaN(a)?1:a);if(l<1)l=1,d=1;else if(l>t)l=t,d=this.getLineMaxColumn(l);else if(d<=1)d=1;else{const e=this.getLineMaxColumn(l);d>=e&&(d=e)}return i===o&&n===s&&r===l&&a===d&&e instanceof g.e&&!(e instanceof p.Y)?e:new g.e(o,s,l,d)}_isValidPosition(e,t,i){if("number"!=typeof e||"number"!=typeof t)return!1;if(isNaN(e)||isNaN(t))return!1;if(e<1||t<1)return!1;if((0|e)!==e||(0|t)!==t)return!1;if(e>this._buffer.getLineCount())return!1;if(1===t)return!0;if(t>this.getLineMaxColumn(e))return!1;if(1===i){const i=this._buffer.getLineCharCode(e,t-2);if(l.ZG(i))return!1}return!0}_validatePosition(e,t,i){const n=Math.floor("number"!=typeof e||isNaN(e)?1:e),o=Math.floor("number"!=typeof t||isNaN(t)?1:t),s=this._buffer.getLineCount();if(n<1)return new u.L(1,1);if(n>s)return new u.L(s,this.getLineMaxColumn(s));if(o<=1)return new u.L(n,1);const r=this.getLineMaxColumn(n);if(o>=r)return new u.L(n,r);if(1===i){const e=this._buffer.getLineCharCode(n,o-2);if(l.ZG(e))return new u.L(n,o-1)}return new u.L(n,o)}validatePosition(e){return this._assertNotDisposed(),e instanceof u.L&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn;if(!this._isValidPosition(i,n,0))return!1;if(!this._isValidPosition(o,s,0))return!1;if(1===t){const e=n>1?this._buffer.getLineCharCode(i,n-2):0,t=s>1&&s<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,s-2):0,r=l.ZG(e),a=l.ZG(t);return!r&&!a}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof g.e&&!(e instanceof p.Y)&&this._isValidRange(e,1))return e;const t=this._validatePosition(e.startLineNumber,e.startColumn,0),i=this._validatePosition(e.endLineNumber,e.endColumn,0),n=t.lineNumber,o=t.column,s=i.lineNumber,r=i.column;{const e=o>1?this._buffer.getLineCharCode(n,o-2):0,t=r>1&&r<=this._buffer.getLineLength(s)?this._buffer.getLineCharCode(s,r-2):0,i=l.ZG(e),a=l.ZG(t);return i||a?n===s&&o===r?new g.e(n,o-1,s,r-1):i&&a?new g.e(n,o-1,s,r+1):i?new g.e(n,o-1,s,r):new g.e(n,o,s,r+1):new g.e(n,o,s,r)}}modifyPosition(e,t){this._assertNotDisposed();const i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new g.e(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,n){return this._buffer.findMatchesLineByLine(e,t,i,n)}findMatches(e,t,i,n,o,s,r=999){this._assertNotDisposed();let a=null;null!==t&&(Array.isArray(t)||(t=[t]),t.every((e=>g.e.isIRange(e)))&&(a=t.map((e=>this.validateRange(e))))),null===a&&(a=[this.getFullModelRange()]),a=a.sort(((e,t)=>e.startLineNumber-t.startLineNumber||e.startColumn-t.startColumn));const l=[];let d;if(l.push(a.reduce(((e,t)=>g.e.areIntersecting(e,t)?e.plusRange(t):(l.push(e),t)))),!i&&e.indexOf("\n")<0){const t=new Ne.bc(e,i,n,o).parseSearchRequest();if(!t)return[];d=e=>this.findMatchesLineByLine(e,t,s,r)}else d=t=>Ne.pM.findMatches(this,new Ne.bc(e,i,n,o),t,s,r);return l.map(d).reduce(((e,t)=>e.concat(t)),[])}findNextMatch(e,t,i,n,o,s){this._assertNotDisposed();const r=this.validatePosition(t);if(!i&&e.indexOf("\n")<0){const t=new Ne.bc(e,i,n,o).parseSearchRequest();if(!t)return null;const a=this.getLineCount();let l=new g.e(r.lineNumber,r.column,a,this.getLineMaxColumn(a)),d=this.findMatchesLineByLine(l,t,s,1);return Ne.pM.findNextMatch(this,new Ne.bc(e,i,n,o),r,s),d.length>0?d[0]:(l=new g.e(1,1,r.lineNumber,this.getLineMaxColumn(r.lineNumber)),d=this.findMatchesLineByLine(l,t,s,1),d.length>0?d[0]:null)}return Ne.pM.findNextMatch(this,new Ne.bc(e,i,n,o),r,s)}findPreviousMatch(e,t,i,n,o,s){this._assertNotDisposed();const r=this.validatePosition(t);return Ne.pM.findPreviousMatch(this,new Ne.bc(e,i,n,o),r,s)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if(("\n"===this.getEOL()?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof _.Qi?e:new _.Qi(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const i=t.map((e=>({range:this.validateRange(e.range),text:e.text})));let n=!0;if(e)for(let t=0,o=e.length;t<o;t++){const o=e[t];let s=!1;for(let e=0,t=i.length;e<t;e++){const t=i[e].range,n=t.startLineNumber>o.endLineNumber,r=o.startLineNumber>t.endLineNumber;if(!n&&!r){s=!0;break}}if(!s){n=!1;break}}if(n)for(let e=0,n=this._trimAutoWhitespaceLines.length;e<n;e++){const n=this._trimAutoWhitespaceLines[e],o=this.getLineMaxColumn(n);let s=!0;for(let e=0,t=i.length;e<t;e++){const t=i[e].range,r=i[e].text;if(!(n<t.startLineNumber||n>t.endLineNumber||n===t.startLineNumber&&t.startColumn===o&&t.isEmpty()&&r&&r.length>0&&"\n"===r.charAt(0)||n===t.startLineNumber&&1===t.startColumn&&t.isEmpty()&&r&&r.length>0&&"\n"===r.charAt(r.length-1))){s=!1;break}}if(s){const e=new g.e(n,1,n,o);t.push(new _.Qi(null,e,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i)}_applyUndo(e,t,i,n){const o=e.map((e=>{const t=this.getPositionAt(e.newPosition),i=this.getPositionAt(e.newEnd);return{range:new g.e(t.lineNumber,t.column,i.lineNumber,i.column),text:e.oldText}}));this._applyUndoRedoEdits(o,t,!0,!1,i,n)}_applyRedo(e,t,i,n){const o=e.map((e=>{const t=this.getPositionAt(e.oldPosition),i=this.getPositionAt(e.oldEnd);return{range:new g.e(t.lineNumber,t.column,i.lineNumber,i.column),text:e.newText}}));this._applyUndoRedoEdits(o,t,!1,!0,i,n)}_applyUndoRedoEdits(e,t,i,n,o,s){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=n,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(o)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(s),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),o=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),s=this._buffer.getLineCount(),r=o.changes;if(this._trimAutoWhitespaceLines=o.trimAutoWhitespaceLineNumbers,0!==r.length){for(let e=0,t=r.length;e<t;e++){const t=r[e],[i,n,o]=(0,c.Q)(t.text);this._tokenizationTextModelPart.acceptEdit(t.range,t.text,i,n,o),this._decorationsTree.acceptReplace(t.rangeOffset,t.rangeLength,t.text.length,t.forceMoveMarkers)}const e=[];this._increaseVersionId();let t=i;for(let i=0,o=r.length;i<o;i++){const o=r[i],[a]=(0,c.Q)(o.text);this._onDidChangeDecorations.fire();const l=o.range.startLineNumber,d=o.range.endLineNumber,h=d-l,g=a,p=Math.min(h,g),m=g-h,f=s-t-m+l,v=f,_=f+g,b=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new u.L(v,1)),this.getOffsetAt(new u.L(_,this.getLineMaxColumn(_))),0),C=ht.gk.fromDecorations(b),y=new n.H9(C);for(let t=p;t>=0;t--){const i=l+t,n=f+t;y.takeFromEndWhile((e=>e.lineNumber>n));const o=y.takeFromEndWhile((e=>e.lineNumber===n));e.push(new ht.rU(i,this.getLineContent(n),o))}if(p<h){const t=l+p;e.push(new ht.lN(t+1,d))}if(p<g){const i=new n.H9(C),o=l+p,r=g-p,a=s-t-r+o+1,d=[],c=[];for(let e=0;e<r;e++){const t=a+e;c[e]=this.getLineContent(t),i.takeWhile((e=>e.lineNumber<t)),d[e]=i.takeWhile((e=>e.lineNumber===t))}e.push(new ht.Tx(o+1,l+g,c,d))}t+=m}this._emitContentChangedEvent(new ht.dQ(e,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:r,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===o.reverseEdits?void 0:o.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(null===e||0===e.size)return;const t=Array.from(e).map((e=>new ht.rU(e,this.getLineContent(e),this._getInjectedTextInLine(e))));this._onDidChangeInjectedText.fire(new ht.D8(t))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const i={addDecoration:(t,i)=>this._deltaDecorationsImpl(e,[],[{range:t,options:i}])[0],changeDecoration:(e,t)=>{this._changeDecorationImpl(e,t)},changeDecorationOptions:(e,t)=>{this._changeDecorationOptionsImpl(e,Nt(t))},removeDecoration:t=>{this._deltaDecorationsImpl(e,[t],[])},deltaDecorations:(t,i)=>0===t.length&&0===i.length?[]:this._deltaDecorationsImpl(e,t,i)};let n=null;try{n=t(i)}catch(e){(0,s.dL)(e)}return i.addDecoration=vt,i.changeDecoration=vt,i.changeDecorationOptions=vt,i.removeDecoration=vt,i.deltaDecorations=vt,n}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),0===e.length&&0===t.length)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,s.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const n=e?this._decorations[e]:null;if(!n)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:Dt[i]}])[0]:null;if(!t)return this._decorationsTree.delete(n),delete this._decorations[n.id],null;const o=this._validateRangeRelaxedNoAllocations(t),s=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),r=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(n),n.reset(this.getVersionId(),s,r,o),n.setOptions(Dt[i]),this._decorationsTree.insert(n),n.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let e=0,i=t.length;e<i;e++){const i=t[e];this._decorationsTree.delete(i),delete this._decorations[i.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,o=!1){const s=this.getLineCount(),r=Math.min(s,Math.max(1,e)),a=Math.min(s,Math.max(1,t)),l=this.getLineMaxColumn(a),d=new g.e(r,1,a,l),c=this._getDecorationsInRange(d,i,o);return(0,n.vA)(c,this._decorationProvider.getDecorationsInRange(d,i,o)),c}getDecorationsInRange(e,t=0,i=!1){const o=this.validateRange(e),s=this._getDecorationsInRange(o,t,i);return(0,n.vA)(s,this._decorationProvider.getDecorationsInRange(o,t,i)),s}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),n=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return ht.gk.fromDecorations(n).filter((t=>t.lineNumber===e))}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}_getDecorationsInRange(e,t,i){const n=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),o=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,n,o,t,i)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.endLineNumber)}if(i.options.before){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.startLineNumber)}const n=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(n.startLineNumber,n.startColumn),s=this._buffer.getOffsetAt(n.endLineNumber,n.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),o,s,n),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const n=!(!i.options.overviewRuler||!i.options.overviewRuler.color),o=!(!t.overviewRuler||!t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const e=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(i.options.before||t.before){const e=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}n!==o?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i){const n=this.getVersionId(),o=t.length;let s=0;const r=i.length;let a=0;const l=new Array(r);for(;s<o||a<r;){let d=null;if(s<o){do{d=this._decorations[t[s++]]}while(!d&&s<o);if(d){if(d.options.after){const e=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(d.options.before){const e=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}this._decorationsTree.delete(d),this._onDidChangeDecorations.checkAffectedAndFire(d.options)}}if(a<r){if(!d){const e=++this._lastDecorationId,t=`${this._instanceId};${e}`;d=new ne(t,0,0),this._decorations[t]=d}const t=i[a],o=this._validateRangeRelaxedNoAllocations(t.range),s=Nt(t.options),r=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),c=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);d.ownerId=e,d.reset(n,r,c,o),d.setOptions(s),d.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.endLineNumber),d.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(s),this._decorationsTree.insert(d),l[a]=d.id,a++}else d&&delete this._decorations[d.id]}return l}getLanguageId(){return this.tokenization.getLanguageId()}setMode(e){this.tokenization.setLanguageId(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return function(e){let t=0;for(const i of e){if(" "!==i&&"\t"!==i)break;t++}return t}(this.getLineContent(e))+1}};function bt(e){return!(!e.options.overviewRuler||!e.options.overviewRuler.color)}function Ct(e){return!!e.options.after||!!e.options.before}_t.MODEL_SYNC_LIMIT=52428800,_t.LARGE_FILE_SIZE_THRESHOLD=20971520,_t.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,_t.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:m.D.tabSize,indentSize:m.D.indentSize,insertSpaces:m.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:m.D.trimAutoWhitespace,largeFileOptimizations:m.D.largeFileOptimizations,bracketPairColorizationOptions:m.D.bracketPairColorizationOptions},_t=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([gt(4,ut.tJ),gt(5,f.O),gt(6,v.c_)],_t);class yt{constructor(){this._decorationsTree0=new se,this._decorationsTree1=new se,this._injectedTextDecorationsTree=new se}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)null===i.range&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,n,o){const s=e.getVersionId(),r=this._intervalSearch(t,i,n,o,s);return this._ensureNodesHaveRanges(e,r)}_intervalSearch(e,t,i,n,o){const s=this._decorationsTree0.intervalSearch(e,t,i,n,o),r=this._decorationsTree1.intervalSearch(e,t,i,n,o),a=this._injectedTextDecorationsTree.intervalSearch(e,t,i,n,o);return s.concat(r).concat(a)}getInjectedTextInInterval(e,t,i,n){const o=e.getVersionId(),s=this._injectedTextDecorationsTree.intervalSearch(t,i,n,!1,o);return this._ensureNodesHaveRanges(e,s).filter((e=>e.options.showIfCollapsed||!e.range.isEmpty()))}getAllInjectedText(e,t){const i=e.getVersionId(),n=this._injectedTextDecorationsTree.search(t,!1,i);return this._ensureNodesHaveRanges(e,n).filter((e=>e.options.showIfCollapsed||!e.range.isEmpty()))}getAll(e,t,i,n){const o=e.getVersionId(),s=this._search(t,i,n,o);return this._ensureNodesHaveRanges(e,s)}_search(e,t,i,n){if(i)return this._decorationsTree1.search(e,t,n);{const i=this._decorationsTree0.search(e,t,n),o=this._decorationsTree1.search(e,t,n),s=this._injectedTextDecorationsTree.search(e,t,n);return i.concat(o).concat(s)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),n=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(n)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){Ct(e)?this._injectedTextDecorationsTree.insert(e):bt(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){Ct(e)?this._injectedTextDecorationsTree.delete(e):bt(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),null===t.range&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){Ct(e)?this._injectedTextDecorationsTree.resolveNode(e,t):bt(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,n){this._decorationsTree0.acceptReplace(e,t,i,n),this._decorationsTree1.acceptReplace(e,t,i,n),this._injectedTextDecorationsTree.acceptReplace(e,t,i,n)}}function wt(e){return e.replace(/[^a-z0-9\-_]/gi," ")}class St{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class kt extends St{constructor(e){super(e),this._resolvedColor=null,this.position="number"==typeof e.position?e.position:_.sh.Center}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if("string"==typeof e)return e;const i=e?t.getColor(e.id):null;return i?i.toString():""}}class Lt extends St{constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return"string"==typeof e?o.Il.fromHex(e):t.getColor(e.id)}}class xt{constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}static from(e){return e instanceof xt?e:new xt(e)}}class It{constructor(e){var t,i;this.description=e.description,this.blockClassName=e.blockClassName?wt(e.blockClassName):null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?wt(e.className):null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new kt(e.overviewRuler):null,this.minimap=e.minimap?new Lt(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?wt(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?wt(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?wt(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?wt(e.marginClassName):null,this.inlineClassName=e.inlineClassName?wt(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?wt(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?wt(e.afterContentClassName):null,this.after=e.after?xt.from(e.after):null,this.before=e.before?xt.from(e.before):null,this.hideInCommentTokens=null!==(t=e.hideInCommentTokens)&&void 0!==t&&t,this.hideInStringTokens=null!==(i=e.hideInStringTokens)&&void 0!==i&&i}static register(e){return new It(e)}static createDynamic(e){return new It(e)}}It.EMPTY=It.register({description:"empty"});const Dt=[It.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),It.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),It.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),It.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Nt(e){return e instanceof It?e:It.createDynamic(e)}class Et extends a.JT{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new r.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;if(this._deferredCnt--,0===this._deferredCnt){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(e)}null===(e=this._affectedInjectedTextLines)||void 0===e||e.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!(!e.minimap||!e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!e.overviewRuler||!e.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class At extends a.JT{constructor(){super(),this._fastEmitter=this._register(new r.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new r.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))}}},4954:(e,t,i)=>{"use strict";i.d(t,{U:()=>o});var n=i(5976);class o extends n.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},7277:(e,t,i)=>{"use strict";i.d(t,{bc:()=>l,cM:()=>u,iE:()=>d,pM:()=>h,sz:()=>g});var n=i(7295),o=i(4929),s=i(187),r=i(4314),a=i(4973);class l{constructor(e,t,i,n){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=n}parseSearchRequest(){if(""===this.searchString)return null;let e;e=this.isRegex?function(e){if(!e||0===e.length)return!1;for(let t=0,i=e.length;t<i;t++){const n=e.charCodeAt(t);if(10===n)return!0;if(92===n){if(t++,t>=i)break;const n=e.charCodeAt(t);if(110===n||114===n||87===n)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let t=null;try{t=n.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch(e){return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new a.Tx(t,this.wordSeparators?(0,o.u)(this.wordSeparators):null,i?this.searchString:null)}}function d(e,t,i){if(!i)return new a.tk(e,null);const n=[];for(let e=0,i=t.length;e<i;e++)n[e]=t[e];return new a.tk(e,n)}class c{constructor(e){const t=[];let i=0;for(let n=0,o=e.length;n<o;n++)10===e.charCodeAt(n)&&(t[i++]=n);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let i=0,n=t.length-1;if(-1===n)return 0;if(e<=t[0])return 0;for(;i<n;){const o=i+((n-i)/2>>0);t[o]>=e?n=o-1:t[o+1]>=e?(i=o,n=o):i=o+1}return i+1}}class h{static findMatches(e,t,i,n,o){const s=t.parseSearchRequest();return s?s.regex.multiline?this._doFindMatchesMultiline(e,i,new g(s.wordSeparators,s.regex),n,o):this._doFindMatchesLineByLine(e,i,s,n,o):[]}static _getMultilineMatchRange(e,t,i,n,o,s){let a,l,d=0;if(n?(d=n.findLineFeedCountBeforeOffset(o),a=t+o+d):a=t+o,n){const e=n.findLineFeedCountBeforeOffset(o+s.length)-d;l=a+s.length+e}else l=a+s.length;const c=e.getPositionAt(a),h=e.getPositionAt(l);return new r.e(c.lineNumber,c.column,h.lineNumber,h.column)}static _doFindMatchesMultiline(e,t,i,n,o){const s=e.getOffsetAt(t.getStartPosition()),r=e.getValueInRange(t,1),a="\r\n"===e.getEOL()?new c(r):null,l=[];let h,u=0;for(i.reset(0);h=i.next(r);)if(l[u++]=d(this._getMultilineMatchRange(e,s,r,a,h.index,h[0]),h,n),u>=o)return l;return l}static _doFindMatchesLineByLine(e,t,i,n,o){const s=[];let r=0;if(t.startLineNumber===t.endLineNumber){const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return r=this._findMatchesInLine(i,a,t.startLineNumber,t.startColumn-1,r,s,n,o),s}const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);r=this._findMatchesInLine(i,a,t.startLineNumber,t.startColumn-1,r,s,n,o);for(let a=t.startLineNumber+1;a<t.endLineNumber&&r<o;a++)r=this._findMatchesInLine(i,e.getLineContent(a),a,0,r,s,n,o);if(r<o){const a=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);r=this._findMatchesInLine(i,a,t.endLineNumber,0,r,s,n,o)}return s}static _findMatchesInLine(e,t,i,n,o,s,l,c){const h=e.wordSeparators;if(!l&&e.simpleSearch){const l=e.simpleSearch,d=l.length,g=t.length;let p=-d;for(;-1!==(p=t.indexOf(l,p+d));)if((!h||u(h,t,g,p,d))&&(s[o++]=new a.tk(new r.e(i,p+1+n,i,p+1+d+n),null),o>=c))return o;return o}const p=new g(e.wordSeparators,e.regex);let m;p.reset(0);do{if(m=p.next(t),m&&(s[o++]=d(new r.e(i,m.index+1+n,i,m.index+1+m[0].length+n),m,l),o>=c))return o}while(m);return o}static findNextMatch(e,t,i,n){const o=t.parseSearchRequest();if(!o)return null;const s=new g(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,i,s,n):this._doFindNextMatchLineByLine(e,i,s,n)}static _doFindNextMatchMultiline(e,t,i,n){const o=new s.L(t.lineNumber,1),a=e.getOffsetAt(o),l=e.getLineCount(),h=e.getValueInRange(new r.e(o.lineNumber,o.column,l,e.getLineMaxColumn(l)),1),u="\r\n"===e.getEOL()?new c(h):null;i.reset(t.column-1);const g=i.next(h);return g?d(this._getMultilineMatchRange(e,a,h,u,g.index,g[0]),g,n):1!==t.lineNumber||1!==t.column?this._doFindNextMatchMultiline(e,new s.L(1,1),i,n):null}static _doFindNextMatchLineByLine(e,t,i,n){const o=e.getLineCount(),s=t.lineNumber,r=e.getLineContent(s),a=this._findFirstMatchInLine(i,r,s,t.column,n);if(a)return a;for(let t=1;t<=o;t++){const r=(s+t-1)%o,a=e.getLineContent(r+1),l=this._findFirstMatchInLine(i,a,r+1,1,n);if(l)return l}return null}static _findFirstMatchInLine(e,t,i,n,o){e.reset(n-1);const s=e.next(t);return s?d(new r.e(i,s.index+1,i,s.index+1+s[0].length),s,o):null}static findPreviousMatch(e,t,i,n){const o=t.parseSearchRequest();if(!o)return null;const s=new g(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,i,s,n):this._doFindPreviousMatchLineByLine(e,i,s,n)}static _doFindPreviousMatchMultiline(e,t,i,n){const o=this._doFindMatchesMultiline(e,new r.e(1,1,t.lineNumber,t.column),i,n,9990);if(o.length>0)return o[o.length-1];const a=e.getLineCount();return t.lineNumber!==a||t.column!==e.getLineMaxColumn(a)?this._doFindPreviousMatchMultiline(e,new s.L(a,e.getLineMaxColumn(a)),i,n):null}static _doFindPreviousMatchLineByLine(e,t,i,n){const o=e.getLineCount(),s=t.lineNumber,r=e.getLineContent(s).substring(0,t.column-1),a=this._findLastMatchInLine(i,r,s,n);if(a)return a;for(let t=1;t<=o;t++){const r=(o+s-t-1)%o,a=e.getLineContent(r+1),l=this._findLastMatchInLine(i,a,r+1,n);if(l)return l}return null}static _findLastMatchInLine(e,t,i,n){let o,s=null;for(e.reset(0);o=e.next(t);)s=d(new r.e(i,o.index+1,i,o.index+1+o[0].length),o,n);return s}}function u(e,t,i,n,o){return function(e,t,i,n,o){if(0===n)return!0;const s=t.charCodeAt(n-1);if(0!==e.get(s))return!0;if(13===s||10===s)return!0;if(o>0){const i=t.charCodeAt(n);if(0!==e.get(i))return!0}return!1}(e,t,0,n,o)&&function(e,t,i,n,o){if(n+o===i)return!0;const s=t.charCodeAt(n+o);if(0!==e.get(s))return!0;if(13===s||10===s)return!0;if(o>0){const i=t.charCodeAt(n+o-1);if(0!==e.get(i))return!0}return!1}(e,t,i,n,o)}class g{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t)return null;if(i=this._searchRegex.exec(e),!i)return null;const o=i.index,s=i[0].length;if(o===this._prevMatchStartIndex&&s===this._prevMatchLength){if(0===s){n.ZH(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=o,this._prevMatchLength=s,!this._wordSeparators||u(this._wordSeparators,e,t,o,s))return i}while(i);return null}}},9616:(e,t,i)=>{"use strict";function n(e,t){let i=0,n=0;const o=e.length;for(;n<o;){const o=e.charCodeAt(n);if(32===o)i++;else{if(9!==o)break;i=i-i%t+t}n++}return n===o?-1:i}i.d(t,{q:()=>n})},4319:(e,t,i)=>{"use strict";i.d(t,{p:()=>n});const n=(0,i(2065).yh)("editorWorkerService")},9510:(e,t,i)=>{"use strict";i.d(t,{OG:()=>S,ML:()=>b,KO:()=>y,Jc:()=>_,Vl:()=>m,Vj:()=>f});var n=i(1050),o=i(7301),s=i(666),r=i(3733),a=i(4565),l=i(8401),d=i(3060),c=i(1432);function h(e){const t=new Uint32Array(function(e){let t=0;if(t+=2,"full"===e.type)t+=1+e.data.length;else{t+=1,t+=3*e.deltas.length;for(const i of e.deltas)i.data&&(t+=i.data.length)}return t}(e));let i=0;if(t[i++]=e.id,"full"===e.type)t[i++]=1,t[i++]=e.data.length,t.set(e.data,i),i+=e.data.length;else{t[i++]=2,t[i++]=e.deltas.length;for(const n of e.deltas)t[i++]=n.start,t[i++]=n.deleteCount,n.data?(t[i++]=n.data.length,t.set(n.data,i),i+=n.data.length):t[i++]=0}return function(e){const t=new Uint8Array(e.buffer,e.byteOffset,4*e.length);return c.r()||function(e){for(let t=0,i=e.length;t<i;t+=4){const i=e[t+0],n=e[t+1],o=e[t+2],s=e[t+3];e[t+0]=s,e[t+1]=o,e[t+2]=n,e[t+3]=i}}(t),d.KN.wrap(t)}(t)}var u=i(4314),g=i(1922),p=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function m(e){return e&&!!e.data}function f(e){return e&&Array.isArray(e.edits)}class v{constructor(e,t,i){this.provider=e,this.tokens=t,this.error=i}}function _(e,t){return e.has(t)}function b(e,t,i,n,o){return p(this,void 0,void 0,(function*(){const s=function(e,t){const i=e.orderedGroups(t);return i.length>0?i[0]:[]}(e,t),r=yield Promise.all(s.map((e=>p(this,void 0,void 0,(function*(){let s,r=null;try{s=yield e.provideDocumentSemanticTokens(t,e===i?n:null,o)}catch(e){r=e,s=null}return s&&(m(s)||f(s))||(s=null),new v(e,s,r)})))));for(const e of r){if(e.error)throw e.error;if(e.tokens)return e}return r.length>0?r[0]:null}))}class C{constructor(e,t){this.provider=e,this.tokens=t}}function y(e,t){return e.has(t)}function w(e,t){const i=e.orderedGroups(t);return i.length>0?i[0]:[]}function S(e,t,i,n){return p(this,void 0,void 0,(function*(){const s=w(e,t),r=yield Promise.all(s.map((e=>p(this,void 0,void 0,(function*(){let s;try{s=yield e.provideDocumentRangeSemanticTokens(t,i,n)}catch(e){(0,o.Cp)(e),s=null}return s&&m(s)||(s=null),new C(e,s)})))));for(const e of r)if(e.tokens)return e;return r.length>0?r[0]:null}))}a.P0.registerCommand("_provideDocumentSemanticTokensLegend",((e,...t)=>p(void 0,void 0,void 0,(function*(){const[i]=t;(0,l.p_)(i instanceof s.o);const n=e.get(r.q).getModel(i);if(!n)return;const{documentSemanticTokensProvider:o}=e.get(g.p),d=function(e,t){const i=e.orderedGroups(t);return i.length>0?i[0]:null}(o,n);return d?d[0].getLegend():e.get(a.Hy).executeCommand("_provideDocumentRangeSemanticTokensLegend",i)})))),a.P0.registerCommand("_provideDocumentSemanticTokens",((e,...t)=>p(void 0,void 0,void 0,(function*(){const[i]=t;(0,l.p_)(i instanceof s.o);const o=e.get(r.q).getModel(i);if(!o)return;const{documentSemanticTokensProvider:d}=e.get(g.p);if(!_(d,o))return e.get(a.Hy).executeCommand("_provideDocumentRangeSemanticTokens",i,o.getFullModelRange());const c=yield b(d,o,null,null,n.T.None);if(!c)return;const{provider:u,tokens:p}=c;if(!p||!m(p))return;const f=h({id:0,type:"full",data:p.data});return p.resultId&&u.releaseDocumentSemanticTokens(p.resultId),f})))),a.P0.registerCommand("_provideDocumentRangeSemanticTokensLegend",((e,...t)=>p(void 0,void 0,void 0,(function*(){const[i,o]=t;(0,l.p_)(i instanceof s.o);const a=e.get(r.q).getModel(i);if(!a)return;const{documentRangeSemanticTokensProvider:d}=e.get(g.p),c=w(d,a);if(0===c.length)return;if(1===c.length)return c[0].getLegend();if(!o||!u.e.isIRange(o))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),c[0].getLegend();const h=yield S(d,a,u.e.lift(o),n.T.None);return h?h.provider.getLegend():void 0})))),a.P0.registerCommand("_provideDocumentRangeSemanticTokens",((e,...t)=>p(void 0,void 0,void 0,(function*(){const[i,o]=t;(0,l.p_)(i instanceof s.o),(0,l.p_)(u.e.isIRange(o));const a=e.get(r.q).getModel(i);if(!a)return;const{documentRangeSemanticTokensProvider:d}=e.get(g.p),c=yield S(d,a,u.e.lift(o),n.T.None);return c&&c.tokens?h({id:0,type:"full",data:c.tokens.data}):void 0}))))},8191:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(9954),o=i(3702),s=i(9870),r=i(5026),a=i(2065),l=i(3557),d=i(988);const c=(0,a.yh)("ILanguageFeatureDebounceService");var h;!function(e){const t=new WeakMap;let i=0;e.of=function(e){let n=t.get(e);return void 0===n&&(n=++i,t.set(e,n)),n}}(h||(h={}));class u{constructor(e,t,i,n,s,r){this._logService=e,this._name=t,this._registry=i,this._default=n,this._min=s,this._max=r,this._cache=new o.z6(50,.7)}_key(e){return e.id+this._registry.all(e).reduce(((e,t)=>(0,n.SP)(h.of(t),e)),0)}get(e){const t=this._key(e),i=this._cache.get(t);return i?(0,s.uZ)(i.value,this._min,this._max):this.default()}update(e,t){const i=this._key(e);let n=this._cache.get(i);n||(n=new s.N(6),this._cache.set(i,n));const o=(0,s.uZ)(n.update(t),this._min,this._max);return(0,d.xn)(e.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${o}ms`),o}_overall(){const e=new s.nM;for(const[,t]of this._cache)e.update(t.value);return e.value}default(){const e=0|this._overall()||this._default;return(0,s.uZ)(e,this._min,this._max)}}let g=class{constructor(e){this._logService=e,this._data=new Map}for(e,t,i){var n,o,s;const r=null!==(n=null==i?void 0:i.min)&&void 0!==n?n:50,a=null!==(o=null==i?void 0:i.max)&&void 0!==o?o:Math.pow(r,2),l=null!==(s=null==i?void 0:i.key)&&void 0!==s?s:void 0,d=`${h.of(e)},${r}${l?","+l:""}`;let c=this._data.get(d);return c||(c=new u(this._logService,t,e,0|this._overallAverage()||1.5*r,r,a),this._data.set(d,c)),c}_overallAverage(){const e=new s.nM;for(const t of this._data.values())e.update(t.default());return e.value}};var p,m;g=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(p=0,m=l.VZ,function(e,t){m(e,t,p)})],g),(0,r.z)(c,g,!0)},1922:(e,t,i)=>{"use strict";i.d(t,{p:()=>n});const n=(0,i(2065).yh)("ILanguageFeaturesService")},6357:(e,t,i)=>{"use strict";i.d(t,{i:()=>n});const n=(0,i(2065).yh)("markerDecorationsService")},3733:(e,t,i)=>{"use strict";i.d(t,{q:()=>n});const n=(0,i(2065).yh)("modelService")},1200:(e,t,i)=>{"use strict";i.d(t,{b$:()=>O,e3:()=>V,tw:()=>F});var n=i(4669),o=i(5976),s=i(1432),r=i(7301),a=i(2035),l=i(2075),d=i(8801),c=i(2042),h=i(3733),u=i(1765),g=i(3108),p=i(5393),m=i(1050),f=i(7781),v=i(3557),_=i(4862),b=i(9954),C=i(5215),y=i(6663),w=i(8802),S=i(9510),k=i(6248),L=i(1381),x=i(8191),I=i(4013),D=i(1922),N=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},E=function(e,t){return function(i,n){t(i,n,e)}};function A(e){return e.toString()}function T(e){const t=new b.yP,i=e.createSnapshot();let n;for(;n=i.read();)t.update(n);return t.digest()}class M{constructor(e,t,i){this._modelEventListeners=new o.SL,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose((()=>t(e)))),this._modelEventListeners.add(e.onDidChangeLanguage((t=>i(e,t))))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange((()=>this.model.setMode(e.languageId))),this.model.setMode(e.languageId)}}const R=s.IJ||s.dz?1:2;class P{constructor(e,t,i,n,o,s,r,a){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=n,this.heapSize=o,this.sha1=s,this.versionId=r,this.alternativeVersionId=a}}let O=class e extends o.JT{constructor(e,t,i,o,s,r,a,l,d){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=i,this._logService=o,this._undoRedoService=s,this._languageService=r,this._languageConfigurationService=a,this._languageFeatureDebounceService=l,this._onModelAdded=this._register(new n.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new n.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new n.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new z(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration((()=>this._updateModelOptions()))),this._updateModelOptions(),this._register(new W(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,d))}static _readModelOptions(e,t){var i;let n=l.D.tabSize;if(e.editor&&void 0!==e.editor.tabSize){const t=parseInt(e.editor.tabSize,10);isNaN(t)||(n=t),n<1&&(n=1)}let o=n;if(e.editor&&void 0!==e.editor.indentSize&&"tabSize"!==e.editor.indentSize){const t=parseInt(e.editor.indentSize,10);isNaN(t)||(o=t),o<1&&(o=1)}let s=l.D.insertSpaces;e.editor&&void 0!==e.editor.insertSpaces&&(s="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));let r=R;const a=e.eol;"\r\n"===a?r=2:"\n"===a&&(r=1);let d=l.D.trimAutoWhitespace;e.editor&&void 0!==e.editor.trimAutoWhitespace&&(d="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));let c=l.D.detectIndentation;e.editor&&void 0!==e.editor.detectIndentation&&(c="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));let h=l.D.largeFileOptimizations;e.editor&&void 0!==e.editor.largeFileOptimizations&&(h="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations));let u=l.D.bracketPairColorizationOptions;return(null===(i=e.editor)||void 0===i?void 0:i.bracketPairColorization)&&"object"==typeof e.editor.bracketPairColorization&&(u={enabled:!!e.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!e.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:t,tabSize:n,indentSize:o,insertSpaces:s,detectIndentation:c,defaultEOL:r,trimAutoWhitespace:d,largeFileOptimizations:h,bracketPairColorizationOptions:u}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&"string"==typeof i&&"auto"!==i?i:3===s.OS||2===s.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof e||e}getCreationOptions(t,i,n){let o=this._modelCreationOptionsByLanguageAndResource[t+i];if(!o){const s=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:i}),r=this._getEOL(i,t);o=e._readModelOptions({editor:s,eol:r},n),this._modelCreationOptionsByLanguageAndResource[t+i]=o}return o}_updateModelOptions(){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let n=0,o=i.length;n<o;n++){const o=i[n],s=this._models[o],r=s.model.getLanguageId(),a=s.model.uri,l=t[r+a],d=this.getCreationOptions(r,a,s.model.isForSimpleWidget);e._setModelOptionsForModel(s.model,d,l)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&(0,k.fS)(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions)||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(A(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(A(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(A(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach((e=>{e.sharesUndoRedoStack||t.push(e)})),t.sort(((e,t)=>e.time-t.time));t.length>0&&this._disposedModelsHeapSize>e;){const e=t.shift();this._removeDisposedModel(e.uri),null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,n){const o=this.getCreationOptions(t,i,n),s=new a.yO(e,t,o,i,this._undoRedoService,this._languageService,this._languageConfigurationService);if(i&&this._disposedModels.has(A(i))){const e=this._removeDisposedModel(i),t=this._undoRedoService.getElements(i),n=T(s)===e.sha1;if(n||e.sharesUndoRedoStack){for(const e of t.past)(0,C.e9)(e)&&e.matchesResource(i)&&e.setModel(s);for(const e of t.future)(0,C.e9)(e)&&e.matchesResource(i)&&e.setModel(s);this._undoRedoService.setElementsValidFlag(i,!0,(e=>(0,C.e9)(e)&&e.matchesResource(i))),n&&(s._overwriteVersionId(e.versionId),s._overwriteAlternativeVersionId(e.alternativeVersionId),s._overwriteInitialUndoRedoSnapshot(e.initialUndoRedoSnapshot))}else null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}const r=A(s.uri);if(this._models[r])throw new Error("ModelService: Cannot add model because it already exists!");const l=new M(s,(e=>this._onWillDispose(e)),((e,t)=>this._onDidChangeLanguage(e,t)));return this._models[r]=l,l}createModel(e,t,i,n=!1){let o;return t?(o=this._createModelData(e,t.languageId,i,n),this.setMode(o.model,t)):o=this._createModelData(e,d.bd,i,n),this._onModelAdded.fire(o.model),o.model}setMode(e,t){if(!t)return;const i=this._models[A(e.uri)];i&&i.setLanguage(t)}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push(this._models[n].model)}return e}getModel(e){const t=A(e),i=this._models[t];return i?i.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===y.lg.file||e.scheme===y.lg.vscodeRemote||e.scheme===y.lg.vscodeUserData||e.scheme===y.lg.vscodeNotebookCell||"fake-fs"===e.scheme}_onWillDispose(t){const i=A(t.uri),n=this._models[i],o=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let s=!1,r=0;if(o||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(t.uri)){const e=this._undoRedoService.getElements(t.uri);if(e.past.length>0||e.future.length>0){for(const i of e.past)(0,C.e9)(i)&&i.matchesResource(t.uri)&&(s=!0,r+=i.heapSize(t.uri),i.setModel(t.uri));for(const i of e.future)(0,C.e9)(i)&&i.matchesResource(t.uri)&&(s=!0,r+=i.heapSize(t.uri),i.setModel(t.uri))}}const a=e.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(s)if(!o&&r>a){const e=n.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}else this._ensureDisposedModelsHeapSize(a-r),this._undoRedoService.setElementsValidFlag(t.uri,!1,(e=>(0,C.e9)(e)&&e.matchesResource(t.uri))),this._insertDisposedModel(new P(t.uri,n.model.getInitialUndoRedoSnapshot(),Date.now(),o,r,T(t),t.getVersionId(),t.getAlternativeVersionId()));else if(!o){const e=n.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}delete this._models[i],n.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageId()+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,i){const n=i.oldLanguage,o=t.getLanguageId(),s=this.getCreationOptions(n,t.uri,t.isForSimpleWidget),r=this.getCreationOptions(o,t.uri,t.isForSimpleWidget);e._setModelOptionsForModel(t,r,s),this._onModelModeChanged.fire({model:t,oldLanguageId:n})}};O.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,O=N([E(0,g.Ui),E(1,u.y),E(2,f.XE),E(3,v.VZ),E(4,_.tJ),E(5,c.O),E(6,L.c_),E(7,x.A),E(8,D.p)],O);const V="editor.semanticHighlighting";function F(e,t,i){var n;const o=null===(n=i.getValue(V,{overrideIdentifier:e.getLanguageId(),resource:e.uri}))||void 0===n?void 0:n.enabled;return"boolean"==typeof o?o:t.getColorTheme().semanticHighlighting}let W=class extends o.JT{constructor(e,t,i,n,o,s){super(),this._watchers=Object.create(null),this._semanticStyling=e;const r=e=>{this._watchers[e.uri.toString()]=new U(e,this._semanticStyling,i,o,s)},a=(e,t)=>{t.dispose(),delete this._watchers[e.uri.toString()]},l=()=>{for(const e of t.getModels()){const t=this._watchers[e.uri.toString()];F(e,i,n)?t||r(e):t&&a(e,t)}};this._register(t.onModelAdded((e=>{F(e,i,n)&&r(e)}))),this._register(t.onModelRemoved((e=>{const t=this._watchers[e.uri.toString()];t&&a(e,t)}))),this._register(n.onDidChangeConfiguration((e=>{e.affectsConfiguration(V)&&l()}))),this._register(i.onDidColorThemeChange(l))}dispose(){for(const e of Object.values(this._watchers))e.dispose();super.dispose()}};W=N([E(1,h.q),E(2,f.XE),E(3,g.Ui),E(4,x.A),E(5,D.p)],W);class z extends o.JT{constructor(e,t,i){super(),this._themeService=e,this._languageService=t,this._logService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange((()=>{this._caches=new WeakMap})))}get(e){return this._caches.has(e)||this._caches.set(e,new w.$(e.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(e)}}class B{constructor(e,t,i){this.provider=e,this.resultId=t,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let U=class e extends o.JT{constructor(t,i,n,s,r){super(),this._isDisposed=!1,this._model=t,this._semanticStyling=i,this._provider=r.documentSemanticTokensProvider,this._debounceInformation=s.for(this._provider,"DocumentSemanticTokens",{min:e.REQUEST_MIN_DELAY,max:e.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new p.pY((()=>this._fetchDocumentSemanticTokensNow()),e.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent((()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))}))),this._register(this._model.onDidChangeLanguage((()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)})));const a=()=>{(0,o.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const e of this._provider.all(t))"function"==typeof e.onDidChange&&this._documentProvidersChangeListeners.push(e.onDidChange((()=>this._fetchDocumentSemanticTokens.schedule(0))))};a(),this._register(this._provider.onDidChange((()=>{a(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))}))),this._register(n.onDidColorThemeChange((e=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))}))),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,S.Jc)(this._provider,this._model))return void(this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1));const e=new m.A,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,i=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,n=(0,S.ML)(this._provider,this._model,t,i,e.token);this._currentDocumentRequestCancellationTokenSource=e;const o=[],s=this._model.onDidChangeContent((e=>{o.push(e)})),a=new I.G(!1);n.then((e=>{if(this._debounceInformation.update(this._model,a.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,s.dispose(),e){const{provider:t,tokens:i}=e,n=this._semanticStyling.get(t);this._setDocumentSemanticTokens(t,i||null,n,o)}else this._setDocumentSemanticTokens(null,null,null,o)}),(e=>{e&&(r.n2(e)||"string"==typeof e.message&&-1!==e.message.indexOf("busy"))||r.dL(e),this._currentDocumentRequestCancellationTokenSource=null,s.dispose(),o.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))}))}static _copy(e,t,i,n,o){o=Math.min(o,i.length-n,e.length-t);for(let s=0;s<o;s++)i[n+s]=e[t+s]}_setDocumentSemanticTokens(t,i,n,o){const s=this._currentDocumentResponse,r=()=>{o.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)t&&i&&t.releaseDocumentSemanticTokens(i.resultId);else if(t&&n){if(!i)return this._model.tokenization.setSemanticTokens(null,!0),void r();if((0,S.Vj)(i)){if(!s)return void this._model.tokenization.setSemanticTokens(null,!0);if(0===i.edits.length)i={resultId:i.resultId,data:s.data};else{let t=0;for(const e of i.edits)t+=(e.data?e.data.length:0)-e.deleteCount;const o=s.data,r=new Uint32Array(o.length+t);let a=o.length,l=r.length;for(let t=i.edits.length-1;t>=0;t--){const d=i.edits[t];if(d.start>o.length)return n.warnInvalidEditStart(s.resultId,i.resultId,t,d.start,o.length),void this._model.tokenization.setSemanticTokens(null,!0);const c=a-(d.start+d.deleteCount);c>0&&(e._copy(o,a-c,r,l-c,c),l-=c),d.data&&(e._copy(d.data,0,r,l-d.data.length,d.data.length),l-=d.data.length),a=d.start}a>0&&e._copy(o,0,r,0,a),i={resultId:i.resultId,data:r}}}if((0,S.Vl)(i)){this._currentDocumentResponse=new B(t,i.resultId,i.data);const e=(0,w.h)(i,n,this._model.getLanguageId());if(o.length>0)for(const t of o)for(const i of e)for(const e of t.changes)i.applyEdit(e.range,e.text);this._model.tokenization.setSemanticTokens(e,!0)}else this._model.tokenization.setSemanticTokens(null,!0);r()}else this._model.tokenization.setSemanticTokens(null,!1)}};U.REQUEST_MIN_DELAY=300,U.REQUEST_MAX_DELAY=2e3,U=N([E(2,f.XE),E(3,x.A),E(4,D.p)],U)},8216:(e,t,i)=>{"use strict";i.d(t,{S:()=>n});const n=(0,i(2065).yh)("textModelService")},8802:(e,t,i)=>{"use strict";i.d(t,{$:()=>p,h:()=>m});var n=i(5797),o=i(7781),s=i(3557),r=i(187),a=i(4314),l=i(3795);class d{constructor(e,t){this._startLineNumber=e,this._tokens=t,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(e,t){return new d(e,new c(t))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(e){return this._startLineNumber<=e&&e<=this._endLineNumber?this._tokens.getLineTokens(e-this._startLineNumber):null}getRange(){const e=this._tokens.getRange();return e?new a.e(this._startLineNumber+e.startLineNumber,e.startColumn,this._startLineNumber+e.endLineNumber,e.endColumn):e}removeTokens(e){const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(t,e.startColumn-1,i,e.endColumn-1),this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber,[n,o,s]=this._tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new d(this._startLineNumber,n),new d(this._startLineNumber+s,o)]}applyEdit(e,t){const[i,n,o]=(0,l.Q)(t);this.acceptEdit(e,i,n,o,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,i,n,o){this._acceptDeleteRange(e),this._acceptInsertText(new r.L(e.startLineNumber,e.startColumn),t,i,n,o),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;if(i<0){const e=i-t;return void(this._startLineNumber-=e)}const n=this._tokens.getMaxDeltaLine();if(!(t>=n+1)){if(t<0&&i>=n+1)return this._startLineNumber=0,void this._tokens.clear();if(t<0){const n=-t;this._startLineNumber-=n,this._tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1)}else this._tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1)}}_acceptInsertText(e,t,i,n,o){if(0===t&&0===i)return;const s=e.lineNumber-this._startLineNumber;s<0?this._startLineNumber+=t:s>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(s,e.column-1,t,i,n,o)}}class c{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){const t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();return 0===e?-1:this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(0===e)return null;const t=this._getStartCharacter(0),i=this._getDeltaLine(e-1),n=this._getEndCharacter(e-1);return new a.e(0,t+1,i,n+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){const n=t+Math.floor((i-t)/2),o=this._getDeltaLine(n);if(o<e)t=n+1;else{if(!(o>e)){let o=n;for(;o>t&&this._getDeltaLine(o-1)===e;)o--;let s=n;for(;s<i&&this._getDeltaLine(s+1)===e;)s++;return new h(this._tokens.subarray(4*o,4*s+4))}i=n-1}}return this._getDeltaLine(t)===e?new h(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,i,n){const o=this._tokens,s=this._tokenCount;let r=0,a=!1,l=0;for(let d=0;d<s;d++){const s=4*d,c=o[s],h=o[s+1],u=o[s+2],g=o[s+3];if((c>e||c===e&&u>=t)&&(c<i||c===i&&h<=n))a=!0;else{if(0===r&&(l=c),a){const e=4*r;o[e]=c-l,o[e+1]=h,o[e+2]=u,o[e+3]=g}r++}}return this._tokenCount=r,l}split(e,t,i,n){const o=this._tokens,s=this._tokenCount,r=[],a=[];let l=r,d=0,h=0;for(let r=0;r<s;r++){const s=4*r,c=o[s],u=o[s+1],g=o[s+2],p=o[s+3];if(c>e||c===e&&g>=t){if(c<i||c===i&&u<=n)continue;l!==a&&(l=a,d=0,h=c)}l[d++]=c-h,l[d++]=u,l[d++]=g,l[d++]=p}return[new c(new Uint32Array(r)),new c(new Uint32Array(a)),h]}acceptDeleteRange(e,t,i,n,o){const s=this._tokens,r=this._tokenCount,a=n-t;let l=0,d=!1;for(let c=0;c<r;c++){const h=4*c;let u=s[h],g=s[h+1],p=s[h+2];const m=s[h+3];if(u<t||u===t&&p<=i){l++;continue}if(u===t&&g<i)u===n&&p>o?p-=o-i:p=i;else if(u===t&&g===i){if(!(u===n&&p>o)){d=!0;continue}p-=o-i}else if(u<n||u===n&&g<o){if(!(u===n&&p>o)){d=!0;continue}u===t?(g=i,p=g+(p-o)):(g=0,p=g+(p-o))}else if(u>n){if(0===a&&!d){l=r;break}u-=a}else{if(!(u===n&&g>=o))throw new Error("Not possible!");e&&0===u&&(g+=e,p+=e),u-=a,g-=o-i,p-=o-i}const f=4*l;s[f]=u,s[f+1]=g,s[f+2]=p,s[f+3]=m,l++}this._tokenCount=l}acceptInsertText(e,t,i,n,o,s){const r=0===i&&1===n&&(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122),a=this._tokens,l=this._tokenCount;for(let s=0;s<l;s++){const l=4*s;let d=a[l],c=a[l+1],h=a[l+2];if(!(d<e||d===e&&h<t)){if(d===e&&h===t){if(!r)continue;h+=1}else if(d===e&&c<t&&t<h)0===i?h+=n:h=t;else{if(d===e&&c===t&&r)continue;if(d===e)if(d+=i,0===i)c+=n,h+=n;else{const e=h-c;c=o+(c-t),h=c+e}else d+=i}a[l]=d,a[l+1]=c,a[l+2]=h}}}}class h{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}var u=i(2042),g=function(e,t){return function(i,n){t(i,n,e)}};let p=class{constructor(e,t,i,n){this._legend=e,this._themeService=t,this._languageService=i,this._logService=n,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new v}getMetadata(e,t,i){const o=this._languageService.languageIdCodec.encodeLanguageId(i),r=this._hashTable.get(e,t,o);let a;if(r)a=r.metadata,this._logService.getLevel()===s.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${n.N.getForeground(a)}, fontStyle ${n.N.getFontStyle(a).toString(2)}`);else{let r=this._legend.tokenTypes[e];const l=[];if(r){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++)1&e&&l.push(this._legend.tokenModifiers[t]),e>>=1;e>0&&this._logService.getLevel()===s.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),l.push("not-in-legend"));const n=this._themeService.getColorTheme().getTokenStyleMetadata(r,l,i);void 0===n?a=2147483647:(a=0,void 0!==n.italic&&(a|=1|(n.italic?1:0)<<11),void 0!==n.bold&&(a|=2|(n.bold?2:0)<<11),void 0!==n.underline&&(a|=4|(n.underline?4:0)<<11),void 0!==n.strikethrough&&(a|=8|(n.strikethrough?8:0)<<11),n.foreground&&(a|=16|n.foreground<<15),0===a&&(a=2147483647))}else this._logService.getLevel()===s.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),a=2147483647,r="not-in-legend";this._hashTable.add(e,t,o,a),this._logService.getLevel()===s.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${r}) / ${t} (${l.join(" ")}): foreground ${n.N.getForeground(a)}, fontStyle ${n.N.getFontStyle(a).toString(2)}`)}return a}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}warnInvalidLengthSemanticTokens(e,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${e}, column ${t}`))}warnInvalidEditStart(e,t,i,n,o){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${e}, resultId: ${t}) at edit #${i}: The provided start offset ${n} is outside the previous data (length ${o}).`))}};function m(e,t,i){const n=e.data,o=e.data.length/5|0,s=Math.max(Math.ceil(o/1024),400),r=[];let a=0,l=1,c=0;for(;a<o;){const e=a;let h=Math.min(e+s,o);if(h<o){let t=h;for(;t-1>e&&0===n[5*t];)t--;if(t-1===e){let e=h;for(;e+1<o&&0===n[5*e];)e++;h=e}else h=t}let u=new Uint32Array(4*(h-e)),g=0,p=0,m=0,f=0;for(;a<h;){const e=5*a,o=n[e],s=n[e+1],r=l+o|0,d=0===o?c+s|0:s,h=d+n[e+2]|0,v=n[e+3],_=n[e+4];if(h<=d)t.warnInvalidLengthSemanticTokens(r,d+1);else if(m===r&&f>d)t.warnOverlappingSemanticTokens(r,d+1);else{const e=t.getMetadata(v,_,i);2147483647!==e&&(0===p&&(p=r),u[g]=r-p,u[g+1]=d,u[g+2]=h,u[g+3]=e,g+=4,m=r,f=h)}l=r,c=d,a++}g!==u.length&&(u=u.subarray(0,g));const v=d.create(p,u);r.push(v)}return r}p=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([g(1,o.XE),g(2,u.O),g(3,s.VZ)],p);class f{constructor(e,t,i,n){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=n,this.next=null}}class v{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=v._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<v._SIZES.length?2/3*this._currentLength:0),this._elements=[],v._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){const n=this._hashFunc(e,t,i);let o=this._elements[n];for(;o;){if(o.tokenTypeIndex===e&&o.tokenModifierSet===t&&o.languageId===i)return o;o=o.next}return null}add(e,t,i,n){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const e=this._elements;this._currentLengthIndex++,this._currentLength=v._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<v._SIZES.length?2/3*this._currentLength:0),this._elements=[],v._nullOutEntries(this._elements,this._currentLength);for(const t of e){let e=t;for(;e;){const t=e.next;e.next=null,this._add(e),e=t}}}this._add(new f(e,t,i,n))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}v._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},1765:(e,t,i)=>{"use strict";i.d(t,{V:()=>o,y:()=>s});var n=i(2065);const o=(0,n.yh)("textResourceConfigurationService"),s=(0,n.yh)("textResourcePropertiesService")},1446:(e,t,i)=>{"use strict";i.d(t,{a:()=>l});var n=i(4314),o=i(7277),s=i(7295),r=i(8401),a=i(270);class l{static computeUnicodeHighlights(e,t,i){const l=i?i.startLineNumber:1,c=i?i.endLineNumber:e.getLineCount(),h=new d(t),u=h.getCandidateCodePoints();let g;var p;g="allNonBasicAscii"===u?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp((p=Array.from(u),`[${s.ec(p.map((e=>String.fromCodePoint(e))).join(""))}]`),"g");const m=new o.sz(null,g),f=[];let v,_=!1,b=0,C=0,y=0;e:for(let t=l,i=c;t<=i;t++){const i=e.getLineContent(t),o=i.length;m.reset(0);do{if(v=m.next(i),v){let e=v.index,l=v.index+v[0].length;if(e>0){const t=i.charCodeAt(e-1);s.ZG(t)&&e--}if(l+1<o){const e=i.charCodeAt(l-1);s.ZG(e)&&l++}const d=i.substring(e,l),c=(0,a.t2)(e+1,a.Af,i,0),u=h.shouldHighlightNonBasicASCII(d,c?c.word:null);if(0!==u){3===u?b++:2===u?C++:1===u?y++:(0,r.vE)(u);const i=1e3;if(f.length>=i){_=!0;break e}f.push(new n.e(t,e+1,t,l+1))}}}while(v)}return{ranges:f,hasMore:_,ambiguousCharacterCount:b,invisibleCharacterCount:C,nonBasicAsciiCharacterCount:y}}static computeUnicodeHighlightReason(e,t){const i=new d(t);switch(i.shouldHighlightNonBasicASCII(e,null)){case 0:return null;case 2:return{kind:1};case 3:{const n=e.codePointAt(0),o=i.ambiguousCharacters.getPrimaryConfusable(n),r=s.ZK.getLocales().filter((e=>!s.ZK.getInstance(new Set([...t.allowedLocales,e])).isAmbiguous(n)));return{kind:0,confusableWith:String.fromCodePoint(o),notAmbiguousInLocales:r}}case 1:return{kind:2}}}}class d{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=s.ZK.getInstance(new Set(e.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const e=new Set;if(this.options.invisibleCharacters)for(const t of s.vU.codePoints)c(String.fromCodePoint(t))||e.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(const t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e,t){const i=e.codePointAt(0);if(this.allowedCodePoints.has(i))return 0;if(this.options.nonBasicASCII)return 1;let n=!1,o=!1;if(t)for(const e of t){const t=e.codePointAt(0),i=s.$i(e);n=n||i,i||this.ambiguousCharacters.isAmbiguous(t)||s.vU.isInvisibleCharacter(t)||(o=!0)}return!n&&o?0:this.options.invisibleCharacters&&!c(e)&&s.vU.isInvisibleCharacter(i)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(i)?3:0}}function c(e){return" "===e||"\n"===e||"\t"===e}},913:(e,t,i)=>{"use strict";i.d(t,{B8:()=>d,Oe:()=>n,UX:()=>a,aq:()=>l,iN:()=>h,ld:()=>r,qq:()=>s,ug:()=>o,xi:()=>c});var n,o,s,r,a,l,d,c,h,u=i(3580);!function(e){e.noSelection=u.NC("noSelection","No selection"),e.singleSelectionRange=u.NC("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),e.singleSelection=u.NC("singleSelection","Line {0}, Column {1}"),e.multiSelectionRange=u.NC("multiSelectionRange","{0} selections ({1} characters selected)"),e.multiSelection=u.NC("multiSelection","{0} selections"),e.emergencyConfOn=u.NC("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),e.openingDocs=u.NC("openingDocs","Now opening the Editor Accessibility documentation page."),e.readonlyDiffEditor=u.NC("readonlyDiffEditor"," in a read-only pane of a diff editor."),e.editableDiffEditor=u.NC("editableDiffEditor"," in a pane of a diff editor."),e.readonlyEditor=u.NC("readonlyEditor"," in a read-only code editor"),e.editableEditor=u.NC("editableEditor"," in a code editor"),e.changeConfigToOnMac=u.NC("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),e.changeConfigToOnWinLinux=u.NC("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),e.auto_on=u.NC("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),e.auto_off=u.NC("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),e.tabFocusModeOnMsg=u.NC("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),e.tabFocusModeOnMsgNoKb=u.NC("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),e.tabFocusModeOffMsg=u.NC("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),e.tabFocusModeOffMsgNoKb=u.NC("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),e.openDocMac=u.NC("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),e.openDocWinLinux=u.NC("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),e.outroMsg=u.NC("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),e.showAccessibilityHelpAction=u.NC("showAccessibilityHelpAction","Show Accessibility Help")}(n||(n={})),function(e){e.inspectTokensAction=u.NC("inspectTokens","Developer: Inspect Tokens")}(o||(o={})),function(e){e.gotoLineActionLabel=u.NC("gotoLineActionLabel","Go to Line/Column...")}(s||(s={})),function(e){e.helpQuickAccessActionLabel=u.NC("helpQuickAccess","Show all Quick Access Providers")}(r||(r={})),function(e){e.quickCommandActionLabel=u.NC("quickCommandActionLabel","Command Palette"),e.quickCommandHelp=u.NC("quickCommandActionHelp","Show And Run Commands")}(a||(a={})),function(e){e.quickOutlineActionLabel=u.NC("quickOutlineActionLabel","Go to Symbol..."),e.quickOutlineByCategoryActionLabel=u.NC("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(l||(l={})),function(e){e.editorViewAccessibleLabel=u.NC("editorViewAccessibleLabel","Editor content"),e.accessibilityHelpMessage=u.NC("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(d||(d={})),function(e){e.toggleHighContrast=u.NC("toggleHighContrast","Toggle High Contrast Theme")}(c||(c={})),function(e){e.bulkEditServiceSummary=u.NC("bulkEditServiceSummary","Made {0} edits in {1} files")}(h||(h={}))},902:(e,t,i)=>{"use strict";var n,o,s,r,a,l,d,c,h,u,g,p,m,f,v,_,b,C,y,w,S,k,L,x,I,D,N,E,A,T,M,R,P,O,V,F,W,z;i.d(t,{E$:()=>x,F5:()=>k,Ij:()=>l,In:()=>V,Lu:()=>N,MG:()=>L,MY:()=>u,OI:()=>W,RM:()=>_,VD:()=>y,Vi:()=>c,WW:()=>R,ZL:()=>w,_x:()=>h,a$:()=>M,a7:()=>s,ao:()=>n,bw:()=>C,cR:()=>P,cm:()=>r,d2:()=>F,eB:()=>S,g4:()=>A,g_:()=>T,gl:()=>b,gm:()=>m,jl:()=>f,np:()=>o,py:()=>D,r3:()=>d,r4:()=>O,rf:()=>g,sh:()=>I,up:()=>z,vQ:()=>E,wT:()=>p,wU:()=>v,we:()=>a}),function(e){e[e.Unknown=0]="Unknown",e[e.Disabled=1]="Disabled",e[e.Enabled=2]="Enabled"}(n||(n={})),function(e){e[e.Invoke=1]="Invoke",e[e.Auto=2]="Auto"}(o||(o={})),function(e){e[e.KeepWhitespace=1]="KeepWhitespace",e[e.InsertAsSnippet=4]="InsertAsSnippet"}(s||(s={})),function(e){e[e.Method=0]="Method",e[e.Function=1]="Function",e[e.Constructor=2]="Constructor",e[e.Field=3]="Field",e[e.Variable=4]="Variable",e[e.Class=5]="Class",e[e.Struct=6]="Struct",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Event=10]="Event",e[e.Operator=11]="Operator",e[e.Unit=12]="Unit",e[e.Value=13]="Value",e[e.Constant=14]="Constant",e[e.Enum=15]="Enum",e[e.EnumMember=16]="EnumMember",e[e.Keyword=17]="Keyword",e[e.Text=18]="Text",e[e.Color=19]="Color",e[e.File=20]="File",e[e.Reference=21]="Reference",e[e.Customcolor=22]="Customcolor",e[e.Folder=23]="Folder",e[e.TypeParameter=24]="TypeParameter",e[e.User=25]="User",e[e.Issue=26]="Issue",e[e.Snippet=27]="Snippet"}(r||(r={})),function(e){e[e.Deprecated=1]="Deprecated"}(a||(a={})),function(e){e[e.Invoke=0]="Invoke",e[e.TriggerCharacter=1]="TriggerCharacter",e[e.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"}(l||(l={})),function(e){e[e.EXACT=0]="EXACT",e[e.ABOVE=1]="ABOVE",e[e.BELOW=2]="BELOW"}(d||(d={})),function(e){e[e.NotSet=0]="NotSet",e[e.ContentFlush=1]="ContentFlush",e[e.RecoverFromMarkers=2]="RecoverFromMarkers",e[e.Explicit=3]="Explicit",e[e.Paste=4]="Paste",e[e.Undo=5]="Undo",e[e.Redo=6]="Redo"}(c||(c={})),function(e){e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(h||(h={})),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(u||(u={})),function(e){e[e.None=0]="None",e[e.Keep=1]="Keep",e[e.Brackets=2]="Brackets",e[e.Advanced=3]="Advanced",e[e.Full=4]="Full"}(g||(g={})),function(e){e[e.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",e[e.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",e[e.accessibilitySupport=2]="accessibilitySupport",e[e.accessibilityPageSize=3]="accessibilityPageSize",e[e.ariaLabel=4]="ariaLabel",e[e.autoClosingBrackets=5]="autoClosingBrackets",e[e.autoClosingDelete=6]="autoClosingDelete",e[e.autoClosingOvertype=7]="autoClosingOvertype",e[e.autoClosingQuotes=8]="autoClosingQuotes",e[e.autoIndent=9]="autoIndent",e[e.automaticLayout=10]="automaticLayout",e[e.autoSurround=11]="autoSurround",e[e.bracketPairColorization=12]="bracketPairColorization",e[e.guides=13]="guides",e[e.codeLens=14]="codeLens",e[e.codeLensFontFamily=15]="codeLensFontFamily",e[e.codeLensFontSize=16]="codeLensFontSize",e[e.colorDecorators=17]="colorDecorators",e[e.columnSelection=18]="columnSelection",e[e.comments=19]="comments",e[e.contextmenu=20]="contextmenu",e[e.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",e[e.cursorBlinking=22]="cursorBlinking",e[e.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",e[e.cursorStyle=24]="cursorStyle",e[e.cursorSurroundingLines=25]="cursorSurroundingLines",e[e.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",e[e.cursorWidth=27]="cursorWidth",e[e.disableLayerHinting=28]="disableLayerHinting",e[e.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",e[e.domReadOnly=30]="domReadOnly",e[e.dragAndDrop=31]="dragAndDrop",e[e.dropIntoEditor=32]="dropIntoEditor",e[e.emptySelectionClipboard=33]="emptySelectionClipboard",e[e.experimental=34]="experimental",e[e.extraEditorClassName=35]="extraEditorClassName",e[e.fastScrollSensitivity=36]="fastScrollSensitivity",e[e.find=37]="find",e[e.fixedOverflowWidgets=38]="fixedOverflowWidgets",e[e.folding=39]="folding",e[e.foldingStrategy=40]="foldingStrategy",e[e.foldingHighlight=41]="foldingHighlight",e[e.foldingImportsByDefault=42]="foldingImportsByDefault",e[e.foldingMaximumRegions=43]="foldingMaximumRegions",e[e.unfoldOnClickAfterEndOfLine=44]="unfoldOnClickAfterEndOfLine",e[e.fontFamily=45]="fontFamily",e[e.fontInfo=46]="fontInfo",e[e.fontLigatures=47]="fontLigatures",e[e.fontSize=48]="fontSize",e[e.fontWeight=49]="fontWeight",e[e.formatOnPaste=50]="formatOnPaste",e[e.formatOnType=51]="formatOnType",e[e.glyphMargin=52]="glyphMargin",e[e.gotoLocation=53]="gotoLocation",e[e.hideCursorInOverviewRuler=54]="hideCursorInOverviewRuler",e[e.hover=55]="hover",e[e.inDiffEditor=56]="inDiffEditor",e[e.inlineSuggest=57]="inlineSuggest",e[e.letterSpacing=58]="letterSpacing",e[e.lightbulb=59]="lightbulb",e[e.lineDecorationsWidth=60]="lineDecorationsWidth",e[e.lineHeight=61]="lineHeight",e[e.lineNumbers=62]="lineNumbers",e[e.lineNumbersMinChars=63]="lineNumbersMinChars",e[e.linkedEditing=64]="linkedEditing",e[e.links=65]="links",e[e.matchBrackets=66]="matchBrackets",e[e.minimap=67]="minimap",e[e.mouseStyle=68]="mouseStyle",e[e.mouseWheelScrollSensitivity=69]="mouseWheelScrollSensitivity",e[e.mouseWheelZoom=70]="mouseWheelZoom",e[e.multiCursorMergeOverlapping=71]="multiCursorMergeOverlapping",e[e.multiCursorModifier=72]="multiCursorModifier",e[e.multiCursorPaste=73]="multiCursorPaste",e[e.occurrencesHighlight=74]="occurrencesHighlight",e[e.overviewRulerBorder=75]="overviewRulerBorder",e[e.overviewRulerLanes=76]="overviewRulerLanes",e[e.padding=77]="padding",e[e.parameterHints=78]="parameterHints",e[e.peekWidgetDefaultFocus=79]="peekWidgetDefaultFocus",e[e.definitionLinkOpensInPeek=80]="definitionLinkOpensInPeek",e[e.quickSuggestions=81]="quickSuggestions",e[e.quickSuggestionsDelay=82]="quickSuggestionsDelay",e[e.readOnly=83]="readOnly",e[e.renameOnType=84]="renameOnType",e[e.renderControlCharacters=85]="renderControlCharacters",e[e.renderFinalNewline=86]="renderFinalNewline",e[e.renderLineHighlight=87]="renderLineHighlight",e[e.renderLineHighlightOnlyWhenFocus=88]="renderLineHighlightOnlyWhenFocus",e[e.renderValidationDecorations=89]="renderValidationDecorations",e[e.renderWhitespace=90]="renderWhitespace",e[e.revealHorizontalRightPadding=91]="revealHorizontalRightPadding",e[e.roundedSelection=92]="roundedSelection",e[e.rulers=93]="rulers",e[e.scrollbar=94]="scrollbar",e[e.scrollBeyondLastColumn=95]="scrollBeyondLastColumn",e[e.scrollBeyondLastLine=96]="scrollBeyondLastLine",e[e.scrollPredominantAxis=97]="scrollPredominantAxis",e[e.selectionClipboard=98]="selectionClipboard",e[e.selectionHighlight=99]="selectionHighlight",e[e.selectOnLineNumbers=100]="selectOnLineNumbers",e[e.showFoldingControls=101]="showFoldingControls",e[e.showUnused=102]="showUnused",e[e.snippetSuggestions=103]="snippetSuggestions",e[e.smartSelect=104]="smartSelect",e[e.smoothScrolling=105]="smoothScrolling",e[e.stickyTabStops=106]="stickyTabStops",e[e.stopRenderingLineAfter=107]="stopRenderingLineAfter",e[e.suggest=108]="suggest",e[e.suggestFontSize=109]="suggestFontSize",e[e.suggestLineHeight=110]="suggestLineHeight",e[e.suggestOnTriggerCharacters=111]="suggestOnTriggerCharacters",e[e.suggestSelection=112]="suggestSelection",e[e.tabCompletion=113]="tabCompletion",e[e.tabIndex=114]="tabIndex",e[e.unicodeHighlighting=115]="unicodeHighlighting",e[e.unusualLineTerminators=116]="unusualLineTerminators",e[e.useShadowDOM=117]="useShadowDOM",e[e.useTabStops=118]="useTabStops",e[e.wordSeparators=119]="wordSeparators",e[e.wordWrap=120]="wordWrap",e[e.wordWrapBreakAfterCharacters=121]="wordWrapBreakAfterCharacters",e[e.wordWrapBreakBeforeCharacters=122]="wordWrapBreakBeforeCharacters",e[e.wordWrapColumn=123]="wordWrapColumn",e[e.wordWrapOverride1=124]="wordWrapOverride1",e[e.wordWrapOverride2=125]="wordWrapOverride2",e[e.wrappingIndent=126]="wrappingIndent",e[e.wrappingStrategy=127]="wrappingStrategy",e[e.showDeprecated=128]="showDeprecated",e[e.inlayHints=129]="inlayHints",e[e.editorClassName=130]="editorClassName",e[e.pixelRatio=131]="pixelRatio",e[e.tabFocusMode=132]="tabFocusMode",e[e.layoutInfo=133]="layoutInfo",e[e.wrappingInfo=134]="wrappingInfo"}(p||(p={})),function(e){e[e.TextDefined=0]="TextDefined",e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(m||(m={})),function(e){e[e.LF=0]="LF",e[e.CRLF=1]="CRLF"}(f||(f={})),function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(v||(v={})),function(e){e[e.Both=0]="Both",e[e.Right=1]="Right",e[e.Left=2]="Left",e[e.None=3]="None"}(_||(_={})),function(e){e[e.Type=1]="Type",e[e.Parameter=2]="Parameter"}(b||(b={})),function(e){e[e.Automatic=0]="Automatic",e[e.Explicit=1]="Explicit"}(C||(C={})),function(e){e[e.DependsOnKbLayout=-1]="DependsOnKbLayout",e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.Digit0=21]="Digit0",e[e.Digit1=22]="Digit1",e[e.Digit2=23]="Digit2",e[e.Digit3=24]="Digit3",e[e.Digit4=25]="Digit4",e[e.Digit5=26]="Digit5",e[e.Digit6=27]="Digit6",e[e.Digit7=28]="Digit7",e[e.Digit8=29]="Digit8",e[e.Digit9=30]="Digit9",e[e.KeyA=31]="KeyA",e[e.KeyB=32]="KeyB",e[e.KeyC=33]="KeyC",e[e.KeyD=34]="KeyD",e[e.KeyE=35]="KeyE",e[e.KeyF=36]="KeyF",e[e.KeyG=37]="KeyG",e[e.KeyH=38]="KeyH",e[e.KeyI=39]="KeyI",e[e.KeyJ=40]="KeyJ",e[e.KeyK=41]="KeyK",e[e.KeyL=42]="KeyL",e[e.KeyM=43]="KeyM",e[e.KeyN=44]="KeyN",e[e.KeyO=45]="KeyO",e[e.KeyP=46]="KeyP",e[e.KeyQ=47]="KeyQ",e[e.KeyR=48]="KeyR",e[e.KeyS=49]="KeyS",e[e.KeyT=50]="KeyT",e[e.KeyU=51]="KeyU",e[e.KeyV=52]="KeyV",e[e.KeyW=53]="KeyW",e[e.KeyX=54]="KeyX",e[e.KeyY=55]="KeyY",e[e.KeyZ=56]="KeyZ",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.Semicolon=80]="Semicolon",e[e.Equal=81]="Equal",e[e.Comma=82]="Comma",e[e.Minus=83]="Minus",e[e.Period=84]="Period",e[e.Slash=85]="Slash",e[e.Backquote=86]="Backquote",e[e.BracketLeft=87]="BracketLeft",e[e.Backslash=88]="Backslash",e[e.BracketRight=89]="BracketRight",e[e.Quote=90]="Quote",e[e.OEM_8=91]="OEM_8",e[e.IntlBackslash=92]="IntlBackslash",e[e.Numpad0=93]="Numpad0",e[e.Numpad1=94]="Numpad1",e[e.Numpad2=95]="Numpad2",e[e.Numpad3=96]="Numpad3",e[e.Numpad4=97]="Numpad4",e[e.Numpad5=98]="Numpad5",e[e.Numpad6=99]="Numpad6",e[e.Numpad7=100]="Numpad7",e[e.Numpad8=101]="Numpad8",e[e.Numpad9=102]="Numpad9",e[e.NumpadMultiply=103]="NumpadMultiply",e[e.NumpadAdd=104]="NumpadAdd",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NumpadSubtract=106]="NumpadSubtract",e[e.NumpadDecimal=107]="NumpadDecimal",e[e.NumpadDivide=108]="NumpadDivide",e[e.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",e[e.ABNT_C1=110]="ABNT_C1",e[e.ABNT_C2=111]="ABNT_C2",e[e.AudioVolumeMute=112]="AudioVolumeMute",e[e.AudioVolumeUp=113]="AudioVolumeUp",e[e.AudioVolumeDown=114]="AudioVolumeDown",e[e.BrowserSearch=115]="BrowserSearch",e[e.BrowserHome=116]="BrowserHome",e[e.BrowserBack=117]="BrowserBack",e[e.BrowserForward=118]="BrowserForward",e[e.MediaTrackNext=119]="MediaTrackNext",e[e.MediaTrackPrevious=120]="MediaTrackPrevious",e[e.MediaStop=121]="MediaStop",e[e.MediaPlayPause=122]="MediaPlayPause",e[e.LaunchMediaPlayer=123]="LaunchMediaPlayer",e[e.LaunchMail=124]="LaunchMail",e[e.LaunchApp2=125]="LaunchApp2",e[e.Clear=126]="Clear",e[e.MAX_VALUE=127]="MAX_VALUE"}(y||(y={})),function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(w||(w={})),function(e){e[e.Unnecessary=1]="Unnecessary",e[e.Deprecated=2]="Deprecated"}(S||(S={})),function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"}(k||(k={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXTAREA=1]="TEXTAREA",e[e.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",e[e.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",e[e.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",e[e.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",e[e.CONTENT_TEXT=6]="CONTENT_TEXT",e[e.CONTENT_EMPTY=7]="CONTENT_EMPTY",e[e.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",e[e.CONTENT_WIDGET=9]="CONTENT_WIDGET",e[e.OVERVIEW_RULER=10]="OVERVIEW_RULER",e[e.SCROLLBAR=11]="SCROLLBAR",e[e.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",e[e.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"}(L||(L={})),function(e){e[e.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",e[e.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",e[e.TOP_CENTER=2]="TOP_CENTER"}(x||(x={})),function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(I||(I={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.None=2]="None",e[e.LeftOfInjectedText=3]="LeftOfInjectedText",e[e.RightOfInjectedText=4]="RightOfInjectedText"}(D||(D={})),function(e){e[e.Off=0]="Off",e[e.On=1]="On",e[e.Relative=2]="Relative",e[e.Interval=3]="Interval",e[e.Custom=4]="Custom"}(N||(N={})),function(e){e[e.None=0]="None",e[e.Text=1]="Text",e[e.Blocks=2]="Blocks"}(E||(E={})),function(e){e[e.Smooth=0]="Smooth",e[e.Immediate=1]="Immediate"}(A||(A={})),function(e){e[e.Auto=1]="Auto",e[e.Hidden=2]="Hidden",e[e.Visible=3]="Visible"}(T||(T={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(M||(M={})),function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(R||(R={})),function(e){e[e.File=0]="File",e[e.Module=1]="Module",e[e.Namespace=2]="Namespace",e[e.Package=3]="Package",e[e.Class=4]="Class",e[e.Method=5]="Method",e[e.Property=6]="Property",e[e.Field=7]="Field",e[e.Constructor=8]="Constructor",e[e.Enum=9]="Enum",e[e.Interface=10]="Interface",e[e.Function=11]="Function",e[e.Variable=12]="Variable",e[e.Constant=13]="Constant",e[e.String=14]="String",e[e.Number=15]="Number",e[e.Boolean=16]="Boolean",e[e.Array=17]="Array",e[e.Object=18]="Object",e[e.Key=19]="Key",e[e.Null=20]="Null",e[e.EnumMember=21]="EnumMember",e[e.Struct=22]="Struct",e[e.Event=23]="Event",e[e.Operator=24]="Operator",e[e.TypeParameter=25]="TypeParameter"}(P||(P={})),function(e){e[e.Deprecated=1]="Deprecated"}(O||(O={})),function(e){e[e.Hidden=0]="Hidden",e[e.Blink=1]="Blink",e[e.Smooth=2]="Smooth",e[e.Phase=3]="Phase",e[e.Expand=4]="Expand",e[e.Solid=5]="Solid"}(V||(V={})),function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(F||(F={})),function(e){e[e.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",e[e.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",e[e.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",e[e.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(W||(W={})),function(e){e[e.None=0]="None",e[e.Same=1]="Same",e[e.Indent=2]="Indent",e[e.DeepIndent=3]="DeepIndent"}(z||(z={}))},4706:(e,t,i)=>{"use strict";i.d(t,{CZ:()=>l,D8:()=>c,Jx:()=>n,Tx:()=>a,dQ:()=>d,fV:()=>h,gk:()=>o,lN:()=>r,rU:()=>s});class n{constructor(){this.changeType=1}}class o{constructor(e,t,i,n,o){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=n,this.order=o}static applyInjectedText(e,t){if(!t||0===t.length)return e;let i="",n=0;for(const o of t)i+=e.substring(n,o.column-1),n=o.column-1,i+=o.options.content;return i+=e.substring(n),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new o(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new o(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort(((e,t)=>e.lineNumber===t.lineNumber?e.column===t.column?e.order-t.order:e.column-t.column:e.lineNumber-t.lineNumber)),t}}class s{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class r{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class a{constructor(e,t,i,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class l{constructor(){this.changeType=5}}class d{constructor(e,t,i,n){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=n,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),n=t.versionId,o=e.isUndoing||t.isUndoing,s=e.isRedoing||t.isRedoing;return new d(i,n,o,s)}}class c{constructor(e){this.changes=e}}class h{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=d.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=h._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new h(t,i)}static _mergeChangeEvents(e,t){return{changes:[].concat(e.changes).concat(t.changes),eol:t.eol,versionId:t.versionId,isUndoing:e.isUndoing||t.isUndoing,isRedoing:e.isRedoing||t.isRedoing,isFlush:e.isFlush||t.isFlush}}}},5094:(e,t,i)=>{"use strict";var n;i.d(t,{UO:()=>o,s6:()=>n,vW:()=>s}),function(e){e[e.Disabled=0]="Disabled",e[e.EnabledForActive=1]="EnabledForActive",e[e.Enabled=2]="Enabled"}(n||(n={}));class o{constructor(e,t,i,n,o,s){if(this.visibleColumn=e,this.column=t,this.className=i,this.horizontalLine=n,this.forWrappedLinesAfterColumn=o,this.forWrappedLinesBeforeOrAtColumn=s,-1!==e==(-1!==t))throw new Error}}class s{constructor(e,t){this.top=e,this.endColumn=t}}},7378:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(5797);class o{constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this._languageIdCodec=i}static createEmpty(e,t){const i=o.defaultTokenMetadata,n=new Uint32Array(2);return n[0]=e.length,n[1]=i,new o(n,e,t)}equals(e){return e instanceof o&&this.slicedEquals(e,0,this._tokensCount)}slicedEquals(e,t,i){if(this._text!==e._text)return!1;if(this._tokensCount!==e._tokensCount)return!1;const n=t<<1,o=n+(i<<1);for(let t=n;t<o;t++)if(this._tokens[t]!==e._tokens[t])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[1+(e<<1)]}getLanguageId(e){const t=this._tokens[1+(e<<1)],i=n.N.getLanguageId(t);return this._languageIdCodec.decodeLanguageId(i)}getStandardTokenType(e){const t=this._tokens[1+(e<<1)];return n.N.getTokenType(t)}getForeground(e){const t=this._tokens[1+(e<<1)];return n.N.getForeground(t)}getClassName(e){const t=this._tokens[1+(e<<1)];return n.N.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[1+(e<<1)];return n.N.getInlineStyleFromMetadata(i,t)}getPresentation(e){const t=this._tokens[1+(e<<1)];return n.N.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return o.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new s(this,e,t,i)}static convertToEndOffset(e,t){const i=(e.length>>>1)-1;for(let t=0;t<i;t++)e[t<<1]=e[t+1<<1];e[i<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,n=(e.length>>>1)-1;for(;i<n;){const o=i+Math.floor((n-i)/2),s=e[o<<1];if(s===t)return o+1;s<t?i=o+1:s>t&&(n=o)}return i}withInserted(e){if(0===e.length)return this;let t=0,i=0,n="";const s=new Array;let r=0;for(;;){const o=t<this._tokensCount?this._tokens[t<<1]:-1,a=i<e.length?e[i]:null;if(-1!==o&&(null===a||o<=a.offset)){n+=this._text.substring(r,o);const e=this._tokens[1+(t<<1)];s.push(n.length,e),t++,r=o}else{if(!a)break;if(a.offset>r){n+=this._text.substring(r,a.offset);const e=this._tokens[1+(t<<1)];s.push(n.length,e),r=a.offset}n+=a.text,s.push(n.length,a.tokenMetadata),i++}}return new o(new Uint32Array(s),n,this._languageIdCodec)}}o.defaultTokenMetadata=33587200;class s{constructor(e,t,i,n){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=n,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let t=this._firstTokenIndex,n=e.getCount();t<n&&!(e.getStartOffset(t)>=i);t++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof s&&this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},2550:(e,t,i)=>{"use strict";i.d(t,{Kp:()=>o,k:()=>a});var n=i(7295);class o{constructor(e,t,i,n){this.startColumn=e,this.endColumn=t,this.className=i,this.type=n,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(!o._equals(e[n],t[n]))return!1;return!0}static extractWrapped(e,t,i){if(0===e.length)return e;const n=t+1,s=i+1,r=i-t,a=[];let l=0;for(const t of e)t.endColumn<=n||t.startColumn>=s||(a[l++]=new o(Math.max(1,t.startColumn-n+1),Math.min(r+1,t.endColumn-n+1),t.className,t.type));return a}static filter(e,t,i,n){if(0===e.length)return[];const s=[];let r=0;for(let a=0,l=e.length;a<l;a++){const l=e[a],d=l.range;if(d.endLineNumber<t||d.startLineNumber>t)continue;if(d.isEmpty()&&(0===l.type||3===l.type))continue;const c=d.startLineNumber===t?d.startColumn:i,h=d.endLineNumber===t?d.endColumn:n;s[r++]=new o(c,h,l.inlineClassName,l.type)}return s}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const i=o._typeCompare(e.type,t.type);return 0!==i?i:e.className!==t.className?e.className<t.className?-1:1:0}}class s{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=n}}class r{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,n=e.length;i<n;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let e=0;for(;e+1<this.count&&this.stopOffsets[e]===this.stopOffsets[e+1];)e++;i.push(new s(t,this.stopOffsets[e],this.classNames.join(" "),r._metadata(this.metadata))),t=this.stopOffsets[e]+1,this.stopOffsets.splice(0,e+1),this.classNames.splice(0,e+1),this.metadata.splice(0,e+1),this.count-=e+1}return this.count>0&&t<e&&(i.push(new s(t,e-1,this.classNames.join(" "),r._metadata(this.metadata))),t=e),t}insert(e,t,i){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t),this.metadata.splice(n,0,i);break}this.count++}}class a{static normalize(e,t){if(0===t.length)return[];const i=[],o=new r;let s=0;for(let r=0,a=t.length;r<a;r++){const a=t[r];let l=a.startColumn,d=a.endColumn;const c=a.className,h=1===a.type?2:2===a.type?4:0;if(l>1){const t=e.charCodeAt(l-2);n.ZG(t)&&l--}if(d>1){const t=e.charCodeAt(d-2);n.ZG(t)&&d--}const u=l-1,g=d-2;s=o.consumeLowerThan(u,s,i),0===o.count&&(s=u),o.insert(g,c,h)}return o.consumeLowerThan(1073741824,s,i),i}}},1557:(e,t,i)=>{"use strict";i.d(t,{Nd:()=>d,zG:()=>a,IJ:()=>l,d1:()=>u,tF:()=>p});var n=i(7295),o=i(72),s=i(2550);class r{constructor(e,t,i,n){this.endIndex=e,this.type=t,this.metadata=i,this.containsRTL=n,this._linePartBrand=void 0}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class a{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class l{constructor(e,t,i,n,o,r,a,l,d,c,h,u,g,p,m,f,v,_,b){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=n,this.isBasicASCII=o,this.containsRTL=r,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=d.sort(s.Kp.compare),this.tabSize=c,this.startVisibleColumn=h,this.spaceWidth=u,this.stopRenderingLineAfter=m,this.renderWhitespace="all"===f?4:"boundary"===f?1:"selection"===f?2:"trailing"===f?3:0,this.renderControlCharacters=v,this.fontLigatures=_,this.selectionsOnLine=b&&b.sort(((e,t)=>e.startOffset<t.startOffset?-1:1)),Math.abs(p-u)<Math.abs(g-u)?(this.renderSpaceWidth=p,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=g,this.renderSpaceCharCode=183)}sameSelection(e){if(null===this.selectionsOnLine)return null===e;if(null===e)return!1;if(e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&s.Kp.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class d{constructor(e,t){this.partIndex=e,this.charIndex=t}}class c{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}static getPartIndex(e){return(4294901760&e)>>>16}static getCharIndex(e){return(65535&e)>>>0}setColumnInfo(e,t,i,n){const o=(t<<16|i<<0)>>>0;this._data[e-1]=o,this._horizontalOffset[e-1]=n}getHorizontalOffset(e){return 0===this._horizontalOffset.length?0:this._horizontalOffset[e-1]}charOffsetToPartData(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),i=c.getPartIndex(t),n=c.getCharIndex(t);return new d(i,n)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(0===this.length)return 0;const n=(e<<16|i<<0)>>>0;let o=0,s=this.length-1;for(;o+1<s;){const e=o+s>>>1,t=this._data[e];if(t===n)return e;t>n?s=e:o=e}if(o===s)return o;const r=this._data[o],a=this._data[s];if(r===n)return o;if(a===n)return s;const l=c.getPartIndex(r),d=c.getCharIndex(r);let h;return h=l!==c.getPartIndex(a)?t:c.getCharIndex(a),i-d<=h-i?o:s}}class h{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function u(e,t){if(0===e.lineContent.length){if(e.lineDecorations.length>0){t.appendASCIIString("<span>");let i=0,n=0,o=0;for(const s of e.lineDecorations)1!==s.type&&2!==s.type||(t.appendASCIIString('<span class="'),t.appendASCIIString(s.className),t.appendASCIIString('"></span>'),1===s.type&&(o|=1,i++),2===s.type&&(o|=2,n++));t.appendASCIIString("</span>");const s=new c(1,i+n);return s.setColumnInfo(1,i,0,0),new h(s,!1,o)}return t.appendASCIIString("<span><span></span></span>"),new h(new c(0,0),!1,0)}return function(e,t){const i=e.fontIsMonospace,o=e.canUseHalfwidthRightwardsArrow,s=e.containsForeignElements,r=e.lineContent,a=e.len,l=e.isOverflowing,d=e.parts,u=e.fauxIndentLength,g=e.tabSize,p=e.startVisibleColumn,m=e.containsRTL,v=e.spaceWidth,_=e.renderSpaceCharCode,b=e.renderWhitespace,C=e.renderControlCharacters,y=new c(a+1,d.length);let w=!1,S=0,k=p,L=0,x=0,I=0;m?t.appendASCIIString('<span dir="ltr">'):t.appendASCIIString("<span>");for(let e=0,l=d.length;e<l;e++){const l=d[e],c=l.endIndex,h=l.type,p=l.containsRTL,m=0!==b&&l.isWhitespace(),D=m&&!i&&("mtkw"===h||!s),N=S===c&&l.isPseudoAfter();if(L=0,t.appendASCIIString("<span "),p&&t.appendASCIIString('style="unicode-bidi:isolate" '),t.appendASCIIString('class="'),t.appendASCIIString(D?"mtkz":h),t.appendASCII(34),m){let i=0;{let e=S,t=k;for(;e<c;e++){const n=0|(9===r.charCodeAt(e)?g-t%g:1);i+=n,e>=u&&(t+=n)}}for(D&&(t.appendASCIIString(' style="width:'),t.appendASCIIString(String(v*i)),t.appendASCIIString('px"')),t.appendASCII(62);S<c;S++){let i,n;if(y.setColumnInfo(S+1,e-I,L,x),I=0,9===r.charCodeAt(S)){i=g-k%g|0,n=i,!o||n>1?t.write1(8594):t.write1(65515);for(let e=2;e<=n;e++)t.write1(160)}else i=2,n=1,t.write1(_),t.write1(8204);L+=i,x+=n,S>=u&&(k+=n)}}else for(t.appendASCII(62);S<c;S++){y.setColumnInfo(S+1,e-I,L,x),I=0;const i=r.charCodeAt(S);let o=1,s=1;switch(i){case 9:o=g-k%g,s=o;for(let e=1;e<=o;e++)t.write1(160);break;case 32:t.write1(160);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:C?t.write1(9216):t.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.write1(65533);break;default:n.K7(i)&&s++,C&&i<32?t.write1(9216+i):C&&127===i?t.write1(9249):C&&f(i)?(t.appendASCIIString("[U+"),t.appendASCIIString(i.toString(16).toUpperCase().padStart(4,"0")),t.appendASCIIString("]"),o=8,s=o):t.write1(i)}L+=o,x+=s,S>=u&&(k+=s)}N?I++:I=0,S>=a&&!w&&l.isPseudoAfter()&&(w=!0,y.setColumnInfo(S+1,e,L,x)),t.appendASCIIString("</span>")}return w||y.setColumnInfo(a+1,d.length-1,L,x),l&&t.appendASCIIString("<span>&hellip;</span>"),t.appendASCIIString("</span>"),new h(y,m,s)}(function(e){const t=e.lineContent;let i,o;-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<t.length?(i=!0,o=e.stopRenderingLineAfter):(i=!1,o=t.length);let a=function(e,t,i,o,s){const a=[];let l=0;o>0&&(a[l++]=new r(o,"",0,!1));let d=o;for(let c=0,h=i.getCount();c<h;c++){const h=i.getEndOffset(c);if(h<=o)continue;const u=i.getClassName(c);if(h>=s){const i=!!t&&n.Ut(e.substring(d,s));a[l++]=new r(s,u,0,i);break}const g=!!t&&n.Ut(e.substring(d,h));a[l++]=new r(h,u,0,g),d=h}return a}(t,e.containsRTL,e.lineTokens,e.fauxIndentLength,o);e.renderControlCharacters&&!e.isBasicASCII&&(a=function(e,t){const i=[];let n=new r(0,"",0,!1),o=0;for(const s of t){const t=s.endIndex;for(;o<t;o++)f(e.charCodeAt(o))&&(o>n.endIndex&&(n=new r(o,s.type,s.metadata,s.containsRTL),i.push(n)),n=new r(o+1,"mtkcontrol",s.metadata,!1),i.push(n));o>n.endIndex&&(n=new r(t,s.type,s.metadata,s.containsRTL),i.push(n))}return i}(t,a)),(4===e.renderWhitespace||1===e.renderWhitespace||2===e.renderWhitespace&&e.selectionsOnLine||3===e.renderWhitespace)&&(a=function(e,t,i,o){const s=e.continuesWithWrappedLine,a=e.fauxIndentLength,l=e.tabSize,d=e.startVisibleColumn,c=e.useMonospaceOptimizations,h=e.selectionsOnLine,u=1===e.renderWhitespace,g=3===e.renderWhitespace,p=e.renderSpaceWidth!==e.spaceWidth,m=[];let f=0,v=0,_=o[v].type,b=o[v].containsRTL,C=o[v].endIndex;const y=o.length;let w,S=!1,k=n.LC(t);-1===k?(S=!0,k=i,w=i):w=n.ow(t);let L=!1,x=0,I=h&&h[x],D=d%l;for(let e=a;e<i;e++){const s=t.charCodeAt(e);let d;if(I&&e>=I.endOffset&&(x++,I=h&&h[x]),e<k||e>w)d=!0;else if(9===s)d=!0;else if(32===s)if(u)if(L)d=!0;else{const n=e+1<i?t.charCodeAt(e+1):0;d=32===n||9===n}else d=!0;else d=!1;if(d&&h&&(d=!!I&&I.startOffset<=e&&I.endOffset>e),d&&g&&(d=S||e>w),d&&b&&e>=k&&e<=w&&(d=!1),L){if(!d||!c&&D>=l){if(p)for(let t=(f>0?m[f-1].endIndex:a)+1;t<=e;t++)m[f++]=new r(t,"mtkw",1,!1);else m[f++]=new r(e,"mtkw",1,!1);D%=l}}else(e===C||d&&e>a)&&(m[f++]=new r(e,_,0,b),D%=l);for(9===s?D=l:n.K7(s)?D+=2:D++,L=d;e===C&&(v++,v<y);)_=o[v].type,b=o[v].containsRTL,C=o[v].endIndex}let N=!1;if(L)if(s&&u){const e=i>0?t.charCodeAt(i-1):0,n=i>1?t.charCodeAt(i-2):0;32===e&&32!==n&&9!==n||(N=!0)}else N=!0;if(N)if(p)for(let e=(f>0?m[f-1].endIndex:a)+1;e<=i;e++)m[f++]=new r(e,"mtkw",1,!1);else m[f++]=new r(i,"mtkw",1,!1);else m[f++]=new r(i,_,0,b);return m}(e,t,o,a));let l=0;if(e.lineDecorations.length>0){for(let t=0,i=e.lineDecorations.length;t<i;t++){const i=e.lineDecorations[t];3===i.type||1===i.type?l|=1:2===i.type&&(l|=2)}a=function(e,t,i,n){n.sort(s.Kp.compare);const o=s.k.normalize(e,n),a=o.length;let l=0;const d=[];let c=0,h=0;for(let e=0,t=i.length;e<t;e++){const t=i[e],n=t.endIndex,s=t.type,u=t.metadata,g=t.containsRTL;for(;l<a&&o[l].startOffset<n;){const e=o[l];if(e.startOffset>h&&(h=e.startOffset,d[c++]=new r(h,s,u,g)),!(e.endOffset+1<=n)){h=n,d[c++]=new r(h,s+" "+e.className,u|e.metadata,g);break}h=e.endOffset+1,d[c++]=new r(h,s+" "+e.className,u|e.metadata,g),l++}n>h&&(h=n,d[c++]=new r(h,s,u,g))}const u=i[i.length-1].endIndex;if(l<a&&o[l].startOffset===u)for(;l<a&&o[l].startOffset===u;){const e=o[l];d[c++]=new r(h,e.className,e.metadata,!1),l++}return d}(t,0,a,e.lineDecorations)}return e.containsRTL||(a=function(e,t,i){let n=0;const o=[];let s=0;if(i)for(let i=0,a=t.length;i<a;i++){const a=t[i],l=a.endIndex;if(n+50<l){const t=a.type,i=a.metadata,d=a.containsRTL;let c=-1,h=n;for(let a=n;a<l;a++)32===e.charCodeAt(a)&&(c=a),-1!==c&&a-h>=50&&(o[s++]=new r(c+1,t,i,d),h=c+1,c=-1);h!==l&&(o[s++]=new r(l,t,i,d))}else o[s++]=a;n=l}else for(let e=0,i=t.length;e<i;e++){const i=t[e],a=i.endIndex,l=a-n;if(l>50){const e=i.type,t=i.metadata,d=i.containsRTL,c=Math.ceil(l/50);for(let i=1;i<c;i++){const a=n+50*i;o[s++]=new r(a,e,t,d)}o[s++]=new r(a,e,t,d)}else o[s++]=i;n=a}return o}(t,a,!e.isBasicASCII||e.fontLigatures)),new m(e.useMonospaceOptimizations,e.canUseHalfwidthRightwardsArrow,t,o,i,a,l,e.fauxIndentLength,e.tabSize,e.startVisibleColumn,e.containsRTL,e.spaceWidth,e.renderSpaceCharCode,e.renderWhitespace,e.renderControlCharacters)}(e),t)}class g{constructor(e,t,i,n){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=n}}function p(e){const t=(0,o.l$)(1e4),i=u(e,t);return new g(i.characterMapping,t.build(),i.containsRTL,i.containsForeignElements)}class m{constructor(e,t,i,n,o,s,r,a,l,d,c,h,u,g,p){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=n,this.isOverflowing=o,this.parts=s,this.containsForeignElements=r,this.fauxIndentLength=a,this.tabSize=l,this.startVisibleColumn=d,this.containsRTL=c,this.spaceWidth=h,this.renderSpaceCharCode=u,this.renderWhitespace=g,this.renderControlCharacters=p}}function f(e){return e<32?9!==e:127===e||e>=8234&&e<=8238||e>=8294&&e<=8297||e>=8206&&e<=8207||1564===e}},1118:(e,t,i)=>{"use strict";i.d(t,{$l:()=>h,$t:()=>d,IP:()=>a,SQ:()=>u,Wx:()=>c,l_:()=>s,ud:()=>r,wA:()=>l});var n=i(7295),o=i(4314);class s{constructor(e,t,i,n){this._viewportBrand=void 0,this.top=0|e,this.left=0|t,this.width=0|i,this.height=0|n}}class r{constructor(e,t){this.tabSize=e,this.data=t}}class a{constructor(e,t,i,n,o,s,r){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=n,this.startVisibleColumn=o,this.tokens=s,this.inlineDecorations=r}}class l{constructor(e,t,i,n,o,s,r,a,d,c){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=n,this.isBasicASCII=l.isBasicASCII(i,s),this.containsRTL=l.containsRTL(i,this.isBasicASCII,o),this.tokens=r,this.inlineDecorations=a,this.tabSize=d,this.startVisibleColumn=c}static isBasicASCII(e,t){return!t||n.$i(e)}static containsRTL(e,t,i){return!(t||!i)&&n.Ut(e)}}class d{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class c{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=n}toInlineDecoration(e){return new d(new o.e(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class h{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}class u{constructor(e,t,i){this.color=e,this.zIndex=t,this.data=i}static cmp(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}}},665:(e,t,i)=>{"use strict";i.d(t,{EY:()=>o,Tj:()=>s});class n{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=0|e,this.to=0|t,this.colorId=0|i}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class o{constructor(e,t,i,n){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.heightInLines=i,this.color=n,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.heightInLines===t.heightInLines?e.endLineNumber-t.endLineNumber:e.heightInLines-t.heightInLines:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class s{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(o.compare)}setLineHeight(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),o=i/Math.floor(this._outerHeight),s=Math.floor(4*this._pixelRatio/2),r=[];for(let a=0,l=this._zones.length;a<l;a++){const l=this._zones[a];if(!e){const e=l.getColorZones();if(e){r.push(e);continue}}const d=this._getVerticalOffsetForLine(l.startLineNumber),c=0===l.heightInLines?this._getVerticalOffsetForLine(l.endLineNumber)+t:d+l.heightInLines*t,h=Math.floor(o*d),u=Math.floor(o*c);let g=Math.floor((h+u)/2),p=u-g;p<s&&(p=s),g-p<0&&(g=p),g+p>i&&(g=i-p);const m=l.color;let f=this._color2Id[m];f||(f=++this._lastAssignedId,this._color2Id[m]=f,this._id2Color[f]=m);const v=new n(g-p,g+p,f);l.setColorZone(v),r.push(v)}return this._colorZonesInvalid=!1,r.sort(n.compare),r}}},168:(e,t,i)=>{"use strict";i.d(t,{$t:()=>d,CU:()=>a,Fd:()=>l,zg:()=>c});var n=i(187),o=i(4314),s=i(1118),r=i(4141);class a{constructor(e,t,i,n,o){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=n,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const r=e.range,a=e.options;let l;if(a.isWholeLine){const e=this._coordinatesConverter.convertModelPositionToViewPosition(new n.L(r.startLineNumber,1),0),t=this._coordinatesConverter.convertModelPositionToViewPosition(new n.L(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);l=new o.e(e.lineNumber,e.column,t.lineNumber,t.column)}else l=this._coordinatesConverter.convertModelRangeToViewRange(r,1);i=new s.$l(l,a),this._decorationsCache[t]=i}return i}getDecorationsViewportData(e){let t=null!==this._cachedModelDecorationsResolver;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(e){const t=new o.e(e,this._linesCollection.getViewLineMinColumn(e),e,this._linesCollection.getViewLineMaxColumn(e));return this._getDecorationsInRange(t).inlineDecorations[0]}_getDecorationsInRange(e){const t=this._linesCollection.getDecorationsInRange(e,this.editorId,(0,r.$J)(this.configuration.options)),i=e.startLineNumber,n=e.endLineNumber,a=[];let d=0;const c=[];for(let e=i;e<=n;e++)c[e-i]=[];for(let e=0,r=t.length;e<r;e++){const r=t[e],h=r.options;if(!l(this.model,r))continue;const u=this._getOrCreateViewModelDecoration(r),g=u.range;if(a[d++]=u,h.inlineClassName){const e=new s.$t(g,h.inlineClassName,h.inlineClassNameAffectsLetterSpacing?3:0),t=Math.max(i,g.startLineNumber),o=Math.min(n,g.endLineNumber);for(let n=t;n<=o;n++)c[n-i].push(e)}if(h.beforeContentClassName&&i<=g.startLineNumber&&g.startLineNumber<=n){const e=new s.$t(new o.e(g.startLineNumber,g.startColumn,g.startLineNumber,g.startColumn),h.beforeContentClassName,1);c[g.startLineNumber-i].push(e)}if(h.afterContentClassName&&i<=g.endLineNumber&&g.endLineNumber<=n){const e=new s.$t(new o.e(g.endLineNumber,g.endColumn,g.endLineNumber,g.endColumn),h.afterContentClassName,2);c[g.endLineNumber-i].push(e)}}return{decorations:a,inlineDecorations:c}}}function l(e,t){return!(t.options.hideInCommentTokens&&d(e,t)||t.options.hideInStringTokens&&c(e,t))}function d(e,t){return h(e,t.range,(e=>1===e))}function c(e,t){return h(e,t.range,(e=>2===e))}function h(e,t,i){for(let n=t.startLineNumber;n<=t.endLineNumber;n++){const o=e.tokenization.getLineTokens(n),s=n===t.startLineNumber,r=n===t.endLineNumber;let a=s?o.findTokenIndexAtOffset(t.startColumn-1):0;for(;a<o.getCount()&&!(r&&o.getStartOffset(a)>t.endColumn-1);){if(!i(o.getStandardTokenType(a)))return!1;a++}}return!0}},236:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SelectionAnchorSet:()=>u});var n=i(5152),o=i(9365),s=i(2258),r=i(6830),a=i(3860),l=i(9102),d=i(3580),c=i(8819),h=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const u=new c.uy("selectionAnchorSet",!1);let g=class e{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=u.bindTo(t),this.modelChangeListener=e.onDidChangeModel((()=>this.selectionAnchorSetContextKey.reset()))}static get(t){return t.getContribution(e.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition();this.editor.changeDecorations((t=>{this.decorationId&&t.removeDecoration(this.decorationId),this.decorationId=t.addDecoration(a.Y.fromPositions(e,e),{description:"selection-anchor",stickiness:1,hoverMessage:(new o.W5).appendText((0,d.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})})),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,n.Z9)((0,d.NC)("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(a.Y.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const e=this.decorationId;this.editor.changeDecorations((t=>{t.removeDecoration(e),this.decorationId=void 0})),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};var p,m;g.ID="editor.contrib.selectionAnchorController",g=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(p=1,m=c.i6,function(e,t){m(e,t,p)})],g);class f extends r.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,d.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:l.u.editorTextFocus,primary:(0,s.gx)(2089,2080),weight:100}})}run(e,t){var i;return h(this,void 0,void 0,(function*(){null===(i=g.get(t))||void 0===i||i.setSelectionAnchor()}))}}class v extends r.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,d.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:u})}run(e,t){var i;return h(this,void 0,void 0,(function*(){null===(i=g.get(t))||void 0===i||i.goToSelectionAnchor()}))}}class _ extends r.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,d.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:u,kbOpts:{kbExpr:l.u.editorTextFocus,primary:(0,s.gx)(2089,2089),weight:100}})}run(e,t){var i;return h(this,void 0,void 0,(function*(){null===(i=g.get(t))||void 0===i||i.selectFromAnchorToCursor()}))}}class b extends r.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,d.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:u,kbOpts:{kbExpr:l.u.editorTextFocus,primary:9,weight:100}})}run(e,t){var i;return h(this,void 0,void 0,(function*(){null===(i=g.get(t))||void 0===i||i.cancelSelectionAnchor()}))}}(0,r._K)(g.ID,g),(0,r.Qr)(f),(0,r.Qr)(v),(0,r.Qr)(_),(0,r.Qr)(b)},1387:(e,t,i)=>{"use strict";i.r(t),i.d(t,{BracketMatchingController:()=>y});var n=i(5393),o=i(5976),s=i(6830),r=i(187),a=i(4314),l=i(3860),d=i(9102),c=i(4973),h=i(2035),u=i(8625),g=i(3580),p=i(4144),m=i(3910),f=i(7781);const v=(0,m.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},g.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class _ extends s.R6{constructor(){super({id:"editor.action.jumpToBracket",label:g.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:d.u.editorTextFocus,primary:3160,weight:100}})}run(e,t){var i;null===(i=y.get(t))||void 0===i||i.jumpToBracket()}}class b extends s.R6{constructor(){super({id:"editor.action.selectToBracket",label:g.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,i){var n;let o=!0;i&&!1===i.selectBrackets&&(o=!1),null===(n=y.get(t))||void 0===n||n.selectToBracket(o)}}class C{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}}class y extends o.JT{constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new n.pY((()=>this._updateBrackets()),50)),this._matchBrackets=this._editor.getOption(66),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition((e=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModelContent((e=>{this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModel((e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModelLanguageConfiguration((e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeConfiguration((e=>{e.hasChanged(66)&&(this._matchBrackets=this._editor.getOption(66),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))),this._register(e.onDidBlurEditorWidget((()=>{this._updateBracketsSoon.schedule()}))),this._register(e.onDidFocusEditorWidget((()=>{this._updateBracketsSoon.schedule()})))}static get(e){return e.getContribution(y.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map((t=>{const i=t.getStartPosition(),n=e.bracketPairs.matchBracket(i);let o=null;if(n)n[0].containsPosition(i)&&!n[1].containsPosition(i)?o=n[1].getStartPosition():n[1].containsPosition(i)&&(o=n[0].getStartPosition());else{const t=e.bracketPairs.findEnclosingBrackets(i);if(t)o=t[1].getStartPosition();else{const t=e.bracketPairs.findNextBracket(i);t&&t.range&&(o=t.range.getStartPosition())}}return o?new l.Y(o.lineNumber,o.column,o.lineNumber,o.column):new l.Y(i.lineNumber,i.column,i.lineNumber,i.column)}));this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=[];this._editor.getSelections().forEach((n=>{const o=n.getStartPosition();let s=t.bracketPairs.matchBracket(o);if(!s&&(s=t.bracketPairs.findEnclosingBrackets(o),!s)){const e=t.bracketPairs.findNextBracket(o);e&&e.range&&(s=t.bracketPairs.matchBracket(e.range.getStartPosition()))}let r=null,d=null;if(s){s.sort(a.e.compareRangesUsingStarts);const[t,i]=s;if(r=e?t.getStartPosition():t.getEndPosition(),d=e?i.getEndPosition():i.getStartPosition(),i.containsPosition(o)){const e=r;r=d,d=e}}r&&d&&i.push(new l.Y(r.lineNumber,r.column,d.lineNumber,d.column))})),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();const e=[];let t=0;for(const i of this._lastBracketsData){const n=i.brackets;n&&(e[t++]={range:n[0],options:i.options},e[t++]={range:n[1],options:i.options})}this._decorations.set(e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);const e=this._editor.getSelections();if(e.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const t=this._editor.getModel(),i=t.getVersionId();let n=[];this._lastVersionId===i&&(n=this._lastBracketsData);const o=[];let s=0;for(let t=0,i=e.length;t<i;t++){const i=e[t];i.isEmpty()&&(o[s++]=i.getStartPosition())}o.length>1&&o.sort(r.L.compare);const a=[];let l=0,d=0;const c=n.length;for(let e=0,i=o.length;e<i;e++){const i=o[e];for(;d<c&&n[d].position.isBefore(i);)d++;if(d<c&&n[d].position.equals(i))a[l++]=n[d];else{let e=t.bracketPairs.matchBracket(i,20),n=y._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;e||"always"!==this._matchBrackets||(e=t.bracketPairs.findEnclosingBrackets(i,20),n=y._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),a[l++]=new C(i,e,n)}}this._lastBracketsData=a,this._lastVersionId=i}}y.ID="editor.contrib.bracketMatchingController",y._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=h.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,f.EN)(v),position:c.sh.Center}}),y._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=h.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,s._K)(y.ID,y),(0,s.Qr)(b),(0,s.Qr)(_),(0,f.Ic)(((e,t)=>{const i=e.getColor(u.TC);i&&t.addRule(`.monaco-editor .bracket-match { background-color: ${i}; }`);const n=e.getColor(u.Dl);n&&t.addRule(`.monaco-editor .bracket-match { border: 1px solid ${n}; }`)})),p.BH.appendMenuItem(p.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:g.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},4367:(e,t,i)=>{"use strict";i.r(t);var n=i(6830),o=i(9102),s=i(4314),r=i(3860);class a{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const i=this._selection.startLineNumber,n=this._selection.startColumn,o=this._selection.endColumn;if((!this._isMovingLeft||1!==n)&&(this._isMovingLeft||o!==e.getLineMaxColumn(i)))if(this._isMovingLeft){const r=new s.e(i,n-1,i,n),a=e.getValueInRange(r);t.addEditOperation(r,null),t.addEditOperation(new s.e(i,o,i,o),a)}else{const r=new s.e(i,o,i,o+1),a=e.getValueInRange(r);t.addEditOperation(r,null),t.addEditOperation(new s.e(i,n,i,n),a)}}computeCursorState(e,t){return this._isMovingLeft?new r.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new r.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}var l=i(3580);class d extends n.R6{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;const i=[],n=t.getSelections();for(const e of n)i.push(new a(e,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}(0,n.Qr)(class extends d{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:l.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:o.u.writable})}}),(0,n.Qr)(class extends d{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:l.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:o.u.writable})}})},2102:(e,t,i)=>{"use strict";i.r(t);var n=i(6830),o=i(1329),s=i(839),r=i(4314),a=i(9102),l=i(3580);class d extends n.R6{constructor(){super({id:"editor.action.transposeLetters",label:l.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:a.u.writable,kbOpts:{kbExpr:a.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;const i=t.getModel(),n=[],a=t.getSelections();for(const e of a){if(!e.isEmpty())continue;const t=e.startLineNumber,a=e.startColumn,l=i.getLineMaxColumn(t);if(1===t&&(1===a||2===a&&2===l))continue;const d=a===l?e.getPosition():s.o.rightPosition(i,e.getPosition().lineNumber,e.getPosition().column),c=s.o.leftPosition(i,d),h=s.o.leftPosition(i,c),u=i.getValueInRange(r.e.fromPositions(h,c)),g=i.getValueInRange(r.e.fromPositions(c,d)),p=r.e.fromPositions(h,d);n.push(new o.T4(p,g+u))}n.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop())}}(0,n.Qr)(d)},5833:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CopyAction:()=>_,CutAction:()=>v,PasteAction:()=>b});var n=i(6268),o=i(1432),s=i(5715),r=i(6830),a=i(1640),l=i(9102),d=i(3580),c=i(4144),h=i(4972);const u="9_cutcopypaste",g=o.tY||document.queryCommandSupported("cut"),p=o.tY||document.queryCommandSupported("copy"),m=void 0!==navigator.clipboard&&!n.isFirefox||document.queryCommandSupported("paste");function f(e){return e.register(),e}const v=g?f(new r.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:o.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:c.eH.MenubarEditMenu,group:"2_ccp",title:d.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:c.eH.EditorContext,group:u,title:d.NC("actions.clipboard.cutLabel","Cut"),when:l.u.writable,order:1},{menuId:c.eH.CommandPalette,group:"",title:d.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:c.eH.SimpleEditorContext,group:u,title:d.NC("actions.clipboard.cutLabel","Cut"),when:l.u.writable,order:1}]})):void 0,_=p?f(new r.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:o.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:c.eH.MenubarEditMenu,group:"2_ccp",title:d.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:c.eH.EditorContext,group:u,title:d.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:c.eH.CommandPalette,group:"",title:d.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:c.eH.SimpleEditorContext,group:u,title:d.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;c.BH.appendMenuItem(c.eH.MenubarEditMenu,{submenu:c.eH.MenubarCopy,title:{value:d.NC("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),c.BH.appendMenuItem(c.eH.EditorContext,{submenu:c.eH.EditorContextCopy,title:{value:d.NC("copy as","Copy As"),original:"Copy As"},group:u,order:3}),c.BH.appendMenuItem(c.eH.EditorContext,{submenu:c.eH.EditorContextShare,title:{value:d.NC("share","Share"),original:"Share"},group:"11_share",order:-1});const b=m?f(new r.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:o.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:c.eH.MenubarEditMenu,group:"2_ccp",title:d.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:c.eH.EditorContext,group:u,title:d.NC("actions.clipboard.pasteLabel","Paste"),when:l.u.writable,order:4},{menuId:c.eH.CommandPalette,group:"",title:d.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:c.eH.SimpleEditorContext,group:u,title:d.NC("actions.clipboard.pasteLabel","Paste"),when:l.u.writable,order:4}]})):void 0;class C extends r.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:d.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:l.u.textInputFocus,primary:0,weight:100}})}run(e,t){t.hasModel()&&(!t.getOption(33)&&t.getSelection().isEmpty()||(s.RA.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),s.RA.forceCopyWithSyntaxHighlighting=!1))}}function y(e,t){e&&(e.addImplementation(1e4,"code-editor",((e,i)=>{const n=e.get(a.$).getFocusedCodeEditor();if(n&&n.hasTextFocus()){const e=n.getOption(33),i=n.getSelection();return i&&i.isEmpty()&&!e||document.execCommand(t),!0}return!1})),e.addImplementation(0,"generic-dom",((e,i)=>(document.execCommand(t),!0))))}y(v,"cut"),y(_,"copy"),b&&(b.addImplementation(1e4,"code-editor",((e,t)=>{const i=e.get(a.$),n=e.get(h.p),r=i.getFocusedCodeEditor();return!(!r||!r.hasTextFocus())&&(!(!document.execCommand("paste")&&o.$L)||(l=void 0,d=void 0,u=function*(){const e=yield n.readText();if(""!==e){const t=s.Nl.INSTANCE.get(e);let i=!1,n=null,o=null;t&&(i=r.getOption(33)&&!!t.isFromEmptySelection,n=void 0!==t.multicursorText?t.multicursorText:null,o=t.mode),r.trigger("keyboard","paste",{text:e,pasteOnNewLine:i,multicursorText:n,mode:o})}},new((c=void 0)||(c=Promise))((function(e,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function n(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof c?o:new c((function(e){e(o)}))).then(i,n)}o((u=u.apply(l,d||[])).next())}))));var l,d,c,u})),b.addImplementation(0,"generic-dom",((e,t)=>(document.execCommand("paste"),!0)))),p&&(0,r.Qr)(C)},5396:(e,t,i)=>{"use strict";i.d(t,{Bb:()=>_,MN:()=>C,RB:()=>v,TM:()=>w,aI:()=>x,bA:()=>S,sh:()=>b,uH:()=>y});var n=i(9488),o=i(1050),s=i(7301),r=i(5976),a=i(666),l=i(6467),d=i(4314),c=i(3860),h=i(3733),u=i(4565),g=i(535),p=i(6014),m=i(1922),f=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const v="editor.action.codeAction",_="editor.action.refactor",b="editor.action.refactor.preview",C="editor.action.sourceAction",y="editor.action.organizeImports",w="editor.action.fixAll";class S{constructor(e,t){this.action=e,this.provider=t}resolve(e){var t;return f(this,void 0,void 0,(function*(){if((null===(t=this.provider)||void 0===t?void 0:t.resolveCodeAction)&&!this.action.edit){let t;try{t=yield this.provider.resolveCodeAction(this.action,e)}catch(e){(0,s.Cp)(e)}t&&(this.action.edit=t.edit)}return this}))}}class k extends r.JT{constructor(e,t,i){super(),this.documentation=t,this._register(i),this.allActions=[...e].sort(k.codeActionsComparator),this.validActions=this.allActions.filter((({action:e})=>!e.disabled))}static codeActionsComparator({action:e},{action:t}){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:(0,n.Of)(e.diagnostics)?(0,n.Of)(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:(0,n.Of)(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some((({action:e})=>!!e.kind&&p.yN.QuickFix.contains(new p.yN(e.kind))&&!!e.isPreferred))}}const L={actions:[],documentation:void 0};function x(e,t,i,o,a,d){var c;const h=o.filter||{},u={only:null===(c=h.include)||void 0===c?void 0:c.value,trigger:o.type},g=new l.YQ(t,d),m=function(e,t,i){return e.all(t).filter((e=>!e.providedCodeActionKinds||e.providedCodeActionKinds.some((e=>(0,p.EU)(i,new p.yN(e))))))}(e,t,h),v=new r.SL,_=m.map((e=>f(this,void 0,void 0,(function*(){try{a.report(e);const n=yield e.provideCodeActions(t,i,u,g.token);if(n&&v.add(n),g.token.isCancellationRequested)return L;const o=((null==n?void 0:n.actions)||[]).filter((e=>e&&(0,p.Yl)(h,e))),s=function(e,t,i){if(!e.documentation)return;const n=e.documentation.map((e=>({kind:new p.yN(e.kind),command:e.command})));if(i){let e;for(const t of n)t.kind.contains(i)&&(e?e.kind.contains(t.kind)&&(e=t):e=t);if(e)return null==e?void 0:e.command}for(const e of t)if(e.kind)for(const t of n)if(t.kind.contains(new p.yN(e.kind)))return t.command}(e,o,h.include);return{actions:o.map((t=>new S(t,e))),documentation:s}}catch(e){if((0,s.n2)(e))throw e;return(0,s.Cp)(e),L}})))),b=e.onDidChange((()=>{const i=e.all(t);(0,n.fS)(i,m)||g.cancel()}));return Promise.all(_).then((e=>{const t=e.map((e=>e.actions)).flat(),i=(0,n.kX)(e.map((e=>e.documentation)));return new k(t,i,v)})).finally((()=>{b.dispose(),g.dispose()}))}u.P0.registerCommand("_executeCodeActionProvider",(function(e,t,i,n,r){return f(this,void 0,void 0,(function*(){if(!(t instanceof a.o))throw(0,s.b1)();const{codeActionProvider:l}=e.get(m.p),u=e.get(h.q).getModel(t);if(!u)throw(0,s.b1)();const f=c.Y.isISelection(i)?c.Y.liftSelection(i):d.e.isIRange(i)?u.validateRange(i):void 0;if(!f)throw(0,s.b1)();const v="string"==typeof n?new p.yN(n):void 0,_=yield x(l,u,f,{type:1,triggerAction:p.aQ.Default,filter:{includeSourceActions:!0,include:v}},g.Ex.None,o.T.None),b=[],C=Math.min(_.validActions.length,"number"==typeof r?r:0);for(let e=0;e<C;e++)b.push(_.validActions[e].resolve(o.T.None));try{return yield Promise.all(b),_.validActions.map((e=>e.action))}finally{setTimeout((()=>_.dispose()),100)}}))}))},6454:(e,t,i)=>{"use strict";i.d(t,{S5:()=>we,dW:()=>fe,Hv:()=>ye,o$:()=>Ce,E7:()=>me,pY:()=>he,Eb:()=>ve,UG:()=>_e,VQ:()=>be});var n=i(1050),o=i(9579),s=i(5976),r=i(7295),a=i(6830),l=i(6007),d=i(9102),c=i(1922),h=i(5396),u=i(7301),g=i(7753),p=i(2065),m=i(5321),f=i(3799),v=i(4741),_=i(187),b=i(6014),C=i(3580),y=i(3108),w=i(8819),S=i(5606),k=i(1847),L=i(829),x=i(7781),I=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},D=function(e,t){return function(i,n){t(i,n,e)}};const N={Visible:new w.uy("CodeActionMenuVisible",!1,(0,C.NC)("CodeActionMenuVisible","Whether the code action list widget is visible"))};class E extends v.aU{constructor(e,t){super(e.command?e.command.id:e.title,e.title.replace(/\r\n|\r|\n/g," "),void 0,!e.disabled,t),this.action=e}}let A=class{constructor(e,t){this.acceptKeybindings=e,this.keybindingService=t}get templateId(){return"codeActionWidget"}renderTemplate(e){const t=Object.create(null);return t.disposables=[],t.root=e,t.text=document.createElement("span"),e.append(t.text),t}renderElement(e,t,i){const n=i,o=e.title,s=e.isEnabled,r=e.isSeparator,a=e.isDocumentation;n.text.textContent=o,s?n.root.classList.remove("option-disabled"):(n.root.classList.add("option-disabled"),n.root.style.backgroundColor="transparent !important"),r&&(n.root.classList.add("separator"),n.root.style.height="10px"),a||(()=>{var e,t;const[i,o]=this.acceptKeybindings;n.root.title=(0,C.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Refactor, Shift+F2 to Preview"']},"{0} to Refactor, {1} to Preview",null===(e=this.keybindingService.lookupKeybinding(i))||void 0===e?void 0:e.getLabel(),null===(t=this.keybindingService.lookupKeybinding(o))||void 0===t?void 0:t.getLabel())})()}disposeTemplate(e){e.disposables=(0,s.B9)(e.disposables)}};A=I([D(1,k.d)],A);let T=class e extends s.JT{constructor(e,t,i,n,o,r,a,l,d,c){super(),this._editor=e,this._delegate=t,this._contextMenuService=i,this._languageFeaturesService=o,this._telemetryService=r,this._configurationService=l,this._contextViewService=d,this._contextKeyService=c,this._showingActions=this._register(new s.XK),this.codeActionList=this._register(new s.XK),this.options=[],this._visible=!1,this.viewItems=[],this.hasSeperator=!1,this._keybindingResolver=new M({getKeybindings:()=>n.getKeybindings()}),this._ctxMenuWidgetVisible=N.Visible.bindTo(this._contextKeyService),this.listRenderer=new A(["onEnterSelectCodeAction","onEnterSelectCodeActionWithPreview"],n)}get isVisible(){return this._visible}isCodeActionWidgetEnabled(e){return this._configurationService.getValue("editor.experimental.useCustomCodeActionMenu",{resource:e.uri})}_onListSelection(e){e.elements.length&&e.elements.forEach((e=>{e.isEnabled&&(e.action.run(),this.hideCodeActionWidget())}))}_onListHover(e){var t,i,n,o;e.element?(null===(i=e.element)||void 0===i?void 0:i.isEnabled)?(null===(n=this.codeActionList.value)||void 0===n||n.setFocus([e.element.index]),this.focusedEnabledItem=this.viewItems.indexOf(e.element),this.currSelectedItem=e.element.index):(this.currSelectedItem=void 0,null===(o=this.codeActionList.value)||void 0===o||o.setFocus([e.element.index])):(this.currSelectedItem=void 0,null===(t=this.codeActionList.value)||void 0===t||t.setFocus([]))}renderCodeActionMenuList(t,i){var n;const o=new s.SL,r=document.createElement("div"),a=document.createElement("div");this.block=t.appendChild(a),this.block.classList.add("context-view-block"),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",o.add(m.nm(this.block,m.tw.MOUSE_DOWN,(e=>e.stopPropagation()))),r.id="codeActionMenuWidget",r.classList.add("codeActionMenuWidget"),t.appendChild(r),this.codeActionList.value=new f.aV("codeActionWidget",r,{getHeight:e=>e.isSeparator?10:26,getTemplateId:e=>"codeActionWidget"},[this.listRenderer],{keyboardSupport:!1}),o.add(this.codeActionList.value.onMouseOver((e=>this._onListHover(e)))),o.add(this.codeActionList.value.onDidChangeFocus((e=>{var t;return null===(t=this.codeActionList.value)||void 0===t?void 0:t.domFocus()}))),o.add(this.codeActionList.value.onDidChangeSelection((e=>this._onListSelection(e)))),o.add(this._editor.onDidLayoutChange((e=>this.hideCodeActionWidget()))),i.forEach(((t,n)=>{const o="separator"===t.class;let s=!1;t instanceof E&&(s=t.action.kind===e.documentationID),o&&(this.hasSeperator=!0);const r={title:t.label,detail:t.tooltip,action:i[n],isEnabled:t.enabled,isSeparator:o,index:n,isDocumentation:s};t.enabled&&this.viewItems.push(r),this.options.push(r)})),this.codeActionList.value.splice(0,this.codeActionList.value.length,this.options);const l=this.hasSeperator?26*(i.length-1)+10:26*i.length;r.style.height=String(l)+"px",this.codeActionList.value.layout(l);const d=[];this.options.forEach(((e,t)=>{var i,n;if(!this.codeActionList.value)return;const o=null===(n=document.getElementById(null===(i=this.codeActionList.value)||void 0===i?void 0:i.getElementID(t)))||void 0===n?void 0:n.getElementsByTagName("span")[0].offsetWidth;d.push(Number(o))}));const c=Math.max(...d);r.style.width=c+52+"px",null===(n=this.codeActionList.value)||void 0===n||n.layout(l,c),this.viewItems.length<1||this.viewItems.every((e=>e.isDocumentation))?this.currSelectedItem=void 0:(this.focusedEnabledItem=0,this.currSelectedItem=this.viewItems[0].index,this.codeActionList.value.setFocus([this.currSelectedItem])),this.codeActionList.value.domFocus();const h=m.go(t),u=h.onDidBlur((()=>{this.hideCodeActionWidget()}));return o.add(u),o.add(h),this._ctxMenuWidgetVisible.set(!0),o}focusPrevious(){var e;if(void 0===this.focusedEnabledItem)this.focusedEnabledItem=this.viewItems[0].index;else if(this.viewItems.length<1)return!1;const t=this.focusedEnabledItem;let i;do{this.focusedEnabledItem=this.focusedEnabledItem-1,this.focusedEnabledItem<0&&(this.focusedEnabledItem=this.viewItems.length-1),i=this.viewItems[this.focusedEnabledItem],null===(e=this.codeActionList.value)||void 0===e||e.setFocus([i.index]),this.currSelectedItem=i.index}while(this.focusedEnabledItem!==t&&(!i.isEnabled||i.action.id===v.Z0.ID));return!0}focusNext(){var e;if(void 0===this.focusedEnabledItem)this.focusedEnabledItem=this.viewItems.length-1;else if(this.viewItems.length<1)return!1;const t=this.focusedEnabledItem;let i;do{this.focusedEnabledItem=(this.focusedEnabledItem+1)%this.viewItems.length,i=this.viewItems[this.focusedEnabledItem],null===(e=this.codeActionList.value)||void 0===e||e.setFocus([i.index]),this.currSelectedItem=i.index}while(this.focusedEnabledItem!==t&&(!i.isEnabled||i.action.id===v.Z0.ID));return!0}navigateListWithKeysUp(){this.focusPrevious()}navigateListWithKeysDown(){this.focusNext()}onEnterSet(){var e;"number"==typeof this.currSelectedItem&&(null===(e=this.codeActionList.value)||void 0===e||e.setSelection([this.currSelectedItem]))}dispose(){super.dispose()}hideCodeActionWidget(){this._ctxMenuWidgetVisible.reset(),this.options=[],this.viewItems=[],this.focusedEnabledItem=0,this.currSelectedItem=void 0,this.hasSeperator=!1,this._contextViewService.hideContextView({source:this})}codeActionTelemetry(e,t,i){this._telemetryService.publicLog2("codeAction.applyCodeAction",{codeActionFrom:e,validCodeActions:i.validActions.length,cancelled:t})}show(e,t,i,n){return o=this,s=void 0,a=function*(){const o=this._editor.getModel();if(!o)return;const s=n.includeDisabledActions?t.allActions:t.validActions;if(!s.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,(0,u.F0)();this._visible=!0,this._showingActions.value=t;const r=this.getMenuActions(e,s,t.documentation),a=_.L.isIPosition(i)?this._toCoords(i):i||{x:0,y:0},l=this._keybindingResolver.getResolver(),d=this._editor.getOption(117);this.isCodeActionWidgetEnabled(o)?this._contextViewService.showContextView({getAnchor:()=>a,render:e=>this.renderCodeActionMenuList(e,r),onHide:i=>{const o=n.fromLightbulb?b.aQ.Lightbulb:e.triggerAction;this.codeActionTelemetry(o,i,t),this._visible=!1,this._editor.focus()}},this._editor.getDomNode(),!1):this._contextMenuService.showContextMenu({domForShadowRoot:d?this._editor.getDomNode():void 0,getAnchor:()=>a,getActions:()=>r,onHide:i=>{const o=n.fromLightbulb?b.aQ.Lightbulb:e.triggerAction;this.codeActionTelemetry(o,i,t),this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:e=>e instanceof E?l(e.action):void 0})},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{l(a.next(e))}catch(e){t(e)}}function n(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof r?o:new r((function(e){e(o)}))).then(i,n)}l((a=a.apply(o,s||[])).next())}));var o,s,r,a}getMenuActions(t,i,n){var o,s;const r=e=>new E(e.action,(()=>this._delegate.onSelectCodeAction(e,t))),a=i.map(r),l=[...n],d=this._editor.getModel();if(d&&a.length)for(const e of this._languageFeaturesService.codeActionProvider.all(d))e._getAdditionalMenuItems&&l.push(...e._getAdditionalMenuItems({trigger:t.type,only:null===(s=null===(o=t.filter)||void 0===o?void 0:o.include)||void 0===s?void 0:s.value},i.map((e=>e.action))));return l.length&&a.push(new v.Z0,...l.map((t=>r(new h.bA({title:t.title,command:t,kind:e.documentationID},void 0))))),a}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),i=m.i(this._editor.getDomNode());return{x:i.left+t.left,y:i.top+t.top+t.height}}};T.documentationID="_documentation",T=I([D(2,S.i),D(3,k.d),D(4,c.p),D(5,L.b),D(6,x.XE),D(7,y.Ui),D(8,S.u),D(9,w.i6)],T);class M{constructor(e){this._keybindingProvider=e}getResolver(){const e=new o.o((()=>this._keybindingProvider.getKeybindings().filter((e=>M.codeActionCommands.indexOf(e.command)>=0)).filter((e=>e.resolvedKeybinding)).map((e=>{let t=e.commandArgs;return e.command===h.uH?t={kind:b.yN.SourceOrganizeImports.value}:e.command===h.TM&&(t={kind:b.yN.SourceFixAll.value}),Object.assign({resolvedKeybinding:e.resolvedKeybinding},b.wZ.fromUser(t,{kind:b.yN.None,apply:"never"}))}))));return t=>{if(t.kind){const i=this.bestKeybindingForCodeAction(t,e.getValue());return null==i?void 0:i.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const i=new b.yN(e.kind);return t.filter((e=>e.kind.contains(i))).filter((t=>!t.preferred||e.isPreferred)).reduceRight(((e,t)=>e?e.kind.contains(t.kind)?t:e:t),void 0)}}M.codeActionCommands=[h.Bb,h.RB,h.MN,h.uH,h.TM];var R,P=i(553),O=i(3046),V=i(4669),F=i(9616),W=i(3910);!function(e){e.Hidden={type:0},e.Showing=class{constructor(e,t,i,n){this.actions=e,this.trigger=t,this.editorPosition=i,this.widgetPosition=n,this.type=1}}}(R||(R={}));let z=class e extends s.JT{constructor(e,t,i,n){super(),this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=i,this._keybindingService=n,this._onClick=this._register(new V.Q5),this.onClick=this._onClick.event,this._state=R.Hidden,this._domNode=document.createElement("div"),this._domNode.className=O.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent((e=>{const t=this._editor.getModel();(1!==this.state.type||!t||this.state.editorPosition.lineNumber>=t.getLineCount())&&this.hide()}))),P.o.ignoreTarget(this._domNode),this._register(m.GQ(this._domNode,(e=>{if(1!==this.state.type)return;this._editor.focus(),e.preventDefault();const{top:t,height:i}=m.i(this._domNode),n=this._editor.getOption(61);let o=Math.floor(n/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(o+=n),this._onClick.fire({x:e.posx,y:t+i+o,actions:this.state.actions,trigger:this.state.trigger})}))),this._register(m.nm(this._domNode,"mouseenter",(e=>{1==(1&e.buttons)&&this.hide()}))),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(59)&&!this._editor.getOption(59).enabled&&this.hide()}))),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(t,i,n){if(t.validActions.length<=0)return this.hide();const o=this._editor.getOptions();if(!o.get(59).enabled)return this.hide();const s=this._editor.getModel();if(!s)return this.hide();const{lineNumber:r,column:a}=s.validatePosition(n),l=s.getOptions().tabSize,d=o.get(46),c=s.getLineContent(r),h=(0,F.q)(c,l),u=e=>e>2&&this._editor.getTopForLineNumber(e)===this._editor.getTopForLineNumber(e-1);let g=r;if(!(d.spaceWidth*h>22))if(r>1&&!u(r-1))g-=1;else if(u(r+1)){if(a*d.spaceWidth<22)return this.hide()}else g+=1;this.state=new R.Showing(t,i,n,{position:{lineNumber:g,column:1},preference:e._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=R.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...O.lA.lightBulb.classNamesArray),this._domNode.classList.add(...O.lA.lightbulbAutofix.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(e)return void(this.title=C.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",e.getLabel()))}this._domNode.classList.remove(...O.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...O.lA.lightBulb.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=e?C.NC("codeActionWithKb","Show Code Actions ({0})",e.getLabel()):C.NC("codeAction","Show Code Actions")}set title(e){this._domNode.title=e}};var B,U;z._posPref=[0],z=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(B=3,U=k.d,function(e,t){U(e,t,B)})],z),(0,x.Ic)(((e,t)=>{var i;const n=null===(i=e.getColor(W.cvW))||void 0===i?void 0:i.transparent(.7),o=e.getColor(W.Fu1);o&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${O.lA.lightBulb.cssSelector} {\n\t\t\tcolor: ${o};\n\t\t\tbackground-color: ${n};\n\t\t}`);const s=e.getColor(W.sKV);s&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${O.lA.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${s};\n\t\t\tbackground-color: ${n};\n\t\t}`)}));var H,G=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let j=class extends s.JT{constructor(e,t,i,n,r){super(),this._editor=e,this.delegate=n,this._activeCodeActions=this._register(new s.XK),this.previewOn=!1,H.set(this,!1),this._codeActionWidget=new o.o((()=>this._register(r.createInstance(T,this._editor,{onSelectCodeAction:(e,t)=>G(this,void 0,void 0,(function*(){this.previewOn?this.delegate.applyCodeAction(e,!0,Boolean(this.previewOn)):this.delegate.applyCodeAction(e,!0,Boolean(t.preview)),this.previewOn=!1}))})))),this._lightBulbWidget=new o.o((()=>{const e=this._register(r.createInstance(z,this._editor,t,i));return this._register(e.onClick((e=>this.showCodeActionList(e.trigger,e.actions,e,{includeDisabledActions:!1,fromLightbulb:!0})))),e}))}dispose(){(function(e,t,i,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===n?o.call(e,i):o?o.value=i:t.set(e,i)})(this,H,!0,"f"),super.dispose()}hideCodeActionWidget(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().hideCodeActionWidget()}onEnter(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().onEnterSet()}onPreviewEnter(){this.previewOn=!0,this.onEnter()}navigateList(e){this._codeActionWidget.hasValue()&&(e?this._codeActionWidget.getValue().navigateListWithKeysUp():this._codeActionWidget.getValue().navigateListWithKeysDown())}update(e){var t,i,n,o,s;return G(this,void 0,void 0,(function*(){if(1!==e.type)return void(null===(t=this._lightBulbWidget.rawValue)||void 0===t||t.hide());let r;try{r=yield e.actions}catch(e){return void(0,u.dL)(e)}if(!function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)}(this,H,"f"))if(this._lightBulbWidget.getValue().update(r,e.trigger,e.position),1===e.trigger.type){if(null===(i=e.trigger.filter)||void 0===i?void 0:i.include){const t=this.tryGetValidActionToApply(e.trigger,r);if(t){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(t,!1,!1)}finally{r.dispose()}return}if(e.trigger.context){const t=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,r);if(t&&t.action.disabled)return null===(n=g.O.get(this._editor))||void 0===n||n.showMessage(t.action.disabled,e.trigger.context.position),void r.dispose()}}const t=!!(null===(o=e.trigger.filter)||void 0===o?void 0:o.include);if(e.trigger.context&&(!r.allActions.length||!t&&!r.validActions.length))return null===(s=g.O.get(this._editor))||void 0===s||s.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=r,void r.dispose();this._activeCodeActions.value=r,this._codeActionWidget.getValue().show(e.trigger,r,e.position,{includeDisabledActions:t,fromLightbulb:!1})}else this._codeActionWidget.getValue().isVisible?r.dispose():this._activeCodeActions.value=r}))}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length)return"first"===e.autoApply&&0===t.validActions.length||"ifSingle"===e.autoApply&&1===t.allActions.length?t.allActions.find((({action:e})=>e.disabled)):void 0}tryGetValidActionToApply(e,t){if(t.validActions.length)return"first"===e.autoApply&&t.validActions.length>0||"ifSingle"===e.autoApply&&1===t.validActions.length?t.validActions[0]:void 0}showCodeActionList(e,t,i,n){return G(this,void 0,void 0,(function*(){this._codeActionWidget.getValue().show(e,t,i,n)}))}};H=new WeakMap,j=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(4,p.TG)],j);var K,$=i(4565),q=i(8674),Y=i(535),Q=i(9422),Z=i(5393),J=i(5935),X=i(4314),ee=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};const te=new w.uy("supportedCodeAction","");class ie extends s.JT{constructor(e,t,i,n=250){super(),this._editor=e,this._markerService=t,this._signalChange=i,this._delay=n,this._autoTriggerTimer=this._register(new Z._F),this._register(this._markerService.onMarkerChanged((e=>this._onMarkerChanges(e)))),this._register(this._editor.onDidChangeCursorPosition((()=>this._onCursorChange())))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){const t=this._editor.getModel();t&&e.some((e=>(0,J.Xy)(e,t.uri)))&&this._autoTriggerTimer.cancelAndSet((()=>{this.trigger({type:2,triggerAction:b.aQ.Default})}),this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet((()=>{this.trigger({type:2,triggerAction:b.aQ.Default})}),this._delay)}_getRangeOfMarker(e){const t=this._editor.getModel();if(t)for(const i of this._markerService.read({resource:t.uri})){const n=t.validateRange(i);if(X.e.intersectRanges(n,e))return X.e.lift(n)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=this._editor.getSelection();if(i.isEmpty()&&2===e.type){const{lineNumber:e,column:n}=i.getPosition(),o=t.getLineContent(e);if(0===o.length)return;if(1===n){if(/\s/.test(o[0]))return}else if(n===t.getLineMaxColumn(e)){if(/\s/.test(o[o.length-1]))return}else if(/\s/.test(o[n-2])&&/\s/.test(o[n-1]))return}return i}_createEventAndSignalChange(e,t){const i=this._editor.getModel();if(!t||!i)return void this._signalChange(void 0);const n=this._getRangeOfMarker(t),o=n?n.getStartPosition():t.getStartPosition(),s={trigger:e,selection:t,position:o};return this._signalChange(s),s}}var ne;!function(e){e.Empty={type:0},e.Triggered=class{constructor(e,t,i,n){this.trigger=e,this.rangeOrSelection=t,this.position=i,this._cancellablePromise=n,this.type=1,this.actions=n.catch((e=>{if((0,u.n2)(e))return oe;throw e}))}cancel(){this._cancellablePromise.cancel()}}}(ne||(ne={}));const oe={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class se extends s.JT{constructor(e,t,i,n,o){super(),this._editor=e,this._registry=t,this._markerService=i,this._progressService=o,this._codeActionOracle=this._register(new s.XK),this._state=ne.Empty,this._onDidChangeState=this._register(new V.Q5),this.onDidChangeState=this._onDidChangeState.event,K.set(this,!1),this._supportedCodeActions=te.bindTo(n),this._register(this._editor.onDidChangeModel((()=>this._update()))),this._register(this._editor.onDidChangeModelLanguage((()=>this._update()))),this._register(this._registry.onDidChange((()=>this._update()))),this._update()}dispose(){ee(this,K,"f")||(function(e,t,i,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===n?o.call(e,i):o?o.value=i:t.set(e,i)}(this,K,!0,"f"),super.dispose(),this.setState(ne.Empty,!0))}_update(){if(ee(this,K,"f"))return;this._codeActionOracle.value=void 0,this.setState(ne.Empty);const e=this._editor.getModel();if(e&&this._registry.has(e)&&!this._editor.getOption(83)){const t=[];for(const i of this._registry.all(e))Array.isArray(i.providedCodeActionKinds)&&t.push(...i.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new ie(this._editor,this._markerService,(t=>{var i;if(!t)return void this.setState(ne.Empty);const n=(0,Z.PG)((i=>(0,h.aI)(this._registry,e,t.selection,t.trigger,Y.Ex.None,i)));1===t.trigger.type&&(null===(i=this._progressService)||void 0===i||i.showWhile(n,250)),this.setState(new ne.Triggered(t.trigger,t.selection,t.position,n))}),void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:b.aQ.Default})}else this._supportedCodeActions.reset()}trigger(e){var t;null===(t=this._codeActionOracle.value)||void 0===t||t.trigger(e)}setState(e,t){e!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=e,t||ee(this,K,"f")||this._onDidChangeState.fire(e))}}K=new WeakMap;var re=function(e,t){return function(i,n){t(i,n,e)}},ae=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function le(e){return w.Ao.regex(te.keys()[0],new RegExp("(\\s|^)"+(0,r.ec)(e.value)+"\\b"))}function de(e,t,i,n){const o=b.wZ.fromUser(t,{kind:b.yN.Refactor,apply:"never"});return pe(e,"string"==typeof(null==t?void 0:t.kind)?o.preferred?C.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",t.kind):C.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",t.kind):o.preferred?C.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):C.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:b.yN.Refactor.contains(o.kind)?o.kind:b.yN.None,onlyIncludePreferredActions:o.preferred},o.apply,i,n)}const ce={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:C.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:C.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[C.NC("args.schema.apply.first","Always apply the first returned code action."),C.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),C.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:C.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let he=class e extends s.JT{constructor(e,t,i,n,s,r){super(),this._instantiationService=s,this._editor=e,this._model=this._register(new se(this._editor,r.codeActionProvider,t,i,n)),this._register(this._model.onDidChangeState((e=>this.update(e)))),this._ui=new o.o((()=>this._register(new j(e,me.Id,we.Id,{applyCodeAction:(e,t,i)=>ae(this,void 0,void 0,(function*(){try{yield this._applyCodeAction(e,i)}finally{t&&this._trigger({type:2,triggerAction:b.aQ.QuickFix,filter:{}})}}))},this._instantiationService))))}static get(t){return t.getContribution(e.ID)}update(e){this._ui.getValue().update(e)}hideCodeActionMenu(){this._ui.hasValue()&&this._ui.getValue().hideCodeActionWidget()}navigateCodeActionList(e){this._ui.hasValue()&&this._ui.getValue().navigateList(e)}selectedOption(){this._ui.hasValue()&&this._ui.getValue().onEnter()}selectedOptionWithPreview(){this._ui.hasValue()&&this._ui.getValue().onPreviewEnter()}showCodeActions(e,t,i){return this._ui.getValue().showCodeActionList(e,t,i,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(e,t,i,n,o){var s;if(!this._editor.hasModel())return;null===(s=g.O.get(this._editor))||void 0===s||s.closeMessage();const r=this._editor.getPosition();this._trigger({type:1,triggerAction:t,filter:i,autoApply:n,context:{notAvailableMessage:e,position:r},preview:o})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e,t){return this._instantiationService.invokeFunction(ge,e,ue.FromCodeActions,{preview:t,editor:this._editor})}};var ue;function ge(e,t,i,o){return ae(this,void 0,void 0,(function*(){const s=e.get(l.vu),r=e.get($.Hy),a=e.get(L.b),d=e.get(Q.lT);if(a.publicLog2("codeAction.applyCodeAction",{codeActionTitle:t.action.title,codeActionKind:t.action.kind,codeActionIsPreferred:!!t.action.isPreferred,reason:i}),yield t.resolve(n.T.None),t.action.edit&&(yield s.apply(l.fo.convert(t.action.edit),{editor:null==o?void 0:o.editor,label:t.action.title,quotableLabel:t.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:!0,showPreview:null==o?void 0:o.preview})),t.action.command)try{yield r.executeCommand(t.action.command.id,...t.action.command.arguments||[])}catch(e){const t=function(e){return"string"==typeof e?e:e instanceof Error&&"string"==typeof e.message?e.message:void 0}(e);d.error("string"==typeof t?t:C.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}}))}function pe(e,t,i,n,o=!1,s=b.aQ.Default){if(e.hasModel()){const r=he.get(e);null==r||r.manualTriggerAtCurrentPosition(t,s,i,n,o)}}he.ID="editor.contrib.quickFixController",he=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([re(1,q.lT),re(2,w.i6),re(3,Y.ek),re(4,p.TG),re(5,c.p)],he),function(e){e.OnSave="onSave",e.FromProblemsView="fromProblemsView",e.FromCodeActions="fromCodeActions"}(ue||(ue={}));class me extends a.R6{constructor(){super({id:me.Id,label:C.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:w.Ao.and(d.u.writable,d.u.hasCodeActionsProvider),kbOpts:{kbExpr:d.u.editorTextFocus,primary:2132,weight:100}})}run(e,t){return pe(t,C.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,!1,b.aQ.QuickFix)}}me.Id="editor.action.quickFix";class fe extends a._l{constructor(){super({id:h.RB,precondition:w.Ao.and(d.u.writable,d.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:ce}]}})}runEditorCommand(e,t,i){const n=b.wZ.fromUser(i,{kind:b.yN.Empty,apply:"ifSingle"});return pe(t,"string"==typeof(null==i?void 0:i.kind)?n.preferred?C.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):C.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):n.preferred?C.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):C.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:n.kind,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply)}}class ve extends a.R6{constructor(){super({id:h.Bb,label:C.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:w.Ao.and(d.u.writable,d.u.hasCodeActionsProvider),kbOpts:{kbExpr:d.u.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:w.Ao.and(d.u.writable,le(b.yN.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:ce}]}})}run(e,t,i){return de(t,i,!1,b.aQ.Refactor)}}class _e extends a.R6{constructor(){super({id:h.sh,label:C.NC("refactor.preview.label","Refactor with Preview..."),alias:"Refactor Preview...",precondition:w.Ao.and(d.u.writable,d.u.hasCodeActionsProvider),description:{description:"Refactor Preview...",args:[{name:"args",schema:ce}]}})}run(e,t,i){return de(t,i,!0,b.aQ.RefactorPreview)}}class be extends a.R6{constructor(){super({id:h.MN,label:C.NC("source.label","Source Action..."),alias:"Source Action...",precondition:w.Ao.and(d.u.writable,d.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:w.Ao.and(d.u.writable,le(b.yN.Source))},description:{description:"Source Action...",args:[{name:"args",schema:ce}]}})}run(e,t,i){const n=b.wZ.fromUser(i,{kind:b.yN.Source,apply:"never"});return pe(t,"string"==typeof(null==i?void 0:i.kind)?n.preferred?C.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):C.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):n.preferred?C.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):C.NC("editor.action.source.noneMessage","No source actions available"),{include:b.yN.Source.contains(n.kind)?n.kind:b.yN.None,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply,void 0,b.aQ.SourceAction)}}class Ce extends a.R6{constructor(){super({id:h.uH,label:C.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:w.Ao.and(d.u.writable,le(b.yN.SourceOrganizeImports)),kbOpts:{kbExpr:d.u.editorTextFocus,primary:1581,weight:100}})}run(e,t){return pe(t,C.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:b.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",void 0,b.aQ.OrganizeImports)}}class ye extends a.R6{constructor(){super({id:h.TM,label:C.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:w.Ao.and(d.u.writable,le(b.yN.SourceFixAll))})}run(e,t){return pe(t,C.NC("fixAll.noneMessage","No fix all action available"),{include:b.yN.SourceFixAll,includeSourceActions:!0},"ifSingle",void 0,b.aQ.FixAll)}}class we extends a.R6{constructor(){super({id:we.Id,label:C.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:w.Ao.and(d.u.writable,le(b.yN.QuickFix)),kbOpts:{kbExpr:d.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(e,t){return pe(t,C.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:b.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",void 0,b.aQ.AutoFix)}}we.Id="editor.action.autoFix";const Se=a._l.bindToContribution(he.get);(0,a.fK)(new Se({id:"hideCodeActionMenuWidget",precondition:N.Visible,handler(e){e.hideCodeActionMenu()},kbOpts:{weight:190,primary:9,secondary:[1033]}})),(0,a.fK)(new Se({id:"focusPreviousCodeAction",precondition:N.Visible,handler(e){e.navigateCodeActionList(!0)},kbOpts:{weight:100190,primary:16,secondary:[2064]}})),(0,a.fK)(new Se({id:"focusNextCodeAction",precondition:N.Visible,handler(e){e.navigateCodeActionList(!1)},kbOpts:{weight:100190,primary:18,secondary:[2066]}})),(0,a.fK)(new Se({id:"onEnterSelectCodeAction",precondition:N.Visible,handler(e){e.selectedOption()},kbOpts:{weight:100190,primary:3,secondary:[1026]}})),(0,a.fK)(new Se({id:"onEnterSelectCodeActionWithPreview",precondition:N.Visible,handler(e){e.selectedOptionWithPreview()},kbOpts:{weight:100190,primary:2051}}))},7885:(e,t,i)=>{"use strict";i.r(t);var n=i(6830),o=i(6454),s=i(800),r=i(3580),a=i(3193);i(9872).B.as(a.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},s.wk),{properties:{"editor.experimental.useCustomCodeActionMenu":{type:"boolean",tags:["experimental"],scope:5,description:r.NC("codeActionWidget","Enabling this adjusts how the code action menu is rendered."),default:!1}}})),(0,n._K)(o.pY.ID,o.pY),(0,n.Qr)(o.E7),(0,n.Qr)(o.Eb),(0,n.Qr)(o.UG),(0,n.Qr)(o.VQ),(0,n.Qr)(o.o$),(0,n.Qr)(o.S5),(0,n.Qr)(o.Hv),(0,n.fK)(new o.dW)},6014:(e,t,i)=>{"use strict";i.d(t,{EU:()=>s,Yl:()=>r,aQ:()=>o,wZ:()=>l,yN:()=>n});class n{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||""===this.value||e.value.startsWith(this.value+n.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new n(this.value+n.sep+e)}}var o;function s(e,t){return!(e.include&&!e.include.intersects(t)||e.excludes&&e.excludes.some((i=>a(t,i,e.include)))||!e.includeSourceActions&&n.Source.contains(t))}function r(e,t){const i=t.kind?new n(t.kind):void 0;return!(!(!e.include||i&&e.include.contains(i))||e.excludes&&i&&e.excludes.some((t=>a(i,t,e.include)))||!e.includeSourceActions&&i&&n.Source.contains(i)||e.onlyIncludePreferredActions&&!t.isPreferred)}function a(e,t,i){return!(!t.contains(e)||i&&t.contains(i))}n.sep=".",n.None=new n("@@none@@"),n.Empty=new n(""),n.QuickFix=new n("quickfix"),n.Refactor=new n("refactor"),n.Source=new n("source"),n.SourceOrganizeImports=n.Source.append("organizeImports"),n.SourceFixAll=n.Source.append("fixAll"),function(e){e.Refactor="refactor",e.RefactorPreview="refactor preview",e.Lightbulb="lightbulb",e.Default="other (default)",e.SourceAction="source action",e.QuickFix="quick fix action",e.FixAll="fix all",e.OrganizeImports="organize imports",e.AutoFix="auto fix",e.QuickFixHover="quick fix hover window",e.OnSave="save participants",e.ProblemsView="problems view"}(o||(o={}));class l{constructor(e,t,i){this.kind=e,this.apply=t,this.preferred=i}static fromUser(e,t){return e&&"object"==typeof e?new l(l.getKindFromUser(e,t.kind),l.getApplyFromUser(e,t.apply),l.getPreferredUser(e)):new l(t.kind,t.apply,!1)}static getApplyFromUser(e,t){switch("string"==typeof e.apply?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return"string"==typeof e.kind?new n(e.kind):t}static getPreferredUser(e){return"boolean"==typeof e.preferred&&e.preferred}}},5729:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CodeLensContribution:()=>H});var n=i(5321),o=i(5393),s=i(7301),r=i(9954),a=i(5976),l=i(3407),d=i(6830),c=i(4141),h=i(9102),u=i(1050),g=i(8401),p=i(666),m=i(3733),f=i(4565),v=i(1922),_=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class b{constructor(){this.lenses=[],this._disposables=new a.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){this._disposables.add(e);for(const i of e.lenses)this.lenses.push({symbol:i,provider:t})}}function C(e,t,i){return _(this,void 0,void 0,(function*(){const n=e.ordered(t),o=new Map,r=new b,a=n.map(((e,n)=>_(this,void 0,void 0,(function*(){o.set(e,n);try{const n=yield Promise.resolve(e.provideCodeLenses(t,i));n&&r.add(n,e)}catch(e){(0,s.Cp)(e)}}))));return yield Promise.all(a),r.lenses=r.lenses.sort(((e,t)=>e.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:e.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:o.get(e.provider)<o.get(t.provider)?-1:o.get(e.provider)>o.get(t.provider)?1:e.symbol.range.startColumn<t.symbol.range.startColumn?-1:e.symbol.range.startColumn>t.symbol.range.startColumn?1:0)),r}))}f.P0.registerCommand("_executeCodeLensProvider",(function(e,...t){let[i,n]=t;(0,g.p_)(p.o.isUri(i)),(0,g.p_)("number"==typeof n||!n);const{codeLensProvider:o}=e.get(v.p),r=e.get(m.q).getModel(i);if(!r)throw(0,s.b1)();const l=[],d=new a.SL;return C(o,r,u.T.None).then((e=>{d.add(e);const t=[];for(const i of e.lenses)null==n||Boolean(i.symbol.command)?l.push(i.symbol):n-- >0&&i.provider.resolveCodeLens&&t.push(Promise.resolve(i.provider.resolveCodeLens(r,i.symbol,u.T.None)).then((e=>l.push(e||i.symbol))));return Promise.all(t)})).then((()=>l)).finally((()=>{setTimeout((()=>d.dispose()),100)}))}));var y=i(8289),w=i(3702),S=i(4314),k=i(5026),L=i(2065),x=i(6904);const I=(0,L.yh)("ICodeLensCache");class D{constructor(e,t){this.lineCount=e,this.data=t}}let N=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new w.z6(20,.75),(0,o.To)((()=>e.remove("codelens/cache",1)));const t="codelens/cache2",i=e.get(t,1,"{}");this._deserialize(i),(0,y.I)(e.onWillSaveState)((i=>{i.reason===x.fk.SHUTDOWN&&e.store(t,this._serialize(),1,1)}))}put(e,t){const i=t.lenses.map((e=>{var t;return{range:e.symbol.range,command:e.symbol.command&&{id:"",title:null===(t=e.symbol.command)||void 0===t?void 0:t.title}}})),n=new b;n.add({lenses:i,dispose:()=>{}},this._fakeProvider);const o=new D(e.getLineCount(),n);this._cache.set(e.uri.toString(),o)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,i]of this._cache){const n=new Set;for(const e of i.data.lenses)n.add(e.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...n.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const e in t){const i=t[e],n=[];for(const e of i.lines)n.push({range:new S.e(e,1,e,11)});const o=new b;o.add({lenses:n,dispose(){}},this._fakeProvider),this._cache.set(e,new D(i.lineCount,o))}}catch(e){}}};var E,A;N=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(E=0,A=x.Uy,function(e,t){A(e,t,E)})],N),(0,k.z)(I,N);var T=i(6811),M=i(2035);class R{constructor(e,t,i){this.afterColumn=1073741824,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class P{constructor(e,t,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id="codelens.widget-"+P._idPool++,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${t}`}withCommands(e,t){this._commands.clear();const i=[];let o=!1;for(let t=0;t<e.length;t++){const s=e[t];if(s&&(o=!0,s.command)){const o=(0,T.T)(s.command.title.trim());s.command.id?(i.push(n.$("a",{id:String(t),title:s.command.tooltip,role:"button"},...o)),this._commands.set(String(t),s.command)):i.push(n.$("span",{title:s.command.tooltip},...o)),t+1<e.length&&i.push(n.$("span",void 0,"|"))}}o?(n.mc(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):n.mc(this._domNode,n.$("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}P._idPool=0;class O{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){const t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let e=0,i=t.length;e<i;e++)this._addDecorationsCallbacks[e](t[e])}}class V{constructor(e,t,i,n,o,s,r){let a;this._isDisposed=!1,this._editor=t,this._className=i,this._data=e,this._decorationIds=[];const l=[];this._data.forEach(((e,t)=>{e.symbol.command&&l.push(e.symbol),n.addDecoration({range:e.symbol.range,options:M.qx.EMPTY},(e=>this._decorationIds[t]=e)),a=a?S.e.plusRange(a,e.symbol.range):S.e.lift(e.symbol.range)})),this._viewZone=new R(a.startLineNumber-1,s,r),this._viewZoneId=o.addZone(this._viewZone),l.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(l,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new P(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],null==t||t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some(((e,t)=>{const i=this._editor.getModel().getDecorationRange(e),n=this._data[t].symbol;return!(!i||S.e.isEmpty(n.range)!==i.isEmpty())}))}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach(((e,i)=>{t.addDecoration({range:e.symbol.range,options:M.qx.EMPTY},(e=>this._decorationIds[i]=e))}))}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const i=e.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const i=e[t];if(i){const{symbol:e}=this._data[t];e.command=i.command||e.command}}}getCommand(e){var t;return null===(t=this._contentWidget)||void 0===t?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var F=i(3580),W=i(9422),z=i(1157),B=i(8191),U=function(e,t){return function(i,n){t(i,n,e)}};let H=class{constructor(e,t,i,s,l,d){this._editor=e,this._languageFeaturesService=t,this._commandService=s,this._notificationService=l,this._codeLensCache=d,this._disposables=new a.SL,this._localToDispose=new a.SL,this._lenses=[],this._oldCodeLensModels=new a.SL,this._provideCodeLensDebounce=i.for(t.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=i.for(t.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new o.pY((()=>this._resolveCodeLensesInViewport()),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel((()=>this._onModelChange()))),this._disposables.add(this._editor.onDidChangeModelLanguage((()=>this._onModelChange()))),this._disposables.add(this._editor.onDidChangeConfiguration((e=>{(e.hasChanged(46)||e.hasChanged(16)||e.hasChanged(15))&&this._updateLensStyle(),e.hasChanged(14)&&this._onModelChange()}))),this._disposables.add(t.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,r.vp)(this._editor.getId()).toString(16),this._styleElement=n.dS(n.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(e=this._currentCodeLensModel)||void 0===e||e.dispose(),this._styleElement.remove()}_getLayoutInfo(){const e=Math.max(1.3,this._editor.getOption(61)/this._editor.getOption(48));let t=this._editor.getOption(16);return(!t||t<5)&&(t=.9*this._editor.getOption(48)|0),{fontSize:t,codeLensHeight:t*e|0}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),i=this._editor.getOption(15),n=this._editor.getOption(46),o=`--codelens-font-family${this._styleClassName}`,s=`--codelens-font-features${this._styleClassName}`;let r=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${e}px; font-size: ${t}px; padding-right: ${Math.round(.5*t)}px; font-feature-settings: var(${s}) }\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${e}px; font-size: ${t}px; }\n\t\t`;i&&(r+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${o}), ${c.hL.fontFamily}}`),this._styleElement.textContent=r,this._editor.getContainerDomNode().style.setProperty(o,null!=i?i:"inherit"),this._editor.getContainerDomNode().style.setProperty(s,n.fontFeatureSettings),this._editor.changeViewZones((t=>{for(const i of this._lenses)i.updateHeight(e,t)}))}_localDispose(){var e,t,i;null===(e=this._getCodeLensModelPromise)||void 0===e||e.cancel(),this._getCodeLensModelPromise=void 0,null===(t=this._resolveCodeLensesPromise)||void 0===t||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(i=this._currentCodeLensModel)||void 0===i||i.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e)return;if(!this._editor.getOption(14))return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(e))return void(t&&this._localToDispose.add((0,o.Vg)((()=>{const i=this._codeLensCache.get(e);t===i&&(this._codeLensCache.delete(e),this._onModelChange())}),3e4)));for(const t of this._languageFeaturesService.codeLensProvider.all(e))if("function"==typeof t.onDidChange){const e=t.onDidChange((()=>i.schedule()));this._localToDispose.add(e)}const i=new o.pY((()=>{var t;const n=Date.now();null===(t=this._getCodeLensModelPromise)||void 0===t||t.cancel(),this._getCodeLensModelPromise=(0,o.PG)((t=>C(this._languageFeaturesService.codeLensProvider,e,t))),this._getCodeLensModelPromise.then((t=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=t,this._codeLensCache.put(e,t);const o=this._provideCodeLensDebounce.update(e,Date.now()-n);i.delay=o,this._renderCodeLensSymbols(t),this._resolveCodeLensesInViewportSoon()}),s.dL)}),this._provideCodeLensDebounce.get(e));this._localToDispose.add(i),this._localToDispose.add((0,a.OF)((()=>this._resolveCodeLensesScheduler.cancel()))),this._localToDispose.add(this._editor.onDidChangeModelContent((()=>{this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{const i=[];let n=-1;this._lenses.forEach((e=>{e.isValid()&&n!==e.getLineNumber()?(e.update(t),n=e.getLineNumber()):i.push(e)}));const o=new O;i.forEach((e=>{e.dispose(o,t),this._lenses.splice(this._lenses.indexOf(e),1)})),o.commit(e)}))})),i.schedule()}))),this._localToDispose.add(this._editor.onDidFocusEditorWidget((()=>{i.schedule()}))),this._localToDispose.add(this._editor.onDidScrollChange((e=>{e.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add(this._editor.onDidLayoutChange((()=>{this._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add((0,a.OF)((()=>{if(this._editor.getModel()){const e=l.Z.capture(this._editor);this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{this._disposeAllLenses(e,t)}))})),e.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)}))),this._localToDispose.add(this._editor.onMouseDown((e=>{if(9!==e.target.type)return;let t=e.target.element;if("SPAN"===(null==t?void 0:t.tagName)&&(t=t.parentElement),"A"===(null==t?void 0:t.tagName))for(const e of this._lenses){const i=e.getCommand(t);if(i){this._commandService.executeCommand(i.id,...i.arguments||[]).catch((e=>this._notificationService.error(e)));break}}}))),i.schedule()}_disposeAllLenses(e,t){const i=new O;for(const e of this._lenses)e.dispose(i,t);e&&i.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;const t=this._editor.getModel().getLineCount(),i=[];let n;for(const o of e.lenses){const e=o.symbol.range.startLineNumber;e<1||e>t||(n&&n[n.length-1].symbol.range.startLineNumber===e?n.push(o):(n=[o],i.push(n)))}const o=l.Z.capture(this._editor),s=this._getLayoutInfo();this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{const n=new O;let o=0,r=0;for(;r<i.length&&o<this._lenses.length;){const e=i[r][0].symbol.range.startLineNumber,a=this._lenses[o].getLineNumber();a<e?(this._lenses[o].dispose(n,t),this._lenses.splice(o,1)):a===e?(this._lenses[o].updateCodeLensSymbols(i[r],n),r++,o++):(this._lenses.splice(o,0,new V(i[r],this._editor,this._styleClassName,n,t,s.codeLensHeight,(()=>this._resolveCodeLensesInViewportSoon()))),o++,r++)}for(;o<this._lenses.length;)this._lenses[o].dispose(n,t),this._lenses.splice(o,1);for(;r<i.length;)this._lenses.push(new V(i[r],this._editor,this._styleClassName,n,t,s.codeLensHeight,(()=>this._resolveCodeLensesInViewportSoon()))),r++;n.commit(e)}))})),o.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;null===(e=this._resolveCodeLensesPromise)||void 0===e||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const i=[],n=[];if(this._lenses.forEach((e=>{const o=e.computeIfNecessary(t);o&&(i.push(o),n.push(e))})),0===i.length)return;const r=Date.now(),a=(0,o.PG)((e=>{const o=i.map(((i,o)=>{const r=new Array(i.length),a=i.map(((i,n)=>i.symbol.command||"function"!=typeof i.provider.resolveCodeLens?(r[n]=i.symbol,Promise.resolve(void 0)):Promise.resolve(i.provider.resolveCodeLens(t,i.symbol,e)).then((e=>{r[n]=e}),s.Cp)));return Promise.all(a).then((()=>{e.isCancellationRequested||n[o].isDisposed()||n[o].updateCommands(r)}))}));return Promise.all(o)}));this._resolveCodeLensesPromise=a,this._resolveCodeLensesPromise.then((()=>{const e=this._resolveCodeLensesDebounce.update(t,Date.now()-r);this._resolveCodeLensesScheduler.delay=e,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),a===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)}),(e=>{(0,s.dL)(e),a===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)}))}getModel(){return this._currentCodeLensModel}};H.ID="css.editor.codeLens",H=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([U(1,v.p),U(2,B.A),U(3,f.Hy),U(4,W.lT),U(5,I)],H),(0,d._K)(H.ID,H),(0,d.Qr)(class extends d.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:h.u.hasCodeLensProvider,label:(0,F.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return i=this,n=void 0,s=function*(){if(!t.hasModel())return;const i=e.get(z.eJ),n=e.get(f.Hy),o=e.get(W.lT),s=t.getSelection().positionLineNumber,r=t.getContribution(H.ID);if(!r)return;const a=r.getModel();if(!a)return;const l=[];for(const e of a.lenses)e.symbol.command&&e.symbol.range.startLineNumber===s&&l.push({label:e.symbol.command.title,command:e.symbol.command});if(0===l.length)return;const d=yield i.pick(l,{canPickMany:!1});if(d){if(a.isDisposed)return yield n.executeCommand(this.id);try{yield n.executeCommand(d.command.id,...d.command.arguments||[])}catch(e){o.error(e)}}},new((o=void 0)||(o=Promise))((function(e,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(r,a)}l((s=s.apply(i,n||[])).next())}));var i,n,o,s}})},5125:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ColorContribution:()=>q});var n=i(5976),o=i(6830),s=i(4314),r=i(5393),a=i(1264),l=i(7301),d=i(4013),c=i(7295),h=i(9994),u=i(2035),g=i(8191),p=i(1922),m=i(1050),f=i(666),v=i(3733),_=i(4565);function b(e,t,i,n){return Promise.resolve(i.provideColorPresentations(e,t,n))}_.P0.registerCommand("_executeDocumentColorProvider",(function(e,...t){const[i]=t;if(!(i instanceof f.o))throw(0,l.b1)();const{colorProvider:n}=e.get(p.p),o=e.get(v.q).getModel(i);if(!o)throw(0,l.b1)();const s=[],r=n.ordered(o).reverse().map((e=>Promise.resolve(e.provideDocumentColors(o,m.T.None)).then((e=>{if(Array.isArray(e))for(const t of e)s.push({range:t.range,color:[t.color.red,t.color.green,t.color.blue,t.color.alpha]})}))));return Promise.all(r).then((()=>s))})),_.P0.registerCommand("_executeColorPresentationProvider",(function(e,...t){const[i,n]=t,{uri:o,range:r}=n;if(!(o instanceof f.o&&Array.isArray(i)&&4===i.length&&s.e.isIRange(r)))throw(0,l.b1)();const[a,d,c,h]=i,{colorProvider:u}=e.get(p.p),g=e.get(v.q).getModel(o);if(!g)throw(0,l.b1)();const _={range:r,color:{red:a,green:d,blue:c,alpha:h}},b=[],C=u.ordered(g).reverse().map((e=>Promise.resolve(e.provideColorPresentations(g,_,m.T.None)).then((e=>{Array.isArray(e)&&b.push(...e)}))));return Promise.all(C).then((()=>b))}));var C=i(3108),y=function(e,t){return function(i,n){t(i,n,e)}};const w=Object.create({});let S=class e extends n.JT{constructor(t,i,o,s){super(),this._editor=t,this._configurationService=i,this._languageFeaturesService=o,this._localToDispose=this._register(new n.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new h.t7(this._editor),this._colorDecorationClassRefs=this._register(new n.SL),this._debounceInformation=s.for(o.colorProvider,"Document Colors",{min:e.RECOMPUTE_TIME}),this._register(t.onDidChangeModel((()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()}))),this._register(t.onDidChangeModelLanguage((()=>this.onModelChanged()))),this._register(o.colorProvider.onDidChange((()=>this.onModelChanged()))),this._register(t.onDidChangeConfiguration((()=>{const e=this._isEnabled;this._isEnabled=this.isEnabled(),e!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())}))),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageId(),i=this._configurationService.getValue(t);if(i&&"object"==typeof i){const e=i.colorDecorators;if(e&&void 0!==e.enable&&!e.enable)return e.enable}return this._editor.getOption(17)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const e=this._editor.getModel();e&&this._languageFeaturesService.colorProvider.has(e)&&(this._localToDispose.add(this._editor.onDidChangeModelContent((()=>{this._timeoutTimer||(this._timeoutTimer=new r._F,this._timeoutTimer.cancelAndSet((()=>{this._timeoutTimer=null,this.beginCompute()}),this._debounceInformation.get(e)))}))),this.beginCompute())}beginCompute(){this._computePromise=(0,r.PG)((e=>{return t=this,i=void 0,o=function*(){const t=this._editor.getModel();if(!t)return Promise.resolve([]);const i=new d.G(!1),n=yield function(e,t,i){const n=[],o=e.ordered(t).reverse().map((e=>Promise.resolve(e.provideDocumentColors(t,i)).then((t=>{if(Array.isArray(t))for(const i of t)n.push({colorInfo:i,provider:e})}))));return Promise.all(o).then((()=>n))}(this._languageFeaturesService.colorProvider,t,e);return this._debounceInformation.update(t,i.elapsed()),n},new((n=void 0)||(n=Promise))((function(e,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,n,o})),this._computePromise.then((e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null}),l.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map((e=>({range:{startLineNumber:e.colorInfo.range.startLineNumber,startColumn:e.colorInfo.range.startColumn,endLineNumber:e.colorInfo.range.endLineNumber,endColumn:e.colorInfo.range.endColumn},options:u.qx.EMPTY})));this._editor.changeDecorations((i=>{this._decorationsIds=i.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach(((t,i)=>this._colorDatas.set(t,e[i])))}))}updateColorDecorators(e){this._colorDecorationClassRefs.clear();const t=[];for(let i=0;i<e.length&&t.length<500;i++){const{red:n,green:o,blue:s,alpha:r}=e[i].colorInfo.color,l=new a.VS(Math.round(255*n),Math.round(255*o),Math.round(255*s),r),d=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`,h=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:d}));t.push({range:{startLineNumber:e[i].colorInfo.range.startLineNumber,startColumn:e[i].colorInfo.range.startColumn,endLineNumber:e[i].colorInfo.range.endLineNumber,endColumn:e[i].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:c.B4,inlineClassName:`${h.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:w}}})}this._colorDecoratorIds.set(t)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(e){const t=this._editor.getModel();if(!t)return null;const i=t.getDecorationsInRange(s.e.fromPositions(e,e)).filter((e=>this._colorDatas.has(e.id)));return 0===i.length?null:this._colorDatas.get(i[0].id)}isColorDecoration(e){return this._colorDecoratorIds.has(e)}};S.ID="editor.contrib.colorDetector",S.RECOMPUTE_TIME=1e3,S=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([y(1,C.Ui),y(2,p.p),y(3,g.A)],S),(0,o._K)(S.ID,S);var k=i(4669);class L{constructor(e,t,i){this.presentationIndex=i,this._onColorFlushed=new k.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new k.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new k.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let e=0;e<this.colorPresentations.length;e++)if(t.toLowerCase()===this.colorPresentations[e].label){this.presentationIndex=e,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var x=i(6268),I=i(5321),D=i(3911),N=i(3794),E=i(3580),A=i(3910),T=i(7781);const M=I.$;class R extends n.JT{constructor(e,t,i){super(),this.model=t,this.domNode=M(".colorpicker-header"),I.R3(e,this.domNode),this.pickedColorNode=I.R3(this.domNode,M(".picked-color"));const n=(0,E.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",n);const o=I.R3(this.domNode,M(".original-color"));o.style.backgroundColor=a.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=i.getColorTheme().getColor(A.yJx)||a.Il.white,this._register((0,T.Ic)(((e,t)=>{this.backgroundColor=e.getColor(A.yJx)||a.Il.white}))),this._register(I.nm(this.pickedColorNode,I.tw.CLICK,(()=>this.model.selectNextColorPresentation()))),this._register(I.nm(o,I.tw.CLICK,(()=>{this.model.color=this.model.originalColor,this.model.flushColor()}))),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=a.Il.Format.CSS.format(t.color)||"",this.pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=a.Il.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(M(".codicon.codicon-color-mode"))}}class P extends n.JT{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this.domNode=M(".colorpicker-body"),I.R3(e,this.domNode),this.saturationBox=new O(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new F(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new W(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const i=this.model.color.hsva;this.model.color=new a.Il(new a.tx(i.h,e,t,i.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new a.Il(new a.tx(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,i=360*(1-e);this.model.color=new a.Il(new a.tx(360===i?0:i,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class O extends n.JT{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this._onDidChange=new k.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new k.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=M(".saturation-wrap"),I.R3(e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",I.R3(this.domNode,this.canvas),this.selection=M(".saturation-selection"),I.R3(this.domNode,this.selection),this.layout(),this._register(I.nm(this.domNode,I.tw.POINTER_DOWN,(e=>this.onPointerDown(e)))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(e){if(!(e.target&&e.target instanceof Element))return;this.monitor=this._register(new D.C);const t=I.i(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.pointerId,e.buttons,(e=>this.onDidChangePosition(e.pageX-t.left,e.pageY-t.top)),(()=>null));const i=I.nm(document,I.tw.POINTER_UP,(()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)}),!0)}onDidChangePosition(e,t){const i=Math.max(0,Math.min(1,e/this.width)),n=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(i,n),this._onDidChange.fire({s:i,v:n})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new a.Il(new a.tx(e.h,1,1,1)),i=this.canvas.getContext("2d"),n=i.createLinearGradient(0,0,this.canvas.width,0);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),n.addColorStop(1,"rgba(255, 255, 255, 0)");const o=i.createLinearGradient(0,0,0,this.canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this.canvas.width,this.canvas.height),i.fillStyle=a.Il.Format.CSS.format(t),i.fill(),i.fillStyle=n,i.fill(),i.fillStyle=o,i.fill()}paintSelection(e,t){this.selection.style.left=e*this.width+"px",this.selection.style.top=this.height-t*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class V extends n.JT{constructor(e,t){super(),this.model=t,this._onDidChange=new k.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new k.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=I.R3(e,M(".strip")),this.overlay=I.R3(this.domNode,M(".overlay")),this.slider=I.R3(this.domNode,M(".slider")),this.slider.style.top="0px",this._register(I.nm(this.domNode,I.tw.POINTER_DOWN,(e=>this.onPointerDown(e)))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onPointerDown(e){if(!(e.target&&e.target instanceof Element))return;const t=this._register(new D.C),i=I.i(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.pointerId,e.buttons,(e=>this.onDidChangeTop(e.pageY-i.top)),(()=>null));const n=I.nm(document,I.tw.POINTER_UP,(()=>{this._onColorFlushed.fire(),n.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")}),!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=(1-e)*this.height+"px"}}class F extends V{constructor(e,t){super(e,t),this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){const{r:t,g:i,b:n}=e.rgba,o=new a.Il(new a.VS(t,i,n,1)),s=new a.Il(new a.VS(t,i,n,0));this.overlay.style.background=`linear-gradient(to bottom, ${o} 0%, ${s} 100%)`}getValue(e){return e.hsva.a}}class W extends V{constructor(e,t){super(e,t),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class z extends N.${constructor(e,t,i,n){super(),this.model=t,this.pixelRatio=i,this._register(x.PixelRatio.onDidChange((()=>this.layout())));const o=M(".colorpicker-widget");e.appendChild(o);const s=new R(o,this.model,n);this.body=new P(o,this.model,this.pixelRatio),this._register(s),this._register(this.body)}layout(){this.body.layout()}}var B=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class U{constructor(e,t,i,n){this.owner=e,this.range=t,this.model=i,this.provider=n,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let H=class{constructor(e,t){this._editor=e,this._themeService=t,this.hoverOrdinal=1}computeSync(e,t){return[]}computeAsync(e,t,i){return r.Aq.fromPromise(this._computeAsync(e,t,i))}_computeAsync(e,t,i){return B(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return[];const e=S.get(this._editor);if(!e)return[];for(const i of t){if(!e.isColorDecoration(i))continue;const t=e.getColorData(i.range.getStartPosition());if(t)return[yield this._createColorHover(this._editor.getModel(),t.colorInfo,t.provider)]}return[]}))}_createColorHover(e,t,i){return B(this,void 0,void 0,(function*(){const n=e.getValueInRange(t.range),{red:o,green:r,blue:l,alpha:d}=t.color,c=new a.VS(Math.round(255*o),Math.round(255*r),Math.round(255*l),d),h=new a.Il(c),u=yield b(e,t,i,m.T.None),g=new L(h,[],0);return g.colorPresentations=u||[],g.guessColorPresentation(h,n),new U(this,s.e.lift(t.range),g,i)}))}renderHoverParts(e,t){if(0===t.length||!this._editor.hasModel())return n.JT.None;const i=new n.SL,o=t[0],r=this._editor.getModel(),a=o.model,l=i.add(new z(e.fragment,a,this._editor.getOption(131),this._themeService));e.setColorPicker(l);let d=new s.e(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn);const c=()=>{let t,i;if(a.presentation.textEdit){t=[a.presentation.textEdit],i=new s.e(a.presentation.textEdit.range.startLineNumber,a.presentation.textEdit.range.startColumn,a.presentation.textEdit.range.endLineNumber,a.presentation.textEdit.range.endColumn);const e=this._editor.getModel()._setTrackedRange(null,i,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",t),i=this._editor.getModel()._getTrackedRange(e)||i}else t=[{range:d,text:a.presentation.label,forceMoveMarkers:!1}],i=d.setEndPosition(d.endLineNumber,d.startColumn+a.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",t);a.presentation.additionalTextEdits&&(t=[...a.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",t),e.hide()),this._editor.pushUndoStop(),d=i},h=e=>b(r,{range:d,color:{red:e.rgba.r/255,green:e.rgba.g/255,blue:e.rgba.b/255,alpha:e.rgba.a}},o.provider,m.T.None).then((e=>{a.colorPresentations=e||[]}));return i.add(a.onColorFlushed((e=>{h(e).then(c)}))),i.add(a.onDidChangeColor(h)),i}};var G,j;H=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(G=1,j=T.XE,function(e,t){j(e,t,G)})],H);var K=i(9427),$=i(6520);class q extends n.JT{constructor(e){super(),this._editor=e,this._register(e.onMouseDown((e=>this.onMouseDown(e))))}dispose(){super.dispose()}onMouseDown(e){const t=e.target;if(6!==t.type)return;if(!t.detail.injectedText)return;if(t.detail.injectedText.options.attachedData!==w)return;if(!t.range)return;const i=this._editor.getContribution(K.ModesHoverController.ID);if(i&&!i.isColorPickerVisible()){const e=new s.e(t.range.startLineNumber,t.range.startColumn+1,t.range.endLineNumber,t.range.endColumn+1);i.showContentHover(e,1,!1)}}}q.ID="editor.contrib.colorContribution",(0,o._K)(q.ID,q),$.Ae.register(H)},3365:(e,t,i)=>{"use strict";i.r(t);var n=i(2258),o=i(6830),s=i(4314),r=i(9102),a=i(1381),l=i(9386),d=i(187),c=i(3860);class h{constructor(e,t,i){this.languageConfigurationService=i,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;const n=t.length;if(i+n>e.length)return!1;for(let o=0;o<n;o++){const n=e.charCodeAt(i+o),s=t.charCodeAt(o);if(n!==s&&!(n>=65&&n<=90&&n+32===s||s>=65&&s<=90&&s+32===n))return!1}return!0}_createOperationsForBlockComment(e,t,i,n,o,r){const a=e.startLineNumber,l=e.startColumn,d=e.endLineNumber,c=e.endColumn,u=o.getLineContent(a),g=o.getLineContent(d);let p,m=u.lastIndexOf(t,l-1+t.length),f=g.indexOf(i,c-1-i.length);if(-1!==m&&-1!==f)if(a===d)u.substring(m+t.length,f).indexOf(i)>=0&&(m=-1,f=-1);else{const e=u.substring(m+t.length),n=g.substring(0,f);(e.indexOf(i)>=0||n.indexOf(i)>=0)&&(m=-1,f=-1)}-1!==m&&-1!==f?(n&&m+t.length<u.length&&32===u.charCodeAt(m+t.length)&&(t+=" "),n&&f>0&&32===g.charCodeAt(f-1)&&(i=" "+i,f-=1),p=h._createRemoveBlockCommentOperations(new s.e(a,m+t.length+1,d,f+1),t,i)):(p=h._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=1===p.length?i:null);for(const e of p)r.addTrackedEditOperation(e.range,e.text)}static _createRemoveBlockCommentOperations(e,t,i){const n=[];return s.e.isEmpty(e)?n.push(l.h.delete(new s.e(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(n.push(l.h.delete(new s.e(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),n.push(l.h.delete(new s.e(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),n}static _createAddBlockCommentOperations(e,t,i,n){const o=[];return s.e.isEmpty(e)?o.push(l.h.replace(new s.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(o.push(l.h.insert(new d.L(e.startLineNumber,e.startColumn),t+(n?" ":""))),o.push(l.h.insert(new d.L(e.endLineNumber,e.endColumn),(n?" ":"")+i))),o}getEditOperations(e,t){const i=this._selection.startLineNumber,n=this._selection.startColumn;e.tokenization.tokenizeIfCheap(i);const o=e.getLanguageIdAtPosition(i,n),s=this.languageConfigurationService.getLanguageConfiguration(o).comments;s&&s.blockCommentStartToken&&s.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,s.blockCommentStartToken,s.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const i=t.getInverseEditOperations();if(2===i.length){const e=i[0],t=i[1];return new c.Y(e.range.endLineNumber,e.range.endColumn,t.range.startLineNumber,t.range.startColumn)}{const e=i[0].range,t=this._usedEndToken?-this._usedEndToken.length-1:0;return new c.Y(e.endLineNumber,e.endColumn+t,e.endLineNumber,e.endColumn+t)}}}var u=i(7295);class g{constructor(e,t,i,n,o,s,r){this.languageConfigurationService=e,this._selection=t,this._tabSize=i,this._type=n,this._insertSpace=o,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=s,this._ignoreFirstLine=r||!1}static _gatherPreflightCommentStrings(e,t,i,n){e.tokenization.tokenizeIfCheap(t);const o=e.getLanguageIdAtPosition(t,1),s=n.getLanguageConfiguration(o).comments,r=s?s.lineCommentToken:null;if(!r)return null;const a=[];for(let e=0,n=i-t+1;e<n;e++)a[e]={ignore:!1,commentStr:r,commentStrOffset:0,commentStrLength:r.length};return a}static _analyzeLines(e,t,i,n,o,s,r,a){let l,d=!0;l=0===e||1!==e;for(let a=0,c=n.length;a<c;a++){const c=n[a],g=o+a;if(g===o&&r){c.ignore=!0;continue}const p=i.getLineContent(g),m=u.LC(p);if(-1!==m){if(d=!1,c.ignore=!1,c.commentStrOffset=m,l&&!h._haystackHasNeedleAtOffset(p,c.commentStr,m)&&(0===e?l=!1:1===e||(c.ignore=!0)),l&&t){const e=m+c.commentStrLength;e<p.length&&32===p.charCodeAt(e)&&(c.commentStrLength+=1)}}else c.ignore=s,c.commentStrOffset=p.length}if(0===e&&d){l=!1;for(let e=0,t=n.length;e<t;e++)n[e].ignore=!1}return{supported:!0,shouldRemoveComments:l,lines:n}}static _gatherPreflightData(e,t,i,n,o,s,r,a){const l=g._gatherPreflightCommentStrings(i,n,o,a);return null===l?{supported:!1}:g._analyzeLines(e,t,i,l,n,s,r,a)}_executeLineComments(e,t,i,n){let o;i.shouldRemoveComments?o=g._createRemoveLineCommentsOperations(i.lines,n.startLineNumber):(g._normalizeInsertionPoint(e,i.lines,n.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(i.lines,n.startLineNumber));const r=new d.L(n.positionLineNumber,n.positionColumn);for(let i=0,n=o.length;i<n;i++)t.addEditOperation(o[i].range,o[i].text),s.e.isEmpty(o[i].range)&&s.e.getStartPosition(o[i].range).equals(r)&&e.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(o[i].text||"").length);this._selectionId=t.trackSelection(n)}_attemptRemoveBlockComment(e,t,i,n){let o=t.startLineNumber,r=t.endLineNumber;const a=n.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn);let l=e.getLineContent(o).lastIndexOf(i,a-1),d=e.getLineContent(r).indexOf(n,t.endColumn-1-i.length);return-1!==l&&-1===d&&(d=e.getLineContent(o).indexOf(n,l+i.length),r=o),-1===l&&-1!==d&&(l=e.getLineContent(r).lastIndexOf(i,d),o=r),!t.isEmpty()||-1!==l&&-1!==d||(l=e.getLineContent(o).indexOf(i),-1!==l&&(d=e.getLineContent(o).indexOf(n,l+i.length))),-1!==l&&32===e.getLineContent(o).charCodeAt(l+i.length)&&(i+=" "),-1!==d&&32===e.getLineContent(r).charCodeAt(d-1)&&(n=" "+n,d-=1),-1!==l&&-1!==d?h._createRemoveBlockCommentOperations(new s.e(o,l+i.length+1,r,d+1),i,n):null}_executeBlockComment(e,t,i){e.tokenization.tokenizeIfCheap(i.startLineNumber);const n=e.getLanguageIdAtPosition(i.startLineNumber,1),o=this.languageConfigurationService.getLanguageConfiguration(n).comments;if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;const r=o.blockCommentStartToken,a=o.blockCommentEndToken;let l=this._attemptRemoveBlockComment(e,i,r,a);if(!l){if(i.isEmpty()){const t=e.getLineContent(i.startLineNumber);let n=u.LC(t);-1===n&&(n=t.length),l=h._createAddBlockCommentOperations(new s.e(i.startLineNumber,n+1,i.startLineNumber,t.length+1),r,a,this._insertSpace)}else l=h._createAddBlockCommentOperations(new s.e(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),r,a,this._insertSpace);1===l.length&&(this._deltaColumn=r.length+1)}this._selectionId=t.trackSelection(i);for(const e of l)t.addEditOperation(e.range,e.text)}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine)return t.addEditOperation(new s.e(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":"\n"),void(this._selectionId=t.trackSelection(i));i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const n=g._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return n.supported?this._executeLineComments(e,t,n,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new c.Y(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){const i=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];o.ignore||i.push(l.h.delete(new s.e(t+n,o.commentStrOffset+1,t+n,o.commentStrOffset+o.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){const i=[],n=this._insertSpace?" ":"";for(let o=0,s=e.length;o<s;o++){const s=e[o];s.ignore||i.push(l.h.insert(new d.L(t+o,s.commentStrOffset+1),s.commentStr+n))}return i}static nextVisibleColumn(e,t,i,n){return i?e+(t-e%t):e+n}static _normalizeInsertionPoint(e,t,i,n){let o,s,r=1073741824;for(let o=0,s=t.length;o<s;o++){if(t[o].ignore)continue;const s=e.getLineContent(i+o);let a=0;for(let e=0,i=t[o].commentStrOffset;a<r&&e<i;e++)a=g.nextVisibleColumn(a,n,9===s.charCodeAt(e),1);a<r&&(r=a)}r=Math.floor(r/n)*n;for(let a=0,l=t.length;a<l;a++){if(t[a].ignore)continue;const l=e.getLineContent(i+a);let d=0;for(o=0,s=t[a].commentStrOffset;d<r&&o<s;o++)d=g.nextVisibleColumn(d,n,9===l.charCodeAt(o),1);t[a].commentStrOffset=d>r?o-1:o}}}var p=i(3580),m=i(4144);class f extends o.R6{constructor(e,t){super(t),this._type=e}run(e,t){const i=e.get(a.c_);if(!t.hasModel())return;const n=[],o=t.getModel().getOptions(),r=t.getOption(19),l=t.getSelections().map(((e,t)=>({selection:e,index:t,ignoreFirstLine:!1})));l.sort(((e,t)=>s.e.compareRangesUsingStarts(e.selection,t.selection)));let d=l[0];for(let e=1;e<l.length;e++){const t=l[e];d.selection.endLineNumber===t.selection.startLineNumber&&(d.index<t.index?t.ignoreFirstLine=!0:(d.ignoreFirstLine=!0,d=t))}for(const e of l)n.push(new g(i,e.selection,o.tabSize,this._type,r.insertSpace,r.ignoreEmptyLines,e.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class v extends o.R6{constructor(){super({id:"editor.action.blockComment",label:p.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:r.u.writable,kbOpts:{kbExpr:r.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:m.eH.MenubarEditMenu,group:"5_insert",title:p.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){const i=e.get(a.c_);if(!t.hasModel())return;const n=t.getOption(19),o=[],s=t.getSelections();for(const e of s)o.push(new h(e,n.insertSpace,i));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}(0,o.Qr)(class extends f{constructor(){super(0,{id:"editor.action.commentLine",label:p.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:r.u.writable,kbOpts:{kbExpr:r.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:m.eH.MenubarEditMenu,group:"5_insert",title:p.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),(0,o.Qr)(class extends f{constructor(){super(1,{id:"editor.action.addCommentLine",label:p.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:r.u.writable,kbOpts:{kbExpr:r.u.editorTextFocus,primary:(0,n.gx)(2089,2081),weight:100}})}}),(0,o.Qr)(class extends f{constructor(){super(2,{id:"editor.action.removeCommentLine",label:p.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:r.u.writable,kbOpts:{kbExpr:r.u.editorTextFocus,primary:(0,n.gx)(2089,2099),weight:100}})}}),(0,o.Qr)(v)},3740:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ContextMenuController:()=>v});var n=i(5321),o=i(6033),s=i(4741),r=i(5976),a=i(1432),l=i(6830),d=i(9102),c=i(3580),h=i(4144),u=i(8819),g=i(5606),p=i(1847),m=i(3108),f=function(e,t){return function(i,n){t(i,n,e)}};let v=class e{constructor(e,t,i,o,s,a,l){this._contextMenuService=t,this._contextViewService=i,this._contextKeyService=o,this._keybindingService=s,this._menuService=a,this._configurationService=l,this._toDispose=new r.SL,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu((e=>this._onContextMenu(e)))),this._toDispose.add(this._editor.onMouseWheel((e=>{if(this._contextMenuIsBeingShownCount>0){const t=this._contextViewService.getContextViewElement(),i=e.srcElement;i.shadowRoot&&n.Ay(t)===i.shadowRoot||this._contextViewService.hideContextView()}}))),this._toDispose.add(this._editor.onKeyDown((e=>{this._editor.getOption(20)&&58===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.showContextMenu())})))}static get(t){return t.getContribution(e.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(20))return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(12===e.target.type)return;if(6===e.target.type&&e.target.detail.injectedText)return;if(e.event.preventDefault(),e.event.stopPropagation(),11===e.target.type)return this._showScrollbarContextMenu({x:e.event.posx-1,width:2,y:e.event.posy-1,height:2});if(6!==e.target.type&&7!==e.target.type&&1!==e.target.type)return;if(this._editor.focus(),e.target.position){let t=!1;for(const i of this._editor.getSelections())if(i.containsPosition(e.target.position)){t=!0;break}t||this._editor.setPosition(e.target.position)}let t=null;1!==e.target.type&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(20))return;if(!this._editor.hasModel())return;const t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?h.eH.SimpleEditorContext:h.eH.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const i=[],n=this._menuService.createMenu(t,this._contextKeyService),o=n.getActions({arg:e.uri});n.dispose();for(const t of o){const[,n]=t;let o=0;for(const t of n)if(t instanceof h.NZ){const n=this._getMenuActions(e,t.item.submenu);n.length>0&&(i.push(new s.wY(t.id,t.label,n)),o++)}else i.push(t),o++;o&&i.push(new s.Z0)}return i.length&&i.pop(),i}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const i=this._editor.getOption(55);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const e=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),i=n.i(this._editor.getDomNode()),o=i.left+e.left,s=i.top+e.top+e.height;t={x:o,y:s}}const s=this._editor.getOption(117)&&!a.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:s?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:e=>{const t=this._keybindingFor(e);if(t)return new o.g(e,e,{label:!0,keybinding:t.getLabel(),isMenu:!0});const i=e;return"function"==typeof i.getActionViewItem?i.getActionViewItem():new o.g(e,e,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:e=>this._keybindingFor(e),onHide:e=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:i})}})}_showScrollbarContextMenu(e){if(!this._editor.hasModel())return;const t=this._editor.getOption(67);let i=0;const n=e=>({id:"menu-action-"+ ++i,label:e.label,tooltip:"",class:void 0,enabled:void 0===e.enabled||e.enabled,checked:e.checked,run:e.run,dispose:()=>null}),o=(e,t,o,r,a)=>{if(!t)return n({label:e,enabled:t,run:()=>{}});const l=e=>()=>{this._configurationService.updateValue(o,e)},d=[];for(const e of a)d.push(n({label:e.label,checked:r===e.value,run:l(e.value)}));return((e,t)=>new s.wY("menu-action-"+ ++i,e,t,void 0))(e,d)},r=[];r.push(n({label:c.NC("context.minimap.minimap","Minimap"),checked:t.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!t.enabled)}})),r.push(new s.Z0),r.push(n({label:c.NC("context.minimap.renderCharacters","Render Characters"),enabled:t.enabled,checked:t.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!t.renderCharacters)}})),r.push(o(c.NC("context.minimap.size","Vertical size"),t.enabled,"editor.minimap.size",t.size,[{label:c.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:c.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:c.NC("context.minimap.size.fit","Fit"),value:"fit"}])),r.push(o(c.NC("context.minimap.slider","Slider"),t.enabled,"editor.minimap.showSlider",t.showSlider,[{label:c.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:c.NC("context.minimap.slider.always","Always"),value:"always"}]));const l=this._editor.getOption(117)&&!a.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:()=>e,getActions:()=>r,onHide:e=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};v.ID="editor.contrib.contextmenu",v=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([f(1,g.i),f(2,g.u),f(3,u.i6),f(4,p.d),f(5,h.co),f(6,m.Ui)],v);class _ extends l.R6{constructor(){super({id:"editor.action.showContextMenu",label:c.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:d.u.textInputFocus,primary:1092,weight:100}})}run(e,t){var i;null===(i=v.get(t))||void 0===i||i.showContextMenu()}}(0,l._K)(v.ID,v),(0,l.Qr)(_)},4907:(e,t,i)=>{"use strict";i.r(t);var n=i(6830),o=i(800),s=i(3547),r=i(5321),a=i(5393),l=i(3278),d=i(5976),c=i(1170),h=i(8e3),u=i(9889),g=i(6007),p=i(4314),m=i(1922),f=i(6467),v=i(8762),_=i(5084),b=i(4972),C=i(3108),y=function(e,t){return function(i,n){t(i,n,e)}},w=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const S="application/vnd.code.copyMetadata";let k=class extends d.JT{constructor(e,t,i,n,o){super(),this._bulkEditService=t,this._clipboardService=i,this._configurationService=n,this._languageFeaturesService=o,this._editor=e;const s=e.getContainerDomNode();this._register((0,r.nm)(s,"copy",(e=>this.handleCopy(e)))),this._register((0,r.nm)(s,"cut",(e=>this.handleCopy(e)))),this._register((0,r.nm)(s,"paste",(e=>this.handlePaste(e)),!0))}arePasteActionsEnabled(e){return this._configurationService.getValue("editor.experimental.pasteActions.enabled",{resource:e.uri})}handleCopy(e){var t;if(!e.clipboardData||!this._editor.hasTextFocus())return;const i=this._editor.getModel(),n=this._editor.getSelections();if(!i||!(null==n?void 0:n.length))return;if(!this.arePasteActionsEnabled(i))return;const o=[...n],s=n[0],r=s.isEmpty();if(r){if(!this._editor.getOption(33))return;o[0]=new p.e(s.startLineNumber,0,s.startLineNumber,i.getLineLength(s.startLineNumber))}const l=this._languageFeaturesService.documentPasteEditProvider.ordered(i).filter((e=>!!e.prepareDocumentPaste));if(!l.length)return void this.setCopyMetadata(e.clipboardData,{wasFromEmptySelection:r});const d=(0,u.Bo)(e.clipboardData),c=(0,h.R)();this.setCopyMetadata(e.clipboardData,{id:c,wasFromEmptySelection:r});const g=(0,a.PG)((e=>w(this,void 0,void 0,(function*(){const t=yield Promise.all(l.map((t=>t.prepareDocumentPaste(i,o,d,e))));for(const e of t)null==e||e.forEach(((e,t)=>{d.replace(t,e)}));return d}))));null===(t=this._currentClipboardItem)||void 0===t||t.dataTransferPromise.cancel(),this._currentClipboardItem={handle:c,dataTransferPromise:g}}setCopyMetadata(e,t){e.setData(S,JSON.stringify(t))}handlePaste(e){var t,i,n;return w(this,void 0,void 0,(function*(){if(!e.clipboardData||!this._editor.hasTextFocus())return;const o=this._editor.getSelections();if(!(null==o?void 0:o.length)||!this._editor.hasModel())return;const r=this._editor.getModel();if(!this.arePasteActionsEnabled(r))return;let a;const d=null===(t=e.clipboardData)||void 0===t?void 0:t.getData(S);d&&"string"==typeof d&&(a=JSON.parse(d));const h=this._languageFeaturesService.documentPasteEditProvider.ordered(r);if(!h.length)return;e.preventDefault(),e.stopImmediatePropagation();const p=r.getVersionId(),m=new f.Dl(this._editor,3);try{const t=(0,u.Bo)(e.clipboardData);if((null==a?void 0:a.id)&&(null===(i=this._currentClipboardItem)||void 0===i?void 0:i.handle)===a.id&&(yield this._currentClipboardItem.dataTransferPromise).forEach(((e,i)=>{t.replace(i,e)})),!t.has(c.v.uriList)){const e=yield this._clipboardService.readResources();e.length&&t.append(c.v.uriList,(0,l.ZO)(u.Z0.create(e)))}t.delete(S);for(const e of h){if(!e.pasteMimeTypes.some((e=>e.toLowerCase()===s.g.FILES.toLowerCase()?[...t.values()].some((e=>e.asFile())):t.has(e))))continue;const i=yield e.provideDocumentPasteEdits(r,o,t,m.token);if(p!==r.getVersionId())return;if(i)return(0,v.performSnippetEdit)(this._editor,"string"==typeof i.insertText?_.Yj.escape(i.insertText):i.insertText.snippet,o),void(i.additionalEdit&&(yield this._bulkEditService.apply(g.fo.convert(i.additionalEdit),{editor:this._editor})))}const d=null!==(n=t.get(c.v.text))&&void 0!==n?n:t.get("text");if(!d)return;const f=yield d.asString();if(p!==r.getVersionId())return;this._editor.trigger("keyboard","paste",{text:f,pasteOnNewLine:null==a?void 0:a.wasFromEmptySelection,multicursorText:null})}finally{m.dispose()}}))}};k.ID="editor.contrib.copyPasteActionController",k=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([y(1,g.vu),y(2,b.p),y(3,C.Ui),y(4,m.p)],k);var L=i(3580),x=i(3193),I=i(9872);(0,n._K)(k.ID,k),I.B.as(x.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},o.wk),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:L.NC("pasteActions","Enable/disable running edits from extensions on paste."),default:!1}}}))},1895:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CursorRedo:()=>h,CursorUndo:()=>c,CursorUndoRedoController:()=>d});var n=i(5976),o=i(6830),s=i(9102),r=i(3580);class a{constructor(e){this.selections=e}equals(e){const t=this.selections.length;if(t!==e.selections.length)return!1;for(let i=0;i<t;i++)if(!this.selections[i].equalsSelection(e.selections[i]))return!1;return!0}}class l{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}}class d extends n.JT{constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel((e=>{this._undoStack=[],this._redoStack=[]}))),this._register(e.onDidChangeModelContent((e=>{this._undoStack=[],this._redoStack=[]}))),this._register(e.onDidChangeCursorSelection((t=>{if(this._isCursorUndoRedo)return;if(!t.oldSelections)return;if(t.oldModelVersionId!==t.modelVersionId)return;const i=new a(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i)||(this._undoStack.push(new l(i,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())})))}static get(e){return e.getContribution(d.ID)}cursorUndo(){this._editor.hasModel()&&0!==this._undoStack.length&&(this._redoStack.push(new l(new a(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){this._editor.hasModel()&&0!==this._redoStack.length&&(this._undoStack.push(new l(new a(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}d.ID="editor.contrib.cursorUndoRedoController";class c extends o.R6{constructor(){super({id:"cursorUndo",label:r.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:s.u.textInputFocus,primary:2099,weight:100}})}run(e,t,i){var n;null===(n=d.get(t))||void 0===n||n.cursorUndo()}}class h extends o.R6{constructor(){super({id:"cursorRedo",label:r.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,i){var n;null===(n=d.get(t))||void 0===n||n.cursorRedo()}}(0,o._K)(d.ID,d),(0,o.Qr)(c),(0,o.Qr)(h)},6022:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DragAndDropController:()=>u});var n=i(5976),o=i(1432),s=i(6830),r=i(187),a=i(4314),l=i(3860),d=i(2035);class c{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){const i=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new a.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new l.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new l.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new l.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new l.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new l.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection}computeCursorState(e,t){return this.targetSelection}}function h(e){return o.dz?e.altKey:e.ctrlKey}class u extends n.JT{constructor(e){super(),this._editor=e,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown((e=>this._onEditorMouseDown(e)))),this._register(this._editor.onMouseUp((e=>this._onEditorMouseUp(e)))),this._register(this._editor.onMouseDrag((e=>this._onEditorMouseDrag(e)))),this._register(this._editor.onMouseDrop((e=>this._onEditorMouseDrop(e)))),this._register(this._editor.onMouseDropCanceled((()=>this._onEditorMouseDropCanceled()))),this._register(this._editor.onKeyDown((e=>this.onEditorKeyDown(e)))),this._register(this._editor.onKeyUp((e=>this.onEditorKeyUp(e)))),this._register(this._editor.onDidBlurEditorWidget((()=>this.onEditorBlur()))),this._register(this._editor.onDidBlurEditorText((()=>this.onEditorBlur()))),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){this._editor.getOption(31)&&!this._editor.getOption(18)&&(h(e)&&(this._modifierPressed=!0),this._mouseDown&&h(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){this._editor.getOption(31)&&!this._editor.getOption(18)&&(h(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===u.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){const t=e.target;if(null===this._dragSelection){const e=(this._editor.getSelections()||[]).filter((e=>t.position&&e.containsPosition(t.position)));if(1!==e.length)return;this._dragSelection=e[0]}h(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){const t=new r.L(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){let i=null;if(e.event.shiftKey){const e=this._editor.getSelection();if(e){const{selectionStartLineNumber:n,selectionStartColumn:o}=e;i=[new l.Y(n,o,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map((e=>e.containsPosition(t)?new l.Y(t.lineNumber,t.column,t.lineNumber,t.column):e));this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(h(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(u.ID,new c(this._dragSelection,t,h(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){this._dndDecorationIds.set([{range:new a.e(e.lineNumber,e.column,e.lineNumber,e.column),options:u._DECORATION_OPTIONS}]),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(e){return 6===e.type||7===e.type}_hitMargin(e){return 2===e.type||3===e.type||4===e.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}u.ID="editor.contrib.dragAndDrop",u.TRIGGER_KEY_VALUE=o.dz?6:5,u._DECORATION_OPTIONS=d.qx.register({description:"dnd-target",className:"dnd-target"}),(0,s._K)(u.ID,u)},6917:(e,t,i)=>{"use strict";i.r(t);var n=i(1050),o=i(8401),s=i(666),r=i(8216),a=i(335),l=i(4565);l.P0.registerCommand("_executeDocumentSymbolProvider",(function(e,...t){return i=this,l=void 0,c=function*(){const[i]=t;(0,o.p_)(s.o.isUri(i));const l=e.get(a.Je),d=e.get(r.S),c=yield d.createModelReference(i);try{return(yield l.getOrCreate(c.object.textEditorModel,n.T.None)).getTopLevelSymbols()}finally{c.dispose()}},new((d=void 0)||(d=Promise))((function(e,t){function n(e){try{s(c.next(e))}catch(e){t(e)}}function o(e){try{s(c.throw(e))}catch(e){t(e)}}function s(t){var i;t.done?e(t.value):(i=t.value,i instanceof d?i:new d((function(e){e(i)}))).then(n,o)}s((c=c.apply(i,l||[])).next())}));var i,l,d,c}))},335:(e,t,i)=>{"use strict";i.d(t,{C3:()=>C,Je:()=>y,sT:()=>_});var n=i(9488),o=i(1050),s=i(7301),r=i(3725),a=i(3702),l=i(187),d=i(4314),c=i(8191),h=i(2065),u=i(5026),g=i(3733),p=i(5976),m=i(1922),f=function(e,t){return function(i,n){t(i,n,e)}};class v{remove(){var e;null===(e=this.parent)||void 0===e||e.children.delete(this.id)}static findId(e,t){let i;"string"==typeof e?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,void 0!==t.children.get(i)&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let n=i;for(let e=0;void 0!==t.children.get(n);e++)n=`${i}_${e}`;return n}static empty(e){return 0===e.children.size}}class _ extends v{constructor(e,t,i){super(),this.id=e,this.parent=t,this.symbol=i,this.children=new Map}}class b extends v{constructor(e,t,i,n){super(),this.id=e,this.parent=t,this.label=i,this.order=n,this.children=new Map}}class C extends v{constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(e,t,i){const r=new o.A(i),a=new C(t.uri),l=e.ordered(t),d=l.map(((e,i)=>{var n;const o=v.findId(`provider_${i}`,a),l=new b(o,a,null!==(n=e.displayName)&&void 0!==n?n:"Unknown Outline Provider",i);return Promise.resolve(e.provideDocumentSymbols(t,r.token)).then((e=>{for(const t of e||[])C._makeOutlineElement(t,l);return l}),(e=>((0,s.Cp)(e),l))).then((e=>{v.empty(e)?e.remove():a._groups.set(o,e)}))})),c=e.onDidChange((()=>{const i=e.ordered(t);(0,n.fS)(i,l)||r.cancel()}));return Promise.all(d).then((()=>r.token.isCancellationRequested&&!i.isCancellationRequested?C.create(e,t,i):a._compact())).finally((()=>{c.dispose()}))}static _makeOutlineElement(e,t){const i=v.findId(e,t),n=new _(i,t,e);if(e.children)for(const t of e.children)C._makeOutlineElement(t,n);t.children.set(n.id,n)}_compact(){let e=0;for(const[t,i]of this._groups)0===i.children.size?this._groups.delete(t):e+=1;if(1!==e)this.children=this._groups;else{const e=r.$.first(this._groups.values());for(const[,t]of e.children)t.parent=this,this.children.set(t.id,t)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof _?e.push(t.symbol):e.push(...r.$.map(t.children.values(),(e=>e.symbol)));return e.sort(((e,t)=>d.e.compareRangesUsingStarts(e.range,t.range)))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return C._flattenDocumentSymbols(t,e,""),t.sort(((e,t)=>l.L.compare(d.e.getStartPosition(e.range),d.e.getStartPosition(t.range))||l.L.compare(d.e.getEndPosition(t.range),d.e.getEndPosition(e.range))))}static _flattenDocumentSymbols(e,t,i){for(const n of t)e.push({kind:n.kind,tags:n.tags,name:n.name,detail:n.detail,containerName:n.containerName||i,range:n.range,selectionRange:n.selectionRange,children:void 0}),n.children&&C._flattenDocumentSymbols(e,n.children,n.name)}}const y=(0,h.yh)("IOutlineModelService");let w=class{constructor(e,t,i){this._languageFeaturesService=e,this._disposables=new p.SL,this._cache=new a.z6(10,.7),this._debounceInformation=t.for(e.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(i.onModelRemoved((e=>{this._cache.delete(e.id)})))}dispose(){this._disposables.dispose()}getOrCreate(e,t){return i=this,s=void 0,a=function*(){const i=this._languageFeaturesService.documentSymbolProvider,s=i.ordered(e);let r=this._cache.get(e.id);if(!r||r.versionId!==e.getVersionId()||!(0,n.fS)(r.provider,s)){const t=new o.A;r={versionId:e.getVersionId(),provider:s,promiseCnt:0,source:t,promise:C.create(i,e,t.token),model:void 0},this._cache.set(e.id,r);const n=Date.now();r.promise.then((t=>{r.model=t,this._debounceInformation.update(e,Date.now()-n)})).catch((t=>{this._cache.delete(e.id)}))}if(r.model)return r.model;r.promiseCnt+=1;const a=t.onCancellationRequested((()=>{0==--r.promiseCnt&&(r.source.cancel(),this._cache.delete(e.id))}));try{return yield r.promise}finally{a.dispose()}},new((r=void 0)||(r=Promise))((function(e,t){function n(e){try{l(a.next(e))}catch(e){t(e)}}function o(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof r?i:new r((function(e){e(i)}))).then(n,o)}l((a=a.apply(i,s||[])).next())}));var i,s,r,a}};w=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([f(0,m.p),f(1,c.A),f(2,g.q)],w),(0,u.z)(y,w,!0)},2482:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DropIntoEditorController:()=>k});var n=i(5393),o=i(3278),s=i(5976),r=i(1170),a=i(5935),l=i(666),d=i(9889),c=i(6830),h=i(6007),u=i(4314),g=i(3860),p=i(1922),m=i(6467),f=i(8762),v=i(5084),_=i(3580),b=i(535),C=i(382),y=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},w=function(e,t){return function(i,n){t(i,n,e)}},S=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let k=class extends s.JT{constructor(e,t,i,n,o){super(),this._bulkEditService=t,this._languageFeaturesService=i,this._progressService=n,this._register(e.onDropIntoEditor((t=>this.onDropIntoEditor(e,t.position,t.event)))),this._languageFeaturesService.documentOnDropEditProvider.register("*",new L(o))}onDropIntoEditor(e,t,i){return S(this,void 0,void 0,(function*(){if(!i.dataTransfer||!e.hasModel())return;const o=e.getModel(),s=o.getVersionId(),r=yield this.extractDataTransferData(i);if(0===r.size)return;if(e.getModel().getVersionId()!==s)return;const a=new m.Dl(e,1);try{const i=this._languageFeaturesService.documentOnDropEditProvider.ordered(o),l=yield this._progressService.withProgress({location:15,delay:750,title:(0,_.NC)("dropProgressTitle","Running drop handlers..."),cancellable:!0},(()=>(0,n.eP)((()=>S(this,void 0,void 0,(function*(){for(const e of i){const i=yield e.provideDocumentOnDropEdits(o,t,r,a.token);if(a.token.isCancellationRequested)return;if(i)return i}})))(),a.token)),(()=>{a.cancel()}));if(a.token.isCancellationRequested||e.getModel().getVersionId()!==s)return;if(l){const i=new u.e(t.lineNumber,t.column,t.lineNumber,t.column);return(0,f.performSnippetEdit)(e,"string"==typeof l.insertText?v.Yj.escape(l.insertText):l.insertText.snippet,[g.Y.fromRange(i,0)]),void(l.additionalEdit&&(yield this._bulkEditService.apply(h.fo.convert(l.additionalEdit),{editor:e})))}}finally{a.dispose()}}))}extractDataTransferData(e){return S(this,void 0,void 0,(function*(){if(!e.dataTransfer)return new o.Hl;const t=(0,d.Bo)(e.dataTransfer);return(0,d.dR)(t,e),t}))}};k.ID="editor.contrib.dropIntoEditorController",k=y([w(1,h.vu),w(2,p.p),w(3,b.R9),w(4,C.ec)],k);let L=class{constructor(e){this._workspaceContextService=e}provideDocumentOnDropEdits(e,t,i,n){var o;return S(this,void 0,void 0,(function*(){const e=i.get(r.v.uriList);if(e){const t=yield e.asString(),i=this.getUriListInsertText(t);if(i)return{insertText:i}}const t=null!==(o=i.get("text"))&&void 0!==o?o:i.get(r.v.text);if(t)return{insertText:yield t.asString()}}))}getUriListInsertText(e){const t=[];for(const i of d.Z0.parse(e))try{t.push(l.o.parse(i))}catch(e){}if(t.length)return t.map((e=>{const t=this._workspaceContextService.getWorkspaceFolder(e);if(t){const i=(0,a.lX)(t.uri,e);if(i)return i}return e.fsPath})).join(" ")}};L=y([w(0,C.ec)],L),(0,c._K)(k.ID,k)},6467:(e,t,i)=>{"use strict";i.d(t,{yy:()=>f,Dl:()=>v,YQ:()=>_});var n=i(7295),o=i(4314),s=i(1050),r=i(5976),a=i(6830),l=i(8819),d=i(1741),c=i(2065),h=i(5026),u=i(3580);const g=(0,c.yh)("IEditorCancelService"),p=new l.uy("cancellableOperation",!1,(0,u.NC)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,h.z)(g,class{constructor(){this._tokens=new WeakMap}add(e,t){let i,n=this._tokens.get(e);return n||(n=e.invokeWithinContext((e=>({key:p.bindTo(e.get(l.i6)),tokens:new d.S}))),this._tokens.set(e,n)),n.key.set(!0),i=n.tokens.push(t),()=>{i&&(i(),n.key.set(!n.tokens.isEmpty()),i=void 0)}}cancel(e){const t=this._tokens.get(e);if(!t)return;const i=t.tokens.pop();i&&(i.cancel(),t.key.set(!t.tokens.isEmpty()))}},!0);class m extends s.A{constructor(e,t){super(t),this.editor=e,this._unregister=e.invokeWithinContext((t=>t.get(g).add(e,this)))}dispose(){this._unregister(),super.dispose()}}(0,a.fK)(new class extends a._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:p})}runEditorCommand(e,t){e.get(g).cancel(t)}});class f{constructor(e,t){if(this.flags=t,0!=(1&this.flags)){const t=e.getModel();this.modelVersionId=t?n.WU("{0}#{1}",t.uri.toString(),t.getVersionId()):null}else this.modelVersionId=null;0!=(4&this.flags)?this.position=e.getPosition():this.position=null,0!=(2&this.flags)?this.selection=e.getSelection():this.selection=null,0!=(8&this.flags)?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(e){if(!(e instanceof f))return!1;const t=e;return this.modelVersionId===t.modelVersionId&&this.scrollLeft===t.scrollLeft&&this.scrollTop===t.scrollTop&&!(!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position))&&!(!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))}validate(e){return this._equals(new f(e,this.flags))}}class v extends m{constructor(e,t,i,n){super(e,n),this._listener=new r.SL,4&t&&this._listener.add(e.onDidChangeCursorPosition((e=>{i&&o.e.containsPosition(i,e.position)||this.cancel()}))),2&t&&this._listener.add(e.onDidChangeCursorSelection((e=>{i&&o.e.containsRange(i,e.selection)||this.cancel()}))),8&t&&this._listener.add(e.onDidScrollChange((e=>this.cancel()))),1&t&&(this._listener.add(e.onDidChangeModel((e=>this.cancel()))),this._listener.add(e.onDidChangeModelContent((e=>this.cancel()))))}dispose(){this._listener.dispose(),super.dispose()}}class _ extends s.A{constructor(e,t){super(t),this._listener=e.onDidChangeContent((()=>this.cancel()))}dispose(){this._listener.dispose(),super.dispose()}}},1633:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CommonFindController:()=>Xe,FindController:()=>et,MatchFindAction:()=>st,NextMatchFindAction:()=>rt,NextSelectionMatchFindAction:()=>dt,PreviousMatchFindAction:()=>at,PreviousSelectionMatchFindAction:()=>ct,SelectionMatchFindAction:()=>lt,StartFindAction:()=>tt,StartFindReplaceAction:()=>ht,StartFindWithArgsAction:()=>nt,StartFindWithSelectionAction:()=>ot,getSelectionSearchString:()=>Je});var n=i(5393),o=i(5976),s=i(7295),r=i(6830),a=i(9102),l=i(9488),d=i(1329),c=i(187),h=i(4314),u=i(3860),g=i(7277),p=i(4973),m=i(2035),f=i(3910),v=i(7781);class _{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map((e=>this._editor.getModel().getDecorationRange(e))).filter((e=>!!e));if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){const t=this._editor.getModel().getDecorationsInRange(e);for(const e of t){const t=e.options;if(t===_._FIND_MATCH_DECORATION||t===_._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(e.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let n=0,o=this._decorations.length;n<o;n++){const o=this._editor.getModel().getDecorationRange(this._decorations[n]);if(e.equalsRange(o)){t=this._decorations[n],i=n+1;break}}return null===this._highlightedDecorationId&&null===t||this._editor.changeDecorations((e=>{if(null!==this._highlightedDecorationId&&(e.changeDecorationOptions(this._highlightedDecorationId,_._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==t&&(this._highlightedDecorationId=t,e.changeDecorationOptions(this._highlightedDecorationId,_._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(e.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==t){let i=this._editor.getModel().getDecorationRange(t);if(i.startLineNumber!==i.endLineNumber&&1===i.endColumn){const e=i.endLineNumber-1,t=this._editor.getModel().getLineMaxColumn(e);i=new h.e(i.startLineNumber,i.startColumn,e,t)}this._rangeHighlightDecorationId=e.addDecoration(i,_._RANGE_HIGHLIGHT_DECORATION)}})),i}set(e,t){this._editor.changeDecorations((i=>{let n=_._FIND_MATCH_DECORATION;const o=[];if(e.length>1e3){n=_._FIND_MATCH_NO_OVERVIEW_DECORATION;const t=this._editor.getModel().getLineCount(),i=this._editor.getLayoutInfo().height/t,s=Math.max(2,Math.ceil(3/i));let r=e[0].range.startLineNumber,a=e[0].range.endLineNumber;for(let t=1,i=e.length;t<i;t++){const i=e[t].range;a+s>=i.startLineNumber?i.endLineNumber>a&&(a=i.endLineNumber):(o.push({range:new h.e(r,1,a,1),options:_._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),r=i.startLineNumber,a=i.endLineNumber)}o.push({range:new h.e(r,1,a,1),options:_._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const s=new Array(e.length);for(let t=0,i=e.length;t<i;t++)s[t]={range:e[t].range,options:n};this._decorations=i.deltaDecorations(this._decorations,s),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,o),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach((e=>i.removeDecoration(e))),this._findScopeDecorationIds=[]),(null==t?void 0:t.length)&&(this._findScopeDecorationIds=t.map((e=>i.addDecoration(e,_._FIND_SCOPE_DECORATION))))}))}matchBeforePosition(e){if(0===this._decorations.length)return null;for(let t=this._decorations.length-1;t>=0;t--){const i=this._decorations[t],n=this._editor.getModel().getDecorationRange(i);if(n&&!(n.endLineNumber>e.lineNumber)){if(n.endLineNumber<e.lineNumber)return n;if(!(n.endColumn>e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(0===this._decorations.length)return null;for(let t=0,i=this._decorations.length;t<i;t++){const i=this._decorations[t],n=this._editor.getModel().getDecorationRange(i);if(n&&!(n.startLineNumber<e.lineNumber)){if(n.startLineNumber>e.lineNumber)return n;if(!(n.startColumn<e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}_._CURRENT_FIND_MATCH_DECORATION=m.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,v.EN)(f.Fm_),position:p.sh.Center},minimap:{color:(0,v.EN)(f.SUY),position:p.F5.Inline}}),_._FIND_MATCH_DECORATION=m.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,v.EN)(f.Fm_),position:p.sh.Center},minimap:{color:(0,v.EN)(f.SUY),position:p.F5.Inline}}),_._FIND_MATCH_NO_OVERVIEW_DECORATION=m.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),_._FIND_MATCH_ONLY_OVERVIEW_DECORATION=m.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,v.EN)(f.Fm_),position:p.sh.Center}}),_._RANGE_HIGHLIGHT_DECORATION=m.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),_._FIND_SCOPE_DECORATION=m.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class b{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){const e=[];for(let t=0;t<this._ranges.length;t++)e.push({range:this._ranges[t],text:this._replaceStrings[t]});e.sort(((e,t)=>h.e.compareRangesUsingStarts(e.range,t.range)));const i=[];let n=e[0];for(let t=1;t<e.length;t++)n.range.endLineNumber===e[t].range.startLineNumber&&n.range.endColumn===e[t].range.startColumn?(n.range=n.range.plusRange(e[t].range),n.text=n.text+e[t].text):(i.push(n),n=e[t]);i.push(n);for(const e of i)t.addEditOperation(e.range,e.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function C(e,t){if(e&&""!==e[0]){const i=y(e,t,"-"),n=y(e,t,"_");return i&&!n?w(e,t,"-"):!i&&n?w(e,t,"_"):e[0].toUpperCase()===e[0]?t.toUpperCase():e[0].toLowerCase()===e[0]?t.toLowerCase():s.Kw(e[0][0])&&t.length>0?t[0].toUpperCase()+t.substr(1):e[0][0].toUpperCase()!==e[0][0]&&t.length>0?t[0].toLowerCase()+t.substr(1):t}return t}function y(e,t,i){return-1!==e[0].indexOf(i)&&-1!==t.indexOf(i)&&e[0].split(i).length===t.split(i).length}function w(e,t,i){const n=t.split(i),o=e[0].split(i);let s="";return n.forEach(((e,t)=>{s+=C([o[t]],e)+i})),s.slice(0,-1)}class S{constructor(e){this.staticValue=e,this.kind=0}}class k{constructor(e){this.pieces=e,this.kind=1}}class L{constructor(e){e&&0!==e.length?1===e.length&&null!==e[0].staticValue?this._state=new S(e[0].staticValue):this._state=new k(e):this._state=new S("")}static fromStaticValue(e){return new L([x.staticValue(e)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(e,t){if(0===this._state.kind)return t?C(e,this._state.staticValue):this._state.staticValue;let i="";for(let t=0,n=this._state.pieces.length;t<n;t++){const n=this._state.pieces[t];if(null!==n.staticValue){i+=n.staticValue;continue}let o=L._substitute(n.matchIndex,e);if(null!==n.caseOps&&n.caseOps.length>0){const e=[],t=n.caseOps.length;let i=0;for(let s=0,r=o.length;s<r;s++){if(i>=t){e.push(o.slice(s));break}switch(n.caseOps[i]){case"U":e.push(o[s].toUpperCase());break;case"u":e.push(o[s].toUpperCase()),i++;break;case"L":e.push(o[s].toLowerCase());break;case"l":e.push(o[s].toLowerCase()),i++;break;default:e.push(o[s])}}o=e.join("")}i+=o}return i}static _substitute(e,t){if(null===t)return"";if(0===e)return t[0];let i="";for(;e>0;){if(e<t.length)return(t[e]||"")+i;i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}}class x{constructor(e,t,i){this.staticValue=e,this.matchIndex=t,i&&0!==i.length?this.caseOps=i.slice(0):this.caseOps=null}static staticValue(e){return new x(e,-1,null)}static caseOps(e,t){return new x(null,e,t)}}class I{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){0!==e.length&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=x.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=x.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=x.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new L(this._result)}}var D=i(8819);const N=new D.uy("findWidgetVisible",!1),E=(N.toNegated(),new D.uy("findInputFocussed",!1)),A=new D.uy("replaceInputFocussed",!1),T={primary:545,mac:{primary:2593}},M={primary:565,mac:{primary:2613}},R={primary:560,mac:{primary:2608}},P={primary:554,mac:{primary:2602}},O={primary:558,mac:{primary:2606}},V="editor.action.nextMatchFindAction",F="editor.action.previousMatchFindAction",W="closeFindWidget",z="toggleFindCaseSensitive",B="toggleFindWholeWord",U="toggleFindRegex",H="toggleFindInSelection",G="togglePreserveCase",j="editor.action.replaceOne",K="editor.action.replaceAll",$=19999;class q{constructor(e,t){this._toDispose=new o.SL,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new n._F,this._decorations=new _(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new n.pY((()=>this.research(!1)),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition((e=>{3!==e.reason&&5!==e.reason&&6!==e.reason||this._decorations.setStartPosition(this._editor.getPosition())}))),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent((e=>{this._ignoreModelContentChanged||(e.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())}))),this._toDispose.add(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,o.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){!this._isDisposed&&this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet((()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}),240)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;void 0!==t?null!==t&&(i=Array.isArray(t)?t:[t]):i=this._decorations.getFindScopes(),null!==i&&(i=i.map((e=>{if(e.startLineNumber!==e.endLineNumber){let t=e.endLineNumber;return 1===e.endColumn&&(t-=1),new h.e(e.startLineNumber,1,t,this._editor.getModel().getLineMaxColumn(t))}return e})));const n=this._findMatches(i,!1,$);this._decorations.set(n,i);const o=this._editor.getSelection();let s=this._decorations.getCurrentMatchesPosition(o);if(0===s&&n.length>0){const e=(0,l.lG)(n.map((e=>e.range)),(e=>h.e.compareRangesUsingStarts(e,o)>=0));s=e>0?e-1+1:s}this._state.changeMatchInfo(s,this._decorations.getCount(),void 0),e&&this._editor.getOption(37).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){const t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:i,column:n}=e;const o=this._editor.getModel();return t||1===n?(1===i?i=o.getLineCount():i--,n=o.getLineMaxColumn(i)):n--,new c.L(i,n)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const t=this._decorations.matchAfterPosition(e);return void(t&&this._setCurrentFindMatch(t))}if(this._decorations.getCount()<$){let t=this._decorations.matchBeforePosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),t=this._decorations.matchBeforePosition(e)),void(t&&this._setCurrentFindMatch(t))}if(this._cannotFind())return;const i=this._decorations.getFindScope(),n=q._getSearchRange(this._editor.getModel(),i);n.getEndPosition().isBefore(e)&&(e=n.getEndPosition()),e.isBefore(n.getStartPosition())&&(e=n.getEndPosition());const{lineNumber:o,column:s}=e,r=this._editor.getModel();let a=new c.L(o,s),l=r.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1);return l&&l.range.isEmpty()&&l.range.getStartPosition().equals(a)&&(a=this._prevSearchPosition(a),l=r.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1)),l?t||n.containsRange(l.range)?void this._setCurrentFindMatch(l.range):this._moveToPrevMatch(l.range.getStartPosition(),!0):void 0}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:i,column:n}=e;const o=this._editor.getModel();return t||n===o.getLineMaxColumn(i)?(i===o.getLineCount()?i=1:i++,n=1):n++,new c.L(i,n)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const t=this._decorations.matchBeforePosition(e);return void(t&&this._setCurrentFindMatch(t))}if(this._decorations.getCount()<$){let t=this._decorations.matchAfterPosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),void(t&&this._setCurrentFindMatch(t))}const t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,n=!1){if(this._cannotFind())return null;const o=this._decorations.getFindScope(),s=q._getSearchRange(this._editor.getModel(),o);s.getEndPosition().isBefore(e)&&(e=s.getStartPosition()),e.isBefore(s.getStartPosition())&&(e=s.getStartPosition());const{lineNumber:r,column:a}=e,l=this._editor.getModel();let d=new c.L(r,a),h=l.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,t);return i&&h&&h.range.isEmpty()&&h.range.getStartPosition().equals(d)&&(d=this._nextSearchPosition(d),h=l.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,t)),h?n||s.containsRange(h.range)?h:this._getNextMatch(h.range.getEndPosition(),t,i,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?function(e){if(!e||0===e.length)return new L(null);const t=[],i=new I(e);for(let n=0,o=e.length;n<o;n++){const s=e.charCodeAt(n);if(92!==s){if(36===s){if(n++,n>=o)break;const s=e.charCodeAt(n);if(36===s){i.emitUnchanged(n-1),i.emitStatic("$",n+1);continue}if(48===s||38===s){i.emitUnchanged(n-1),i.emitMatchIndex(0,n+1,t),t.length=0;continue}if(49<=s&&s<=57){let r=s-48;if(n+1<o){const o=e.charCodeAt(n+1);if(48<=o&&o<=57){n++,r=10*r+(o-48),i.emitUnchanged(n-2),i.emitMatchIndex(r,n+1,t),t.length=0;continue}}i.emitUnchanged(n-1),i.emitMatchIndex(r,n+1,t),t.length=0;continue}}}else{if(n++,n>=o)break;const s=e.charCodeAt(n);switch(s){case 92:i.emitUnchanged(n-1),i.emitStatic("\\",n+1);break;case 110:i.emitUnchanged(n-1),i.emitStatic("\n",n+1);break;case 116:i.emitUnchanged(n-1),i.emitStatic("\t",n+1);break;case 117:case 85:case 108:case 76:i.emitUnchanged(n-1),i.emitStatic("",n+1),t.push(String.fromCharCode(s))}}}return i.finalize()}(this._state.replaceString):L.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){const n=e.buildReplaceString(i.matches,this._state.preserveCase),o=new d.T4(t,n);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new c.L(t.startLineNumber,t.startColumn+n.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){const n=(e||[null]).map((e=>q._getSearchRange(this._editor.getModel(),e)));return this._editor.getModel().findMatches(this._state.searchString,n,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,t,i)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();null===e&&this._state.matchesCount>=$?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const e=new g.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null).parseSearchRequest();if(!e)return;let t=e.regex;if(!t.multiline){let e="mu";t.ignoreCase&&(e+="i"),t.global&&(e+="g"),t=new RegExp(t.source,e)}const i=this._editor.getModel(),n=i.getValue(1),o=i.getFullModelRange(),s=this._getReplacePattern();let r;const a=this._state.preserveCase;r=s.hasReplacementPatterns||a?n.replace(t,(function(){return s.buildReplaceString(arguments,a)})):n.replace(t,s.buildReplaceString(null,a));const l=new d.hP(o,r,this._editor.getSelection());this._executeEditorCommand("replaceAll",l)}_regularReplaceAll(e){const t=this._getReplacePattern(),i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),n=[];for(let e=0,o=i.length;e<o;e++)n[e]=t.buildReplaceString(i[e].matches,this._state.preserveCase);const o=new b(this._editor.getSelection(),i.map((e=>e.range)),n);this._executeEditorCommand("replaceAll",o)}selectAllMatches(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();let t=this._findMatches(e,!1,1073741824).map((e=>new u.Y(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)));const i=this._editor.getSelection();for(let e=0,n=t.length;e<n;e++)if(t[e].equalsRange(i)){t=[i].concat(t.slice(0,e)).concat(t.slice(e+1));break}this._editor.setSelections(t)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var Y=i(5321),Q=i(1307),Z=i(3794);class J extends Z.${constructor(e,t,i,o){super(),this._hideSoon=this._register(new n.pY((()=>this._hide()),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const s=o.getColorTheme().getColor(f.PRb),r=o.getColorTheme().getColor(f.Pvw),a=o.getColorTheme().getColor(f.XEs);this.caseSensitive=this._register(new Q.rk({appendTitle:this._keybindingLabelFor(z),isChecked:this._state.matchCase,inputActiveOptionBorder:s,inputActiveOptionForeground:r,inputActiveOptionBackground:a})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange((()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)}))),this.wholeWords=this._register(new Q.Qx({appendTitle:this._keybindingLabelFor(B),isChecked:this._state.wholeWord,inputActiveOptionBorder:s,inputActiveOptionForeground:r,inputActiveOptionBackground:a})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange((()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)}))),this.regex=this._register(new Q.eH({appendTitle:this._keybindingLabelFor(U),isChecked:this._state.isRegex,inputActiveOptionBorder:s,inputActiveOptionForeground:r,inputActiveOptionBackground:a})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange((()=>{this._state.change({isRegex:this.regex.checked},!1)}))),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange((e=>{let t=!1;e.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),e.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),e.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()}))),this._register(Y.nm(this._domNode,Y.tw.MOUSE_LEAVE,(e=>this._onMouseLeave()))),this._register(Y.nm(this._domNode,"mouseover",(e=>this._onMouseOver()))),this._applyTheme(o.getColorTheme()),this._register(o.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return J.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){const t={inputActiveOptionBorder:e.getColor(f.PRb),inputActiveOptionForeground:e.getColor(f.Pvw),inputActiveOptionBackground:e.getColor(f.XEs)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}}J.ID="editor.contrib.findOptionsWidget",(0,v.Ic)(((e,t)=>{const i=e.getColor(f.D0T);i&&t.addRule(`.monaco-editor .findOptionsWidget { background-color: ${i}; }`);const n=e.getColor(f.Hfx);n&&t.addRule(`.monaco-editor .findOptionsWidget { color: ${n}; }`);const o=e.getColor(f.rh);o&&t.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${o}; }`);const s=e.getColor(f.lRK);s&&t.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${s}; }`)}));var X=i(4669);function ee(e,t){return 1===e||2!==e&&t}class te extends o.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new X.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return ee(this._isRegexOverride,this._isRegex)}get wholeWord(){return ee(this._wholeWordOverride,this._wholeWord)}get matchCase(){return ee(this._matchCaseOverride,this._matchCase)}get preserveCase(){return ee(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,i){const n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let o=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,n.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,n.matchesCount=!0,o=!0),void 0!==i&&(h.e.equalsRange(this._currentMatch,i)||(this._currentMatch=i,n.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(n)}change(e,t,i=!0){var n;const o={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let s=!1;const r=this.isRegex,a=this.wholeWord,l=this.matchCase,d=this.preserveCase;void 0!==e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,s=!0),void 0!==e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,s=!0),void 0!==e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,s=!0),void 0!==e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,s=!0),void 0!==e.isRegex&&(this._isRegex=e.isRegex),void 0!==e.wholeWord&&(this._wholeWord=e.wholeWord),void 0!==e.matchCase&&(this._matchCase=e.matchCase),void 0!==e.preserveCase&&(this._preserveCase=e.preserveCase),void 0!==e.searchScope&&((null===(n=e.searchScope)||void 0===n?void 0:n.every((e=>{var t;return null===(t=this._searchScope)||void 0===t?void 0:t.some((t=>!h.e.equalsRange(t,e)))})))||(this._searchScope=e.searchScope,o.searchScope=!0,s=!0)),void 0!==e.loop&&this._loop!==e.loop&&(this._loop=e.loop,o.loop=!0,s=!0),void 0!==e.isSearching&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,o.isSearching=!0,s=!0),void 0!==e.filters&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,o.filters=!0,s=!0),this._isRegexOverride=void 0!==e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride=void 0!==e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride=void 0!==e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride=void 0!==e.preserveCaseOverride?e.preserveCaseOverride:0,r!==this.isRegex&&(s=!0,o.isRegex=!0),a!==this.wholeWord&&(s=!0,o.wholeWord=!0),l!==this.matchCase&&(s=!0,o.matchCase=!0),d!==this.preserveCase&&(s=!0,o.preserveCase=!0),s&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=$}}var ie=i(5152),ne=i(2900),oe=i(3098),se=i(3046),re=i(7301),ae=i(1432),le=i(3580),de=i(2980);function ce(e){var t,i;return"Up"===(null===(t=e.lookupKeybinding("history.showPrevious"))||void 0===t?void 0:t.getElectronAccelerator())&&"Down"===(null===(i=e.lookupKeybinding("history.showNext"))||void 0===i?void 0:i.getElectronAccelerator())}var he=i(9554),ue=i(2321);const ge=(0,he.q5)("find-selection",se.lA.selection,le.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),pe=(0,he.q5)("find-collapsed",se.lA.chevronRight,le.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),me=(0,he.q5)("find-expanded",se.lA.chevronDown,le.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),fe=(0,he.q5)("find-replace",se.lA.replace,le.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),ve=(0,he.q5)("find-replace-all",se.lA.replaceAll,le.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),_e=(0,he.q5)("find-previous-match",se.lA.arrowUp,le.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),be=(0,he.q5)("find-next-match",se.lA.arrowDown,le.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),Ce=le.NC("label.find","Find"),ye=le.NC("placeholder.find","Find"),we=le.NC("label.previousMatchButton","Previous Match"),Se=le.NC("label.nextMatchButton","Next Match"),ke=le.NC("label.toggleSelectionFind","Find in Selection"),Le=le.NC("label.closeButton","Close"),xe=le.NC("label.replace","Replace"),Ie=le.NC("placeholder.replace","Replace"),De=le.NC("label.replaceButton","Replace"),Ne=le.NC("label.replaceAllButton","Replace All"),Ee=le.NC("label.toggleReplaceButton","Toggle Replace"),Ae=le.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",$),Te=le.NC("label.matchesLocation","{0} of {1}"),Me=le.NC("label.noResults","No results"),Re=419;let Pe=69;const Oe="ctrlEnterReplaceAll.windows.donotask",Ve=ae.dz?256:2048;class Fe{constructor(e){this.afterLineNumber=e,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function We(e,t,i){const n=!!t.match(/\n/);i&&n&&i.selectionStart>0&&e.stopPropagation()}function ze(e,t,i){const n=!!t.match(/\n/);i&&n&&i.selectionEnd<i.value.length&&e.stopPropagation()}class Be extends Z.${constructor(e,t,i,s,r,a,l,d,c){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=s,this._keybindingService=r,this._contextKeyService=a,this._storageService=d,this._notificationService=c,this._ctrlEnterReplaceAllWarningPrompted=!!d.getBoolean(Oe,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new n.vp(500),this._register((0,o.OF)((()=>this._updateHistoryDelayer.cancel()))),this._register(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration((e=>{if(e.hasChanged(83)&&(this._codeEditor.getOption(83)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),e.hasChanged(133)&&this._tryUpdateWidgetWidth(),e.hasChanged(2)&&this.updateAccessibilitySupport(),e.hasChanged(37)){const e=this._codeEditor.getOption(37).addExtraSpaceOnTop;e&&!this._viewZone&&(this._viewZone=new Fe(0),this._showViewZone()),!e&&this._viewZone&&this._removeViewZone()}}))),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection((()=>{this._isVisible&&this._updateToggleSelectionFindButton()}))),this._register(this._codeEditor.onDidFocusEditorWidget((()=>{return e=this,t=void 0,n=function*(){if(this._isVisible){const e=yield this._controller.getGlobalBufferTerm();e&&e!==this._state.searchString&&(this._state.change({searchString:e},!1),this._findInput.select())}},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}))),this._findInputFocused=E.bindTo(a),this._findFocusTracker=this._register(Y.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus((()=>{this._findInputFocused.set(!0),this._updateSearchScope()}))),this._register(this._findFocusTracker.onDidBlur((()=>{this._findInputFocused.set(!1)}))),this._replaceInputFocused=A.bindTo(a),this._replaceFocusTracker=this._register(Y.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus((()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()}))),this._register(this._replaceFocusTracker.onDidBlur((()=>{this._replaceInputFocused.set(!1)}))),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(37).addExtraSpaceOnTop&&(this._viewZone=new Fe(0)),this._applyTheme(l.getColorTheme()),this._register(l.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel((()=>{this._isVisible&&(this._viewZoneId=void 0)}))),this._register(this._codeEditor.onDidScrollChange((e=>{e.scrollTopChanged?this._layoutViewZone():setTimeout((()=>{this._layoutViewZone()}),0)})))}getId(){return Be.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(83)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=Y.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){const e=this._state.searchString.length>0&&0===this._state.matchesCount;this._domNode.classList.toggle("no-results",e),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,re.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let e;if(this._matchesCount.style.minWidth=Pe+"px",this._state.matchesCount>=$?this._matchesCount.title=Ae:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=$&&(t+="+");let i=String(this._state.matchesPosition);"0"===i&&(i="?"),e=s.WU(Te,i,t)}else e=Me;this._matchesCount.appendChild(document.createTextNode(e)),(0,ie.Z9)(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),Pe=Math.max(Pe,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===Me)return""===i?le.NC("ariaSearchNoResultEmpty","{0} found",e):le.NC("ariaSearchNoResult","{0} found for '{1}'",e,i);if(t){const n=le.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),o=this._codeEditor.getModel();return o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1?`${o.getLineContent(t.startLineNumber)}, ${n}`:n}return le.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){const e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const i=!this._codeEditor.getOption(83);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach((e=>{clearTimeout(e)})),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(37).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const t=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=t;break}}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout((()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")}),0)),this._revealTimeouts.push(setTimeout((()=>{this._findInput.validate()}),200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(37).seedSearchStringFromSelection&&e){const i=this._codeEditor.getDomNode();if(i){const n=Y.i(i),o=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),s=n.left+(o?o.left:0),r=o?o.top:0;if(this._viewZone&&r<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const i=Y.xQ(this._domNode).left;s>i&&(t=!1);const o=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());n.left+(o?o.left:0)>i&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach((e=>{clearTimeout(e)})),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(37).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const t=this._viewZone;void 0===this._viewZoneId&&t&&this._codeEditor.changeViewZones((i=>{t.heightInPx=this._getHeight(),this._viewZoneId=i.addZone(t),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+t.heightInPx)}))}_showViewZone(e=!0){if(!this._isVisible)return;if(!this._codeEditor.getOption(37).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new Fe(0));const t=this._viewZone;this._codeEditor.changeViewZones((i=>{if(void 0!==this._viewZoneId){const n=this._getHeight();if(n===t.heightInPx)return;const o=n-t.heightInPx;return t.heightInPx=n,i.layoutZone(this._viewZoneId),void(e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o))}{let n=this._getHeight();if(n-=this._codeEditor.getOption(77).top,n<=0)return;t.heightInPx=n,this._viewZoneId=i.addZone(t),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+n)}}))}_removeViewZone(){this._codeEditor.changeViewZones((e=>{void 0!==this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))}))}_applyTheme(e){const t={inputActiveOptionBorder:e.getColor(f.PRb),inputActiveOptionBackground:e.getColor(f.XEs),inputActiveOptionForeground:e.getColor(f.Pvw),inputBackground:e.getColor(f.sEe),inputForeground:e.getColor(f.zJb),inputBorder:e.getColor(f.dt_),inputValidationInfoBackground:e.getColor(f._lC),inputValidationInfoForeground:e.getColor(f.YI3),inputValidationInfoBorder:e.getColor(f.EPQ),inputValidationWarningBackground:e.getColor(f.RV_),inputValidationWarningForeground:e.getColor(f.SUG),inputValidationWarningBorder:e.getColor(f.C3g),inputValidationErrorBackground:e.getColor(f.paE),inputValidationErrorForeground:e.getColor(f._t9),inputValidationErrorBorder:e.getColor(f.OZR)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}_tryUpdateWidgetWidth(){if(!this._isVisible)return;if(!Y.Uw(this._domNode))return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const t=e.width,i=e.minimap.minimapWidth;let n=!1,o=!1,s=!1;if(this._resized&&Y.w(this._domNode)>Re)return this._domNode.style.maxWidth=t-28-i-15+"px",void(this._replaceInput.width=Y.w(this._findInput.domNode));if(447+i>=t&&(o=!0),447+i-Pe>=t&&(s=!0),447+i-Pe>=t+50&&(n=!0),this._domNode.classList.toggle("collapsed-find-widget",n),this._domNode.classList.toggle("narrow-find-widget",s),this._domNode.classList.toggle("reduced-find-widget",o),s||n||(this._domNode.style.maxWidth=t-28-i-15+"px"),this._resized){this._findInput.inputBox.layout();const e=this._findInput.inputBox.element.clientWidth;e>0&&(this._replaceInput.width=e)}else this._isReplaceVisible&&(this._replaceInput.width=Y.w(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const e=this._codeEditor.getSelections();e.map((e=>{1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1)));const t=this._state.currentMatch;return e.startLineNumber===e.endLineNumber||h.e.equalsRange(e,t)?null:e})).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){return e.equals(3|Ve)?(this._keybindingService.dispatchEvent(e,e.target)||this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?We(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?ze(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(e){return e.equals(3|Ve)?(this._keybindingService.dispatchEvent(e,e.target)||(ae.ED&&ae.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(le.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Oe,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?We(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?ze(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new de.Yb(null,this._contextViewProvider,{width:221,label:Ce,placeholder:ye,appendCaseSensitiveLabel:this._keybindingLabelFor(z),appendWholeWordsLabel:this._keybindingLabelFor(B),appendRegexLabel:this._keybindingLabelFor(U),validation:e=>{if(0===e.length||!this._findInput.getRegex())return null;try{return new RegExp(e,"gu"),null}catch(e){return{content:e.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>ce(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown((e=>this._onFindInputKeyDown(e)))),this._register(this._findInput.inputBox.onDidChange((()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)}))),this._register(this._findInput.onDidOptionChange((()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)}))),this._register(this._findInput.onCaseSensitiveKeyDown((e=>{e.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),e.preventDefault())}))),this._register(this._findInput.onRegexKeyDown((e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),e.preventDefault())}))),this._register(this._findInput.inputBox.onDidHeightChange((e=>{this._tryUpdateHeight()&&this._showViewZone()}))),ae.IJ&&this._register(this._findInput.onMouseDown((e=>this._onFindInputMouseDown(e)))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Ue({label:we+this._keybindingLabelFor(F),icon:_e,onTrigger:()=>{this._codeEditor.getAction(F).run().then(void 0,re.dL)}})),this._nextBtn=this._register(new Ue({label:Se+this._keybindingLabelFor(V),icon:be,onTrigger:()=>{this._codeEditor.getAction(V).run().then(void 0,re.dL)}}));const e=document.createElement("div");e.className="find-part",e.appendChild(this._findInput.domNode);const t=document.createElement("div");t.className="find-actions",e.appendChild(t),t.appendChild(this._matchesCount),t.appendChild(this._prevBtn.domNode),t.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new ne.Z({icon:ge,title:ke+this._keybindingLabelFor(H),isChecked:!1})),this._register(this._toggleSelectionFind.onChange((()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const e=this._codeEditor.getSelections();e.map((e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e))).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}else this._state.change({searchScope:null},!0)}))),t.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Ue({label:Le+this._keybindingLabelFor(W),icon:he.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),e.preventDefault())}})),t.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new de.Nq(null,void 0,{label:xe,placeholder:Ie,appendPreserveCaseLabel:this._keybindingLabelFor(G),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>ce(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown((e=>this._onReplaceInputKeyDown(e)))),this._register(this._replaceInput.inputBox.onDidChange((()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)}))),this._register(this._replaceInput.inputBox.onDidHeightChange((e=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()}))),this._register(this._replaceInput.onDidOptionChange((()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)}))),this._register(this._replaceInput.onPreserveCaseKeyDown((e=>{e.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),e.preventDefault())}))),this._replaceBtn=this._register(new Ue({label:De+this._keybindingLabelFor(j),icon:fe,onTrigger:()=>{this._controller.replace()},onKeyDown:e=>{e.equals(1026)&&(this._closeBtn.focus(),e.preventDefault())}})),this._replaceAllBtn=this._register(new Ue({label:Ne+this._keybindingLabelFor(K),icon:ve,onTrigger:()=>{this._controller.replaceAll()}}));const i=document.createElement("div");i.className="replace-part",i.appendChild(this._replaceInput.domNode);const n=document.createElement("div");n.className="replace-actions",i.appendChild(n),n.appendChild(this._replaceBtn.domNode),n.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Ue({label:Ee,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Y.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(e),this._domNode.appendChild(i),this._resizeSash=new oe.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let o=Re;this._register(this._resizeSash.onDidStart((()=>{o=Y.w(this._domNode)}))),this._register(this._resizeSash.onDidChange((e=>{this._resized=!0;const t=o+e.startX-e.currentX;t<Re||t>(parseFloat(Y.Dx(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${t}px`,this._isReplaceVisible&&(this._replaceInput.width=Y.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())}))),this._register(this._resizeSash.onDidReset((()=>{const e=Y.w(this._domNode);if(e<Re)return;let t=Re;if(!this._resized||e===Re){const e=this._codeEditor.getLayoutInfo();t=e.width-28-e.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${t}px`,this._isReplaceVisible&&(this._replaceInput.width=Y.w(this._findInput.domNode)),this._findInput.inputBox.layout()})))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)}}Be.ID="editor.contrib.findWidget";class Ue extends Z.${constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+v.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,(e=>{this._opts.onTrigger(),e.preventDefault()})),this.onkeydown(this._domNode,(e=>{var t,i;if(e.equals(10)||e.equals(3))return this._opts.onTrigger(),void e.preventDefault();null===(i=(t=this._opts).onKeyDown)||void 0===i||i.call(t,e)}))}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...v.kS.asClassNameArray(pe)),this._domNode.classList.add(...v.kS.asClassNameArray(me))):(this._domNode.classList.remove(...v.kS.asClassNameArray(me)),this._domNode.classList.add(...v.kS.asClassNameArray(pe)))}}(0,v.Ic)(((e,t)=>{const i=(e,i)=>{i&&t.addRule(`.monaco-editor ${e} { background-color: ${i}; }`)};i(".findMatch",e.getColor(f.MUv)),i(".currentFindMatch",e.getColor(f.nyM)),i(".findScope",e.getColor(f.jUe)),i(".find-widget",e.getColor(f.D0T));const n=e.getColor(f.rh);n&&t.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${n}; }`);const o=e.getColor(f.EiJ);o&&t.addRule(`.monaco-editor .findMatch { border: 1px ${(0,ue.c3)(e.type)?"dotted":"solid"} ${o}; box-sizing: border-box; }`);const s=e.getColor(f.pnM);s&&t.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${s}; padding: 1px; box-sizing: border-box; }`);const r=e.getColor(f.gkn);r&&t.addRule(`.monaco-editor .findScope { border: 1px ${(0,ue.c3)(e.type)?"dashed":"solid"} ${r}; }`);const a=e.getColor(f.lRK);a&&t.addRule(`.monaco-editor .find-widget { border: 1px solid ${a}; }`);const l=e.getColor(f.Hfx);l&&t.addRule(`.monaco-editor .find-widget { color: ${l}; }`);const d=e.getColor(f.Ido);d&&t.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${d}; }`);const c=e.getColor(f.Ng6);if(c)t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${c}; }`);else{const i=e.getColor(f.D1_);i&&t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${i}; }`)}const h=e.getColor(f.lUq);h&&t.addRule(`\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ${h} !important;\n\t\t}\n\t`);const u=e.getColor(f.R80);u&&t.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${u}; }`)}));var He=i(4144),Ge=i(4972),je=i(5606),Ke=i(1847),$e=i(9422),qe=i(6904),Ye=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},Qe=function(e,t){return function(i,n){t(i,n,e)}},Ze=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function Je(e,t="single",i=!1){if(!e.hasModel())return null;const n=e.getSelection();if("single"===t&&n.startLineNumber===n.endLineNumber||"multiple"===t)if(n.isEmpty()){const t=e.getConfiguredWordAtPosition(n.getStartPosition());if(t&&!1===i)return t.word}else if(e.getModel().getValueLengthInRange(n)<524288)return e.getModel().getValueInRange(n);return null}let Xe=class e extends o.JT{constructor(e,t,i,o){super(),this._editor=e,this._findWidgetVisible=N.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=o,this._updateHistoryDelayer=new n.vp(500),this._state=this._register(new te),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this._model=null,this._register(this._editor.onDidChangeModel((()=>{const e=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),e&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(37).loop})})))}get editor(){return this._editor}static get(t){return t.getContribution(e.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!E.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const e=this._editor.getSelections();e.map((e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._editor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e))).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=s.ec(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e,t){return Ze(this,void 0,void 0,(function*(){if(this.disposeModel(),!this._editor.hasModel())return;const i=Object.assign(Object.assign({},t),{isRevealed:!0});if("single"===e.seedSearchStringFromSelection){const t=Je(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);t&&(this._state.isRegex?i.searchString=s.ec(t):i.searchString=t)}else if("multiple"===e.seedSearchStringFromSelection&&!e.updateSearchScope){const t=Je(this._editor,e.seedSearchStringFromSelection);t&&(i.searchString=t)}if(!i.searchString&&e.seedSearchStringFromGlobalClipboard){const e=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;e&&(i.searchString=e)}if(e.forceRevealReplace||i.isReplaceRevealed?i.isReplaceRevealed=!0:this._findWidgetVisible.get()||(i.isReplaceRevealed=!1),e.updateSearchScope){const e=this._editor.getSelections();e.some((e=>!e.isEmpty()))&&(i.searchScope=e)}i.loop=e.loop,this._state.change(i,!1),this._model||(this._model=new q(this._editor,this._state))}))}start(e,t){return this._start(e,t)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return Ze(this,void 0,void 0,(function*(){return this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}))}setGlobalBufferTerm(e){this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};Xe.ID="editor.contrib.findController",Xe=Ye([Qe(1,D.i6),Qe(2,qe.Uy),Qe(3,Ge.p)],Xe);let et=class extends Xe{constructor(e,t,i,n,o,s,r,a){super(e,i,r,a),this._contextViewService=t,this._keybindingService=n,this._themeService=o,this._notificationService=s,this._widget=null,this._findOptionsWidget=null}_start(e,t){const i=Object.create(null,{_start:{get:()=>super._start}});return Ze(this,void 0,void 0,(function*(){this._widget||this._createFindWidget();const n=this._editor.getSelection();let o=!1;switch(this._editor.getOption(37).autoFindInSelection){case"always":o=!0;break;case"never":o=!1;break;case"multiline":o=!!n&&n.startLineNumber!==n.endLineNumber}e.updateSearchScope=e.updateSearchScope||o,yield i._start.call(this,e,t),this._widget&&(2===e.shouldFocus?this._widget.focusReplaceInput():1===e.shouldFocus&&this._widget.focusFindInput())}))}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new Be(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new J(this._editor,this._state,this._keybindingService,this._themeService))}};et=Ye([Qe(1,je.u),Qe(2,D.i6),Qe(3,Ke.d),Qe(4,v.XE),Qe(5,$e.lT),Qe(6,qe.Uy),Qe(7,Ge.p)],et);const tt=(0,r.rn)(new r.jY({id:"actions.find",label:le.NC("startFindAction","Find"),alias:"Find",precondition:D.Ao.or(a.u.focus,D.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:He.eH.MenubarEditMenu,group:"3_find",title:le.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));tt.addImplementation(0,((e,t,i)=>{const n=Xe.get(t);return!!n&&n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(37).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop})}));const it={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:le.NC("actions.find.isRegexOverride",'Overrides "Use Regular Expression" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:le.NC("actions.find.wholeWordOverride",'Overrides "Match Whole Word" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:le.NC("actions.find.matchCaseOverride",'Overrides "Math Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:le.NC("actions.find.preserveCaseOverride",'Overrides "Preserve Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},findInSelection:{type:"boolean"}}}}]};class nt extends r.R6{constructor(){super({id:"editor.actions.findWithArgs",label:le.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:it})}run(e,t,i){return Ze(this,void 0,void 0,(function*(){const e=Xe.get(t);if(e){const n=i?{searchString:i.searchString,replaceString:i.replaceString,isReplaceRevealed:void 0!==i.replaceString,isRegex:i.isRegex,wholeWord:i.matchWholeWord,matchCase:i.isCaseSensitive,preserveCase:i.preserveCase}:{};yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===e.getState().searchString.length&&"never"!==t.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(null==i?void 0:i.findInSelection)||!1,loop:t.getOption(37).loop},n),e.setGlobalBufferTerm(e.getState().searchString)}}))}}class ot extends r.R6{constructor(){super({id:"actions.findWithSelection",label:le.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return Ze(this,void 0,void 0,(function*(){const e=Xe.get(t);e&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop}),e.setGlobalBufferTerm(e.getState().searchString))}))}}class st extends r.R6{run(e,t){return Ze(this,void 0,void 0,(function*(){const e=Xe.get(t);e&&!this._run(e)&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===e.getState().searchString.length&&"never"!==t.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop}),this._run(e))}))}}class rt extends st{constructor(){super({id:V,label:le.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:a.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:D.Ao.and(a.u.focus,E),primary:3,weight:100}]})}_run(e){return!!e.moveToNextMatch()&&(e.editor.pushUndoStop(),!0)}}class at extends st{constructor(){super({id:F,label:le.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:a.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:D.Ao.and(a.u.focus,E),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}class lt extends r.R6{run(e,t){return Ze(this,void 0,void 0,(function*(){const e=Xe.get(t);if(!e)return;const i="selection"===t.getOption(37).seedSearchStringFromSelection;let n=null;"never"!==t.getOption(37).seedSearchStringFromSelection&&(n=Je(t,"single",i)),n&&e.setSearchString(n),this._run(e)||(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:i,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop}),this._run(e))}))}}class dt extends lt{constructor(){super({id:"editor.action.nextSelectionMatchFindAction",label:le.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:a.u.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}class ct extends lt{constructor(){super({id:"editor.action.previousSelectionMatchFindAction",label:le.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:a.u.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}}const ht=(0,r.rn)(new r.jY({id:"editor.action.startFindReplaceAction",label:le.NC("startReplace","Replace"),alias:"Replace",precondition:D.Ao.or(a.u.focus,D.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:He.eH.MenubarEditMenu,group:"3_find",title:le.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));ht.addImplementation(0,((e,t,i)=>{if(!t.hasModel()||t.getOption(83))return!1;const n=Xe.get(t);if(!n)return!1;const o=t.getSelection(),s=n.isFindInputFocused(),r=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&"never"!==t.getOption(37).seedSearchStringFromSelection&&!s,a=s||r?2:1;return n.start({forceRevealReplace:!0,seedSearchStringFromSelection:r?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==t.getOption(37).seedSearchStringFromSelection,shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop})})),(0,r._K)(Xe.ID,et),(0,r.Qr)(nt),(0,r.Qr)(ot),(0,r.Qr)(rt),(0,r.Qr)(at),(0,r.Qr)(dt),(0,r.Qr)(ct);const ut=r._l.bindToContribution(Xe.get);(0,r.fK)(new ut({id:W,precondition:N,handler:e=>e.closeFindWidget(),kbOpts:{weight:105,kbExpr:D.Ao.and(a.u.focus,D.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,r.fK)(new ut({id:z,precondition:void 0,handler:e=>e.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:a.u.focus,primary:T.primary,mac:T.mac,win:T.win,linux:T.linux}})),(0,r.fK)(new ut({id:B,precondition:void 0,handler:e=>e.toggleWholeWords(),kbOpts:{weight:105,kbExpr:a.u.focus,primary:M.primary,mac:M.mac,win:M.win,linux:M.linux}})),(0,r.fK)(new ut({id:U,precondition:void 0,handler:e=>e.toggleRegex(),kbOpts:{weight:105,kbExpr:a.u.focus,primary:R.primary,mac:R.mac,win:R.win,linux:R.linux}})),(0,r.fK)(new ut({id:H,precondition:void 0,handler:e=>e.toggleSearchScope(),kbOpts:{weight:105,kbExpr:a.u.focus,primary:P.primary,mac:P.mac,win:P.win,linux:P.linux}})),(0,r.fK)(new ut({id:G,precondition:void 0,handler:e=>e.togglePreserveCase(),kbOpts:{weight:105,kbExpr:a.u.focus,primary:O.primary,mac:O.mac,win:O.win,linux:O.linux}})),(0,r.fK)(new ut({id:j,precondition:N,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:a.u.focus,primary:3094}})),(0,r.fK)(new ut({id:j,precondition:N,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:D.Ao.and(a.u.focus,A),primary:3}})),(0,r.fK)(new ut({id:K,precondition:N,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:a.u.focus,primary:2563}})),(0,r.fK)(new ut({id:K,precondition:N,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:D.Ao.and(a.u.focus,A),primary:void 0,mac:{primary:2051}}})),(0,r.fK)(new ut({id:"editor.action.selectAllMatches",precondition:N,handler:e=>e.selectAllMatches(),kbOpts:{weight:105,kbExpr:a.u.focus,primary:515}}))},8370:(e,t,i)=>{"use strict";i.r(t),i.d(t,{FoldingController:()=>ne,editorFoldForeground:()=>le,foldBackgroundBackground:()=>ae});var n=i(5393),o=i(7301),s=i(2258),r=i(5976),a=i(7295),l=i(8401),d=i(3407),c=i(6830),h=i(9102),u=i(6887),g=i(1381),p=i(4669);const m=16777215,f=4278190080;class v{constructor(e){const t=Math.ceil(e/32);this._states=new Uint32Array(t)}get(e){const t=e/32|0,i=e%32;return 0!=(this._states[t]&1<<i)}set(e,t){const i=e/32|0,n=e%32,o=this._states[i];this._states[i]=t?o|1<<n:o&~(1<<n)}}class _{constructor(e,t,i){if(this.sourceAbbr={0:" ",1:"u",2:"r"},e.length!==t.length||e.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new v(e.length),this._userDefinedStates=new v(e.length),this._recoveredStates=new v(e.length),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const e=[],t=(t,i)=>{const n=e[e.length-1];return this.getStartLineNumber(n)<=t&&this.getEndLineNumber(n)>=i};for(let i=0,n=this._startIndexes.length;i<n;i++){const n=this._startIndexes[i],o=this._endIndexes[i];if(n>m||o>m)throw new Error("startLineNumber or endLineNumber must not exceed "+m);for(;e.length>0&&!t(n,o);)e.pop();const s=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=n+((255&s)<<24),this._endIndexes[i]=o+((65280&s)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&m}getEndLineNumber(e){return this._endIndexes[e]&m}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){return this._collapseStates.get(e)}setCollapsed(e,t){this._collapseStates.set(e,t)}isUserDefined(e){return this._userDefinedStates.get(e)}setUserDefined(e,t){return this._userDefinedStates.set(e,t)}isRecovered(e){return this._recoveredStates.get(e)}setRecovered(e,t){return this._recoveredStates.set(e,t)}getSource(e){return this.isUserDefined(e)?1:this.isRecovered(e)?2:0}setSource(e,t){1===t?(this.setUserDefined(e,!0),this.setRecovered(e,!1)):2===t?(this.setUserDefined(e,!1),this.setRecovered(e,!0)):(this.setUserDefined(e,!1),this.setRecovered(e,!1))}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let n=0;n<this._types.length;n++)this._types[n]===e&&(this.setCollapsed(n,t),i=!0);return i}toRegion(e){return new b(this,e)}getParentIndex(e){this.ensureParentIndices();const t=((this._startIndexes[e]&f)>>>24)+((this._endIndexes[e]&f)>>>16);return 65535===t?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(0===i)return-1;for(;t<i;){const n=Math.floor((t+i)/2);e<this.getStartLineNumber(n)?i=n:t=n+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);-1!==t;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){const e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.sourceAbbr[this.getSource(t)]}${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}toFoldRange(e){return{startLineNumber:this._startIndexes[e]&m,endLineNumber:this._endIndexes[e]&m,type:this._types?this._types[e]:void 0,isCollapsed:this.isCollapsed(e),source:this.getSource(e)}}static fromFoldRanges(e){const t=e.length,i=new Uint32Array(t),n=new Uint32Array(t);let o=[],s=!1;for(let r=0;r<t;r++){const t=e[r];i[r]=t.startLineNumber,n[r]=t.endLineNumber,o.push(t.type),t.type&&(s=!0)}s||(o=void 0);const r=new _(i,n,o);for(let i=0;i<t;i++)e[i].isCollapsed&&r.setCollapsed(i,!0),r.setSource(i,e[i].source);return r}static sanitizeAndMerge(e,t,i){i=null!=i?i:Number.MAX_VALUE;const n=(e,t)=>Array.isArray(e)?i=>i<t?e[i]:void 0:i=>i<t?e.toFoldRange(i):void 0,o=n(e,e.length),s=n(t,t.length);let r=0,a=0,l=o(0),d=s(0);const c=[];let h,u=0;const g=[];for(;l||d;){let e;if(d&&(!l||l.startLineNumber>=d.startLineNumber))l&&l.startLineNumber===d.startLineNumber?(1===d.source?e=d:(e=l,e.isCollapsed=d.isCollapsed&&l.endLineNumber===d.endLineNumber,e.source=0),l=o(++r)):(e=d,d.isCollapsed&&0===d.source&&(e.source=2)),d=s(++a);else{let t=a,i=d;for(;;){if(!i||i.startLineNumber>l.endLineNumber){e=l;break}if(1===i.source&&i.endLineNumber>l.endLineNumber)break;i=s(++t)}l=o(++r)}if(e){for(;h&&h.endLineNumber<e.startLineNumber;)h=c.pop();e.endLineNumber>e.startLineNumber&&e.startLineNumber>u&&e.endLineNumber<=i&&(!h||h.endLineNumber>=e.endLineNumber)&&(g.push(e),u=e.startLineNumber,h&&c.push(h),h=e)}}return g}}class b{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}var C=i(9954);class y{constructor(e,t){this._updateEventEmitter=new p.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new _(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}get regions(){return this._regions}get textModel(){return this._textModel}toggleCollapseState(e){if(!e.length)return;e=e.sort(((e,t)=>e.regionIndex-t.regionIndex));const t={};this._decorationProvider.changeDecorations((i=>{let n=0,o=-1,s=-1;const r=e=>{for(;n<e;){const e=this._regions.getEndLineNumber(n),t=this._regions.isCollapsed(n);if(e<=o){const o=0!==this.regions.getSource(n);i.changeDecorationOptions(this._editorDecorationIds[n],this._decorationProvider.getDecorationOption(t,e<=s,o))}t&&e>s&&(s=e),n++}};for(const i of e){const e=i.regionIndex,n=this._editorDecorationIds[e];if(n&&!t[n]){t[n]=!0,r(e);const i=!this._regions.isCollapsed(e);this._regions.setCollapsed(e,i),o=Math.max(o,this._regions.getEndLineNumber(e))}}r(this._regions.length)})),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}removeManualRanges(e){const t=new Array,i=t=>{for(const i of e)if(!(i.startLineNumber>t.endLineNumber||t.startLineNumber>i.endLineNumber))return!0;return!1};for(let e=0;e<this._regions.length;e++){const n=this._regions.toFoldRange(e);0!==n.source&&i(n)||t.push(n)}this.updatePost(_.fromFoldRanges(t))}update(e,t=[]){const i=this._currentFoldedOrManualRanges(t),n=_.sanitizeAndMerge(e,i,this._textModel.getLineCount());this.updatePost(_.fromFoldRanges(n))}updatePost(e){const t=[];let i=-1;for(let n=0,o=e.length;n<o;n++){const o=e.getStartLineNumber(n),s=e.getEndLineNumber(n),r=e.isCollapsed(n),a=0!==e.getSource(n),l={startLineNumber:o,startColumn:this._textModel.getLineMaxColumn(o),endLineNumber:s,endColumn:this._textModel.getLineMaxColumn(s)+1};t.push({range:l,options:this._decorationProvider.getDecorationOption(r,s<=i,a)}),r&&s>i&&(i=s)}this._decorationProvider.changeDecorations((e=>this._editorDecorationIds=e.deltaDecorations(this._editorDecorationIds,t))),this._regions=e,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(e=[]){const t=(t,i)=>{for(const n of e)if(t<n&&n<=i)return!0;return!1},i=[];for(let e=0,n=this._regions.length;e<n;e++){let n=this.regions.isCollapsed(e);const o=this.regions.getSource(e);if(n||0!==o){const s=this._regions.toFoldRange(e),r=this._textModel.getDecorationRange(this._editorDecorationIds[e]);r&&(n&&(t(r.startLineNumber,r.endLineNumber)||r.endLineNumber-r.startLineNumber!=s.endLineNumber-s.startLineNumber)&&(n=!1),i.push({startLineNumber:r.startLineNumber,endLineNumber:r.endLineNumber,type:s.type,isCollapsed:n,source:o}))}}return i}getMemento(){const e=this._currentFoldedOrManualRanges(),t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i],o=this._getLinesChecksum(n.startLineNumber+1,n.endLineNumber);t.push({startLineNumber:n.startLineNumber,endLineNumber:n.endLineNumber,isCollapsed:n.isCollapsed,source:n.source,checksum:o})}return t.length>0?t:void 0}applyMemento(e){var t,i;if(!Array.isArray(e))return;const n=[],o=this._textModel.getLineCount();for(const s of e){if(s.startLineNumber>=s.endLineNumber||s.startLineNumber<1||s.endLineNumber>o)continue;const e=this._getLinesChecksum(s.startLineNumber+1,s.endLineNumber);s.checksum&&e!==s.checksum||n.push({startLineNumber:s.startLineNumber,endLineNumber:s.endLineNumber,type:void 0,isCollapsed:null===(t=s.isCollapsed)||void 0===t||t,source:null!==(i=s.source)&&void 0!==i?i:0})}const s=_.sanitizeAndMerge(this._regions,n,o);this.updatePost(_.fromFoldRanges(s))}_getLinesChecksum(e,t){return(0,C.vp)(this._textModel.getLineContent(e)+this._textModel.getLineContent(t))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(e,t){const i=[];if(this._regions){let n=this._regions.findRange(e),o=1;for(;n>=0;){const e=this._regions.toRegion(n);t&&!t(e,o)||i.push(e),o++,n=e.parentIndex}}return i}getRegionAtLine(e){if(this._regions){const t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){const i=[],n=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length){const e=[];for(let s=n,r=this._regions.length;s<r;s++){const n=this._regions.toRegion(s);if(!(this._regions.getStartLineNumber(s)<o))break;for(;e.length>0&&!n.containedBy(e[e.length-1]);)e.pop();e.push(n),t(n,e.length)&&i.push(n)}}else for(let e=n,s=this._regions.length;e<s;e++){const n=this._regions.toRegion(e);if(!(this._regions.getStartLineNumber(e)<o))break;t&&!t(n)||i.push(n)}return i}}function w(e,t,i=Number.MAX_VALUE,n){const o=[];if(n&&n.length>0)for(const s of n){const n=e.getRegionAtLine(s);if(n&&(n.isCollapsed!==t&&o.push(n),i>1)){const s=e.getRegionsInside(n,((e,n)=>e.isCollapsed!==t&&n<i));o.push(...s)}}else{const n=e.getRegionsInside(null,((e,n)=>e.isCollapsed!==t&&n<i));o.push(...n)}e.toggleCollapseState(o)}function S(e,t,i,n){const o=[];for(const s of n){const n=e.getAllRegionsAtLine(s,((e,n)=>e.isCollapsed!==t&&n<=i));o.push(...n)}e.toggleCollapseState(o)}function k(e,t,i){const n=[];for(const t of i){const i=e.getAllRegionsAtLine(t,void 0);i.length>0&&n.push(i[0])}const o=e.getRegionsInside(null,(e=>n.every((t=>!t.containedBy(e)&&!e.containedBy(t)))&&e.isCollapsed!==t));e.toggleCollapseState(o)}function L(e,t,i){const n=e.textModel,o=e.regions,s=[];for(let e=o.length-1;e>=0;e--)if(i!==o.isCollapsed(e)){const i=o.getStartLineNumber(e);t.test(n.getLineContent(i))&&s.push(o.toRegion(e))}e.toggleCollapseState(s)}function x(e,t,i){const n=e.regions,o=[];for(let e=n.length-1;e>=0;e--)i!==n.isCollapsed(e)&&t===n.getType(e)&&o.push(n.toRegion(e));e.toggleCollapseState(o)}var I=i(9488),D=i(4314),N=i(3795);class E{constructor(e){this._updateEventEmitter=new p.Q5,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange((e=>this.updateHiddenRanges())),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some((e=>e.range.endLineNumber!==e.range.startLineNumber||0!==(0,N.Q)(e.text)[0])))}updateHiddenRanges(){let e=!1;const t=[];let i=0,n=0,o=Number.MAX_VALUE,s=-1;const r=this._foldingModel.regions;for(;i<r.length;i++){if(!r.isCollapsed(i))continue;const a=r.getStartLineNumber(i)+1,l=r.getEndLineNumber(i);o<=a&&l<=s||(!e&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===a&&this._hiddenRanges[n].endLineNumber===l?(t.push(this._hiddenRanges[n]),n++):(e=!0,t.push(new D.e(a,1,l,1))),o=a,s=l)}(this._hasLineChanges||e||n<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return null!==A(this._hiddenRanges,e)}adjustSelections(e){let t=!1;const i=this._foldingModel.textModel;let n=null;const o=e=>(n&&function(e,t){return e>=t.startLineNumber&&e<=t.endLineNumber}(e,n)||(n=A(this._hiddenRanges,e)),n?n.startLineNumber-1:null);for(let n=0,s=e.length;n<s;n++){let s=e[n];const r=o(s.startLineNumber);r&&(s=s.setStartPosition(r,i.getLineMaxColumn(r)),t=!0);const a=o(s.endLineNumber);a&&(s=s.setEndPosition(a,i.getLineMaxColumn(a)),t=!0),e[n]=s}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function A(e,t){const i=(0,I.lG)(e,(e=>t<e.startLineNumber))-1;return i>=0&&e[i].endLineNumber>=t?e[i]:null}var T=i(9616);class M{constructor(e,t,i){this.editorModel=e,this.languageConfigurationService=t,this.maxFoldingRegions=i,this.id="indent"}dispose(){}compute(e,t){const i=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,n=i&&!!i.offSide,o=i&&i.markers;return Promise.resolve(function(e,t,i,n,o){const s=e.getOptions().tabSize,r=new R(n=null!=n?n:5e3,o);let a;i&&(a=new RegExp(`(${i.start.source})|(?:${i.end.source})`));const l=[],d=e.getLineCount()+1;l.push({indent:-1,endAbove:d,line:d});for(let i=e.getLineCount();i>0;i--){const n=e.getLineContent(i),o=(0,T.q)(n,s);let d,c=l[l.length-1];if(-1!==o){if(a&&(d=n.match(a))){if(!d[1]){l.push({indent:-2,endAbove:i,line:i});continue}{let e=l.length-1;for(;e>0&&-2!==l[e].indent;)e--;if(e>0){l.length=e+1,c=l[e],r.insertFirst(i,c.line,o),c.line=i,c.indent=o,c.endAbove=i;continue}}}if(c.indent>o){do{l.pop(),c=l[l.length-1]}while(c.indent>o);const e=c.endAbove-1;e-i>=1&&r.insertFirst(i,e,o)}c.indent===o?c.endAbove=i:l.push({indent:o,endAbove:i,line:i})}else t&&(c.endAbove=i)}return r.toIndentRanges(e)}(this.editorModel,n,o,this.maxFoldingRegions,t))}}class R{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,i){if(e>m||t>m)return;const n=this._length;this._startIndexes[n]=e,this._endIndexes[n]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(e){var t;if(this._length<=this._foldingRangesLimit){const e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=this._length-1,n=0;i>=0;i--,n++)e[n]=this._startIndexes[i],t[n]=this._endIndexes[i];return new _(e,t)}{null===(t=this._notifyTooManyRegions)||void 0===t||t.call(this,this._foldingRangesLimit);let i=0,n=this._indentOccurrences.length;for(let e=0;e<this._indentOccurrences.length;e++){const t=this._indentOccurrences[e];if(t){if(t+i>this._foldingRangesLimit){n=e;break}i+=t}}const o=e.getOptions().tabSize,s=new Uint32Array(this._foldingRangesLimit),r=new Uint32Array(this._foldingRangesLimit);for(let t=this._length-1,a=0;t>=0;t--){const l=this._startIndexes[t],d=e.getLineContent(l),c=(0,T.q)(d,o);(c<n||c===n&&i++<this._foldingRangesLimit)&&(s[a]=l,r[a]=this._endIndexes[t],a++)}return new _(s,r)}}}var P=i(3580),O=i(8819),V=i(3910),F=i(7781),W=i(3046),z=i(2035),B=i(9554);const U=(0,B.q5)("folding-expanded",W.lA.chevronDown,(0,P.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),H=(0,B.q5)("folding-collapsed",W.lA.chevronRight,(0,P.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),G=(0,B.q5)("folding-manual-collapsed",H,(0,P.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),j=(0,B.q5)("folding-manual-expanded",U,(0,P.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin."));class K{constructor(e){this.editor=e,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(e,t,i){return t||"never"===this.showFoldingControls?K.HIDDEN_RANGE_DECORATION:e?i?this.showFoldingHighlights?K.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:K.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?K.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:K.COLLAPSED_VISUAL_DECORATION:"mouseover"===this.showFoldingControls?i?K.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:K.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i?K.MANUALLY_EXPANDED_VISUAL_DECORATION:K.EXPANDED_VISUAL_DECORATION}changeDecorations(e){return this.editor.changeDecorations(e)}removeDecorations(e){this.editor.removeDecorations(e)}}K.COLLAPSED_VISUAL_DECORATION=z.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:F.kS.asClassName(H)}),K.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=z.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:F.kS.asClassName(H)}),K.MANUALLY_COLLAPSED_VISUAL_DECORATION=z.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+F.kS.asClassName(U)}),K.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=z.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:F.kS.asClassName(G)}),K.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=z.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:F.kS.asClassName(U)}),K.EXPANDED_VISUAL_DECORATION=z.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+F.kS.asClassName(U)}),K.MANUALLY_EXPANDED_VISUAL_DECORATION=z.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+F.kS.asClassName(j)}),K.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=z.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:F.kS.asClassName(j)}),K.HIDDEN_RANGE_DECORATION=z.qx.register({description:"folding-hidden-range-decoration",stickiness:1});const $={};class q{constructor(e,t,i,n){this.editorModel=e,this.providers=t,this.limit=n,this.id="syntax";for(const e of t)"function"==typeof e.onDidChange&&(this.disposables||(this.disposables=new r.SL),this.disposables.add(e.onDidChange(i)))}compute(e,t){return function(e,t,i){let n=null;const s=e.map(((e,s)=>Promise.resolve(e.provideFoldingRanges(t,$,i)).then((e=>{if(!i.isCancellationRequested&&Array.isArray(e)){Array.isArray(n)||(n=[]);const i=t.getLineCount();for(const t of e)t.start>0&&t.end>t.start&&t.end<=i&&n.push({start:t.start,end:t.end,rank:s,kind:t.kind})}}),o.Cp)));return Promise.all(s).then((e=>n))}(this.providers,this.editorModel,e).then((e=>{if(e){const i=function(e,t,i){const n=e.sort(((e,t)=>{let i=e.start-t.start;return 0===i&&(i=e.rank-t.rank),i})),o=new Y(t,i);let s;const r=[];for(const e of n)if(s){if(e.start>s.start)if(e.end<=s.end)r.push(s),s=e,o.add(e.start,e.end,e.kind&&e.kind.value,r.length);else{if(e.start>s.end){do{s=r.pop()}while(s&&e.start>s.end);s&&r.push(s),s=e}o.add(e.start,e.end,e.kind&&e.kind.value,r.length)}}else s=e,o.add(e.start,e.end,e.kind&&e.kind.value,r.length);return o.toIndentRanges()}(e,this.limit,t);return i}return null}))}dispose(){var e;null===(e=this.disposables)||void 0===e||e.dispose()}}class Y{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,n){if(e>m||t>m)return;const o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=n,this._types[o]=i,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}toIndentRanges(){var e;if(this._length<=this._foldingRangesLimit){const e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=0;i<this._length;i++)e[i]=this._startIndexes[i],t[i]=this._endIndexes[i];return new _(e,t,this._types)}{null===(e=this._notifyTooManyRegions)||void 0===e||e.call(this,this._foldingRangesLimit);let t=0,i=this._nestingLevelCounts.length;for(let e=0;e<this._nestingLevelCounts.length;e++){const n=this._nestingLevelCounts[e];if(n){if(n+t>this._foldingRangesLimit){i=e;break}t+=n}}const n=new Uint32Array(this._foldingRangesLimit),o=new Uint32Array(this._foldingRangesLimit),s=[];for(let e=0,r=0;e<this._length;e++){const a=this._nestingLevels[e];(a<i||a===i&&t++<this._foldingRangesLimit)&&(n[r]=this._startIndexes[e],o[r]=this._endIndexes[e],s[r]=this._types[e],r++)}return new _(n,o,s)}}}var Q=i(9422),Z=i(4603),J=i(8191),X=i(4013),ee=i(1922),te=function(e,t){return function(i,n){t(i,n,e)}};const ie=new O.uy("foldingEnabled",!1);let ne=class e extends r.JT{constructor(e,t,i,n,o,s){super(),this.contextKeyService=t,this.languageConfigurationService=i,this.languageFeaturesService=s,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new r.SL),this.editor=e;const a=this.editor.getOptions();this._isEnabled=a.get(39),this._useFoldingProviders="indentation"!==a.get(40),this._unfoldOnClickAfterEndOfLine=a.get(44),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=a.get(42),this._maxFoldingRegions=a.get(43),this.updateDebounceInfo=o.for(s.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new K(e),this.foldingDecorationProvider.showFoldingControls=a.get(101),this.foldingDecorationProvider.showFoldingHighlights=a.get(41),this.foldingEnabled=ie.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=e=>{this._tooManyRegionsNotified||(n.notify({severity:Z.Z.Warning,sticky:!0,message:P.NC("maximum fold ranges","The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?[\"editor.foldingMaximumRegions\"]) to enable more.",e)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel((()=>this.onModelChanged()))),this._register(this.editor.onDidChangeConfiguration((e=>{if(e.hasChanged(39)&&(this._isEnabled=this.editor.getOptions().get(39),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),e.hasChanged(43)&&(this._maxFoldingRegions=this.editor.getOptions().get(43),this._tooManyRegionsNotified=!1,this.onModelChanged()),e.hasChanged(101)||e.hasChanged(41)){const e=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=e.get(101),this.foldingDecorationProvider.showFoldingHighlights=e.get(41),this.triggerFoldingModelChanged()}e.hasChanged(40)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(40),this.onFoldingStrategyChanged()),e.hasChanged(44)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(44)),e.hasChanged(42)&&(this._foldingImportsByDefault=this.editor.getOptions().get(42))}))),this.onModelChanged()}static get(t){return t.getContribution(e.ID)}saveViewState(){const e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){const t=this.foldingModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){const t=this.editor.getModel();if(t&&this._isEnabled&&!t.isTooLargeForTokenization()&&this.hiddenRangeModel&&e&&e.lineCount===t.getLineCount()&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions&&e.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(e.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const e=this.editor.getModel();this._isEnabled&&e&&!e.isTooLargeForTokenization()&&(this._currentModelHasFoldedImports=!1,this.foldingModel=new y(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new E(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((e=>this.onHiddenRangesChanges(e)))),this.updateScheduler=new n.vp(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new n.pY((()=>this.revealCursor()),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange((()=>this.onFoldingStrategyChanged()))),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration((()=>this.onFoldingStrategyChanged()))),this.localToDispose.add(this.editor.onDidChangeModelContent((e=>this.onDidChangeModelContent(e)))),this.localToDispose.add(this.editor.onDidChangeCursorPosition((()=>this.onCursorPositionChanged()))),this.localToDispose.add(this.editor.onMouseDown((e=>this.onEditorMouseDown(e)))),this.localToDispose.add(this.editor.onMouseUp((e=>this.onEditorMouseUp(e)))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new M(e,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){const t=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);t.length>0&&(this.rangeProvider=new q(e,t,(()=>this.triggerFoldingModelChanged()),this._maxFoldingRegions))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;null===(t=this.hiddenRangeModel)||void 0===t||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger((()=>{const e=this.foldingModel;if(!e)return null;const t=new X.G(!0),i=this.getRangeProvider(e.textModel),o=this.foldingRegionPromise=(0,n.PG)((e=>i.compute(e,this._notifyTooManyRegions)));return o.then((i=>{if(i&&o===this.foldingRegionPromise){let n;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const e=i.setCollapsedAllOfType(u.AD.Imports.value,!0);e&&(n=d.Z.capture(this.editor),this._currentModelHasFoldedImports=e)}const o=this.editor.getSelections(),s=o?o.map((e=>e.startLineNumber)):[];e.update(i,s),null==n||n.restore(this.editor);const r=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=r)}return e}))})).then(void 0,(e=>((0,o.dL)(e),null))))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){const e=this.editor.getSelections();e&&this.hiddenRangeModel.adjustSelections(e)&&this.editor.setSelections(e)}this.editor.setHiddenAreas(e)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();e&&e.then((e=>{if(e){const t=this.editor.getSelections();if(t&&t.length>0){const i=[];for(const n of t){const t=n.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(t)&&i.push(...e.getAllRegionsAtLine(t,(e=>e.isCollapsed&&t>e.startLineNumber)))}i.length&&(e.toggleCollapseState(i),this.reveal(t[0].getPosition()))}}})).then(void 0,o.dL)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range)return;if(!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let i=!1;switch(e.target.type){case 4:{const t=e.target.detail,n=e.target.element.offsetLeft;if(t.offsetX-n<5)return;i=!0;break}case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){const e=this.editor.getModel();if(e&&t.startColumn===e.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}onEditorMouseUp(e){const t=this.foldingModel;if(!t||!this.mouseDownInfo||!e.target)return;const i=this.mouseDownInfo.lineNumber,n=this.mouseDownInfo.iconClicked,o=e.target.range;if(!o||o.startLineNumber!==i)return;if(n){if(4!==e.target.type)return}else{const e=this.editor.getModel();if(!e||o.startColumn!==e.getLineMaxColumn(i))return}const s=t.getRegionAtLine(i);if(s&&s.startLineNumber===i){const o=s.isCollapsed;if(n||o){let n=[];if(e.event.altKey){const e=e=>!e.containedBy(s)&&!s.containedBy(e),i=t.getRegionsInside(null,e);for(const e of i)e.isCollapsed&&n.push(e);0===n.length&&(n=i)}else{const i=e.event.middleButton||e.event.shiftKey;if(i)for(const e of t.getRegionsInside(s))e.isCollapsed===o&&n.push(e);!o&&i&&0!==n.length||n.push(s)}t.toggleCollapseState(n),this.reveal({lineNumber:i,column:1})}}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};ne.ID="editor.contrib.folding",ne=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([te(1,O.i6),te(2,g.c_),te(3,Q.lT),te(4,J.A),te(5,ee.p)],ne);class oe extends c.R6{runEditorCommand(e,t,i){const n=e.get(g.c_),o=ne.get(t);if(!o)return;const s=o.getFoldingModel();return s?(this.reportTelemetry(e,t),s.then((e=>{if(e){this.invoke(o,e,t,i,n);const s=t.getSelection();s&&o.reveal(s.getStartPosition())}}))):void 0}getSelectedLines(e){const t=e.getSelections();return t?t.map((e=>e.startLineNumber)):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map((e=>e+1)):this.getSelectedLines(t)}run(e,t){}}function se(e){if(!l.o8(e)){if(!l.Kn(e))return!1;const t=e;if(!l.o8(t.levels)&&!l.hj(t.levels))return!1;if(!l.o8(t.direction)&&!l.HD(t.direction))return!1;if(!(l.o8(t.selectionLines)||l.kJ(t.selectionLines)&&t.selectionLines.every(l.hj)))return!1}return!0}class re extends oe{getFoldingLevel(){return parseInt(this.id.substr(re.ID_PREFIX.length))}invoke(e,t,i){!function(e,t,i,n){const o=e.getRegionsInside(null,((e,i)=>i===t&&true!==e.isCollapsed&&!n.some((t=>e.containsLine(t)))));e.toggleCollapseState(o)}(t,this.getFoldingLevel(),0,this.getSelectedLines(i))}}re.ID_PREFIX="editor.foldLevel",re.ID=e=>re.ID_PREFIX+e,(0,c._K)(ne.ID,ne),(0,c.Qr)(class extends oe{constructor(){super({id:"editor.unfold",label:P.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:se,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){const o=n&&n.levels||1,s=this.getLineNumbers(n,i);n&&"up"===n.direction?S(t,!1,o,s):w(t,!1,o,s)}}),(0,c.Qr)(class extends oe{constructor(){super({id:"editor.unfoldRecursively",label:P.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2137),weight:100}})}invoke(e,t,i,n){w(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}}),(0,c.Qr)(class extends oe{constructor(){super({id:"editor.fold",label:P.NC("foldAction.label","Fold"),alias:"Fold",precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:se,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){const o=this.getLineNumbers(n,i),s=n&&n.levels,r=n&&n.direction;"number"!=typeof s&&"string"!=typeof r?function(e,t,i){const n=[];for(const t of i){const i=e.getAllRegionsAtLine(t,(e=>true!==e.isCollapsed));i.length>0&&n.push(i[0])}e.toggleCollapseState(n)}(t,0,o):"up"===r?S(t,!0,s||1,o):w(t,!0,s||1,o)}}),(0,c.Qr)(class extends oe{constructor(){super({id:"editor.foldRecursively",label:P.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2135),weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);w(t,!0,Number.MAX_VALUE,n)}}),(0,c.Qr)(class extends oe{constructor(){super({id:"editor.foldAll",label:P.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2069),weight:100}})}invoke(e,t,i){w(t,!0)}}),(0,c.Qr)(class extends oe{constructor(){super({id:"editor.unfoldAll",label:P.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2088),weight:100}})}invoke(e,t,i){w(t,!1)}}),(0,c.Qr)(class extends oe{constructor(){super({id:"editor.foldAllBlockComments",label:P.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2133),weight:100}})}invoke(e,t,i,n,o){if(t.regions.hasTypes())x(t,u.AD.Comment.value,!0);else{const e=i.getModel();if(!e)return;const n=o.getLanguageConfiguration(e.getLanguageId()).comments;n&&n.blockCommentStartToken&&L(t,new RegExp("^\\s*"+(0,a.ec)(n.blockCommentStartToken)),!0)}}}),(0,c.Qr)(class extends oe{constructor(){super({id:"editor.foldAllMarkerRegions",label:P.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2077),weight:100}})}invoke(e,t,i,n,o){if(t.regions.hasTypes())x(t,u.AD.Region.value,!0);else{const e=i.getModel();if(!e)return;const n=o.getLanguageConfiguration(e.getLanguageId()).foldingRules;n&&n.markers&&n.markers.start&&L(t,new RegExp(n.markers.start),!0)}}}),(0,c.Qr)(class extends oe{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:P.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2078),weight:100}})}invoke(e,t,i,n,o){if(t.regions.hasTypes())x(t,u.AD.Region.value,!1);else{const e=i.getModel();if(!e)return;const n=o.getLanguageConfiguration(e.getLanguageId()).foldingRules;n&&n.markers&&n.markers.start&&L(t,new RegExp(n.markers.start),!1)}}}),(0,c.Qr)(class extends oe{constructor(){super({id:"editor.foldAllExcept",label:P.NC("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2131),weight:100}})}invoke(e,t,i){k(t,!0,this.getSelectedLines(i))}}),(0,c.Qr)(class extends oe{constructor(){super({id:"editor.unfoldAllExcept",label:P.NC("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2129),weight:100}})}invoke(e,t,i){k(t,!1,this.getSelectedLines(i))}}),(0,c.Qr)(class extends oe{constructor(){super({id:"editor.toggleFold",label:P.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2090),weight:100}})}invoke(e,t,i){!function(e,t,i){const n=[];for(const t of i){const i=e.getRegionAtLine(t);if(i){i.isCollapsed;n.push(i),0}}e.toggleCollapseState(n)}(t,0,this.getSelectedLines(i))}}),(0,c.Qr)(class extends oe{constructor(){super({id:"editor.gotoParentFold",label:P.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);if(n.length>0){const e=function(e,t){let i=null;const n=t.getRegionAtLine(e);if(null!==n&&(i=n.startLineNumber,e===i)){const e=n.parentIndex;i=-1!==e?t.regions.getStartLineNumber(e):null}return i}(n[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}}),(0,c.Qr)(class extends oe{constructor(){super({id:"editor.gotoPreviousFold",label:P.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);if(n.length>0){const e=function(e,t){let i=t.getRegionAtLine(e);if(null!==i&&i.startLineNumber===e){if(e!==i.startLineNumber)return i.startLineNumber;{const e=i.parentIndex;let n=0;for(-1!==e&&(n=t.regions.getStartLineNumber(i.parentIndex));null!==i;){if(!(i.regionIndex>0))return null;if(i=t.regions.toRegion(i.regionIndex-1),i.startLineNumber<=n)return null;if(i.parentIndex===e)return i.startLineNumber}}}else if(t.regions.length>0)for(i=t.regions.toRegion(t.regions.length-1);null!==i;){if(i.startLineNumber<e)return i.startLineNumber;i=i.regionIndex>0?t.regions.toRegion(i.regionIndex-1):null}return null}(n[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}}),(0,c.Qr)(class extends oe{constructor(){super({id:"editor.gotoNextFold",label:P.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);if(n.length>0){const e=function(e,t){let i=t.getRegionAtLine(e);if(null!==i&&i.startLineNumber===e){const e=i.parentIndex;let n=0;if(-1!==e)n=t.regions.getEndLineNumber(i.parentIndex);else{if(0===t.regions.length)return null;n=t.regions.getEndLineNumber(t.regions.length-1)}for(;null!==i;){if(!(i.regionIndex<t.regions.length))return null;if(i=t.regions.toRegion(i.regionIndex+1),i.startLineNumber>=n)return null;if(i.parentIndex===e)return i.startLineNumber}}else if(t.regions.length>0)for(i=t.regions.toRegion(0);null!==i;){if(i.startLineNumber>e)return i.startLineNumber;i=i.regionIndex<t.regions.length?t.regions.toRegion(i.regionIndex+1):null}return null}(n[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}}),(0,c.Qr)(class extends oe{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:P.NC("createManualFoldRange.label","Create Manual Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2130),weight:100}})}invoke(e,t,i){var n;const o=[],s=i.getSelections();if(s){for(const e of s){let t=e.endLineNumber;1===e.endColumn&&--t,t>e.startLineNumber&&(o.push({startLineNumber:e.startLineNumber,endLineNumber:t,type:void 0,isCollapsed:!0,source:1}),i.setSelection({startLineNumber:e.startLineNumber,startColumn:1,endLineNumber:e.startLineNumber,endColumn:1}))}if(o.length>0){o.sort(((e,t)=>e.startLineNumber-t.startLineNumber));const e=_.sanitizeAndMerge(t.regions,o,null===(n=i.getModel())||void 0===n?void 0:n.getLineCount());t.updatePost(_.fromFoldRanges(e))}}}}),(0,c.Qr)(class extends oe{constructor(){super({id:"editor.removeManualFoldingRanges",label:P.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2132),weight:100}})}invoke(e,t,i){const n=i.getSelections();if(n){const i=[];for(const e of n){const{startLineNumber:t,endLineNumber:n}=e;i.push(n>=t?{startLineNumber:t,endLineNumber:n}:{endLineNumber:n,startLineNumber:t})}t.removeManualRanges(i),e.triggerFoldingModelChanged()}}});for(let e=1;e<=7;e++)(0,c.QG)(new re({id:re.ID(e),label:P.NC("foldLevelAction.label","Fold Level {0}",e),alias:`Fold Level ${e}`,precondition:ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2048|21+e),weight:100}}));const ae=(0,V.P6G)("editor.foldBackground",{light:(0,V.ZnX)(V.hEj,.3),dark:(0,V.ZnX)(V.hEj,.3),hcDark:null,hcLight:null},P.NC("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),le=(0,V.P6G)("editorGutter.foldingControlForeground",{dark:V.XZx,light:V.XZx,hcDark:V.XZx,hcLight:V.XZx},P.NC("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,F.Ic)(((e,t)=>{const i=e.getColor(ae);i&&t.addRule(`.monaco-editor .folded-background { background-color: ${i}; }`);const n=e.getColor(le);n&&t.addRule(`\n\t\t.monaco-editor .cldr${F.kS.asCSSSelector(U)},\n\t\t.monaco-editor .cldr${F.kS.asCSSSelector(H)},\n\t\t.monaco-editor .cldr${F.kS.asCSSSelector(j)},\n\t\t.monaco-editor .cldr${F.kS.asCSSSelector(G)} {\n\t\t\tcolor: ${n} !important;\n\t\t}\n\t\t`)}))},4125:(e,t,i)=>{"use strict";i.r(t);var n=i(6830),o=i(2334),s=i(3580);class r extends n.R6{constructor(){super({id:"editor.action.fontZoomIn",label:s.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){o.C.setZoomLevel(o.C.getZoomLevel()+1)}}class a extends n.R6{constructor(){super({id:"editor.action.fontZoomOut",label:s.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){o.C.setZoomLevel(o.C.getZoomLevel()-1)}}class l extends n.R6{constructor(){super({id:"editor.action.fontZoomReset",label:s.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){o.C.setZoomLevel(0)}}(0,n.Qr)(r),(0,n.Qr)(a),(0,n.Qr)(l)},8823:(e,t,i)=>{"use strict";i.d(t,{xC:()=>I,Zg:()=>L,x$:()=>D,Qq:()=>E,Qs:()=>T});var n=i(5152),o=i(9488),s=i(1050),r=i(7301),a=i(3725),l=i(1741),d=i(8401),c=i(666),h=i(6467),u=i(5520),g=i(187),p=i(4314),m=i(3860),f=i(4319),v=i(8216),_=i(5120),b=i(3580),C=i(4565);class y{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return"string"==typeof e?e.toLowerCase():e._lower}}var w=i(2065),S=i(1922),k=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function L(e){if(!(e=e.filter((e=>e.range))).length)return;let{range:t}=e[0];for(let i=1;i<e.length;i++)t=p.e.plusRange(t,e[i].range);const{startLineNumber:i,endLineNumber:o}=t;i===o?1===e.length?(0,n.Z9)(b.NC("hint11","Made 1 formatting edit on line {0}",i)):(0,n.Z9)(b.NC("hintn1","Made {0} formatting edits on line {1}",e.length,i)):1===e.length?(0,n.Z9)(b.NC("hint1n","Made 1 formatting edit between lines {0} and {1}",i,o)):(0,n.Z9)(b.NC("hintnn","Made {0} formatting edits between lines {1} and {2}",e.length,i,o))}function x(e,t,i){const n=[],o=new Set,s=e.ordered(i);for(const e of s)n.push(e),e.extensionId&&o.add(y.toKey(e.extensionId));const r=t.ordered(i);for(const e of r){if(e.extensionId){if(o.has(y.toKey(e.extensionId)))continue;o.add(y.toKey(e.extensionId))}n.push({displayName:e.displayName,extensionId:e.extensionId,provideDocumentFormattingEdits:(t,i,n)=>e.provideDocumentRangeFormattingEdits(t,t.getFullModelRange(),i,n)})}return n}class I{static setFormatterSelector(e){return{dispose:I._selectors.unshift(e)}}static select(e,t,i){return k(this,void 0,void 0,(function*(){if(0===e.length)return;const n=a.$.first(I._selectors);return n?yield n(e,t,i):void 0}))}}function D(e,t,i,n,o,s){return k(this,void 0,void 0,(function*(){const r=e.get(w.TG),{documentRangeFormattingEditProvider:a}=e.get(S.p),l=(0,u.CL)(t)?t.getModel():t,d=a.ordered(l),c=yield I.select(d,l,n);c&&(o.report(c),yield r.invokeFunction(N,c,t,i,s))}))}function N(e,t,i,n,s){return k(this,void 0,void 0,(function*(){const r=e.get(f.p);let a,l;(0,u.CL)(i)?(a=i.getModel(),l=new h.Dl(i,5,void 0,s)):(a=i,l=new h.YQ(i,s));const d=[];let c=0;for(const e of(0,o._2)(n).sort(p.e.compareRangesUsingStarts))c>0&&p.e.areIntersectingOrTouching(d[c-1],e)?d[c-1]=p.e.fromPositions(d[c-1].getStartPosition(),e.getEndPosition()):c=d.push(e);const g=e=>k(this,void 0,void 0,(function*(){return(yield t.provideDocumentRangeFormattingEdits(a,e,a.getFormattingOptions(),l.token))||[]})),v=(e,t)=>{if(!e.length||!t.length)return!1;const i=e.reduce(((e,t)=>p.e.plusRange(e,t.range)),e[0].range);if(!t.some((e=>p.e.intersectRanges(i,e.range))))return!1;for(const i of e)for(const e of t)if(p.e.intersectRanges(i.range,e.range))return!0;return!1},b=[],C=[];try{for(const e of d){if(l.token.isCancellationRequested)return!0;C.push(yield g(e))}for(let e=0;e<d.length;++e)for(let t=e+1;t<d.length;++t){if(l.token.isCancellationRequested)return!0;if(v(C[e],C[t])){const i=p.e.plusRange(d[e],d[t]),n=yield g(i);d.splice(t,1),d.splice(e,1),d.push(i),C.splice(t,1),C.splice(e,1),C.push(n),e=0,t=0}}for(const e of C){if(l.token.isCancellationRequested)return!0;const t=yield r.computeMoreMinimalEdits(a.uri,e);t&&b.push(...t)}}finally{l.dispose()}if(0===b.length)return!1;if((0,u.CL)(i))_.V.execute(i,b,!0),L(b),i.revealPositionInCenterIfOutsideViewport(i.getPosition(),1);else{const[{range:e}]=b,t=new m.Y(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);a.pushEditOperations([t],b.map((e=>({text:e.text,range:p.e.lift(e.range),forceMoveMarkers:!0}))),(e=>{for(const{range:i}of e)if(p.e.areIntersectingOrTouching(i,t))return[new m.Y(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)];return null}))}return!0}))}function E(e,t,i,n,o){return k(this,void 0,void 0,(function*(){const s=e.get(w.TG),r=e.get(S.p),a=(0,u.CL)(t)?t.getModel():t,l=x(r.documentFormattingEditProvider,r.documentRangeFormattingEditProvider,a),d=yield I.select(l,a,i);d&&(n.report(d),yield s.invokeFunction(A,d,t,i,o))}))}function A(e,t,i,n,o){return k(this,void 0,void 0,(function*(){const s=e.get(f.p);let r,a,l;(0,u.CL)(i)?(r=i.getModel(),a=new h.Dl(i,5,void 0,o)):(r=i,a=new h.YQ(i,o));try{const e=yield t.provideDocumentFormattingEdits(r,r.getFormattingOptions(),a.token);if(l=yield s.computeMoreMinimalEdits(r.uri,e),a.token.isCancellationRequested)return!0}finally{a.dispose()}if(!l||0===l.length)return!1;if((0,u.CL)(i))_.V.execute(i,l,2!==n),2!==n&&(L(l),i.revealPositionInCenterIfOutsideViewport(i.getPosition(),1));else{const[{range:e}]=l,t=new m.Y(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);r.pushEditOperations([t],l.map((e=>({text:e.text,range:p.e.lift(e.range),forceMoveMarkers:!0}))),(e=>{for(const{range:i}of e)if(p.e.areIntersectingOrTouching(i,t))return[new m.Y(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)];return null}))}return!0}))}function T(e,t,i,n,o,s,a){const l=t.onTypeFormattingEditProvider.ordered(i);return 0===l.length||l[0].autoFormatTriggerCharacters.indexOf(o)<0?Promise.resolve(void 0):Promise.resolve(l[0].provideOnTypeFormattingEdits(i,n,o,s,a)).catch(r.Cp).then((t=>e.computeMoreMinimalEdits(i.uri,t)))}I._selectors=new l.S,C.P0.registerCommand("_executeFormatRangeProvider",(function(e,...t){return k(this,void 0,void 0,(function*(){const[i,n,a]=t;(0,d.p_)(c.o.isUri(i)),(0,d.p_)(p.e.isIRange(n));const l=e.get(v.S),h=e.get(f.p),u=e.get(S.p),g=yield l.createModelReference(i);try{return function(e,t,i,n,s,a){return k(this,void 0,void 0,(function*(){const l=t.documentRangeFormattingEditProvider.ordered(i);for(const t of l){const l=yield Promise.resolve(t.provideDocumentRangeFormattingEdits(i,n,s,a)).catch(r.Cp);if((0,o.Of)(l))return yield e.computeMoreMinimalEdits(i.uri,l)}}))}(h,u,g.object.textEditorModel,p.e.lift(n),a,s.T.None)}finally{g.dispose()}}))})),C.P0.registerCommand("_executeFormatDocumentProvider",(function(e,...t){return k(this,void 0,void 0,(function*(){const[i,n]=t;(0,d.p_)(c.o.isUri(i));const a=e.get(v.S),l=e.get(f.p),h=e.get(S.p),u=yield a.createModelReference(i);try{return function(e,t,i,n,s){return k(this,void 0,void 0,(function*(){const a=x(t.documentFormattingEditProvider,t.documentRangeFormattingEditProvider,i);for(const t of a){const a=yield Promise.resolve(t.provideDocumentFormattingEdits(i,n,s)).catch(r.Cp);if((0,o.Of)(a))return yield e.computeMoreMinimalEdits(i.uri,a)}}))}(l,h,u.object.textEditorModel,n,s.T.None)}finally{u.dispose()}}))})),C.P0.registerCommand("_executeFormatOnTypeProvider",(function(e,...t){return k(this,void 0,void 0,(function*(){const[i,n,o,r]=t;(0,d.p_)(c.o.isUri(i)),(0,d.p_)(g.L.isIPosition(n)),(0,d.p_)("string"==typeof o);const a=e.get(v.S),l=e.get(f.p),h=e.get(S.p),u=yield a.createModelReference(i);try{return T(l,h,u.object.textEditorModel,g.L.lift(n),o,r,s.T.None)}finally{u.dispose()}}))}))},1097:(e,t,i)=>{"use strict";i.r(t);var n=i(9488),o=i(1050),s=i(7301),r=i(2258),a=i(5976),l=i(6830),d=i(1640),c=i(4906),h=i(4314),u=i(9102),g=i(4319),p=i(1922),m=i(8823),f=i(5120),v=i(3580),_=i(4565),b=i(8819),C=i(2065),y=i(535),w=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},S=function(e,t){return function(i,n){t(i,n,e)}},k=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let L=class{constructor(e,t,i){this._editor=e,this._languageFeaturesService=t,this._workerService=i,this._disposables=new a.SL,this._sessionDisposables=new a.SL,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel((()=>this._update()))),this._disposables.add(e.onDidChangeModelLanguage((()=>this._update()))),this._disposables.add(e.onDidChangeConfiguration((e=>{e.hasChanged(51)&&this._update()})))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(51))return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;const i=new c.q;for(const e of t.autoFormatTriggerCharacters)i.add(e.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType((e=>{const t=e.charCodeAt(e.length-1);i.has(t)&&this._trigger(String.fromCharCode(t))})))}_trigger(e){if(!this._editor.hasModel())return;if(this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),i=this._editor.getPosition(),s=new o.A,r=this._editor.onDidChangeModelContent((e=>{if(e.isFlush)return s.cancel(),void r.dispose();for(let t=0,n=e.changes.length;t<n;t++)if(e.changes[t].range.endLineNumber<=i.lineNumber)return s.cancel(),void r.dispose()}));(0,m.Qs)(this._workerService,this._languageFeaturesService,t,i,e,t.getFormattingOptions(),s.token).then((e=>{s.token.isCancellationRequested||(0,n.Of)(e)&&(f.V.execute(this._editor,e,!0),(0,m.Zg)(e))})).finally((()=>{r.dispose()}))}};L.ID="editor.contrib.autoFormat",L=w([S(1,p.p),S(2,g.p)],L);let x=class{constructor(e,t,i){this.editor=e,this._languageFeaturesService=t,this._instantiationService=i,this._callOnDispose=new a.SL,this._callOnModel=new a.SL,this._callOnDispose.add(e.onDidChangeConfiguration((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModel((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModelLanguage((()=>this._update()))),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(50)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste((({range:e})=>this._trigger(e))))}_trigger(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(m.x$,this.editor,e,2,y.Ex.None,o.T.None).catch(s.dL))}};x.ID="editor.contrib.formatOnPaste",x=w([S(1,p.p),S(2,C.TG)],x);class I extends l.R6{constructor(){super({id:"editor.action.formatDocument",label:v.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:b.Ao.and(u.u.notInCompositeEditor,u.u.writable,u.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:u.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return k(this,void 0,void 0,(function*(){if(t.hasModel()){const i=e.get(C.TG),n=e.get(y.ek);yield n.showWhile(i.invokeFunction(m.Qq,t,1,y.Ex.None,o.T.None),250)}}))}}class D extends l.R6{constructor(){super({id:"editor.action.formatSelection",label:v.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:b.Ao.and(u.u.writable,u.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:u.u.editorTextFocus,primary:(0,r.gx)(2089,2084),weight:100},contextMenuOpts:{when:u.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return k(this,void 0,void 0,(function*(){if(!t.hasModel())return;const i=e.get(C.TG),n=t.getModel(),s=t.getSelections().map((e=>e.isEmpty()?new h.e(e.startLineNumber,1,e.startLineNumber,n.getLineMaxColumn(e.startLineNumber)):e)),r=e.get(y.ek);yield r.showWhile(i.invokeFunction(m.x$,t,s,1,y.Ex.None,o.T.None),250)}))}}(0,l._K)(L.ID,L),(0,l._K)(x.ID,x),(0,l.Qr)(I),(0,l.Qr)(D),_.P0.registerCommand("editor.action.format",(e=>k(void 0,void 0,void 0,(function*(){const t=e.get(d.$).getFocusedCodeEditor();if(!t||!t.hasModel())return;const i=e.get(_.Hy);t.getSelection().isEmpty()?yield i.executeCommand("editor.action.formatDocument"):yield i.executeCommand("editor.action.formatSelection")}))))},5120:(e,t,i)=>{"use strict";i.d(t,{V:()=>s});var n=i(9386),o=i(4314);class s{static _handleEolEdits(e,t){let i;const n=[];for(const e of t)"number"==typeof e.eol&&(i=e.eol),e.range&&"string"==typeof e.text&&n.push(e);return"number"==typeof i&&e.hasModel()&&e.getModel().pushEOL(i),n}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;const i=e.getModel(),n=i.validateRange(t.range);return i.getFullModelRange().equalsRange(n)}static execute(e,t,i){i&&e.pushUndoStop();const r=s._handleEolEdits(e,t);1===r.length&&s._isFullModelReplaceEdit(e,r[0])?e.executeEdits("formatEditsCommand",r.map((e=>n.h.replace(o.e.lift(e.range),e.text)))):e.executeEdits("formatEditsCommand",r.map((e=>n.h.replaceMove(o.e.lift(e.range),e.text)))),i&&e.pushUndoStop()}}},874:(e,t,i)=>{"use strict";i.r(t),i.d(t,{MarkerController:()=>ie,NextMarkerAction:()=>oe});var n=i(3046),o=i(5976),s=i(6830),r=i(1640),a=i(187),l=i(4314),d=i(9102),c=i(9488),h=i(4669),u=i(1741),g=i(7295),p=i(666),m=i(5026),f=i(2065),v=i(8674),_=i(3108),b=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},C=function(e,t){return function(i,n){t(i,n,e)}};class y{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}}let w=class{constructor(e,t,i){this._markerService=t,this._configService=i,this._onDidChange=new h.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new o.SL,this._markers=[],this._nextIdx=-1,p.o.isUri(e)?this._resourceFilter=t=>t.toString()===e.toString():e&&(this._resourceFilter=e);const n=this._configService.getValue("problems.sortOrder"),s=(e,t)=>{let i=(0,g.qu)(e.resource.toString(),t.resource.toString());return 0===i&&(i="position"===n?l.e.compareRangesUsingStarts(e,t)||v.ZL.compare(e.severity,t.severity):v.ZL.compare(e.severity,t.severity)||l.e.compareRangesUsingStarts(e,t)),i},r=()=>{this._markers=this._markerService.read({resource:p.o.isUri(e)?e:void 0,severities:v.ZL.Error|v.ZL.Warning|v.ZL.Info}),"function"==typeof e&&(this._markers=this._markers.filter((e=>this._resourceFilter(e.resource)))),this._markers.sort(s)};r(),this._dispoables.add(t.onMarkerChanged((e=>{this._resourceFilter&&!e.some((e=>this._resourceFilter(e)))||(r(),this._nextIdx=-1,this._onDidChange.fire())})))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e||!(!this._resourceFilter||!e)&&this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new y(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let n=!1,o=this._markers.findIndex((t=>t.resource.toString()===e.uri.toString()));o<0&&(o=(0,c.ry)(this._markers,{resource:e.uri},((e,t)=>(0,g.qu)(e.resource.toString(),t.resource.toString()))),o<0&&(o=~o));for(let i=o;i<this._markers.length;i++){let o=l.e.lift(this._markers[i]);if(o.isEmpty()){const t=e.getWordAtPosition(o.getStartPosition());t&&(o=new l.e(o.startLineNumber,t.startColumn,o.startLineNumber,t.endColumn))}if(t&&(o.containsPosition(t)||t.isBeforeOrEqual(o.getStartPosition()))){this._nextIdx=i,n=!0;break}if(this._markers[i].resource.toString()!==e.uri.toString())break}n||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(0===this._markers.length)return!1;const n=this._nextIdx;return-1===this._nextIdx?this._initIdx(t,i,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),n!==this._nextIdx}find(e,t){let i=this._markers.findIndex((t=>t.resource.toString()===e.toString()));if(!(i<0))for(;i<this._markers.length;i++)if(l.e.containsPosition(this._markers[i],t))return new y(this._markers[i],i+1,this._markers.length)}};w=b([C(1,v.lT),C(2,_.Ui)],w);const S=(0,f.yh)("IMarkerNavigationService");let k=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new u.S}getMarkerList(e){for(const t of this._provider){const i=t.getMarkerList(e);if(i)return i}return new w(e,this._markerService,this._configService)}};k=b([C(0,v.lT),C(1,_.Ui)],k),(0,m.z)(S,k,!0);var L,x=i(3580),I=i(4144),D=i(8819),N=i(9554),E=i(5321),A=i(9802),T=i(1264),M=i(5935),R=i(2049),P=i(8335),O=i(4349),V=i(988),F=i(4603),W=i(3910),z=i(7781);!function(e){e.className=function(e){switch(e){case F.Z.Ignore:return"severity-ignore "+n.lA.info.classNames;case F.Z.Info:return n.lA.info.classNames;case F.Z.Warning:return n.lA.warning.classNames;case F.Z.Error:return n.lA.error.classNames;default:return""}}}(L||(L={})),(0,z.Ic)(((e,t)=>{const i=e.getColor(W.JpG);if(i){const e=n.lA.error.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.text-search-provider-messages .providerMessage ${e},\n\t\t\t.extensions-viewlet > .extensions ${e} {\n\t\t\t\tcolor: ${i};\n\t\t\t}\n\t\t`)}const o=e.getColor(W.BOY);if(o){const e=n.lA.warning.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.extensions-viewlet > .extensions ${e},\n\t\t\t.extension-editor ${e},\n\t\t\t.text-search-provider-messages .providerMessage ${e},\n\t\t\t.preferences-editor ${e} {\n\t\t\t\tcolor: ${o};\n\t\t\t}\n\t\t`)}const s=e.getColor(W.OLZ);if(s){const e=n.lA.info.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.extensions-viewlet > .extensions ${e},\n\t\t\t.text-search-provider-messages .providerMessage ${e},\n\t\t\t.extension-editor ${e} {\n\t\t\t\tcolor: ${s};\n\t\t\t}\n\t\t`)}}));var B=function(e,t){return function(i,n){t(i,n,e)}};class U{constructor(e,t,i,n,s){this._openerService=n,this._labelService=s,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new o.SL,this._editor=t;const r=document.createElement("div");r.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),r.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),r.appendChild(this._relatedBlock),this._disposables.add(E.mu(this._relatedBlock,"click",(e=>{e.preventDefault();const t=this._relatedDiagnostics.get(e.target);t&&i(t)}))),this._scrollable=new A.NB(r,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll((e=>{r.style.left=`-${e.scrollLeft}px`,r.style.top=`-${e.scrollTop}px`}))),this._disposables.add(this._scrollable)}dispose(){(0,o.B9)(this._disposables)}update(e){const{source:t,message:i,relatedInformation:n,code:o}=e;let s=((null==t?void 0:t.length)||0)+"()".length;o&&(s+="string"==typeof o?o.length:o.value.length);const r=(0,g.uq)(i);this._lines=r.length,this._longestLineLength=0;for(const e of r)this._longestLineLength=Math.max(e.length+s,this._longestLineLength);E.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let a=this._messageBlock;for(const e of r)a=document.createElement("div"),a.innerText=e,""===e&&(a.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(a);if(t||o){const e=document.createElement("span");if(e.classList.add("details"),a.appendChild(e),t){const i=document.createElement("span");i.innerText=t,i.classList.add("source"),e.appendChild(i)}if(o)if("string"==typeof o){const t=document.createElement("span");t.innerText=`(${o})`,t.classList.add("code"),e.appendChild(t)}else this._codeLink=E.$("a.code-link"),this._codeLink.setAttribute("href",`${o.target.toString()}`),this._codeLink.onclick=e=>{this._openerService.open(o.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()},E.R3(this._codeLink,E.$("span")).innerText=o.value,e.appendChild(this._codeLink)}if(E.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,c.Of)(n)){const e=this._relatedBlock.appendChild(document.createElement("div"));e.style.paddingTop=`${Math.floor(.66*this._editor.getOption(61))}px`,this._lines+=1;for(const t of n){const i=document.createElement("div"),n=document.createElement("a");n.classList.add("filename"),n.innerText=`${this._labelService.getUriBasenameLabel(t.resource)}(${t.startLineNumber}, ${t.startColumn}): `,n.title=this._labelService.getUriLabel(t.resource),this._relatedDiagnostics.set(n,t);const o=document.createElement("span");o.innerText=t.message,i.appendChild(n),i.appendChild(o),this._lines+=1,e.appendChild(i)}}const l=this._editor.getOption(46),d=Math.ceil(l.typicalFullwidthCharacterWidth*this._longestLineLength*.75),h=l.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:d,scrollHeight:h})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case v.ZL.Error:t=x.NC("Error","Error");break;case v.ZL.Warning:t=x.NC("Warning","Warning");break;case v.ZL.Info:t=x.NC("Info","Info");break;case v.ZL.Hint:t=x.NC("Hint","Hint")}let i=x.NC("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const n=this._editor.getModel();return n&&e.startLineNumber<=n.getLineCount()&&e.startLineNumber>=1&&(i=`${n.getLineContent(e.startLineNumber)}, ${i}`),i}}let H=class e extends R.vk{constructor(e,t,i,n,s,r,a){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},s),this._themeService=t,this._openerService=i,this._menuService=n,this._contextKeyService=r,this._labelService=a,this._callOnDispose=new o.SL,this._onDidSelectRelatedInformation=new h.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=v.ZL.Warning,this._backgroundColor=T.Il.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(X);let t=$,i=q;this._severity===v.ZL.Warning?(t=Y,i=Q):this._severity===v.ZL.Info&&(t=Z,i=J);const n=e.getColor(t),o=e.getColor(i);this.style({arrowColor:n,frameColor:n,headerBackgroundColor:o,primaryHeadingColor:e.getColor(R.IH),secondaryHeadingColor:e.getColor(R.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(t){super._fillHead(t),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun((e=>this.editor.focus())));const i=[],n=this._menuService.createMenu(e.TitleMenu,this._contextKeyService);(0,P.vr)(n,void 0,i),this._actionbarWidget.push(i,{label:!1,icon:!0,index:0}),n.dispose()}_fillTitleIcon(e){this._icon=E.R3(e,E.$(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new U(this._container,this.editor,(e=>this._onDidSelectRelatedInformation.fire(e)),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());const n=l.e.lift(e),o=this.editor.getPosition(),s=o&&n.containsPosition(o)?o:n.getStartPosition();super.show(s,this.computeRequiredHeight());const r=this.editor.getModel();if(r){const e=i>1?x.NC("problems","{0} of {1} problems",t,i):x.NC("change","{0} of {1} problem",t,i);this.setTitle((0,M.EZ)(r.uri),e)}this._icon.className=`codicon ${L.className(v.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(s,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};H.TitleMenu=new I.eH("gotoErrorTitleMenu"),H=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([B(1,z.XE),B(2,V.v4),B(3,I.co),B(4,f.TG),B(5,D.i6),B(6,O.e)],H);const G=(0,W.kwl)(W.lXJ,W.b6y),j=(0,W.kwl)(W.uoC,W.pW3),K=(0,W.kwl)(W.c63,W.T83),$=(0,W.P6G)("editorMarkerNavigationError.background",{dark:G,light:G,hcDark:W.lRK,hcLight:W.lRK},x.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),q=(0,W.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,W.ZnX)($,.1),light:(0,W.ZnX)($,.1),hcDark:null,hcLight:null},x.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),Y=(0,W.P6G)("editorMarkerNavigationWarning.background",{dark:j,light:j,hcDark:W.lRK,hcLight:W.lRK},x.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Q=(0,W.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,W.ZnX)(Y,.1),light:(0,W.ZnX)(Y,.1),hcDark:"#0C141F",hcLight:(0,W.ZnX)(Y,.2)},x.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),Z=(0,W.P6G)("editorMarkerNavigationInfo.background",{dark:K,light:K,hcDark:W.lRK,hcLight:W.lRK},x.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),J=(0,W.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,W.ZnX)(Z,.1),light:(0,W.ZnX)(Z,.1),hcDark:null,hcLight:null},x.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),X=(0,W.P6G)("editorMarkerNavigation.background",{dark:W.cvW,light:W.cvW,hcDark:W.cvW,hcLight:W.cvW},x.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var ee=function(e,t){return function(i,n){t(i,n,e)}},te=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let ie=class e{constructor(e,t,i,n,s){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=n,this._instantiationService=s,this._sessionDispoables=new o.SL,this._editor=e,this._widgetVisible=re.bindTo(this._contextKeyService)}static get(t){return t.getContribution(e.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(H,this._editor),this._widget.onDidClose((()=>this.close()),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition((e=>{var t,i,n;(null===(t=this._model)||void 0===t?void 0:t.selected)&&l.e.containsPosition(null===(i=this._model)||void 0===i?void 0:i.selected.marker,e.position)||null===(n=this._model)||void 0===n||n.resetIndex()}))),this._sessionDispoables.add(this._model.onDidChange((()=>{if(!this._widget||!this._widget.position||!this._model)return;const e=this._model.find(this._editor.getModel().uri,this._widget.position);e?this._widget.updateMarker(e.marker):this._widget.showStale()}))),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation((e=>{this._editorService.openCodeEditor({resource:e.resource,options:{pinned:!0,revealIfOpened:!0,selection:l.e.lift(e).collapseToStart()}},this._editor),this.close(!1)}))),this._sessionDispoables.add(this._editor.onDidChangeModel((()=>this._cleanUp()))),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new a.L(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(t,i){var n,o;return te(this,void 0,void 0,(function*(){if(this._editor.hasModel()){const s=this._getOrCreateModel(i?void 0:this._editor.getModel().uri);if(s.move(t,this._editor.getModel(),this._editor.getPosition()),!s.selected)return;if(s.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const r=yield this._editorService.openCodeEditor({resource:s.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:s.selected.marker}},this._editor);r&&(null===(n=e.get(r))||void 0===n||n.close(),null===(o=e.get(r))||void 0===o||o.nagivate(t,i))}else this._widget.showAtMarker(s.selected.marker,s.selected.index,s.selected.total)}}))}};ie.ID="editor.contrib.markerController",ie=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([ee(1,S),ee(2,D.i6),ee(3,r.$),ee(4,f.TG)],ie);class ne extends s.R6{constructor(e,t,i){super(i),this._next=e,this._multiFile=t}run(e,t){var i;return te(this,void 0,void 0,(function*(){t.hasModel()&&(null===(i=ie.get(t))||void 0===i||i.nagivate(this._next,this._multiFile))}))}}class oe extends ne{constructor(){super(!0,!1,{id:oe.ID,label:oe.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:d.u.focus,primary:578,weight:100},menuOpts:{menuId:H.TitleMenu,title:oe.LABEL,icon:(0,N.q5)("marker-navigation-next",n.lA.arrowDown,x.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}oe.ID="editor.action.marker.next",oe.LABEL=x.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class se extends ne{constructor(){super(!1,!1,{id:se.ID,label:se.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:d.u.focus,primary:1602,weight:100},menuOpts:{menuId:H.TitleMenu,title:se.LABEL,icon:(0,N.q5)("marker-navigation-previous",n.lA.arrowUp,x.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}se.ID="editor.action.marker.prev",se.LABEL=x.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),(0,s._K)(ie.ID,ie),(0,s.Qr)(oe),(0,s.Qr)(se),(0,s.Qr)(class extends ne{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:x.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:d.u.focus,primary:66,weight:100},menuOpts:{menuId:I.eH.MenubarGoMenu,title:x.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),(0,s.Qr)(class extends ne{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:x.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:d.u.focus,primary:1090,weight:100},menuOpts:{menuId:I.eH.MenubarGoMenu,title:x.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const re=new D.uy("markersNavigationVisible",!1),ae=s._l.bindToContribution(ie.get);(0,s.fK)(new ae({id:"closeMarkersNavigation",precondition:re,handler:e=>e.close(),kbOpts:{weight:150,kbExpr:d.u.focus,primary:9,secondary:[1033]}}))},628:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DefinitionAction:()=>ne,SymbolNavigationAction:()=>ie,SymbolNavigationAnchor:()=>te});var n=i(6268),o=i(5152),s=i(5393),r=i(2258),a=i(1432),l=i(8401),d=i(666),c=i(6467),h=i(5520),u=i(6830),g=i(1640),p=i(4527),m=i(187),f=i(4314),v=i(9102),_=i(6887),b=i(7376),C=i(1293),y=i(4669),w=i(5976),S=i(5935),k=i(3580),L=i(8819),x=i(5026),I=i(2065),D=i(1847),N=i(9989),E=i(9422),A=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},T=function(e,t){return function(i,n){t(i,n,e)}};const M=new L.uy("hasSymbols",!1,(0,k.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),R=(0,I.yh)("ISymbolNavigationService");let P=class{constructor(e,t,i,n){this._editorService=t,this._notificationService=i,this._keybindingService=n,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=M.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),null===(e=this._currentState)||void 0===e||e.dispose(),null===(t=this._currentMessage)||void 0===t||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1)return void this.reset();this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const i=new O(this._editorService),n=i.onDidChange((e=>{if(this._ignoreEditorChange)return;const i=this._editorService.getActiveCodeEditor();if(!i)return;const n=i.getModel(),o=i.getPosition();if(!n||!o)return;let s=!1,r=!1;for(const e of t.references)if((0,S.Xy)(e.uri,n.uri))s=!0,r=r||f.e.containsPosition(e.range,o);else if(s)break;s&&r||this.reset()}));this._currentState=(0,w.F8)(i,n)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:f.e.collapseToStart(t.range),selectionRevealType:3}},e).finally((()=>{this._ignoreEditorChange=!1}))}_showMessage(){var e;null===(e=this._currentMessage)||void 0===e||e.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),i=t?(0,k.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):(0,k.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(i)}};P=A([T(0,L.i6),T(1,g.$),T(2,E.lT),T(3,D.d)],P),(0,x.z)(R,P,!0),(0,u.fK)(new class extends u._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:M,kbOpts:{weight:100,primary:70}})}runEditorCommand(e,t){return e.get(R).revealNext(t)}}),N.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:M,primary:9,handler(e){e.get(R).reset()}});let O=class{constructor(e){this._listener=new Map,this._disposables=new w.SL,this._onDidChange=new y.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,w.B9)(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,(0,w.F8)(e.onDidChangeCursorPosition((t=>this._onDidChange.fire({editor:e}))),e.onDidChangeModelContent((t=>this._onDidChange.fire({editor:e})))))}_onDidRemoveEditor(e){var t;null===(t=this._listener.get(e))||void 0===t||t.dispose(),this._listener.delete(e)}};O=A([T(0,g.$)],O);var V,F,W,z,B,U,H,G,j=i(7753),K=i(2049),$=i(4144),q=i(4565),Y=i(535),Q=i(184),Z=i(1922),J=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};$.BH.appendMenuItem($.eH.EditorContext,{submenu:$.eH.EditorContextPeek,title:k.NC("peek.submenu","Peek"),group:"navigation",order:100});const X=new Set;function ee(e){const t=new e;return(0,u.QG)(t),X.add(t.id),t}class te{constructor(e,t){this.model=e,this.position=t}static is(e){return!(!e||"object"!=typeof e)&&(e instanceof te||!(!m.L.isIPosition(e.position)||!e.model))}}class ie extends u.R6{constructor(e,t){super(t),this.configuration=e}run(e,t,i){if(!t.hasModel())return Promise.resolve(void 0);const n=e.get(E.lT),r=e.get(g.$),a=e.get(Y.ek),l=e.get(R),d=e.get(Z.p),h=t.getModel(),u=t.getPosition(),p=te.is(i)?i:new te(h,u),m=new c.Dl(t,5),f=(0,s.eP)(this._getLocationModel(d,p.model,p.position,m.token),m.token).then((e=>J(this,void 0,void 0,(function*(){var i;if(!e||m.token.isCancellationRequested)return;let n;if((0,o.Z9)(e.ariaMessage),e.referenceAt(h.uri,u)){const e=this._getAlternativeCommand(t);!ie._activeAlternativeCommands.has(e)&&X.has(e)&&(n=t.getAction(e))}const s=e.references.length;if(0===s){if(!this.configuration.muteMessage){const e=h.getWordAtPosition(u);null===(i=j.O.get(t))||void 0===i||i.showMessage(this._getNoResultFoundMessage(e),u)}}else{if(1!==s||!n)return this._onResult(r,l,t,e);ie._activeAlternativeCommands.add(this.id),n.run().finally((()=>{ie._activeAlternativeCommands.delete(this.id)}))}}))),(e=>{n.error(e)})).finally((()=>{m.dispose()}));return a.showWhile(f,250),f}_onResult(e,t,i,n){return J(this,void 0,void 0,(function*(){const o=this._getGoToPreference(i);if(i instanceof p.H||!(this.configuration.openInPeek||"peek"===o&&n.references.length>1)){const s=n.firstReference(),r=n.references.length>1&&"gotoAndPeek"===o,a=yield this._openReference(i,e,s,this.configuration.openToSide,!r);r&&a?this._openInPeek(a,n):n.dispose(),"goto"===o&&t.put(s)}else this._openInPeek(i,n)}))}_openReference(e,t,i,n,o){return J(this,void 0,void 0,(function*(){let s;if((0,_.vx)(i)&&(s=i.targetSelectionRange),s||(s=i.range),!s)return;const r=yield t.openCodeEditor({resource:i.uri,options:{selection:f.e.collapseToStart(s),selectionRevealType:3,selectionSource:"code.jump"}},e,n);if(r){if(o){const e=r.getModel(),t=r.createDecorationsCollection([{range:s,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout((()=>{r.getModel()===e&&t.clear()}),350)}return r}}))}_openInPeek(e,t){const i=b.J.get(e);i&&e.hasModel()?i.toggleWidget(e.getSelection(),(0,s.PG)((e=>Promise.resolve(t))),this.configuration.openInPeek):t.dispose()}}ie._activeAlternativeCommands=new Set;class ne extends ie{_getLocationModel(e,t,i,n){return J(this,void 0,void 0,(function*(){return new C.oQ(yield(0,Q.nD)(e.definitionProvider,t,i,n),k.NC("def.title","Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?k.NC("noResultWord","No definition found for '{0}'",e.word):k.NC("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(53).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(53).multipleDefinitions}}const oe=a.$L&&!(0,n.isStandalone)()?2118:70;ee(((V=class e extends ne{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,label:k.NC("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:L.Ao.and(v.u.hasDefinitionProvider,v.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:v.u.editorTextFocus,primary:oe,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),q.P0.registerCommandAlias("editor.action.goToDeclaration",e.id)}}).id="editor.action.revealDefinition",V)),ee(((F=class e extends ne{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:e.id,label:k.NC("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:L.Ao.and(v.u.hasDefinitionProvider,v.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:v.u.editorTextFocus,primary:(0,r.gx)(2089,oe),weight:100}}),q.P0.registerCommandAlias("editor.action.openDeclarationToTheSide",e.id)}}).id="editor.action.revealDefinitionAside",F)),ee(((W=class e extends ne{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.id,label:k.NC("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:L.Ao.and(v.u.hasDefinitionProvider,K.Jy.notInPeekEditor,v.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:v.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:$.eH.EditorContextPeek,group:"peek",order:2}}),q.P0.registerCommandAlias("editor.action.previewDeclaration",e.id)}}).id="editor.action.peekDefinition",W));class se extends ie{_getLocationModel(e,t,i,n){return J(this,void 0,void 0,(function*(){return new C.oQ(yield(0,Q.zq)(e.declarationProvider,t,i,n),k.NC("decl.title","Declarations"))}))}_getNoResultFoundMessage(e){return e&&e.word?k.NC("decl.noResultWord","No declaration found for '{0}'",e.word):k.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(53).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(53).multipleDeclarations}}ee(((z=class e extends se{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,label:k.NC("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:L.Ao.and(v.u.hasDeclarationProvider,v.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(e){return e&&e.word?k.NC("decl.noResultWord","No declaration found for '{0}'",e.word):k.NC("decl.generic.noResults","No declaration found")}}).id="editor.action.revealDeclaration",z)),ee(class extends se{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:k.NC("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:L.Ao.and(v.u.hasDeclarationProvider,K.Jy.notInPeekEditor,v.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:$.eH.EditorContextPeek,group:"peek",order:3}})}});class re extends ie{_getLocationModel(e,t,i,n){return J(this,void 0,void 0,(function*(){return new C.oQ(yield(0,Q.L3)(e.typeDefinitionProvider,t,i,n),k.NC("typedef.title","Type Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?k.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):k.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(53).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(53).multipleTypeDefinitions}}ee(((B=class e extends re{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,label:k.NC("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:L.Ao.and(v.u.hasTypeDefinitionProvider,v.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:v.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}}).ID="editor.action.goToTypeDefinition",B)),ee(((U=class e extends re{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,label:k.NC("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:L.Ao.and(v.u.hasTypeDefinitionProvider,K.Jy.notInPeekEditor,v.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:$.eH.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",U));class ae extends ie{_getLocationModel(e,t,i,n){return J(this,void 0,void 0,(function*(){return new C.oQ(yield(0,Q.f4)(e.implementationProvider,t,i,n),k.NC("impl.title","Implementations"))}))}_getNoResultFoundMessage(e){return e&&e.word?k.NC("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):k.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(53).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(53).multipleImplementations}}ee(((H=class e extends ae{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,label:k.NC("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:L.Ao.and(v.u.hasImplementationProvider,v.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:v.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",H)),ee(((G=class e extends ae{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,label:k.NC("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:L.Ao.and(v.u.hasImplementationProvider,K.Jy.notInPeekEditor,v.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:v.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:$.eH.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",G));class le extends ie{_getNoResultFoundMessage(e){return e?k.NC("references.no","No references found for '{0}'",e.word):k.NC("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(53).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(53).multipleReferences}}ee(class extends le{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:k.NC("goToReferences.label","Go to References"),alias:"Go to References",precondition:L.Ao.and(v.u.hasReferenceProvider,K.Jy.notInPeekEditor,v.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:v.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(e,t,i,n){return J(this,void 0,void 0,(function*(){return new C.oQ(yield(0,Q.aA)(e.referenceProvider,t,i,!0,n),k.NC("ref.title","References"))}))}}),ee(class extends le{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:k.NC("references.action.label","Peek References"),alias:"Peek References",precondition:L.Ao.and(v.u.hasReferenceProvider,K.Jy.notInPeekEditor,v.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:$.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,i,n){return J(this,void 0,void 0,(function*(){return new C.oQ(yield(0,Q.aA)(e.referenceProvider,t,i,!1,n),k.NC("ref.title","References"))}))}});class de extends ie{constructor(e,t,i){super(e,{id:"editor.action.goToLocation",label:k.NC("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:L.Ao.and(K.Jy.notInPeekEditor,v.u.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=i}_getLocationModel(e,t,i,n){return J(this,void 0,void 0,(function*(){return new C.oQ(this._references,k.NC("generic.title","Locations"))}))}_getNoResultFoundMessage(e){return e&&k.NC("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return null!==(t=this._gotoMultipleBehaviour)&&void 0!==t?t:e.getOption(53).multipleReferences}_getAlternativeCommand(){return""}}q.P0.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:d.o},{name:"position",description:"The position at which to start",constraint:m.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(e,t,i,n,o,s,r)=>J(void 0,void 0,void 0,(function*(){(0,l.p_)(d.o.isUri(t)),(0,l.p_)(m.L.isIPosition(i)),(0,l.p_)(Array.isArray(n)),(0,l.p_)(void 0===o||"string"==typeof o),(0,l.p_)(void 0===r||"boolean"==typeof r);const a=e.get(g.$),c=yield a.openCodeEditor({resource:t},a.getFocusedCodeEditor());if((0,h.CL)(c))return c.setPosition(i),c.revealPositionInCenterIfOutsideViewport(i,0),c.invokeWithinContext((e=>{const t=new class extends de{_getNoResultFoundMessage(e){return s||super._getNoResultFoundMessage(e)}}({muteMessage:!Boolean(s),openInPeek:Boolean(r),openToSide:!1},n,o);e.get(I.TG).invokeFunction(t.run.bind(t),c)}))}))}),q.P0.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:d.o},{name:"position",description:"The position at which to start",constraint:m.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(e,t,i,n,o)=>J(void 0,void 0,void 0,(function*(){e.get(q.Hy).executeCommand("editor.action.goToLocations",t,i,n,o,void 0,!0)}))}),q.P0.registerCommand({id:"editor.action.findReferences",handler:(e,t,i)=>{(0,l.p_)(d.o.isUri(t)),(0,l.p_)(m.L.isIPosition(i));const n=e.get(Z.p),o=e.get(g.$);return o.openCodeEditor({resource:t},o.getFocusedCodeEditor()).then((e=>{if(!(0,h.CL)(e)||!e.hasModel())return;const t=b.J.get(e);if(!t)return;const o=(0,s.PG)((t=>(0,Q.aA)(n.referenceProvider,e.getModel(),m.L.lift(i),!1,t).then((e=>new C.oQ(e,k.NC("ref.title","References")))))),r=new f.e(i.lineNumber,i.column,i.lineNumber,i.column);return Promise.resolve(t.toggleWidget(r,o,!1))}))}}),q.P0.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),$.BH.appendMenuItems([{id:$.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:k.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:$.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:k.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:$.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:k.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:$.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:k.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:$.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:k.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}])},184:(e,t,i)=>{"use strict";i.d(t,{L3:()=>g,aA:()=>p,f4:()=>u,nD:()=>c,zq:()=>h});var n=i(1050),o=i(7301),s=i(6830),r=i(1293),a=i(1922),l=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function d(e,t,i,n){const s=i.ordered(e).map((i=>Promise.resolve(n(i,e,t)).then(void 0,(e=>{(0,o.Cp)(e)}))));return Promise.all(s).then((e=>{const t=[];for(const i of e)Array.isArray(i)?t.push(...i):i&&t.push(i);return t}))}function c(e,t,i,n){return d(t,i,e,((e,t,i)=>e.provideDefinition(t,i,n)))}function h(e,t,i,n){return d(t,i,e,((e,t,i)=>e.provideDeclaration(t,i,n)))}function u(e,t,i,n){return d(t,i,e,((e,t,i)=>e.provideImplementation(t,i,n)))}function g(e,t,i,n){return d(t,i,e,((e,t,i)=>e.provideTypeDefinition(t,i,n)))}function p(e,t,i,n,o){return d(t,i,e,((e,t,i)=>l(this,void 0,void 0,(function*(){const s=yield e.provideReferences(t,i,{includeDeclaration:!0},o);if(!n||!s||2!==s.length)return s;const r=yield e.provideReferences(t,i,{includeDeclaration:!1},o);return r&&1===r.length?r:s}))))}function m(e){return l(this,void 0,void 0,(function*(){const t=yield e(),i=new r.oQ(t,""),n=i.references.map((e=>e.link));return i.dispose(),n}))}(0,s.sb)("_executeDefinitionProvider",((e,t,i)=>{const o=c(e.get(a.p).definitionProvider,t,i,n.T.None);return m((()=>o))})),(0,s.sb)("_executeTypeDefinitionProvider",((e,t,i)=>{const o=g(e.get(a.p).typeDefinitionProvider,t,i,n.T.None);return m((()=>o))})),(0,s.sb)("_executeDeclarationProvider",((e,t,i)=>{const o=h(e.get(a.p).declarationProvider,t,i,n.T.None);return m((()=>o))})),(0,s.sb)("_executeReferenceProvider",((e,t,i)=>{const o=p(e.get(a.p).referenceProvider,t,i,!1,n.T.None);return m((()=>o))})),(0,s.sb)("_executeImplementationProvider",((e,t,i)=>{const o=u(e.get(a.p).implementationProvider,t,i,n.T.None);return m((()=>o))}))},2005:(e,t,i)=>{"use strict";i.d(t,{yN:()=>h});var n=i(4669),o=i(5976),s=i(1432);function r(e,t){return!!e[t]}class a{constructor(e,t){this.target=e.target,this.hasTriggerModifier=r(e.event,t.triggerModifier),this.hasSideBySideModifier=r(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class l{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=r(e,t.triggerModifier)}}class d{constructor(e,t,i,n){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=n}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function c(e){return"altKey"===e?s.dz?new d(57,"metaKey",6,"altKey"):new d(5,"ctrlKey",6,"altKey"):s.dz?new d(6,"altKey",57,"metaKey"):new d(6,"altKey",5,"ctrlKey")}class h extends o.JT{constructor(e){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new n.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new n.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new n.Q5),this.onCancel=this._onCancel.event,this._editor=e,this._opts=c(this._editor.getOption(72)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration((e=>{if(e.hasChanged(72)){const e=c(this._editor.getOption(72));if(this._opts.equals(e))return;this._opts=e,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}}))),this._register(this._editor.onMouseMove((e=>this._onEditorMouseMove(new a(e,this._opts))))),this._register(this._editor.onMouseDown((e=>this._onEditorMouseDown(new a(e,this._opts))))),this._register(this._editor.onMouseUp((e=>this._onEditorMouseUp(new a(e,this._opts))))),this._register(this._editor.onKeyDown((e=>this._onEditorKeyDown(new l(e,this._opts))))),this._register(this._editor.onKeyUp((e=>this._onEditorKeyUp(new l(e,this._opts))))),this._register(this._editor.onMouseDrag((()=>this._resetHandler()))),this._register(this._editor.onDidChangeCursorSelection((e=>this._onDidChangeCursorSelection(e)))),this._register(this._editor.onDidChangeModel((e=>this._resetHandler()))),this._register(this._editor.onDidChangeModelContent((()=>this._resetHandler()))),this._register(this._editor.onDidScrollChange((e=>{(e.scrollTopChanged||e.scrollLeftChanged)&&this._resetHandler()})))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){const t=e.target.position?e.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},2470:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GotoDefinitionAtPositionEditorContribution:()=>S});var n=i(5393),o=i(7301),s=i(9365),r=i(5976),a=i(8401),l=i(6467),d=i(6830),c=i(4314),h=i(2042),u=i(8216),g=i(2005),p=i(2049),m=i(3580),f=i(8819),v=i(3910),_=i(7781),b=i(628),C=i(184),y=i(1922),w=function(e,t){return function(i,n){t(i,n,e)}};let S=class e{constructor(e,t,i,n){this.textModelResolverService=t,this.languageService=i,this.languageFeaturesService=n,this.toUnhook=new r.SL,this.toUnhookForKeyboard=new r.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e,this.linkDecorations=this.editor.createDecorationsCollection();const s=new g.yN(e);this.toUnhook.add(s),this.toUnhook.add(s.onMouseMoveOrRelevantKeyDown((([e,t])=>{this.startFindDefinitionFromMouse(e,(0,a.f6)(t))}))),this.toUnhook.add(s.onExecute((e=>{this.isEnabled(e)&&this.gotoDefinition(e.target.position,e.hasSideBySideModifier).then((()=>{this.removeLinkDecorations()}),(e=>{this.removeLinkDecorations(),(0,o.dL)(e)}))}))),this.toUnhook.add(s.onCancel((()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null})))}static get(t){return t.getContribution(e.ID)}startFindDefinitionFromCursor(e){return this.startFindDefinition(e).then((()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition((()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()}))),this.toUnhookForKeyboard.add(this.editor.onKeyDown((e=>{e&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())})))}))}startFindDefinitionFromMouse(e,t){if(9===e.target.type&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t))return this.currentWordAtPosition=null,void this.removeLinkDecorations();const i=e.target.position;this.startFindDefinition(i)}startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();const i=e?null===(t=this.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(e):null;if(!i)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return Promise.resolve(0);this.currentWordAtPosition=i;const r=new l.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,n.PG)((t=>this.findDefinition(e,t))),this.previousPromise.then((t=>{if(t&&t.length&&r.validate(this.editor))if(t.length>1)this.addDecoration(new c.e(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn),(new s.W5).appendText(m.NC("multipleResults","Click to show {0} definitions.",t.length)));else{const n=t[0];if(!n.uri)return;this.textModelResolverService.createModelReference(n.uri).then((t=>{if(!t.object||!t.object.textEditorModel)return void t.dispose();const{object:{textEditorModel:o}}=t,{startLineNumber:r}=n.range;if(r<1||r>o.getLineCount())return void t.dispose();const a=this.getPreviewValue(o,r,n);let l;l=n.originSelectionRange?c.e.lift(n.originSelectionRange):new c.e(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn);const d=this.languageService.guessLanguageIdByFilepathOrFirstLine(o.uri);this.addDecoration(l,(new s.W5).appendCodeblock(d||"",a)),t.dispose()}))}else this.removeLinkDecorations()})).then(void 0,o.dL)}getPreviewValue(t,i,n){let o=n.range;return o.endLineNumber-o.startLineNumber>=e.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(t,i)),this.stripIndentationFromPreviewRange(t,i,o)}stripIndentationFromPreviewRange(e,t,i){let n=e.getLineFirstNonWhitespaceColumn(t);for(let o=t+1;o<i.endLineNumber;o++){const t=e.getLineFirstNonWhitespaceColumn(o);n=Math.min(n,t)}return e.getValueInRange(i).replace(new RegExp(`^\\s{${n-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(t,i){const n=t.getLineFirstNonWhitespaceColumn(i),o=Math.min(t.getLineCount(),i+e.MAX_SOURCE_PREVIEW_LINES);let s=i+1;for(;s<o&&n!==t.getLineFirstNonWhitespaceColumn(s);s++);return new c.e(i,1,s+1,1)}addDecoration(e,t){const i={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations.set([i])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&6===e.target.type&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,t){const i=this.editor.getModel();return i?(0,C.nD)(this.languageFeaturesService.definitionProvider,i,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext((e=>{const i=!t&&this.editor.getOption(80)&&!this.isInPeekEditor(e);return new b.DefinitionAction({openToSide:t,openInPeek:i,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(e,this.editor)}))}isInPeekEditor(e){const t=e.get(f.i6);return p.Jy.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose()}};S.ID="editor.contrib.gotodefinitionatposition",S.MAX_SOURCE_PREVIEW_LINES=8,S=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([w(1,u.S),w(2,h.O),w(3,y.p)],S),(0,d._K)(S.ID,S),(0,_.Ic)(((e,t)=>{const i=e.getColor(v._Yy);i&&t.addRule(`.monaco-editor .goto-definition-link { color: ${i} !important; }`)}))},7376:(e,t,i)=>{"use strict";i.d(t,{J:()=>le});var n=i(5393),o=i(7301),s=i(2258),r=i(5976),a=i(1640),l=i(187),d=i(4314),c=i(2049),h=i(3580),u=i(4565),g=i(3108),p=i(8819),m=i(2065),f=i(9989),v=i(6763),_=i(9422),b=i(6904),C=i(1293),y=i(5321),w=i(3937),S=i(1264),k=i(4669),L=i(6663),x=i(5935),I=i(4527),D=i(2035),N=i(1381),E=i(8801),A=i(2042),T=i(8216),M=i(7488),R=i(4650),P=i(9834),O=i(5392),V=i(1847),F=i(4349),W=i(8810),z=i(7781),B=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},U=function(e,t){return function(i,n){t(i,n,e)}};let H=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof C.oQ||e instanceof C.F2}getChildren(e){if(e instanceof C.oQ)return e.groups;if(e instanceof C.F2)return e.resolve(this._resolverService).then((e=>e.children));throw new Error("bad tree")}};H=B([U(0,T.S)],H);class G{getHeight(){return 23}getTemplateId(e){return e instanceof C.F2?q.id:Q.id}}let j=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof C.WX){const i=null===(t=e.parent.getPreview(e))||void 0===t?void 0:t.preview(e.range);if(i)return i.value}return(0,x.EZ)(e.uri)}};j=B([U(0,V.d)],j);class K{getId(e){return e instanceof C.WX?e.id:e.uri}}let $=class extends r.JT{constructor(e,t,i){super(),this._labelService=t;const n=document.createElement("div");n.classList.add("reference-file"),this.file=this._register(new P.g(n,{supportHighlights:!0})),this.badge=new M.Z(y.R3(n,y.$(".count"))),this._register((0,W.WZ)(this.badge,i)),e.appendChild(n)}set(e,t){const i=(0,x.XX)(e.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(e.uri),this._labelService.getUriLabel(i,{relative:!0}),{title:this._labelService.getUriLabel(e.uri),matches:t});const n=e.children.length;this.badge.setCount(n),n>1?this.badge.setTitleFormat((0,h.NC)("referencesCount","{0} references",n)):this.badge.setTitleFormat((0,h.NC)("referenceCount","{0} reference",n))}};$=B([U(1,F.e),U(2,z.XE)],$);let q=class e{constructor(t){this._instantiationService=t,this.templateId=e.id}renderTemplate(e){return this._instantiationService.createInstance($,e)}renderElement(e,t,i){i.set(e.element,(0,O.mB)(e.filterData))}disposeTemplate(e){e.dispose()}};q.id="FileReferencesRenderer",q=B([U(0,m.TG)],q);class Y{constructor(e){this.label=new R.q(e)}set(e,t){var i;const n=null===(i=e.parent.getPreview(e))||void 0===i?void 0:i.preview(e.range);if(n&&n.value){const{value:e,highlight:i}=n;t&&!O.CL.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(e,(0,O.mB)(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(e,[i]))}else this.label.set(`${(0,x.EZ)(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`)}}class Q{constructor(){this.templateId=Q.id}renderTemplate(e){return new Y(e)}renderElement(e,t,i){i.set(e.element,e.filterData)}disposeTemplate(){}}Q.id="OneReferenceRenderer";class Z{getWidgetAriaLabel(){return(0,h.NC)("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var J=i(4862),X=function(e,t){return function(i,n){t(i,n,e)}},ee=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class te{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new r.SL,this._callOnModelChange=new r.SL,this._callOnDispose.add(this._editor.onDidChangeModel((()=>this._onModelChanged()))),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(e)for(const t of this._model.references)if(t.uri.toString()===e.uri.toString())return void this._addDecorations(t.parent)}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations((()=>this._onDecorationChanged())));const t=[],i=[];for(let n=0,o=e.children.length;n<o;n++){const o=e.children[n];this._decorationIgnoreSet.has(o.id)||o.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:o.range,options:te.DecorationOptions}),i.push(n))}this._editor.changeDecorations((n=>{const o=n.deltaDecorations([],t);for(let t=0;t<o.length;t++)this._decorations.set(o[t],e.children[i[t]])}))}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(t){for(const[i,n]of this._decorations){const o=t.getDecorationRange(i);if(!o)continue;let s=!1;d.e.equalsRange(o,n.range)||((d.e.spansMultipleLines(o)||n.range.endColumn-n.range.startColumn!=o.endColumn-o.startColumn)&&(s=!0),s?(this._decorationIgnoreSet.add(n.id),e.push(i)):n.range=o)}for(let t=0,i=e.length;t<i;t++)this._decorations.delete(e[t]);this._editor.removeDecorations(e)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}te.DecorationOptions=D.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class ie{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,i;try{const n=JSON.parse(e);t=n.ratio,i=n.heightInLines}catch(e){}return{ratio:t||.7,heightInLines:i||18}}}class ne extends v.ls{}let oe=class extends c.vk{constructor(e,t,i,n,o,s,a,l,d,c,h,u){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},s),this._defaultTreeKeyboardSupport=t,this.layoutData=i,this._textModelResolverService=o,this._instantiationService=s,this._peekViewService=a,this._uriLabel=l,this._undoRedoService=d,this._keybindingService=c,this._languageService=h,this._languageConfigurationService=u,this._disposeOnNewModel=new r.SL,this._callOnDispose=new r.SL,this._onDidSelectReference=new k.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new y.Ro(0,0),this._applyTheme(n.getColorTheme()),this._callOnDispose.add(n.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,r.B9)(this._preview),(0,r.B9)(this._previewNotAvailableMessage),(0,r.B9)(this._tree),(0,r.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(c.SC)||S.Il.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(c.KY)||S.Il.transparent,primaryHeadingColor:e.getColor(c.IH),secondaryHeadingColor:e.getColor(c.R7)})}show(e){super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=y.R3(e,y.$("div.messages")),y.Cp(this._messageContainer),this._splitView=new w.z(e,{orientation:1}),this._previewContainer=y.R3(e,y.$("div.preview.inline")),this._preview=this._instantiationService.createInstance(I.H,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),y.Cp(this._previewContainer),this._previewNotAvailableMessage=new D.yO(h.NC("missingPreviewMessage","no preview available"),E.bd,D.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=y.R3(e,y.$("div.ref-tree.inline"));const t={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Z,keyboardNavigationLabelProvider:this._instantiationService.createInstance(j),identityProvider:new K,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:c.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(y.mu(this._treeContainer,"keydown",(e=>{e.equals(9)&&(this._keybindingService.dispatchEvent(e,e.target),e.stopPropagation())}),!0)),this._tree=this._instantiationService.createInstance(ne,"ReferencesWidget",this._treeContainer,new G,[this._instantiationService.createInstance(q),this._instantiationService.createInstance(Q)],this._instantiationService.createInstance(H),t),this._splitView.addView({onDidChange:k.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:e=>{this._preview.layout({height:this._dim.height,width:e})}},w.M.Distribute),this._splitView.addView({onDidChange:k.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:e=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${e}px`,this._tree.layout(this._dim.height,e)}},w.M.Distribute),this._disposables.add(this._splitView.onDidSashChange((()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)}),void 0));const i=(e,t)=>{e instanceof C.WX&&("show"===t&&this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:t,source:"tree"}))};this._tree.onDidOpen((e=>{e.sideBySide?i(e.element,"side"):e.editorOptions.pinned?i(e.element,"goto"):i(e.element,"show")})),y.Cp(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new y.Ro(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then((()=>{this._model&&(this._tree.setSelection([e]),this._tree.setFocus([e]))}))}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=h.NC("noResults","No results"),y.$Z(this._messageContainer),Promise.resolve(void 0)):(y.Cp(this._messageContainer),this._decorationsManager=new te(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange((e=>this._tree.rerender(e)))),this._disposeOnNewModel.add(this._preview.onMouseDown((e=>{const{event:t,target:i}=e;if(2!==t.detail)return;const n=this._getFocusedReference();n&&this._onDidSelectReference.fire({element:{uri:n.uri,range:i.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})}))),this.container.classList.add("results-loaded"),y.$Z(this._treeContainer),y.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();return e instanceof C.WX?e:e instanceof C.F2&&e.children.length>0?e.children[0]:void 0}revealReference(e){return ee(this,void 0,void 0,(function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})}))}_revealReference(e,t){return ee(this,void 0,void 0,(function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==L.lg.inMemory?this.setTitle((0,x.Hx)(e.uri),this._uriLabel.getUriLabel((0,x.XX)(e.uri))):this.setTitle(h.NC("peekView.alternateTitle","References"));const i=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent||(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent)),this._tree.reveal(e);const n=yield i;if(!this._model)return void n.dispose();(0,r.B9)(this._previewModelReference);const o=n.object;if(o){const t=this._preview.getModel()===o.textEditorModel?0:1,i=d.e.lift(e.range).collapseToStart();this._previewModelReference=n,this._preview.setModel(o.textEditorModel),this._preview.setSelection(i),this._preview.revealRangeInCenter(i,t)}else this._preview.setModel(this._previewNotAvailableMessage),n.dispose()}))}};oe=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([X(3,z.XE),X(4,T.S),X(5,m.TG),X(6,c.Fw),X(7,F.e),X(8,J.tJ),X(9,V.d),X(10,A.O),X(11,N.c_)],oe);var se=function(e,t){return function(i,n){t(i,n,e)}},re=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const ae=new p.uy("referenceSearchVisible",!1,h.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let le=class e{constructor(e,t,i,n,o,s,a,l){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=n,this._notificationService=o,this._instantiationService=s,this._storageService=a,this._configurationService=l,this._disposables=new r.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=ae.bindTo(i)}static get(t){return t.getContribution(e.ID)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(e=this._widget)||void 0===e||e.dispose(),null===(t=this._model)||void 0===t||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,i){let n;if(this._widget&&(n=this._widget.position),this.closeWidget(),n&&e.containsPosition(n))return;this._peekMode=i,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage((()=>{this.closeWidget()}))),this._disposables.add(this._editor.onDidChangeModel((()=>{this._ignoreModelChangeEvent||this.closeWidget()})));const o="peekViewLayout",s=ie.fromJSON(this._storageService.get(o,0,"{}"));this._widget=this._instantiationService.createInstance(oe,this._editor,this._defaultTreeKeyboardSupport,s),this._widget.setTitle(h.NC("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose((()=>{t.cancel(),this._widget&&(this._storageService.store(o,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()}))),this._disposables.add(this._widget.onDidSelectReference((e=>{const{element:t,kind:n}=e;if(t)switch(n){case"open":"editor"===e.source&&this._configurationService.getValue("editor.stablePeek")||this.openReference(t,!1,!1);break;case"side":this.openReference(t,!0,!1);break;case"goto":i?this._gotoReference(t):this.openReference(t,!1,!0)}})));const r=++this._requestIdPool;t.then((t=>{var i;if(r===this._requestIdPool&&this._widget)return null===(i=this._model)||void 0===i||i.dispose(),this._model=t,this._widget.setModel(this._model).then((()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(h.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const t=this._editor.getModel().uri,i=new l.L(e.startLineNumber,e.startColumn),n=this._model.nearestReference(t,i);if(n)return this._widget.setSelection(n).then((()=>{this._widget&&"editor"===this._editor.getOption(79)&&this._widget.focusOnPreviewEditor()}))}}));t.dispose()}),(e=>{this._notificationService.error(e)}))}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return re(this,void 0,void 0,(function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const i=this._model.nearestReference(this._editor.getModel().uri,t);if(!i)return;const n=this._model.nextOrPreviousReference(i,e),o=this._editor.hasTextFocus(),s=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(n),yield this._gotoReference(n),o?this._editor.focus():this._widget&&s&&this._widget.focusOnPreviewEditor()}))}revealReference(e){return re(this,void 0,void 0,(function*(){this._editor.hasModel()&&this._model&&this._widget&&(yield this._widget.revealReference(e))}))}closeWidget(e=!0){var t,i;null===(t=this._widget)||void 0===t||t.dispose(),null===(i=this._model)||void 0===i||i.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(t){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const i=d.e.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:i,selectionSource:"code.jump"}},this._editor).then((t=>{var o;if(this._ignoreModelChangeEvent=!1,t&&this._widget)if(this._editor===t)this._widget.show(i),this._widget.focusOnReferenceTree();else{const s=e.get(t),r=this._model.clone();this.closeWidget(),t.focus(),null==s||s.toggleWidget(i,(0,n.PG)((e=>Promise.resolve(r))),null!==(o=this._peekMode)&&void 0!==o&&o)}else this.closeWidget()}),(e=>{this._ignoreModelChangeEvent=!1,(0,o.dL)(e)}))}openReference(e,t,i){t||this.closeWidget();const{uri:n,range:o}=e;this._editorService.openCodeEditor({resource:n,options:{selection:o,selectionSource:"code.jump",pinned:i}},this._editor,t)}};function de(e,t){const i=(0,c.rc)(e);if(!i)return;const n=le.get(i);n&&t(n)}le.ID="editor.contrib.referencesController",le=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([se(2,p.i6),se(3,a.$),se(4,_.lT),se(5,m.TG),se(6,b.Uy),se(7,g.Ui)],le),f.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,s.gx)(2089,60),when:p.Ao.or(ae,c.Jy.inPeekEditor),handler(e){de(e,(e=>{e.changeFocusBetweenPreviewAndReferences()}))}}),f.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:p.Ao.or(ae,c.Jy.inPeekEditor),handler(e){de(e,(e=>{e.goToNextOrPreviousReference(!0)}))}}),f.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:p.Ao.or(ae,c.Jy.inPeekEditor),handler(e){de(e,(e=>{e.goToNextOrPreviousReference(!1)}))}}),u.P0.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),u.P0.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),u.P0.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),u.P0.registerCommand("closeReferenceSearch",(e=>de(e,(e=>e.closeWidget())))),f.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:p.Ao.and(c.Jy.inPeekEditor,p.Ao.not("config.editor.stablePeek"))}),f.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:p.Ao.and(ae,p.Ao.not("config.editor.stablePeek"))}),f.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:p.Ao.and(ae,v.CQ,v.PS.negate(),v.uJ.negate()),handler(e){var t;const i=null===(t=e.get(v.Lw).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof C.WX&&de(e,(e=>e.revealReference(i[0])))}}),f.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:p.Ao.and(ae,v.CQ,v.PS.negate(),v.uJ.negate()),handler(e){var t;const i=null===(t=e.get(v.Lw).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof C.WX&&de(e,(e=>e.openReference(i[0],!0,!0)))}}),u.P0.registerCommand("openReference",(e=>{var t;const i=null===(t=e.get(v.Lw).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof C.WX&&de(e,(e=>e.openReference(i[0],!1,!0)))}))},1293:(e,t,i)=>{"use strict";i.d(t,{F2:()=>p,WX:()=>u,oQ:()=>m});var n=i(7301),o=i(4669),s=i(4742),r=i(5976),a=i(3702),l=i(5935),d=i(7295),c=i(4314),h=i(3580);class u{constructor(e,t,i,n){this.isProviderFirst=e,this.parent=t,this.link=i,this._rangeCallback=n,this.id=s.a.nextId()}get uri(){return this.link.uri}get range(){var e,t;return null!==(t=null!==(e=this._range)&&void 0!==e?e:this.link.targetSelectionRange)&&void 0!==t?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;const t=null===(e=this.parent.getPreview(this))||void 0===e?void 0:e.preview(this.range);return t?(0,h.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,l.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):(0,h.NC)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,l.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class g{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const i=this._modelReference.object.textEditorModel;if(!i)return;const{startLineNumber:n,startColumn:o,endLineNumber:s,endColumn:r}=e,a=i.getWordUntilPosition({lineNumber:n,column:o-t}),l=new c.e(n,a.startColumn,n,o),d=new c.e(s,r,s,1073741824),h=i.getValueInRange(l).replace(/^\s+/,""),u=i.getValueInRange(e);return{value:h+u+i.getValueInRange(d).replace(/\s+$/,""),highlight:{start:h.length,end:h.length+u.length}}}}class p{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new a.Y9}dispose(){(0,r.B9)(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return 1===e?(0,h.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,l.EZ)(this.uri),this.uri.fsPath):(0,h.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,(0,l.EZ)(this.uri),this.uri.fsPath)}resolve(e){return t=this,i=void 0,s=function*(){if(0!==this._previews.size)return this;for(const t of this.children)if(!this._previews.has(t.uri))try{const i=yield e.createModelReference(t.uri);this._previews.set(t.uri,new g(i))}catch(e){(0,n.dL)(e)}return this},new((o=void 0)||(o=Promise))((function(e,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(r,a)}l((s=s.apply(t,i||[])).next())}));var t,i,o,s}}class m{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new o.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[i]=e;let n;e.sort(m._compareReferences);for(const t of e)if(n&&l.SF.isEqual(n.uri,t.uri,!0)||(n=new p(this,t.uri),this.groups.push(n)),0===n.children.length||0!==m._compareReferences(t,n.children[n.children.length-1])){const e=new u(i===t,n,t,(e=>this._onDidChangeReferenceRange.fire(e)));this.references.push(e),n.children.push(e)}}dispose(){(0,r.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new m(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?(0,h.NC)("aria.result.0","No results found"):1===this.references.length?(0,h.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?(0,h.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,h.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){const{parent:i}=e;let n=i.children.indexOf(e);const o=i.children.length,s=i.parent.groups.length;return 1===s||t&&n+1<o||!t&&n>0?(n=t?(n+1)%o:(n+o-1)%o,i.children[n]):(n=i.parent.groups.indexOf(i),t?(n=(n+1)%s,i.parent.groups[n].children[0]):(n=(n+s-1)%s,i.parent.groups[n].children[i.parent.groups[n].children.length-1]))}nearestReference(e,t){const i=this.references.map(((i,n)=>({idx:n,prefixLen:d.Mh(i.uri.toString(),e.toString()),offsetDist:100*Math.abs(i.range.startLineNumber-t.lineNumber)+Math.abs(i.range.startColumn-t.column)}))).sort(((e,t)=>e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0))[0];if(i)return this.references[i.idx]}referenceAt(e,t){for(const i of this.references)if(i.uri.toString()===e.toString()&&c.e.containsPosition(i.range,t))return i}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return l.SF.compare(e.uri,t.uri)||c.e.compareRangesUsingStarts(e.range,t.range)}}},1095:(e,t,i)=>{"use strict";i.d(t,{R8:()=>d});var n=i(5393),o=i(1050),s=i(7301),r=i(6830),a=i(1922);class l{constructor(e,t,i){this.provider=e,this.hover=t,this.ordinal=i}}function d(e,t,i,o){const r=e.ordered(t).map(((e,n)=>function(e,t,i,n,o){return r=this,a=void 0,c=function*(){try{const s=yield Promise.resolve(e.provideHover(i,n,o));if(s&&function(e){const t=void 0!==e.range,i=void 0!==e.contents&&e.contents&&e.contents.length>0;return t&&i}(s))return new l(e,s,t)}catch(e){(0,s.Cp)(e)}},new((d=void 0)||(d=Promise))((function(e,t){function i(e){try{o(c.next(e))}catch(e){t(e)}}function n(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof d?o:new d((function(e){e(o)}))).then(i,n)}o((c=c.apply(r,a||[])).next())}));var r,a,d,c}(e,n,t,i,o)));return n.Aq.fromPromises(r).coalesce()}(0,r.sb)("_executeHoverProvider",((e,t,i)=>function(e,t,i,n){return d(e,t,i,n).map((e=>e.hover)).toPromise()}(e.get(a.p).hoverProvider,t,i,o.T.None)))},9427:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ModesHoverController:()=>de});var n=i(2258),o=i(5976),s=i(6830),r=i(4314),a=i(9102),l=i(2042),d=i(2470),c=i(5321),h=i(9069),u=i(9802);const g=c.$;class p extends o.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new u.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class m extends o.JT{constructor(e,t,i){super(),this.actionContainer=c.R3(e,g("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=c.R3(this.actionContainer,g("a.action")),this.action.setAttribute("role","button"),t.iconClass&&c.R3(this.action,g(`span.icon.${t.iconClass}`)),c.R3(this.action,g("span")).textContent=i?`${t.label} (${i})`:t.label,this._register(c.nm(this.actionContainer,c.tw.CLICK,(e=>{e.stopPropagation(),e.preventDefault(),t.run(this.actionContainer)}))),this._register(c.nm(this.actionContainer,c.tw.KEY_UP,(e=>{new h.y(e).equals(3)&&(e.stopPropagation(),e.preventDefault(),t.run(this.actionContainer))}))),this.setEnabled(!0)}static render(e,t,i){return new m(e,t,i)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var f=i(9488),v=i(187),_=i(2035),b=i(6887),C=i(5393),y=i(7301),w=i(4669);class S{constructor(e,t,i){this.value=e,this.isComplete=t,this.hasLoadingMessage=i}}class k extends o.JT{constructor(e,t){super(),this._editor=e,this._computer=t,this._onResult=this._register(new w.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new C.pY((()=>this._triggerAsyncComputation()),0)),this._secondWaitScheduler=this._register(new C.pY((()=>this._triggerSyncComputation()),0)),this._loadingMessageScheduler=this._register(new C.pY((()=>this._triggerLoadingMessage()),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(55).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,C.zS)((e=>this._computer.computeAsync(e))),(()=>{var e,t,i,n;e=this,t=void 0,n=function*(){var e,t;try{try{for(var i,n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise((function(n,o){!function(e,t,i,n){Promise.resolve(n).then((function(t){e({value:t,done:i})}),t)}(n,o,(t=e[i](t)).done,t.value)}))}}}(this._asyncIterable);!(i=yield n.next()).done;){const e=i.value;e&&(this._result.push(e),this._fireResult())}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&(yield t.call(n))}finally{if(e)throw e.error}}this._asyncIterableDone=!0,3!==this._state&&4!==this._state||this._setState(0)}catch(e){(0,y.dL)(e)}},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){3===this._state&&this._setState(4)}_fireResult(){if(1===this._state||2===this._state)return;const e=0===this._state,t=4===this._state;this._onResult.fire(new S(this._result.slice(0),e,t))}start(e){if(0===e)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}var L=i(6520),x=i(8819),I=i(2065),D=i(1847),N=i(5621),E=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},A=function(e,t){return function(i,n){t(i,n,e)}};const T=c.$;let M=class e extends o.JT{constructor(e,t,i){super(),this._editor=e,this._instantiationService=t,this._keybindingService=i,this._widget=this._register(this._instantiationService.createInstance(P,this._editor)),this._isChangingDecorations=!1,this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const e of L.Ae.getAll())this._participants.push(this._instantiationService.createInstance(e,this._editor));this._participants.sort(((e,t)=>e.hoverOrdinal-t.hoverOrdinal)),this._computer=new V(this._editor,this._participants),this._hoverOperation=this._register(new k(this._editor,this._computer)),this._register(this._hoverOperation.onResult((e=>{this._withResult(e.value,e.isComplete,e.hasLoadingMessage)}))),this._register(this._editor.onDidChangeModelDecorations((()=>{this._isChangingDecorations||this._onModelDecorationsChanged()}))),this._register(c.mu(this._widget.getDomNode(),"keydown",(e=>{e.equals(9)&&this.hide()}))),this._register(b.RW.onDidChange((()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))})))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(e){const t=[];for(const i of this._participants)if(i.suggestHoverAnchor){const n=i.suggestHoverAnchor(e);n&&t.push(n)}const i=e.target;if(6===i.type&&t.push(new L.Qj(0,i.range)),7===i.type){const e=this._editor.getOption(46).typicalHalfwidthCharacterWidth/2;!i.detail.isAfterLines&&"number"==typeof i.detail.horizontalDistanceToText&&i.detail.horizontalDistanceToText<e&&t.push(new L.Qj(0,i.range))}return 0!==t.length&&(t.sort(((e,t)=>t.priority-e.priority)),this._startShowingAt(t[0],0,!1),!0)}startShowingAtRange(e,t,i){this._startShowingAt(new L.Qj(0,e),t,i)}_startShowingAt(e,t,i){if(!this._computer.anchor||!this._computer.anchor.equals(e)){if(this._hoverOperation.cancel(),this._widget.position)if(this._computer.anchor&&e.canAdoptVisibleHover(this._computer.anchor,this._widget.position)){const t=this._messages.filter((t=>t.isValidForHoverAnchor(e)));if(0===t.length)this.hide();else{if(t.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(e,t)}}else this.hide();this._computer.anchor=e,this._computer.shouldFocus=i,this._hoverOperation.start(t)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}containsNode(e){return this._widget.getDomNode().contains(e)}_addLoadingMessage(e){if(this._computer.anchor)for(const t of this._participants)if(t.createLoadingMessage){const i=t.createLoadingMessage(this._computer.anchor);if(i)return e.slice(0).concat([i])}return e}_withResult(e,t,i){this._messages=i?this._addLoadingMessage(e):e,this._messagesAreComplete=t,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):t&&this.hide()}_renderMessages(t,i){const{showAtPosition:n,showAtRange:s,highlightRange:r}=e.computeHoverRanges(t.range,i),a=new o.SL,l=a.add(new O(this._keybindingService)),d=document.createDocumentFragment();let c=null;const h={fragment:d,statusBar:l,setColorPicker:e=>c=e,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const e of this._participants){const t=i.filter((t=>t.owner===e));t.length>0&&a.add(e.renderHoverParts(h,t))}if(l.hasContent&&d.appendChild(l.hoverElement),d.hasChildNodes()){if(r){const t=this._editor.createDecorationsCollection();try{this._isChangingDecorations=!0,t.set([{range:r,options:e._DECORATION_OPTIONS}])}finally{this._isChangingDecorations=!1}a.add((0,o.OF)((()=>{try{this._isChangingDecorations=!0,t.clear()}finally{this._isChangingDecorations=!1}})))}this._widget.showAt(d,new R(c,n,s,this._editor.getOption(55).above,this._computer.shouldFocus,a))}else a.dispose()}static computeHoverRanges(e,t){const i=e.startLineNumber;let n=e.startColumn,o=e.endColumn,s=t[0].range,a=null;for(const e of t)s=r.e.plusRange(s,e.range),e.range.startLineNumber===i&&e.range.endLineNumber===i&&(n=Math.min(n,e.range.startColumn),o=Math.max(o,e.range.endColumn)),e.forceShowAtRange&&(a=e.range);return{showAtPosition:a?a.getStartPosition():new v.L(e.startLineNumber,n),showAtRange:a||new r.e(i,n,i,o),highlightRange:s}}};M._DECORATION_OPTIONS=_.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),M=E([A(1,I.TG),A(2,D.d)],M);class R{constructor(e,t,i,n,o,s){this.colorPicker=e,this.showAtPosition=t,this.showAtRange=i,this.preferAbove=n,this.stoleFocus=o,this.disposables=s}}let P=class e extends o.JT{constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this.allowEditorOverflow=!0,this._hoverVisibleKey=a.u.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new p),this._visibleData=null,this._register(this._editor.onDidLayoutChange((()=>this._layout()))),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(46)&&this._updateFont()}))),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var e,t;return null!==(t=null===(e=this._visibleData)||void 0===e?void 0:e.showAtPosition)&&void 0!==t?t:null}get isColorPickerVisible(){var e;return Boolean(null===(e=this._visibleData)||void 0===e?void 0:e.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return e.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let e=this._visibleData.preferAbove;return!e&&this._contextKeyService.getContextKeyValue(N._y.Visible.key)&&(e=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:e?[1,2]:[2,1]}}_setVisibleData(e){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:i}=this._editor.getOption(46);this._hover.contentsDomNode.style.fontSize=`${t}px`,this._hover.contentsDomNode.style.lineHeight=""+i/t,this._hover.contentsDomNode.style.maxHeight=`${e}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((e=>this._editor.applyFontInfo(e)))}showAt(e,t){this._setVisibleData(t),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),t.colorPicker&&t.colorPicker.layout()}hide(){if(this._visibleData){const e=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),e&&this._editor.focus()}}onContentsChanged(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();const e=this._hover.scrollbar.getScrollDimensions();if(e.scrollWidth>e.width){const e=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==e&&(this._hover.contentsDomNode.style.paddingBottom=e,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};P.ID="editor.contrib.contentHoverWidget",P=E([A(1,x.i6)],P);let O=class extends o.JT{constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=T("div.hover-row.status-bar"),this.actionsElement=c.R3(this.hoverElement,T("div.actions"))}get hasContent(){return this._hasContent}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),i=t?t.getLabel():null;return this._hasContent=!0,this._register(m.render(this.actionsElement,e,i))}append(e){const t=c.R3(this.actionsElement,e);return this._hasContent=!0,t}};O=E([A(0,D.d)],O);class V{constructor(e,t){this._editor=e,this._participants=t,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(e){this._anchor=e}get shouldFocus(){return this._shouldFocus}set shouldFocus(e){this._shouldFocus=e}static _getLineDecorations(e,t){if(1!==t.type)return[];const i=e.getModel(),n=t.range.startLineNumber;if(n>i.getLineCount())return[];const o=i.getLineMaxColumn(n);return e.getLineDecorations(n).filter((e=>{if(e.options.isWholeLine)return!0;const i=e.range.startLineNumber===n?e.range.startColumn:1,s=e.range.endLineNumber===n?e.range.endColumn:o;if(e.options.showIfCollapsed){if(i>t.range.startColumn+1||t.range.endColumn-1>s)return!1}else if(i>t.range.startColumn||t.range.endColumn>s)return!1;return!0}))}computeAsync(e){const t=this._anchor;if(!this._editor.hasModel()||!t)return C.Aq.EMPTY;const i=V._getLineDecorations(this._editor,t);return C.Aq.merge(this._participants.map((n=>n.computeAsync?n.computeAsync(t,i,e):C.Aq.EMPTY)))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=V._getLineDecorations(this._editor,this._anchor);let t=[];for(const i of this._participants)t=t.concat(i.computeSync(this._anchor,e));return(0,f.kX)(t)}}var F=i(9365),W=i(8598),z=i(988);const B=c.$;class U extends o.JT{constructor(e,t,i=z.SW){super(),this._renderDisposeables=this._register(new o.SL),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new p),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new W.$({editor:this._editor},t,i)),this._computer=new H(this._editor),this._hoverOperation=this._register(new k(this._editor,this._computer)),this._register(this._hoverOperation.onResult((e=>{this._withResult(e.value)}))),this._register(this._editor.onDidChangeModelDecorations((()=>this._onModelDecorationsChanged()))),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(46)&&this._updateFont()}))),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return U.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((e=>this._editor.applyFontInfo(e)))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const i=document.createDocumentFragment();for(const e of t){const t=B("div.hover-row.markdown-hover"),n=c.R3(t,B("div.hover-contents")),o=this._renderDisposeables.add(this._markdownRenderer.render(e.value));n.appendChild(o.element),i.appendChild(t)}this._updateContents(i),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(e),n=this._editor.getScrollTop(),o=this._editor.getOption(61),s=i-n-(this._hover.containerDomNode.clientHeight-o)/2;this._hover.containerDomNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(s),0)}px`}}U.ID="editor.contrib.modesGlyphHoverWidget";class H{constructor(e){this._editor=e,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(e){this._lineNumber=e}computeSync(){const e=e=>({value:e}),t=this._editor.getLineDecorations(this._lineNumber),i=[];if(!t)return i;for(const n of t){if(!n.options.glyphMarginClassName)continue;const t=n.options.glyphMarginHoverMessage;t&&!(0,F.CP)(t)&&i.push(...(0,f._2)(t).map(e))}return i}}var G=i(3580),j=i(3910),K=i(7781),$=i(2374),q=i(5935),Y=i(6357),Q=i(5396),Z=i(6454),J=i(6014),X=i(874),ee=i(8674),te=i(535),ie=i(1922),ne=function(e,t){return function(i,n){t(i,n,e)}};const oe=c.$;class se{constructor(e,t,i){this.owner=e,this.range=t,this.marker=i}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const re={type:1,filter:{include:J.yN.QuickFix},triggerAction:J.aQ.QuickFixHover};let ae=class{constructor(e,t,i,n){this._editor=e,this._markerDecorationsService=t,this._openerService=i,this._languageFeaturesService=n,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const i=this._editor.getModel(),n=e.range.startLineNumber,o=i.getLineMaxColumn(n),s=[];for(const a of t){const t=a.range.startLineNumber===n?a.range.startColumn:1,l=a.range.endLineNumber===n?a.range.endColumn:o,d=this._markerDecorationsService.getMarker(i.uri,a);if(!d)continue;const c=new r.e(e.range.startLineNumber,t,e.range.startLineNumber,l);s.push(new se(this,c,d))}return s}renderHoverParts(e,t){if(!t.length)return o.JT.None;const i=new o.SL;t.forEach((t=>e.fragment.appendChild(this.renderMarkerHover(t,i))));const n=1===t.length?t[0]:t.sort(((e,t)=>ee.ZL.compare(e.marker.severity,t.marker.severity)))[0];return this.renderMarkerStatusbar(e,n,i),i}renderMarkerHover(e,t){const i=oe("div.hover-row"),n=c.R3(i,oe("div.marker.hover-contents")),{source:o,message:s,code:r,relatedInformation:a}=e.marker;this._editor.applyFontInfo(n);const l=c.R3(n,oe("span"));if(l.style.whiteSpace="pre-wrap",l.innerText=s,o||r)if(r&&"string"!=typeof r){const e=oe("span");o&&(c.R3(e,oe("span")).innerText=o);const i=c.R3(e,oe("a.code-link"));i.setAttribute("href",r.target.toString()),t.add(c.nm(i,"click",(e=>{this._openerService.open(r.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()}))),c.R3(i,oe("span")).innerText=r.value;const s=c.R3(n,e);s.style.opacity="0.6",s.style.paddingLeft="6px"}else{const e=c.R3(n,oe("span"));e.style.opacity="0.6",e.style.paddingLeft="6px",e.innerText=o&&r?`${o}(${r})`:o||`(${r})`}if((0,f.Of)(a))for(const{message:e,resource:i,startLineNumber:o,startColumn:s}of a){const r=c.R3(n,oe("div"));r.style.marginTop="8px";const a=c.R3(r,oe("a"));a.innerText=`${(0,q.EZ)(i)}(${o}, ${s}): `,a.style.cursor="pointer",t.add(c.nm(a,"click",(e=>{e.stopPropagation(),e.preventDefault(),this._openerService&&this._openerService.open(i,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:o,startColumn:s}}}).catch(y.dL)})));const l=c.R3(r,oe("span"));l.innerText=e,this._editor.applyFontInfo(l)}return i}renderMarkerStatusbar(e,t,i){if(t.marker.severity!==ee.ZL.Error&&t.marker.severity!==ee.ZL.Warning&&t.marker.severity!==ee.ZL.Info||e.statusBar.addAction({label:G.NC("view problem","View Problem"),commandId:X.NextMarkerAction.ID,run:()=>{var i;e.hide(),null===(i=X.MarkerController.get(this._editor))||void 0===i||i.showAtMarker(t.marker),this._editor.focus()}}),!this._editor.getOption(83)){const n=e.statusBar.append(oe("div"));this.recentMarkerCodeActionsInfo&&(ee.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===ee.H0.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(n.textContent=G.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const s=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?o.JT.None:i.add((0,C.Vg)((()=>n.textContent=G.NC("checkingForQuickFixes","Checking for quick fixes...")),200));n.textContent||(n.textContent=String.fromCharCode(160));const r=this.getCodeActions(t.marker);i.add((0,o.OF)((()=>r.cancel()))),r.then((r=>{if(s.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:r.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return r.dispose(),void(n.textContent=G.NC("noQuickFixes","No quick fixes available"));n.style.display="none";let a=!1;i.add((0,o.OF)((()=>{a||r.dispose()}))),e.statusBar.addAction({label:G.NC("quick fixes","Quick Fix..."),commandId:Z.E7.Id,run:t=>{a=!0;const i=Z.pY.get(this._editor),n=c.i(t);e.hide(),null==i||i.showCodeActions(re,r,{x:n.left+6,y:n.top+n.height+6,width:n.width,height:n.height})}})}),y.dL)}}getCodeActions(e){return(0,C.PG)((t=>(0,Q.aI)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new r.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),re,te.Ex.None,t)))}};ae=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([ne(1,Y.i),ne(2,z.v4),ne(3,ie.p)],ae),(0,K.Ic)(((e,t)=>{const i=e.getColor(j.url);i&&t.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${i}; }`);const n=e.getColor(j.sgC);n&&t.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${n}; }`)}));var le=function(e,t){return function(i,n){t(i,n,e)}};let de=class e{constructor(e,t,i,n,s){this._editor=e,this._instantiationService=t,this._openerService=i,this._languageService=n,this._toUnhook=new o.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((e=>{e.hasChanged(55)&&(this._unhookEvents(),this._hookEvents())}))}static get(t){return t.getContribution(e.ID)}_hookEvents(){const e=this._editor.getOption(55);this._isHoverEnabled=e.enabled,this._isHoverSticky=e.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((e=>this._onEditorMouseDown(e)))),this._toUnhook.add(this._editor.onMouseUp((e=>this._onEditorMouseUp(e)))),this._toUnhook.add(this._editor.onMouseMove((e=>this._onEditorMouseMove(e)))),this._toUnhook.add(this._editor.onKeyDown((e=>this._onKeyDown(e))))):(this._toUnhook.add(this._editor.onMouseMove((e=>this._onEditorMouseMove(e)))),this._toUnhook.add(this._editor.onKeyDown((e=>this._onKeyDown(e))))),this._toUnhook.add(this._editor.onMouseLeave((e=>this._onEditorMouseLeave(e)))),this._toUnhook.add(this._editor.onDidChangeModel((()=>this._hideWidgets()))),this._toUnhook.add(this._editor.onDidScrollChange((e=>this._onEditorScrollChanged(e))))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;const t=e.target;9!==t.type||t.detail!==P.ID?12===t.type&&t.detail===U.ID||(12!==t.type&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseLeave(e){var t;const i=e.event.browserEvent.relatedTarget;(null===(t=this._contentWidget)||void 0===t?void 0:t.containsNode(i))||this._hideWidgets()}_onEditorMouseMove(e){var t,i,n,o,s;const r=e.target;if((!this._isMouseDown||!this._hoverClicked)&&(!this._isHoverSticky||9!==r.type||r.detail!==P.ID)&&(!this._isHoverSticky||(null===(i=null===(t=e.event.browserEvent.view)||void 0===t?void 0:t.getSelection())||void 0===i?void 0:i.isCollapsed))&&(this._isHoverSticky||9!==r.type||r.detail!==P.ID||!(null===(n=this._contentWidget)||void 0===n?void 0:n.isColorPickerVisible()))&&(!this._isHoverSticky||12!==r.type||r.detail!==U.ID)){if(this._isHoverEnabled)return this._getOrCreateContentWidget().maybeShowAt(e)?void(null===(o=this._glyphWidget)||void 0===o||o.hide()):2===r.type&&r.position?(null===(s=this._contentWidget)||void 0===s||s.hide(),this._glyphWidget||(this._glyphWidget=new U(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(r.position.lineNumber)):void this._hideWidgets();this._hideWidgets()}}_onKeyDown(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()}_hideWidgets(){var e,t,i;this._isMouseDown&&this._hoverClicked&&(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||(this._hoverClicked=!1,null===(t=this._glyphWidget)||void 0===t||t.hide(),null===(i=this._contentWidget)||void 0===i||i.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(M,this._editor)),this._contentWidget}isColorPickerVisible(){var e;return(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||!1}showContentHover(e,t,i){this._getOrCreateContentWidget().startShowingAtRange(e,t,i)}dispose(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(e=this._glyphWidget)||void 0===e||e.dispose(),null===(t=this._contentWidget)||void 0===t||t.dispose()}};de.ID="editor.contrib.hover",de=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([le(1,I.TG),le(2,z.v4),le(3,l.O),le(4,x.i6)],de);class ce extends s.R6{constructor(){super({id:"editor.action.showHover",label:G.NC({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:a.u.editorTextFocus,primary:(0,n.gx)(2089,2087),weight:100}})}run(e,t){if(!t.hasModel())return;const i=de.get(t);if(!i)return;const n=t.getPosition(),o=new r.e(n.lineNumber,n.column,n.lineNumber,n.column),s=2===t.getOption(2);i.showContentHover(o,1,s)}}class he extends s.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:G.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){const i=de.get(t);if(!i)return;const n=t.getPosition();if(!n)return;const o=new r.e(n.lineNumber,n.column,n.lineNumber,n.column),s=d.GotoDefinitionAtPositionEditorContribution.get(t);s&&s.startFindDefinitionFromCursor(n).then((()=>{i.showContentHover(o,1,!0)}))}}(0,s._K)(de.ID,de),(0,s.Qr)(ce),(0,s.Qr)(he),L.Ae.register($.D5),L.Ae.register(ae),(0,K.Ic)(((e,t)=>{const i=e.getColor(j.ptc);i&&t.addRule(`.monaco-editor .hoverHighlight { background-color: ${i}; }`);const n=e.getColor(j.yJx);n&&t.addRule(`.monaco-editor .monaco-hover { background-color: ${n}; }`);const o=e.getColor(j.CNo);o&&(t.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${o}; }`),t.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${o.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${o.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${o.transparent(.5)}; }`));const s=e.getColor(j.url);s&&t.addRule(`.monaco-editor .monaco-hover a { color: ${s}; }`);const r=e.getColor(j.sgC);r&&t.addRule(`.monaco-editor .monaco-hover a:hover { color: ${r}; }`);const a=e.getColor(j.Sbf);a&&t.addRule(`.monaco-editor .monaco-hover { color: ${a}; }`);const l=e.getColor(j.LoV);l&&t.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${l}; }`);const d=e.getColor(j.SwI);d&&t.addRule(`.monaco-editor .monaco-hover code { background-color: ${d}; }`)}))},6520:(e,t,i)=>{"use strict";i.d(t,{Ae:()=>s,Qj:()=>n,YM:()=>o});class n{constructor(e,t){this.priority=e,this.range=t,this.type=1}equals(e){return 1===e.type&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return 1===e.type&&t.lineNumber===this.range.startLineNumber}}class o{constructor(e,t,i){this.priority=e,this.owner=t,this.range=i,this.type=2}equals(e){return 2===e.type&&this.owner===e.owner}canAdoptVisibleHover(e,t){return 2===e.type&&this.owner===e.owner}}const s=new class{constructor(){this._participants=[]}register(e){this._participants.push(e)}getAll(){return this._participants}}},2374:(e,t,i)=>{"use strict";i.d(t,{D5:()=>C,c:()=>y,hU:()=>b});var n=i(5321),o=i(9488),s=i(5393),r=i(9365),a=i(5976),l=i(8598),d=i(187),c=i(4314),h=i(2042),u=i(1095),g=i(3580),p=i(3108),m=i(988),f=i(1922),v=function(e,t){return function(i,n){t(i,n,e)}};const _=n.$;class b{constructor(e,t,i,n){this.owner=e,this.range=t,this.contents=i,this.ordinal=n}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let C=class{constructor(e,t,i,n,o){this._editor=e,this._languageService=t,this._openerService=i,this._configurationService=n,this._languageFeaturesService=o,this.hoverOrdinal=2}createLoadingMessage(e){return new b(this,e.range,[(new r.W5).appendText(g.NC("modesContentHover.loading","Loading..."))],2e3)}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const i=this._editor.getModel(),n=e.range.startLineNumber,s=i.getLineMaxColumn(n),a=[];let l=1e3;const d=i.getLineLength(n),h=i.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),u=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:h});"number"==typeof u&&d>=u&&a.push(new b(this,e.range,[{value:g.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],l++));for(const i of t){const t=i.range.startLineNumber===n?i.range.startColumn:1,d=i.range.endLineNumber===n?i.range.endColumn:s,h=i.options.hoverMessage;if(!h||(0,r.CP)(h))continue;const u=new c.e(e.range.startLineNumber,t,e.range.startLineNumber,d);a.push(new b(this,u,(0,o._2)(h),l++))}return a}computeAsync(e,t,i){if(!this._editor.hasModel()||1!==e.type)return s.Aq.EMPTY;const n=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(n))return s.Aq.EMPTY;const o=new d.L(e.range.startLineNumber,e.range.startColumn);return(0,u.R8)(this._languageFeaturesService.hoverProvider,n,o,i).filter((e=>!(0,r.CP)(e.hover.contents))).map((t=>{const i=t.hover.range?c.e.lift(t.hover.range):e.range;return new b(this,i,t.hover.contents,t.ordinal)}))}renderHoverParts(e,t){return y(e,t,this._editor,this._languageService,this._openerService)}};function y(e,t,i,o,s){t.sort(((e,t)=>e.ordinal-t.ordinal));const d=new a.SL;for(const a of t)for(const t of a.contents){if((0,r.CP)(t))continue;const a=_("div.hover-row.markdown-hover"),c=n.R3(a,_("div.hover-contents")),h=d.add(new l.$({editor:i},o,s));d.add(h.onDidRenderAsync((()=>{c.className="hover-contents code-hover-contents",e.onContentsChanged()})));const u=d.add(h.render(t));c.appendChild(u.element),e.fragment.appendChild(a)}return d}C=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([v(1,h.O),v(2,m.v4),v(3,p.Ui),v(4,f.p)],C)},6353:(e,t,i)=>{"use strict";i.r(t);var n=i(5393),o=i(7301),s=i(6467),r=i(6830),a=i(4314),l=i(3860),d=i(9102),c=i(2035),h=i(4319),u=i(8625),g=i(3580),p=i(7781);class m{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new l.Y(i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn),i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn)):new l.Y(i.endLineNumber,i.endColumn-this._text.length,i.endLineNumber,i.endColumn)}}let f=class e{constructor(e,t){this.editor=e,this.editorWorkerService=t,this.decorations=this.editor.createDecorationsCollection()}static get(t){return t.getContribution(e.ID)}dispose(){}run(t,i){this.currentRequest&&this.currentRequest.cancel();const r=this.editor.getSelection(),d=this.editor.getModel();if(!d||!r)return;let c=r;if(c.startLineNumber!==c.endLineNumber)return;const h=new s.yy(this.editor,5),u=d.uri;return this.editorWorkerService.canNavigateValueSet(u)?(this.currentRequest=(0,n.PG)((e=>this.editorWorkerService.navigateValueSet(u,c,i))),this.currentRequest.then((i=>{if(!i||!i.range||!i.value)return;if(!h.validate(this.editor))return;const s=a.e.lift(i.range);let r=i.range;const d=i.value.length-(c.endColumn-c.startColumn);r={startLineNumber:r.startLineNumber,startColumn:r.startColumn,endLineNumber:r.endLineNumber,endColumn:r.startColumn+i.value.length},d>1&&(c=new l.Y(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn+d-1));const u=new m(s,c,i.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,u),this.editor.pushUndoStop(),this.decorations.set([{range:r,options:e.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,n.Vs)(350),this.decorationRemover.then((()=>this.decorations.clear())).catch(o.dL)})).catch(o.dL)):Promise.resolve(void 0)}};var v,_;f.ID="editor.contrib.inPlaceReplaceController",f.DECORATION=c.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),f=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(v=1,_=h.p,function(e,t){_(e,t,v)})],f);class b extends r.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:g.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:3154,weight:100}})}run(e,t){const i=f.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}class C extends r.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:g.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:3156,weight:100}})}run(e,t){const i=f.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}(0,r._K)(f.ID,f),(0,r.Qr)(b),(0,r.Qr)(C),(0,p.Ic)(((e,t)=>{const i=e.getColor(u.Dl);i&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${i}; }`)}))},8279:(e,t,i)=>{"use strict";function n(e,t){let i=0;for(let n=0;n<e.length;n++)"\t"===e.charAt(n)?i+=t:i++;return i}function o(e,t,i){e=e<0?0:e;let n="";if(!i){const i=Math.floor(e/t);e%=t;for(let e=0;e<i;e++)n+="\t"}for(let t=0;t<e;t++)n+=" ";return n}i.d(t,{J:()=>o,Y:()=>n})},4602:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AutoIndentOnPaste:()=>D,AutoIndentOnPasteCommand:()=>I,ChangeIndentationSizeAction:()=>y,DetectIndentation:()=>k,IndentUsingSpaces:()=>S,IndentUsingTabs:()=>w,IndentationToSpacesAction:()=>b,IndentationToSpacesCommand:()=>T,IndentationToTabsAction:()=>C,IndentationToTabsCommand:()=>M,ReindentLinesAction:()=>L,ReindentSelectedLinesAction:()=>x,getReindentEditOperations:()=>_});var n=i(5976),o=i(7295),s=i(6830),r=i(291),a=i(9386),l=i(4314),d=i(3860),c=i(9102),h=i(1381),u=i(3733),g=i(8279),p=i(3580),m=i(1157),f=i(3158),v=i(5383);function _(e,t,i,n,s){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];const l=t.getLanguageConfiguration(e.getLanguageId()).indentationRules;if(!l)return[];for(n=Math.min(n,e.getLineCount());i<=n&&l.unIndentedLinePattern;){const t=e.getLineContent(i);if(!l.unIndentedLinePattern.test(t))break;i++}if(i>n-1)return[];const{tabSize:c,indentSize:h,insertSpaces:u}=e.getOptions(),g=(e,t)=>(t=t||1,r.U.shiftIndent(e,e.length+t,c,h,u)),p=(e,t)=>(t=t||1,r.U.unshiftIndent(e,e.length+t,c,h,u)),m=[];let v;const _=e.getLineContent(i);let b=_;if(null!=s){v=s;const e=o.V8(_);b=v+_.substring(e.length),l.decreaseIndentPattern&&l.decreaseIndentPattern.test(b)&&(v=p(v),b=v+_.substring(e.length)),_!==b&&m.push(a.h.replaceMove(new d.Y(i,1,i,e.length+1),(0,f.x)(v,h,u)))}else v=o.V8(_);let C=v;l.increaseIndentPattern&&l.increaseIndentPattern.test(b)?(C=g(C),v=g(v)):l.indentNextLinePattern&&l.indentNextLinePattern.test(b)&&(C=g(C));for(let t=++i;t<=n;t++){const i=e.getLineContent(t),n=o.V8(i),s=C+i.substring(n.length);l.decreaseIndentPattern&&l.decreaseIndentPattern.test(s)&&(C=p(C),v=p(v)),n!==C&&m.push(a.h.replaceMove(new d.Y(t,1,t,n.length+1),(0,f.x)(C,h,u))),l.unIndentedLinePattern&&l.unIndentedLinePattern.test(i)||(l.increaseIndentPattern&&l.increaseIndentPattern.test(s)?(v=g(v),C=v):C=l.indentNextLinePattern&&l.indentNextLinePattern.test(s)?g(C):v)}return m}class b extends s.R6{constructor(){super({id:b.ID,label:p.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:c.u.writable})}run(e,t){const i=t.getModel();if(!i)return;const n=i.getOptions(),o=t.getSelection();if(!o)return;const s=new T(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}b.ID="editor.action.indentationToSpaces";class C extends s.R6{constructor(){super({id:C.ID,label:p.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:c.u.writable})}run(e,t){const i=t.getModel();if(!i)return;const n=i.getOptions(),o=t.getSelection();if(!o)return;const s=new M(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}C.ID="editor.action.indentationToTabs";class y extends s.R6{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){const i=e.get(m.eJ),n=e.get(u.q),o=t.getModel();if(!o)return;const s=n.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget),r=[1,2,3,4,5,6,7,8].map((e=>({id:e.toString(),label:e.toString(),description:e===s.tabSize?p.NC("configuredTabSize","Configured Tab Size"):void 0}))),a=Math.min(o.getOptions().tabSize-1,7);setTimeout((()=>{i.pick(r,{placeHolder:p.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:r[a]}).then((e=>{e&&o&&!o.isDisposed()&&o.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:this.insertSpaces})}))}),50)}}class w extends y{constructor(){super(!1,{id:w.ID,label:p.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}w.ID="editor.action.indentUsingTabs";class S extends y{constructor(){super(!0,{id:S.ID,label:p.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}S.ID="editor.action.indentUsingSpaces";class k extends s.R6{constructor(){super({id:k.ID,label:p.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const i=e.get(u.q),n=t.getModel();if(!n)return;const o=i.getCreationOptions(n.getLanguageId(),n.uri,n.isForSimpleWidget);n.detectIndentation(o.insertSpaces,o.tabSize)}}k.ID="editor.action.detectIndentation";class L extends s.R6{constructor(){super({id:"editor.action.reindentlines",label:p.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:c.u.writable})}run(e,t){const i=e.get(h.c_),n=t.getModel();if(!n)return;const o=_(n,i,1,n.getLineCount());o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}class x extends s.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:p.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:c.u.writable})}run(e,t){const i=e.get(h.c_),n=t.getModel();if(!n)return;const o=t.getSelections();if(null===o)return;const s=[];for(const e of o){let t=e.startLineNumber,o=e.endLineNumber;if(t!==o&&1===e.endColumn&&o--,1===t){if(t===o)continue}else t--;const r=_(n,i,t,o);s.push(...r)}s.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop())}}class I{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(const t of e)t.range&&"string"==typeof t.text&&this._edits.push(t)}getEditOperations(e,t){for(const e of this._edits)t.addEditOperation(l.e.lift(e.range),e.text);let i=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}let D=class{constructor(e,t){this.editor=e,this._languageConfigurationService=t,this.callOnDispose=new n.SL,this.callOnModel=new n.SL,this.callOnDispose.add(e.onDidChangeConfiguration((()=>this.update()))),this.callOnDispose.add(e.onDidChangeModel((()=>this.update()))),this.callOnDispose.add(e.onDidChangeModelLanguage((()=>this.update())))}update(){this.callOnModel.clear(),this.editor.getOption(9)<4||this.editor.getOption(50)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste((({range:e})=>{this.trigger(e)})))}trigger(e){const t=this.editor.getSelections();if(null===t||t.length>1)return;const i=this.editor.getModel();if(!i)return;if(!i.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber))return;const n=this.editor.getOption(9),{tabSize:s,indentSize:a,insertSpaces:d}=i.getOptions(),c=[],h={shiftIndent:e=>r.U.shiftIndent(e,e.length+1,s,a,d),unshiftIndent:e=>r.U.unshiftIndent(e,e.length+1,s,a,d)};let u=e.startLineNumber;for(;u<=e.endLineNumber&&this.shouldIgnoreLine(i,u);)u++;if(u>e.endLineNumber)return;let p=i.getLineContent(u);if(!/\S/.test(p.substring(0,e.startColumn-1))){const e=(0,v.n8)(n,i,i.getLanguageId(),u,h,this._languageConfigurationService);if(null!==e){const t=o.V8(p),n=g.Y(e,s);if(n!==g.Y(t,s)){const e=g.J(n,s,d);c.push({range:new l.e(u,1,u,t.length+1),text:e}),p=e+p.substr(t.length)}else{const e=(0,v.tI)(i,u,this._languageConfigurationService);if(0===e||8===e)return}}}const m=u;for(;u<e.endLineNumber&&!/\S/.test(i.getLineContent(u+1));)u++;if(u!==e.endLineNumber){const t={tokenization:{getLineTokens:e=>i.tokenization.getLineTokens(e),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(e,t)=>i.getLanguageIdAtPosition(e,t)},getLineContent:e=>e===m?p:i.getLineContent(e)},r=(0,v.n8)(n,t,i.getLanguageId(),u+1,h,this._languageConfigurationService);if(null!==r){const t=g.Y(r,s),n=g.Y(o.V8(i.getLineContent(u+1)),s);if(t!==n){const r=t-n;for(let t=u+1;t<=e.endLineNumber;t++){const e=i.getLineContent(t),n=o.V8(e),a=g.Y(n,s)+r,h=g.J(a,s,d);h!==n&&c.push({range:new l.e(t,1,t,n.length+1),text:h})}}}}if(c.length>0){this.editor.pushUndoStop();const e=new I(c,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",e),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.tokenization.forceTokenization(t);const i=e.getLineFirstNonWhitespaceColumn(t);if(0===i)return!0;const n=e.tokenization.getLineTokens(t);if(n.getCount()>0){const e=n.findTokenIndexAtOffset(i);if(e>=0&&1===n.getStandardTokenType(e))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};function N(e,t,i,n){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return;let o="";for(let e=0;e<i;e++)o+=" ";const s=new RegExp(o,"gi");for(let i=1,r=e.getLineCount();i<=r;i++){let r=e.getLineFirstNonWhitespaceColumn(i);if(0===r&&(r=e.getLineMaxColumn(i)),1===r)continue;const a=new l.e(i,1,i,r),d=e.getValueInRange(a),c=n?d.replace(/\t/gi,o):d.replace(s,"\t");t.addEditOperation(a,c)}}var E,A;D.ID="editor.contrib.autoIndentOnPaste",D=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(E=1,A=h.c_,function(e,t){A(e,t,E)})],D);class T{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),N(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class M{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),N(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}(0,s._K)(D.ID,D),(0,s.Qr)(b),(0,s.Qr)(C),(0,s.Qr)(w),(0,s.Qr)(S),(0,s.Qr)(k),(0,s.Qr)(L),(0,s.Qr)(x)},8782:(e,t,i)=>{"use strict";i.r(t);var n=i(6830),o=i(6520),s=i(5321),r=i(9488),a=i(5393),l=i(1050),d=i(7301),c=i(5976),h=i(3702),u=i(8401),g=i(666),p=i(9994),m=i(4141),f=i(9386),v=i(4314),_=i(6887),b=i(4973),C=i(2035),y=i(8191),w=i(1922),S=i(8216),k=i(2005),L=i(187),x=i(6663),I=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class D{constructor(e,t){this.range=e,this.direction=t}}class N{constructor(e,t,i){this.hint=e,this.anchor=t,this.provider=i,this._isResolved=!1}with(e){const t=new N(this.hint,e.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}resolve(e){return I(this,void 0,void 0,(function*(){if("function"==typeof this.provider.resolveInlayHint){if(this._currentResolve){if(yield this._currentResolve,e.isCancellationRequested)return;return this.resolve(e)}this._isResolved||(this._currentResolve=this._doResolve(e).finally((()=>this._currentResolve=void 0))),yield this._currentResolve}}))}_doResolve(e){var t,i;return I(this,void 0,void 0,(function*(){try{const n=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,e));this.hint.tooltip=null!==(t=null==n?void 0:n.tooltip)&&void 0!==t?t:this.hint.tooltip,this.hint.label=null!==(i=null==n?void 0:n.label)&&void 0!==i?i:this.hint.label,this._isResolved=!0}catch(e){(0,d.Cp)(e),this._isResolved=!1}}))}}class E{constructor(e,t,i){this._disposables=new c.SL,this.ranges=e,this.provider=new Set;const n=[];for(const[e,o]of t){this._disposables.add(e),this.provider.add(o);for(const t of e.hints){const e=i.validatePosition(t.position);let s="before";const r=E._getRangeAtPosition(i,e);let a;r.getStartPosition().isBefore(e)?(a=v.e.fromPositions(r.getStartPosition(),e),s="after"):(a=v.e.fromPositions(e,r.getEndPosition()),s="before"),n.push(new N(t,new D(a,s),o))}}this.items=n.sort(((e,t)=>L.L.compare(e.hint.position,t.hint.position)))}static create(e,t,i,n){return I(this,void 0,void 0,(function*(){const o=[],s=e.ordered(t).reverse().map((e=>i.map((i=>I(this,void 0,void 0,(function*(){try{const s=yield e.provideInlayHints(t,i,n);(null==s?void 0:s.hints.length)&&o.push([s,e])}catch(e){(0,d.Cp)(e)}}))))));if(yield Promise.all(s.flat()),n.isCancellationRequested||t.isDisposed())throw new d.FU;return new E(i,o,t)}))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(e,t){const i=t.lineNumber,n=e.getWordAtPosition(t);if(n)return new v.e(i,n.startColumn,i,n.endColumn);e.tokenization.tokenizeIfCheap(i);const o=e.tokenization.getLineTokens(i),s=t.column-1,r=o.findTokenIndexAtOffset(s);let a=o.getStartOffset(r),l=o.getEndOffset(r);return l-a==1&&(a===s&&r>1?(a=o.getStartOffset(r-1),l=o.getEndOffset(r-1)):l===s&&r<o.getCount()-1&&(a=o.getStartOffset(r+1),l=o.getEndOffset(r+1))),new v.e(i,a+1,i,l+1)}}var A=i(4741),T=i(628),M=i(2049),R=i(4144),P=i(4565),O=i(8819),V=i(5606),F=i(2065),W=i(9422),z=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function B(e,t,i,o){var r;return z(this,void 0,void 0,(function*(){const a=e.get(S.S),d=e.get(V.i),c=e.get(P.Hy),h=e.get(F.TG),u=e.get(W.lT);if(yield o.item.resolve(l.T.None),!o.part.location)return;const g=o.part.location,p=[],m=new Set(R.BH.getMenuItems(R.eH.EditorContext).map((e=>(0,R.vr)(e)?e.command.id:"")));for(const e of n.Uc.getEditorActions())e instanceof T.SymbolNavigationAction&&m.has(e.id)&&p.push(new A.aU(e.id,e.label,void 0,!0,(()=>z(this,void 0,void 0,(function*(){const i=yield a.createModelReference(g.uri);try{yield h.invokeFunction(e.run.bind(e),t,new T.SymbolNavigationAnchor(i.object.textEditorModel,v.e.getStartPosition(g.range)))}finally{i.dispose()}})))));if(o.part.command){const{command:e}=o.part;p.push(new A.Z0),p.push(new A.aU(e.id,e.title,void 0,!0,(()=>z(this,void 0,void 0,(function*(){var t;try{yield c.executeCommand(e.id,...null!==(t=e.arguments)&&void 0!==t?t:[])}catch(e){u.notify({severity:W.zb.Error,source:o.item.provider.displayName,message:e})}})))))}const f=t.getOption(117);d.showContextMenu({domForShadowRoot:f&&null!==(r=t.getDomNode())&&void 0!==r?r:void 0,getAnchor:()=>{const e=s.i(i);return{x:e.left,y:e.top+e.height+8}},getActions:()=>p,onHide:()=>{t.focus()},autoSelectFirstItem:!0})}))}function U(e,t,i,n){return z(this,void 0,void 0,(function*(){const o=e.get(S.S),s=yield o.createModelReference(n.uri);yield i.invokeWithinContext((e=>z(this,void 0,void 0,(function*(){const o=t.hasSideBySideModifier,r=e.get(O.i6),a=M.Jy.inPeekEditor.getValue(r),l=!o&&i.getOption(80)&&!a;return new T.DefinitionAction({openToSide:o,openInPeek:l,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(e,i,{model:s.object.textEditorModel,position:v.e.getStartPosition(n.range)})})))),s.dispose()}))}var H=i(5026),G=i(3910),j=i(7781),K=function(e,t){return function(i,n){t(i,n,e)}},$=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class q{constructor(){this._entries=new h.z6(50)}get(e){const t=q._key(e);return this._entries.get(t)}set(e,t){const i=q._key(e);this._entries.set(i,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}const Y=(0,F.yh)("IInlayHintsCache");(0,H.z)(Y,q,!0);class Q{constructor(e,t){this.item=e,this.index=t}get part(){const e=this.item.hint.label;return"string"==typeof e?{label:e}:e[this.index]}}class Z{constructor(e,t){this.part=e,this.hasTriggerModifier=t}}let J=class e{constructor(e,t,i,n,o,s,r){this._editor=e,this._languageFeaturesService=t,this._inlayHintsCache=n,this._commandService=o,this._notificationService=s,this._instaService=r,this._disposables=new c.SL,this._sessionDisposables=new c.SL,this._decorationsMetadata=new Map,this._ruleFactory=new p.t7(this._editor),this._activeRenderMode=0,this._debounceInfo=i.for(t.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(t.inlayHintsProvider.onDidChange((()=>this._update()))),this._disposables.add(e.onDidChangeModel((()=>this._update()))),this._disposables.add(e.onDidChangeModelLanguage((()=>this._update()))),this._disposables.add(e.onDidChangeConfiguration((e=>{e.hasChanged(129)&&this._update()}))),this._update()}static get(t){var i;return null!==(i=t.getContribution(e.ID))&&void 0!==i?i:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const e=this._editor.getOption(129);if("off"===e.enabled)return;const t=this._editor.getModel();if(!t||!this._languageFeaturesService.inlayHintsProvider.has(t))return;const i=this._inlayHintsCache.get(t);let n;i&&this._updateHintsDecorators([t.getFullModelRange()],i),this._sessionDisposables.add((0,c.OF)((()=>{t.isDisposed()||this._cacheHintsForFastRestore(t)})));const o=new Set,r=new a.pY((()=>$(this,void 0,void 0,(function*(){const e=Date.now();null==n||n.dispose(!0),n=new l.A;const i=t.onWillDispose((()=>null==n?void 0:n.cancel()));try{const s=n.token,a=yield E.create(this._languageFeaturesService.inlayHintsProvider,t,this._getHintsRanges(),s);if(r.delay=this._debounceInfo.update(t,Date.now()-e),s.isCancellationRequested)return void a.dispose();for(const e of a.provider)"function"!=typeof e.onDidChangeInlayHints||o.has(e)||(o.add(e),this._sessionDisposables.add(e.onDidChangeInlayHints((()=>{r.isScheduled()||r.schedule()}))));this._sessionDisposables.add(a),this._updateHintsDecorators(a.ranges,a.items),this._cacheHintsForFastRestore(t)}catch(e){(0,d.dL)(e)}finally{n.dispose(),i.dispose()}}))),this._debounceInfo.get(t));if(this._sessionDisposables.add(r),this._sessionDisposables.add((0,c.OF)((()=>null==n?void 0:n.dispose(!0)))),r.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange((e=>{!e.scrollTopChanged&&r.isScheduled()||r.schedule()}))),this._sessionDisposables.add(this._editor.onDidChangeModelContent((e=>{const t=Math.max(r.delay,1250);r.schedule(t)}))),"on"===e.enabled)this._activeRenderMode=0;else{let t,i;"onUnlessPressed"===e.enabled?(t=0,i=1):(t=1,i=0),this._activeRenderMode=t,this._sessionDisposables.add(s._q.getInstance().event((e=>{if(!this._editor.hasModel())return;const n=e.altKey&&e.ctrlKey?i:t;if(n!==this._activeRenderMode){this._activeRenderMode=n;const e=this._editor.getModel(),t=this._copyInlayHintsWithCurrentAnchor(e);this._updateHintsDecorators([e.getFullModelRange()],t),r.schedule(0)}})))}this._sessionDisposables.add(this._installDblClickGesture((()=>r.schedule(0)))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const e=new c.SL,t=e.add(new k.yN(this._editor)),i=new c.SL;return e.add(i),e.add(t.onMouseMoveOrRelevantKeyDown((e=>{const[t]=e,n=this._getInlayHintLabelPart(t),o=this._editor.getModel();if(!n||!o)return void i.clear();const s=new l.A;i.add((0,c.OF)((()=>s.dispose(!0)))),n.item.resolve(s.token),this._activeInlayHintPart=n.part.command||n.part.location?new Z(n,t.hasTriggerModifier):void 0;const r=n.item.hint.position.lineNumber,a=new v.e(r,1,r,o.getLineMaxColumn(r)),d=this._getInlineHintsForRange(a);this._updateHintsDecorators([a],d),i.add((0,c.OF)((()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([a],d)})))}))),e.add(t.onCancel((()=>i.clear()))),e.add(t.onExecute((e=>$(this,void 0,void 0,(function*(){const t=this._getInlayHintLabelPart(e);if(t){const i=t.part;i.location?this._instaService.invokeFunction(U,e,this._editor,i.location):_.mY.is(i.command)&&(yield this._invokeCommand(i.command,t.item))}}))))),e}_getInlineHintsForRange(e){const t=new Set;for(const i of this._decorationsMetadata.values())e.containsRange(i.item.anchor.range)&&t.add(i.item);return Array.from(t)}_installDblClickGesture(e){return this._editor.onMouseUp((t=>$(this,void 0,void 0,(function*(){if(2!==t.event.detail)return;const i=this._getInlayHintLabelPart(t);if(i&&(t.event.preventDefault(),yield i.item.resolve(l.T.None),(0,r.Of)(i.item.hint.textEdits))){const t=i.item.hint.textEdits.map((e=>f.h.replace(v.e.lift(e.range),e.text)));this._editor.executeEdits("inlayHint.default",t),e()}}))))}_installContextMenu(){return this._editor.onContextMenu((e=>$(this,void 0,void 0,(function*(){if(!(e.event.target instanceof HTMLElement))return;const t=this._getInlayHintLabelPart(e);t&&(yield this._instaService.invokeFunction(B,this._editor,e.event.target,t))}))))}_getInlayHintLabelPart(e){var t;if(6!==e.target.type)return;const i=null===(t=e.target.detail.injectedText)||void 0===t?void 0:t.options;return i instanceof C.HS&&(null==i?void 0:i.attachedData)instanceof Q?i.attachedData:void 0}_invokeCommand(e,t){var i;return $(this,void 0,void 0,(function*(){try{yield this._commandService.executeCommand(e.id,...null!==(i=e.arguments)&&void 0!==i?i:[])}catch(e){this._notificationService.notify({severity:W.zb.Error,source:t.provider.displayName,message:e})}}))}_cacheHintsForFastRestore(e){const t=this._copyInlayHintsWithCurrentAnchor(e);this._inlayHintsCache.set(e,t)}_copyInlayHintsWithCurrentAnchor(e){const t=new Map;for(const[i,n]of this._decorationsMetadata){if(t.has(n.item))continue;const o=e.getDecorationRange(i);if(o){const e=new D(o,n.item.anchor.direction),i=n.item.with({anchor:e});t.set(n.item,i)}}return Array.from(t.values())}_getHintsRanges(){const e=this._editor.getModel(),t=this._editor.getVisibleRangesPlusViewportAboveBelow(),i=[];for(const n of t.sort(v.e.compareRangesUsingStarts)){const t=e.validateRange(new v.e(n.startLineNumber-30,n.startColumn,n.endLineNumber+30,n.endColumn));0!==i.length&&v.e.areIntersectingOrTouching(i[i.length-1],t)?i[i.length-1]=v.e.plusRange(i[i.length-1],t):i.push(t)}return i}_updateHintsDecorators(t,i){var n,o;const s=[],a=(e,t,i,n,o)=>{const r={content:i,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:t.className,cursorStops:n,attachedData:o};s.push({item:e,classNameRef:t,decoration:{range:e.anchor.range,options:{description:"InlayHint",showIfCollapsed:e.anchor.range.isEmpty(),collapseOnReplaceEdit:!e.anchor.range.isEmpty(),stickiness:0,[e.anchor.direction]:0===this._activeRenderMode?r:void 0}}})},l=(e,t)=>{const i=this._ruleFactory.createClassNameRef({width:(d/3|0)+"px",display:"inline-block"});a(e,i,"",t?b.RM.Right:b.RM.None)},{fontSize:d,fontFamily:c,padding:h,isUniform:u}=this._getLayoutInfo(),g="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(g,c);for(const t of i){t.hint.paddingLeft&&l(t,!1);const i="string"==typeof t.hint.label?[{label:t.hint.label}]:t.hint.label;for(let e=0;e<i.length;e++){const o=i[e],s=0===e,l=e===i.length-1,c={fontSize:`${d}px`,fontFamily:`var(${g}), ${m.hL.fontFamily}`,verticalAlign:u?"baseline":"middle"};(0,r.Of)(t.hint.textEdits)&&(c.cursor="default"),this._fillInColors(c,t.hint),(o.command||o.location)&&(null===(n=this._activeInlayHintPart)||void 0===n?void 0:n.part.item)===t&&this._activeInlayHintPart.part.index===e&&(c.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(c.color=(0,j.EN)(G._Yy),c.cursor="pointer")),h&&(s&&l?(c.padding=`1px ${0|Math.max(1,d/4)}px`,c.borderRadius=(d/4|0)+"px"):s?(c.padding=`1px 0 1px ${0|Math.max(1,d/4)}px`,c.borderRadius=`${d/4|0}px 0 0 ${d/4|0}px`):l?(c.padding=`1px ${0|Math.max(1,d/4)}px 1px 0`,c.borderRadius=`0 ${d/4|0}px ${d/4|0}px 0`):c.padding="1px 0 1px 0"),a(t,this._ruleFactory.createClassNameRef(c),o.label.replace(/[ \t]/g,""),l&&!t.hint.paddingRight?b.RM.Right:b.RM.None,new Q(t,e))}if(t.hint.paddingRight&&l(t,!0),s.length>e._MAX_DECORATORS)break}const p=[];for(const e of t)for(const{id:t}of null!==(o=this._editor.getDecorationsInRange(e))&&void 0!==o?o:[]){const e=this._decorationsMetadata.get(t);e&&(p.push(t),e.classNameRef.dispose(),this._decorationsMetadata.delete(t))}this._editor.changeDecorations((e=>{const t=e.deltaDecorations(p,s.map((e=>e.decoration)));for(let e=0;e<t.length;e++){const i=s[e];this._decorationsMetadata.set(t[e],i)}}))}_fillInColors(e,t){t.kind===_.gl.Parameter?(e.backgroundColor=(0,j.EN)(G.phM),e.color=(0,j.EN)(G.HCL)):t.kind===_.gl.Type?(e.backgroundColor=(0,j.EN)(G.bKB),e.color=(0,j.EN)(G.hX8)):(e.backgroundColor=(0,j.EN)(G.PpC),e.color=(0,j.EN)(G.VVv))}_getLayoutInfo(){const e=this._editor.getOption(129),t=e.padding,i=this._editor.getOption(48),n=this._editor.getOption(45);let o=e.fontSize;(!o||o<5||o>i)&&(o=i);const s=e.fontFamily||n;return{fontSize:o,fontFamily:s,padding:t,isUniform:!t&&s===n&&o===i}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}};J.ID="editor.contrib.InlayHints",J._MAX_DECORATORS=1500,J=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([K(1,w.p),K(2,y.A),K(3,Y),K(4,P.Hy),K(5,W.lT),K(6,F.TG)],J),P.P0.registerCommand("_executeInlayHintProvider",((e,...t)=>$(void 0,void 0,void 0,(function*(){const[i,n]=t;(0,u.p_)(g.o.isUri(i)),(0,u.p_)(v.e.isIRange(n));const{inlayHintsProvider:o}=e.get(w.p),s=yield e.get(S.S).createModelReference(i);try{const e=yield E.create(o,s.object.textEditorModel,[v.e.lift(n)],l.T.None),t=e.items.map((e=>e.hint));return setTimeout((()=>e.dispose()),0),t}finally{s.dispose()}}))));var X=i(9365),ee=i(2042),te=i(1095),ie=i(2374),ne=i(3108),oe=i(988),se=i(3580),re=i(1432),ae=function(e,t){return function(i,n){t(i,n,e)}},le=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class de extends o.YM{constructor(e,t){super(10,t,e.item.anchor.range),this.part=e}}let ce=class extends ie.D5{constructor(e,t,i,n,o,s){super(e,t,i,n,s),this._resolverService=o,this.hoverOrdinal=6}suggestHoverAnchor(e){var t;if(!J.get(this._editor))return null;if(6!==e.target.type)return null;const i=null===(t=e.target.detail.injectedText)||void 0===t?void 0:t.options;return i instanceof C.HS&&i.attachedData instanceof Q?new de(i.attachedData,this):null}computeSync(){return[]}computeAsync(e,t,i){return e instanceof de?new a.Aq((t=>le(this,void 0,void 0,(function*(){var n,o;const{part:s}=e;if(yield s.item.resolve(i),i.isCancellationRequested)return;let a,l;if("string"==typeof s.item.hint.tooltip?a=(new X.W5).appendText(s.item.hint.tooltip):s.item.hint.tooltip&&(a=s.item.hint.tooltip),a&&t.emitOne(new ie.hU(this,e.range,[a],0)),(0,r.Of)(s.item.hint.textEdits)&&t.emitOne(new ie.hU(this,e.range,[(new X.W5).appendText((0,se.NC)("hint.dbl","Double click to insert"))],10001)),"string"==typeof s.part.tooltip?l=(new X.W5).appendText(s.part.tooltip):s.part.tooltip&&(l=s.part.tooltip),l&&t.emitOne(new ie.hU(this,e.range,[l],1)),s.part.location||s.part.command){let i;const n="altKey"===this._editor.getOption(72)?re.dz?(0,se.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,se.NC)("links.navigate.kb.meta","ctrl + click"):re.dz?(0,se.NC)("links.navigate.kb.alt.mac","option + click"):(0,se.NC)("links.navigate.kb.alt","alt + click");s.part.location&&s.part.command?i=(new X.W5).appendText((0,se.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",n)):s.part.location?i=(new X.W5).appendText((0,se.NC)("hint.def","Go to Definition ({0})",n)):s.part.command&&(i=new X.W5(`[${(0,se.NC)("hint.cmd","Execute Command")}](${d=s.part.command,g.o.from({scheme:x.lg.command,path:d.id,query:d.arguments&&encodeURIComponent(JSON.stringify(d.arguments))}).toString()} "${s.part.command.title}") (${n})`,{isTrusted:!0})),i&&t.emitOne(new ie.hU(this,e.range,[i],1e4))}var d;const c=yield this._resolveInlayHintLabelPartHover(s,i);try{for(var h,u=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise((function(n,o){!function(e,t,i,n){Promise.resolve(n).then((function(t){e({value:t,done:i})}),t)}(n,o,(t=e[i](t)).done,t.value)}))}}}(c);!(h=yield u.next()).done;){const e=h.value;t.emitOne(e)}}catch(e){n={error:e}}finally{try{h&&!h.done&&(o=u.return)&&(yield o.call(u))}finally{if(n)throw n.error}}})))):a.Aq.EMPTY}_resolveInlayHintLabelPartHover(e,t){return le(this,void 0,void 0,(function*(){if(!e.part.location)return a.Aq.EMPTY;const{uri:i,range:n}=e.part.location,o=yield this._resolverService.createModelReference(i);try{const i=o.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(i)?(0,te.R8)(this._languageFeaturesService.hoverProvider,i,new L.L(n.startLineNumber,n.startColumn),t).filter((e=>!(0,X.CP)(e.hover.contents))).map((t=>new ie.hU(this,e.item.anchor.range,t.hover.contents,2+t.ordinal))):a.Aq.EMPTY}finally{o.dispose()}}))}};ce=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([ae(1,ee.O),ae(2,oe.v4),ae(3,ne.Ui),ae(4,S.S),ae(5,w.p)],ce),(0,n._K)(J.ID,J),o.Ae.register(ce)},7813:(e,t,i)=>{"use strict";i.r(t),i.d(t,{commitInlineSuggestionAction:()=>et});var n=i(6830),o=i(9102),s=i(6520);const r="editor.action.inlineSuggest.commit";var a=i(4669),l=i(5976),d=i(7295),c=i(7988),h=i(187),u=i(6887),g=i(5393),p=i(1050),m=i(7301),f=i(9317),v=i(9386),_=i(4314);class b{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)"\n"===e.charAt(t)&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}const C=[];class y{constructor(e,t,i=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=i}renderForScreenReader(e){if(0===this.parts.length)return"";const t=this.parts[this.parts.length-1];return function(e,t){const i=new b(e),n=t.map((e=>{const t=_.e.lift(e.range);return{startOffset:i.getOffset(t.getStartPosition()),endOffset:i.getOffset(t.getEndPosition()),text:e.text}}));n.sort(((e,t)=>t.startOffset-e.startOffset));for(const t of n)e=e.substring(0,t.startOffset)+t.text+e.substring(t.endOffset);return e}(e.substr(0,t.column-1),this.parts.map((e=>({range:{startLineNumber:1,endLineNumber:1,startColumn:e.column,endColumn:e.column},text:e.lines.join("\n")})))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every((e=>0===e.lines.length))}}class w{constructor(e,t,i){this.column=e,this.lines=t,this.preview=i}}class S{constructor(e,t,i,n,o=0){this.lineNumber=e,this.columnStart=t,this.length=i,this.newLines=n,this.additionalReservedLineCount=o,this.parts=[new w(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(e){return this.newLines.join("\n")}}class k extends l.JT{constructor(e){super(),this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new a.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration((e=>{e.hasChanged(108)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()})))}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}var L=i(4565),x=i(2484);function I(e,t){if(!t)return t;const i=e.getValueInRange(t.range),n=d.Mh(i,t.insertText),o=e.getOffsetAt(t.range.getStartPosition())+n,s=e.getPositionAt(o),r=i.substr(n),a=d.P1(r,t.insertText),l=e.getPositionAt(Math.max(o,e.getOffsetAt(t.range.getEndPosition())-a));return{range:_.e.fromPositions(s,l),insertText:t.insertText.substr(n,t.insertText.length-n-a),snippetInfo:t.snippetInfo,filterText:t.filterText,additionalTextEdits:t.additionalTextEdits}}function D(e,t,i,n,o=0){if(e.range.startLineNumber!==e.range.endLineNumber)return;const s=t.getLineContent(e.range.startLineNumber),r=d.V8(s).length;if(e.range.startColumn-1<=r){const t=d.V8(e.insertText).length,i=s.substring(e.range.startColumn-1,r),n=_.e.fromPositions(e.range.getStartPosition().delta(0,i.length),e.range.getEndPosition()),o=e.insertText.startsWith(i)?e.insertText.substring(i.length):e.insertText.substring(t);e={range:n,insertText:o,command:e.command,snippetInfo:void 0,filterText:e.filterText,additionalTextEdits:e.additionalTextEdits}}const a=t.getValueInRange(e.range),l=function(e,t){if((null==N?void 0:N.originalValue)===e&&(null==N?void 0:N.newValue)===t)return null==N?void 0:N.changes;{let i=A(e,t,!0);if(i){const n=E(i);if(n>0){const o=A(e,t,!1);o&&E(o)<n&&(i=o)}}return N={originalValue:e,newValue:t,changes:i},i}}(a,e.insertText);if(!l)return;const c=e.range.startLineNumber,h=new Array;if("prefix"===i){const e=l.filter((e=>0===e.originalLength));if(e.length>1||1===e.length&&e[0].originalStart!==a.length)return}const u=e.insertText.length-o;for(const t of l){const o=e.range.startColumn+t.originalStart+t.originalLength;if("subwordSmart"===i&&n&&n.lineNumber===e.range.startLineNumber&&o<n.column)return;if(t.originalLength>0)return;if(0===t.modifiedLength)continue;const s=t.modifiedStart+t.modifiedLength,r=Math.max(t.modifiedStart,Math.min(s,u)),a=e.insertText.substring(t.modifiedStart,r),l=e.insertText.substring(r,Math.max(t.modifiedStart,s));if(a.length>0){const e=d.uq(a);h.push(new w(o,e,!1))}if(l.length>0){const e=d.uq(l);h.push(new w(o,e,!0))}}return new y(c,h,0)}let N;function E(e){let t=0;for(const i of e)t+=Math.max(i.originalLength-i.modifiedLength,0);return t}function A(e,t,i){if(e.length>5e3||t.length>5e3)return;function n(e){let t=0;for(let i=0,n=e.length;i<n;i++){const n=e.charCodeAt(i);n>t&&(t=n)}return t}const o=Math.max(n(e),n(t));function s(e){if(e<0)throw new Error("unexpected");return o+e+1}function r(e){let t=0,n=0;const o=new Int32Array(e.length);for(let r=0,a=e.length;r<a;r++)if(i&&"("===e[r]){const e=100*n+t;o[r]=s(2*e),t++}else if(i&&")"===e[r]){t=Math.max(t-1,0);const e=100*n+t;o[r]=s(2*e+1),0===t&&n++}else o[r]=e.charCodeAt(r);return o}const a=r(e),l=r(t);return new x.Hs({getElements:()=>a},{getElements:()=>l}).ComputeDiff(!1).changes}var T=i(1381),M=i(5382),R=i(5035),P=i(3883),O=i(1761),V=i(6735);class F{constructor(e){this.lines=e,this.tokenization={getLineTokens:e=>this.lines[e-1]}}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}}var W=i(1922),z=i(8191),B=i(5084),U=i(8762),H=i(8401),G=i(5392),j=i(3108),K=function(e,t){return function(i,n){t(i,n,e)}},$=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let q=class extends l.JT{constructor(e,t,i,n,o,s,d){super(),this.editor=e,this.cache=t,this.commandService=i,this.languageConfigurationService=n,this.languageFeaturesService=o,this.debounceService=s,this.onDidChangeEmitter=new a.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new l.XK),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(i.onDidExecuteCommand((t=>{new Set([f.CoreEditingCommands.Tab.id,f.CoreEditingCommands.DeleteLeft.id,f.CoreEditingCommands.DeleteRight.id,r,"acceptSelectedSuggestion"]).has(t.commandId)&&e.hasTextFocus()&&this.handleUserInput()}))),this._register(this.editor.onDidType((e=>{this.handleUserInput()}))),this._register(this.editor.onDidChangeCursorPosition((e=>{(3===e.reason||this.session&&!this.session.isValid)&&this.hide()}))),this._register((0,l.OF)((()=>{this.disposed=!0}))),this._register(this.editor.onDidBlurEditorWidget((()=>{d.getValue("editor.inlineSuggest.hideOnBlur")||this.hide()})))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout((()=>{this.disposed||this.startSessionIfTriggered()}),0)}get session(){return this.completionSession.value}get ghostText(){var e;return null===(e=this.session)||void 0===e?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;null===(t=this.session)||void 0===t||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&(null===(t=this.session)||void 0===t||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){this.editor.getOption(57).enabled&&(this.session&&this.session.isValid||this.trigger(u.bw.Automatic))}trigger(e){this.completionSession.value?e===u.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext():(this.completionSession.value=new Y(this.editor,this.editor.getPosition(),(()=>this.active),this.commandService,this.cache,e,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange((()=>{this.onDidChangeEmitter.fire()}))))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;null===(e=this.session)||void 0===e||e.commitCurrentCompletion()}showNext(){var e;null===(e=this.session)||void 0===e||e.showNextInlineCompletion()}showPrevious(){var e;null===(e=this.session)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return $(this,void 0,void 0,(function*(){const t=yield null===(e=this.session)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};q=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([K(2,L.Hy),K(3,T.c_),K(4,W.p),K(5,z.A),K(6,j.Ui)],q);class Y extends k{constructor(e,t,i,n,o,s,r,a,d){let c;super(e),this.triggerPosition=t,this.shouldUpdate=i,this.commandService=n,this.cache=o,this.initialTriggerKind=s,this.languageConfigurationService=r,this.registry=a,this.debounce=d,this.minReservedLineCount=0,this.updateOperation=this._register(new l.XK),this.updateSoon=this._register(new g.pY((()=>{const e=this.initialTriggerKind;return this.initialTriggerKind=u.bw.Automatic,this.update(e)}),50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0,this._register(this.onDidChange((()=>{var e;const t=this.currentCompletion;if(t&&t.sourceInlineCompletion!==c){c=t.sourceInlineCompletion;const i=t.sourceProvider;null===(e=i.handleItemDidShow)||void 0===e||e.call(i,t.sourceInlineCompletions,c)}}))),this._register((0,l.OF)((()=>{this.cache.clear()}))),this._register(this.editor.onDidChangeCursorPosition((e=>{var t;3!==e.reason&&(null===(t=this.cache.value)||void 0===t||t.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))}))),this._register(this.editor.onDidChangeModelContent((e=>{var t;null===(t=this.cache.value)||void 0===t||t.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()}))),this._register(this.registry.onDidChange((()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}))),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value)return void(this.filteredCompletions=[]);const e=this.editor.getModel(),t=e.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter((i=>{const n=e.getValueInRange(i.synchronizedRange).toLowerCase(),o=i.inlineCompletion.filterText.toLowerCase(),s=e.getLineIndentColumn(i.synchronizedRange.startLineNumber),r=Math.max(0,t.column-i.synchronizedRange.startColumn);let a=o.substring(0,r),l=o.substring(r),d=n.substring(0,r),c=n.substring(r);return i.synchronizedRange.startColumn<=s&&(d=d.trimStart(),0===d.length&&(c=c.trimStart()),a=a.trimStart(),0===a.length&&(l=l.trimStart())),a.startsWith(d)&&(0,G.Sy)(c,l)}))}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value)return 0;if(0===this.cache.value.completions.length)return 0;const e=this.filteredCompletions.findIndex((e=>e.semanticId===this.currentlySelectedCompletionId));return-1===e?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return $(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const e=this.filteredCompletions||[];if(e.length>0){const t=(this.fixAndGetIndexOfCurrentSelection()+1)%e.length;this.currentlySelectedCompletionId=e[t].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}showPreviousInlineCompletion(){return $(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const e=this.filteredCompletions||[];if(e.length>0){const t=(this.fixAndGetIndexOfCurrentSelection()+e.length-1)%e.length;this.currentlySelectedCompletionId=e[t].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}ensureUpdateWithExplicitContext(){var e;return $(this,void 0,void 0,(function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===u.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(u.bw.Explicit):(null===(e=this.cache.value)||void 0===e?void 0:e.triggerKind)!==u.bw.Explicit&&(yield this.update(u.bw.Explicit))}))}hasMultipleInlineCompletions(){var e;return $(this,void 0,void 0,(function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(e=this.cache.value)||void 0===e?void 0:e.completions.length)||0)>1}))}get ghostText(){const e=this.currentCompletion;if(!e)return;const t=this.editor.getPosition();if(e.range.getEndPosition().isBefore(t))return;const i=this.editor.getOptions().get(57).mode,n=D(e,this.editor.getModel(),i,t);if(n){if(n.isEmpty())return;return n}return new S(e.range.startLineNumber,e.range.startColumn,e.range.endColumn-e.range.startColumn,e.insertText.split("\n"),0)}get currentCompletion(){const e=this.currentCachedCompletion;if(e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(e){return $(this,void 0,void 0,(function*(){if(!this.shouldUpdate())return;const t=this.editor.getPosition(),i=new Date,n=(0,g.PG)((n=>$(this,void 0,void 0,(function*(){let o;try{o=yield X(this.registry,t,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},n,this.languageConfigurationService);const s=new Date;this.debounce.update(this.editor.getModel(),s.getTime()-i.getTime())}catch(e){return void(0,m.dL)(e)}n.isCancellationRequested||(this.cache.setValue(this.editor,o,e),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})))),o=new Q(n,e);this.updateOperation.value=o,yield n,this.updateOperation.value===o&&this.updateOperation.clear()}))}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;const e=this.currentCompletion;e&&this.commit(e)}commit(e){var t;const i=this.cache.clearAndLeak();e.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[v.h.replaceMove(e.range,""),...e.additionalTextEdits]),this.editor.setPosition(e.snippetInfo.range.getStartPosition()),null===(t=U.SnippetController2.get(this.editor))||void 0===t||t.insert(e.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[v.h.replaceMove(e.range,e.insertText),...e.additionalTextEdits]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally((()=>{null==i||i.dispose()})).then(void 0,m.Cp):null==i||i.dispose(),this.onDidChangeEmitter.fire()}get commands(){var e;return[...new Set((null===(e=this.cache.value)||void 0===e?void 0:e.completions.map((e=>e.inlineCompletion.sourceInlineCompletions)))||[])].flatMap((e=>e.commands||[]))}}class Q{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}}class Z extends l.JT{constructor(e,t,i,n){super(),this.editor=t,this.onChange=i,this.triggerKind=n,this.isDisposing=!1;const o=t.changeDecorations((t=>t.deltaDecorations([],e.items.map((e=>({range:e.range,options:{description:"inline-completion-tracking-range"}}))))));this._register((0,l.OF)((()=>{this.isDisposing=!0,t.removeDecorations(o)}))),this.completions=e.items.map(((e,t)=>new J(e,o[t]))),this._register(t.onDidChangeModelContent((()=>{this.updateRanges()}))),this._register(e)}updateRanges(){if(this.isDisposing)return;let e=!1;const t=this.editor.getModel();for(const i of this.completions){const n=t.getDecorationRange(i.decorationId);n?i.synchronizedRange.equalsRange(n)||(e=!0,i.synchronizedRange=n):(0,m.dL)(new Error("Decoration has no range"))}e&&this.onChange()}}class J{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function X(e,t,i,n,o=p.T.None,s){return $(this,void 0,void 0,(function*(){const r=function(e,t){const i=t.getWordAtPosition(e),n=t.getLineMaxColumn(e.lineNumber);return i?new _.e(e.lineNumber,i.startColumn,e.lineNumber,n):_.e.fromPositions(e,e.with(void 0,n))}(t,i),a=e.all(i),l=yield Promise.all(a.map((e=>$(this,void 0,void 0,(function*(){const s=yield Promise.resolve(e.provideInlineCompletions(i,t,n,o)).catch(m.Cp);return{completions:s,provider:e,dispose:()=>{s&&e.freeInlineCompletions(s)}}}))))),d=new Map;for(const e of l){const t=e.completions;if(t)for(const n of t.items){let o,a,l=n.range?_.e.lift(n.range):r;if(l.startLineNumber!==l.endLineNumber)continue;if("string"==typeof n.insertText){if(o=n.insertText,s&&n.completeBracketPairs){o=ee(o,l.getStartPosition(),i,s);const e=o.length-n.insertText.length;0!==e&&(l=new _.e(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+e))}a=void 0}else"snippet"in n.insertText?(o=(new B.Yj).parse(n.insertText.snippet).toString(),a={snippet:n.insertText.snippet,range:l}):(0,H.vE)(n.insertText);const c={insertText:o,snippetInfo:a,range:l,command:n.command,sourceProvider:e.provider,sourceInlineCompletions:t,sourceInlineCompletion:n,filterText:n.filterText||o,additionalTextEdits:n.additionalTextEdits||C};d.set(JSON.stringify({insertText:o,range:n.range}),c)}}return{items:[...d.values()],dispose:()=>{for(const e of l)e.dispose()}}}))}function ee(e,t,i,n){const o=i.getLineContent(t.lineNumber).substring(0,t.column-1)+e,s=i.tokenization.tokenizeLineWithEdit(t,o.length-(t.column-1),e),r=null==s?void 0:s.sliceAndInflate(t.column-1,o.length,0);if(!r)return e;const a=function(e,t){const i=new O.FE,n=new M.Z(i,(e=>t.getLanguageConfiguration(e))),o=new V.xH(new F([e]),n),s=(0,P.w)(o,[],void 0,!0);let r="";const a=e.getLineContent();return function e(t,i){if(2===t.kind)if(e(t.openingBracket,i),i=(0,R.Ii)(i,t.openingBracket.length),t.child&&(e(t.child,i),i=(0,R.Ii)(i,t.child.length)),t.closingBracket)e(t.closingBracket,i),i=(0,R.Ii)(i,t.closingBracket.length);else{const e=n.getSingleLanguageBracketTokens(t.openingBracket.languageId).findClosingTokenText(t.openingBracket.bracketIds);r+=e}else if(3===t.kind);else if(0===t.kind||1===t.kind)r+=a.substring((0,R.F_)(i),(0,R.F_)((0,R.Ii)(i,t.length)));else if(4===t.kind)for(const n of t.children)e(n,i),i=(0,R.Ii)(i,n.length)}(s,R.xl),r}(r,n);return a}var te=i(9488),ie=i(9561),ne=i(4804);class oe extends l.JT{constructor(e,t){super(),this.editor=e,this.suggestControllerPreselector=t,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new a.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new g.pY((()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())}),100)),this._register(e.onKeyDown((e=>{e.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))}))),this._register(e.onKeyUp((e=>{e.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))})));const i=ne.SuggestController.get(this.editor);if(i){this._register(i.registerSelector({priority:100,select:(e,t,n)=>{const o=this.editor.getModel(),s=I(o,this.suggestControllerPreselector());if(!s)return-1;const r=h.L.lift(t),a=n.map(((e,t)=>{const n=se(i,r,e,this.isShiftKeyPressed),a=I(o,null==n?void 0:n.normalizedInlineCompletion);var l,d;if(a)return{index:t,valid:(l=s.range,(d=a.range).startLineNumber===l.startLineNumber&&d.startColumn===l.startColumn&&(d.endLineNumber<l.endLineNumber||d.endLineNumber===l.endLineNumber&&d.endColumn<=l.endColumn)&&s.insertText.startsWith(a.insertText)),prefixLength:a.insertText.length,suggestItem:e}})).filter((e=>e&&e.valid)),l=(0,te.Dc)(a,(0,te.tT)((e=>e.prefixLength),te.fv));return l?l.index:-1}}));let e=!1;const t=()=>{e||(e=!0,this._register(i.widget.value.onDidShow((()=>{this.isSuggestWidgetVisible=!0,this.update(!0)}))),this._register(i.widget.value.onDidHide((()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)}))),this._register(i.widget.value.onDidFocus((()=>{this.isSuggestWidgetVisible=!0,this.update(!0)}))))};this._register(a.ju.once(i.model.onDidTrigger)((e=>{t()})))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(e){const t=this.getSuggestItemInfo();let i=!1;var n,o;(n=this._currentSuggestItemInfo)===(o=t)||!(!n||!o)&&n.completionItemKind===o.completionItemKind&&n.isSnippetText===o.isSnippetText&&function(e,t){return e===t||!(!e||!t)&&e.range.equalsRange(t.range)&&e.insertText===t.insertText&&e.command===t.command}(n.normalizedInlineCompletion,o.normalizedInlineCompletion)||(this._currentSuggestItemInfo=t,i=!0),this._isActive!==e&&(this._isActive=e,i=!0),i&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const e=ne.SuggestController.get(this.editor);if(!e)return;if(!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem();return t?se(e,this.editor.getPosition(),t.item,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const e=ne.SuggestController.get(this.editor);e&&e.stopForceRenderingAbove()}forceRenderingAbove(){const e=ne.SuggestController.get(this.editor);e&&e.forceRenderingAbove()}}function se(e,t,i,n){if(Array.isArray(i.completion.additionalTextEdits)&&i.completion.additionalTextEdits.length>0)return{completionItemKind:i.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:_.e.fromPositions(t,t),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:o}=i.completion,s=!1;if(4&i.completion.insertTextRules){const i=(new B.Yj).parse(o),n=e.editor.getModel();if(i.children.length>100)return;ie.l.adjustWhitespace(n,t,i,!0,!0),o=i.toString(),s=!0}const r=e.getOverwriteInfo(i,n);return{isSnippetText:s,completionItemKind:i.completion.kind,normalizedInlineCompletion:{insertText:o,filterText:o,range:_.e.fromPositions(t.delta(0,-r.overwriteBefore),t.delta(0,Math.max(r.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}var re=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let ae=class extends k{constructor(e,t,i){super(e),this.cache=t,this.languageFeaturesService=i,this.suggestionInlineCompletionSource=this._register(new oe(this.editor,(()=>{var e,t;return null===(t=null===(e=this.cache.value)||void 0===e?void 0:e.completions[0])||void 0===t?void 0:t.toLiveInlineCompletion()}))),this.updateOperation=this._register(new l.XK),this.updateCacheSoon=this._register(new g.pY((()=>this.updateCache()),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange((()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const e=this.ghostText;e&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,e.parts.map((e=>e.lines.length-1)).reduce(((e,t)=>e+t),0))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()}))),this._register(this.cache.onDidChange((()=>{this.onDidChangeEmitter.fire()}))),this._register(this.editor.onDidChangeCursorPosition((e=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()}))),this._register((0,l.OF)((()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove())))}get isActive(){return void 0!==this.suggestionInlineCompletionSource.state}isSuggestionPreviewEnabled(){return this.editor.getOption(108).preview}updateCache(){return re(this,void 0,void 0,(function*(){const e=this.suggestionInlineCompletionSource.state;if(!e||!e.selectedItem)return;const t={text:e.selectedItem.normalizedInlineCompletion.insertText,range:e.selectedItem.normalizedInlineCompletion.range,isSnippetText:e.selectedItem.isSnippetText,completionKind:e.selectedItem.completionItemKind},i=this.editor.getPosition();if(e.selectedItem.isSnippetText||27===e.selectedItem.completionItemKind||20===e.selectedItem.completionItemKind||23===e.selectedItem.completionItemKind)return void this.cache.clear();const n=(0,g.PG)((e=>re(this,void 0,void 0,(function*(){let n;try{n=yield X(this.languageFeaturesService.inlineCompletionsProvider,i,this.editor.getModel(),{triggerKind:u.bw.Automatic,selectedSuggestionInfo:t},e)}catch(e){return void(0,m.dL)(e)}e.isCancellationRequested?n.dispose():(this.cache.setValue(this.editor,n,u.bw.Automatic),this.onDidChangeEmitter.fire())})))),o=new Q(n,u.bw.Automatic);this.updateOperation.value=o,yield n,this.updateOperation.value===o&&this.updateOperation.clear()}))}get ghostText(){var e,t,i;const n=this.isSuggestionPreviewEnabled(),o=this.editor.getModel(),s=I(o,null===(t=null===(e=this.cache.value)||void 0===e?void 0:e.completions[0])||void 0===t?void 0:t.toLiveInlineCompletion()),r=this.suggestionInlineCompletionSource.state,a=I(o,null===(i=null==r?void 0:r.selectedItem)||void 0===i?void 0:i.normalizedInlineCompletion),l=s&&a&&s.insertText.startsWith(a.insertText)&&s.range.equalsRange(a.range);if(!n&&!l)return;const d=l?s:a||s,c=l?d.insertText.length-a.insertText.length:0;return this.toGhostText(d,c)}toGhostText(e,t){const i=this.editor.getOptions().get(108).previewMode;return e?D(e,this.editor.getModel(),i,this.editor.getPosition(),t)||new y(e.range.endLineNumber,[],this.minReservedLineCount):void 0}};var le,de;ae=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(le=2,de=W.p,function(e,t){de(e,t,le)})],ae);var ce=i(2065);class he extends l.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new a.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new l.XK)}get targetModel(){var e;return null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object}setTargetModel(e){var t,i,n;(null===(t=this.currentModelRef.value)||void 0===t?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?(i=e,n=e.onDidChange((()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})),{object:i,dispose:()=>null==n?void 0:n.dispose()}):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=null===(t=null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object)||void 0===t?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;null===(t=this.targetModel)||void 0===t||t.setExpanded(e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let ue=class extends he{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.sharedCache=this._register(new ge),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(ae,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(q,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange((()=>{this.updateModel()}))),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;const i=null===(t=this.activeInlineCompletionsModel)||void 0===t?void 0:t.ghostText;return!!i&&i.parts.some((t=>e.containsPosition(new h.L(i.lineNumber,t.column))))}triggerInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.trigger(u.bw.Explicit)}commitInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.hide()}showNextInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showNext()}showPreviousInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showPrevious()}hasMultipleInlineCompletions(){var e,t,i,n,o;return t=this,i=void 0,o=function*(){const t=yield null===(e=this.activeInlineCompletionsModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t},new((n=void 0)||(n=Promise))((function(e,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}))}};ue=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,ce.TG)],ue);class ge extends l.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new a.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new l.XK)}get value(){return this.cache.value}setValue(e,t,i){this.cache.value=new Z(t,e,(()=>this.onDidChangeEmitter.fire()),i)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var pe,me=i(5321),fe=i(2136),ve=i(4141),_e=i(7378),be=i(72),Ce=i(4973),ye=i(2042),we=i(8625),Se=i(2550),ke=i(1557),Le=i(7781),xe=function(e,t){return function(i,n){t(i,n,e)}};const Ie=null===(pe=window.trustedTypes)||void 0===pe?void 0:pe.createPolicy("editorGhostText",{createHTML:e=>e});let De=class extends l.JT{constructor(e,t,i,n){super(),this.editor=e,this.model=t,this.instantiationService=i,this.languageService=n,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(Ee,this.editor)),this.additionalLinesWidget=this._register(new Ae(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new Ne(this.editor)),this._register(this.editor.onDidChangeConfiguration((e=>{(e.hasChanged(29)||e.hasChanged(107)||e.hasChanged(90)||e.hasChanged(85)||e.hasChanged(47)||e.hasChanged(46)||e.hasChanged(61))&&this.update()}))),this._register((0,l.OF)((()=>{var e;this.disposed=!0,this.update(),null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0}))),this._register(t.onDidChange((()=>{this.update()}))),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;const t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed)return this.partsWidget.clear(),this.additionalLinesWidget.clear(),void this.replacementDecoration.clear();const i=new Array,n=new Array;function o(e,t){if(n.length>0){const i=n[n.length-1];t&&i.decorations.push(new Se.Kp(i.content.length+1,i.content.length+1+e[0].length,t,0)),i.content+=e[0],e=e.slice(1)}for(const i of e)n.push({content:i,decorations:t?[new Se.Kp(1,i.length+1,t,0)]:[]})}t instanceof S?this.replacementDecoration.setDecorations([{range:new _.e(t.lineNumber,t.columnStart,t.lineNumber,t.columnStart+t.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]):this.replacementDecoration.setDecorations([]);const s=this.editor.getModel().getLineContent(t.lineNumber);let r,a=0;for(const e of t.parts){let t=e.lines;void 0===r?(i.push({column:e.column,text:t[0],preview:e.preview}),t=t.slice(1)):o([s.substring(a,e.column-1)],void 0),t.length>0&&(o(t,"ghost-text"),void 0===r&&e.column<=s.length&&(r=e.column)),a=e.column-1}void 0!==r&&o([s.substring(a)],void 0),this.partsWidget.setParts(t.lineNumber,i,void 0!==r?{column:r,length:s.length+1-r}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,n,t.additionalReservedLineCount),null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0}renderViewMoreLines(e,t,i){const n=this.editor.getOption(46),o=document.createElement("div");o.className="suggest-preview-additional-widget",(0,fe.N)(o,n);const s=document.createElement("span");s.className="content-spacer",s.append(t),o.append(s);const r=document.createElement("span");r.className="content-newline suggest-preview-text",r.append("  "),o.append(r);const a=new l.SL,d=document.createElement("div");return d.className="button suggest-preview-text",d.append(`+${i} lines`),a.add(me.mu(d,"mousedown",(e=>{var t;null===(t=this.model)||void 0===t||t.setExpanded(!0),e.preventDefault(),this.editor.focus()}))),o.append(d),new Te(this.editor,e,o,a)}};De=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([xe(2,ce.TG),xe(3,ye.O)],De);class Ne{constructor(e){this.editor=e,this.decorationIds=[]}setDecorations(e){this.editor.changeDecorations((t=>{this.decorationIds=t.deltaDecorations(this.decorationIds,e)}))}clear(){this.setDecorations([])}dispose(){this.clear()}}class Ee{constructor(e){this.editor=e,this.decorationIds=[]}dispose(){this.clear()}clear(){this.editor.changeDecorations((e=>{this.decorationIds=e.deltaDecorations(this.decorationIds,[])}))}setParts(e,t,i){if(!this.editor.getModel())return;const n=new Array;i&&n.push({range:_.e.fromPositions(new h.L(e,i.column),new h.L(e,i.column+i.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations((i=>{this.decorationIds=i.deltaDecorations(this.decorationIds,t.map((t=>({range:_.e.fromPositions(new h.L(e,t.column)),options:{description:"ghost-text",after:{content:t.text,inlineClassName:t.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:Ce.RM.Left},showIfCollapsed:!0}}))).concat(n))}))}}class Ae{constructor(e,t){this.editor=e,this.languageIdCodec=t,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones((e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)}))}updateLines(e,t,i){const n=this.editor.getModel();if(!n)return;const{tabSize:o}=n.getOptions();this.editor.changeViewZones((n=>{this._viewZoneId&&(n.removeZone(this._viewZoneId),this._viewZoneId=void 0);const s=Math.max(t.length,i);if(s>0){const i=document.createElement("div");!function(e,t,i,n,o){const s=n.get(29),r=n.get(107),a=n.get(85),l=n.get(47),c=n.get(46),h=n.get(61),u=(0,be.l$)(1e4);u.appendASCIIString('<div class="suggest-preview-text">');for(let e=0,n=i.length;e<n;e++){const n=i[e],g=n.content;u.appendASCIIString('<div class="view-line'),u.appendASCIIString('" style="top:'),u.appendASCIIString(String(e*h)),u.appendASCIIString('px;width:1000000px;">');const p=d.$i(g),m=d.Ut(g),f=_e.A.createEmpty(g,o);(0,ke.d1)(new ke.IJ(c.isMonospace&&!s,c.canUseHalfwidthRightwardsArrow,g,!1,p,m,0,f,n.decorations,t,0,c.spaceWidth,c.middotWidth,c.wsmiddotWidth,r,"none",a,l!==ve.n0.OFF,null),u),u.appendASCIIString("</div>")}u.appendASCIIString("</div>"),(0,fe.N)(e,c);const g=u.build(),p=Ie?Ie.createHTML(g):g;e.innerHTML=p}(i,o,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=n.addZone({afterLineNumber:e,heightInLines:s,domNode:i,afterColumnAffinity:1})}}))}}class Te extends l.JT{constructor(e,t,i,n){super(),this.editor=e,this.position=t,this.domNode=i,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(n),this._register((0,l.OF)((()=>{this.editor.removeContentWidget(this)}))),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,Le.Ic)(((e,t)=>{const i=e.getColor(we.N5);i&&(t.addRule(`.monaco-editor .ghost-text-decoration { color: ${i.toString()} !important; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${i.toString()} !important; }`),t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${i.toString()} !important; }`));const n=e.getColor(we.IO);n&&(t.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${n.toString()}; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${n.toString()}; }`),t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${n.toString()}; }`));const o=e.getColor(we.x3);o&&(t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${o}; }`),t.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${o}; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${o}; }`))}));var Me=i(3580),Re=i(8819),Pe=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},Oe=function(e,t){return function(i,n){t(i,n,e)}},Ve=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let Fe=class e extends l.JT{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new l.XK),this.activeModelDidChangeEmitter=this._register(new a.Q5),this._register(this.editor.onDidChangeModel((()=>{this.updateModelController()}))),this._register(this.editor.onDidChangeConfiguration((e=>{e.hasChanged(108)&&this.updateModelController(),e.hasChanged(57)&&this.updateModelController()}))),this.updateModelController()}static get(t){return t.getContribution(e.ID)}get activeModel(){var e;return null===(e=this.activeController.value)||void 0===e?void 0:e.model}updateModelController(){const e=this.editor.getOption(108),t=this.editor.getOption(57);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(ze,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(e){var t;return(null===(t=this.activeModel)||void 0===t?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,i;return(null===(i=null===(t=this.activeController.value)||void 0===t?void 0:t.widget)||void 0===i?void 0:i.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(e=this.activeModel)||void 0===e||e.triggerInlineCompletion()}commit(){var e;null===(e=this.activeModel)||void 0===e||e.commitInlineCompletion()}hide(){var e;null===(e=this.activeModel)||void 0===e||e.hideInlineCompletion()}showNextInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return Ve(this,void 0,void 0,(function*(){const t=yield null===(e=this.activeModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};Fe.inlineSuggestionVisible=new Re.uy("inlineSuggestionVisible",!1,Me.NC("inlineSuggestionVisible","Whether an inline suggestion is visible")),Fe.inlineSuggestionHasIndentation=new Re.uy("inlineSuggestionHasIndentation",!1,Me.NC("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),Fe.inlineSuggestionHasIndentationLessThanTabSize=new Re.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,Me.NC("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),Fe.ID="editor.contrib.ghostTextController",Fe=Pe([Oe(1,ce.TG)],Fe);class We{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=Fe.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Fe.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=Fe.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let ze=class extends l.JT{constructor(e,t,i){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=i,this.contextKeys=new We(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(ue,this.editor)),this.widget=this._register(this.instantiationService.createInstance(De,this.editor,this.model)),this._register((0,l.OF)((()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)}))),this._register(this.model.onDidChange((()=>{this.updateContextKeys()}))),this.updateContextKeys()}updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(e=this.model.activeInlineCompletionsModel)||void 0===e?void 0:e.ghostText));let t=!1,i=!0;const n=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&n&&n.parts.length>0){const{column:e,lines:o}=n.parts[0],s=o[0];if(e<=this.editor.getModel().getLineIndentColumn(n.lineNumber)){let e=(0,d.LC)(s);-1===e&&(e=s.length-1),t=e>0;const n=this.editor.getModel().getOptions().tabSize;i=c.i.visibleColumnFromColumn(s,e+1,n)<n}}this.contextKeys.inlineCompletionSuggestsIndentation.set(t),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(i)}};ze=Pe([Oe(1,ce.TG),Oe(2,Re.i6)],ze);class Be extends n.R6{constructor(){super({id:Be.ID,label:Me.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Re.Ao.and(o.u.writable,Fe.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,t){return Ve(this,void 0,void 0,(function*(){const e=Fe.get(t);e&&(e.showNextInlineCompletion(),t.focus())}))}}Be.ID="editor.action.inlineSuggest.showNext";class Ue extends n.R6{constructor(){super({id:Ue.ID,label:Me.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Re.Ao.and(o.u.writable,Fe.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,t){return Ve(this,void 0,void 0,(function*(){const e=Fe.get(t);e&&(e.showPreviousInlineCompletion(),t.focus())}))}}Ue.ID="editor.action.inlineSuggest.showPrevious";class He extends n.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:Me.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:o.u.writable})}run(e,t){return Ve(this,void 0,void 0,(function*(){const e=Fe.get(t);e&&e.trigger()}))}}var Ge=i(9365),je=i(8598),Ke=i(1106),$e=i(4144),qe=i(988),Ye=function(e,t){return function(i,n){t(i,n,e)}};class Qe{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}get commands(){var e,t,i;return(null===(i=null===(t=null===(e=this.controller.activeModel)||void 0===e?void 0:e.activeInlineCompletionsModel)||void 0===t?void 0:t.completionSession.value)||void 0===i?void 0:i.commands)||[]}}let Ze=class{constructor(e,t,i,n,o,s,r){this._editor=e,this._commandService=t,this._menuService=i,this._contextKeyService=n,this._languageService=o,this._openerService=s,this.accessibilityService=r,this.hoverOrdinal=3}suggestHoverAnchor(e){const t=Fe.get(this._editor);if(!t)return null;const i=e.target;if(8===i.type){const e=i.detail;if(t.shouldShowHoverAtViewZone(e.viewZoneId))return new s.YM(1e3,this,_.e.fromPositions(e.positionBefore||e.position,e.positionBefore||e.position))}return 7===i.type&&t.shouldShowHoverAt(i.range)||6===i.type&&i.detail.mightBeForeignElement&&t.shouldShowHoverAt(i.range)?new s.YM(1e3,this,i.range):null}computeSync(e,t){const i=Fe.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new Qe(this,e.range,i)]:[]}renderHoverParts(e,t){const i=new l.SL,n=t[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(e,n,i);const o=i.add(this._menuService.createMenu($e.eH.InlineCompletionsActions,this._contextKeyService)),s=e.statusBar.addAction({label:Me.NC("showNextInlineSuggestion","Next"),commandId:Be.ID,run:()=>this._commandService.executeCommand(Be.ID)}),a=e.statusBar.addAction({label:Me.NC("showPreviousInlineSuggestion","Previous"),commandId:Ue.ID,run:()=>this._commandService.executeCommand(Ue.ID)});e.statusBar.addAction({label:Me.NC("acceptInlineSuggestion","Accept"),commandId:r,run:()=>this._commandService.executeCommand(r)});const d=[s,a];for(const e of d)e.setEnabled(!1);n.hasMultipleSuggestions().then((e=>{for(const t of d)t.setEnabled(e)}));for(const t of n.commands)e.statusBar.addAction({label:t.title,commandId:t.id,run:()=>this._commandService.executeCommand(t.id,...t.arguments||[])});for(const[t,i]of o.getActions())for(const t of i)t instanceof $e.U8&&e.statusBar.addAction({label:t.label,commandId:t.item.id,run:()=>this._commandService.executeCommand(t.item.id)});return i}renderScreenReaderText(e,t,i){var n,o;const s=me.$,r=s("div.hover-row.markdown-hover"),a=me.R3(r,s("div.hover-contents")),l=i.add(new je.$({editor:this._editor},this._languageService,this._openerService)),d=null===(o=null===(n=t.controller.activeModel)||void 0===n?void 0:n.inlineCompletionsModel)||void 0===o?void 0:o.ghostText;if(d){const t=this._editor.getModel().getLineContent(d.lineNumber);(t=>{i.add(l.onDidRenderAsync((()=>{a.className="hover-contents code-hover-contents",e.onContentsChanged()})));const n=Me.NC("inlineSuggestionFollows","Suggestion:"),o=i.add(l.render((new Ge.W5).appendText(n).appendCodeblock("text",t)));a.replaceChildren(o.element)})(d.renderForScreenReader(t))}e.fragment.appendChild(r)}};Ze=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Ye(1,L.Hy),Ye(2,$e.co),Ye(3,Re.i6),Ye(4,ye.O),Ye(5,qe.v4),Ye(6,Ke.F)],Ze);var Je=i(9989);(0,n._K)(Fe.ID,Fe),(0,n.Qr)(He),(0,n.Qr)(Be),(0,n.Qr)(Ue),s.Ae.register(Ze);const Xe=n._l.bindToContribution(Fe.get),et=new Xe({id:r,precondition:Fe.inlineSuggestionVisible,handler(e){e.commit(),e.editor.focus()}});(0,n.fK)(et),Je.W.registerKeybindingRule({primary:2,weight:200,id:et.id,when:Re.Ao.and(et.precondition,o.u.tabMovesFocus.toNegated(),Fe.inlineSuggestionHasIndentationLessThanTabSize)}),(0,n.fK)(new Xe({id:"editor.action.inlineSuggest.hide",precondition:Fe.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(e){e.hide()}}))},7615:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ExpandLineSelectionAction:()=>a});var n=i(6830),o=i(8108),s=i(9102),r=i(3580);class a extends n.R6{constructor(){super({id:"expandLineSelection",label:r.NC("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:s.u.textInputFocus,primary:2090}})}run(e,t,i){if(i=i||{},!t.hasModel())return;const n=t._getViewModel();n.model.pushStackElement(),n.setCursorStates(i.source,3,o.P.expandLineSelection(n,n.getCursorStates())),n.revealPrimaryCursor(i.source,!0)}}(0,n.Qr)(a)},5766:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AbstractCaseAction:()=>$,AbstractDeleteAllToBoundaryAction:()=>U,AbstractSortLinesAction:()=>T,DeleteAllLeftAction:()=>H,DeleteAllRightAction:()=>G,DeleteDuplicateLinesAction:()=>P,DeleteLinesAction:()=>V,DuplicateSelectionAction:()=>E,IndentLinesAction:()=>F,InsertLineAfterAction:()=>B,InsertLineBeforeAction:()=>z,JoinLinesAction:()=>j,KebabCaseAction:()=>X,LowerCaseAction:()=>Y,SnakeCaseAction:()=>J,SortLinesAscendingAction:()=>M,SortLinesDescendingAction:()=>R,TitleCaseAction:()=>Z,TransposeAction:()=>K,TrimTrailingWhitespaceAction:()=>O,UpperCaseAction:()=>q});var n=i(2258),o=i(9317),s=i(6830),r=i(1329),a=i(7295),l=i(9386),d=i(4314);class c{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){const i=function(e,t){t.sort(((e,t)=>e.lineNumber===t.lineNumber?e.column-t.column:e.lineNumber-t.lineNumber));for(let e=t.length-2;e>=0;e--)t[e].lineNumber===t[e+1].lineNumber&&t.splice(e,1);const i=[];let n=0,o=0;const s=t.length;for(let r=1,c=e.getLineCount();r<=c;r++){const c=e.getLineContent(r),h=c.length+1;let u=0;if(o<s&&t[o].lineNumber===r&&(u=t[o].column,o++,u===h))continue;if(0===c.length)continue;const g=a.ow(c);let p=0;if(-1===g)p=1;else{if(g===c.length-1)continue;p=g+2}p=Math.max(u,p),i[n++]=l.h.delete(new d.e(r,p,r,h))}return i}(e,this._cursors);for(let e=0,n=i.length;e<n;e++){const n=i[e];t.addEditOperation(n.range,n.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}var h=i(1336),u=i(187),g=i(3860),p=i(9102);class m{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const n=[];for(let t=i.startLineNumber;t<=i.endLineNumber;t++)n.push(e.getLineContent(t));const o=n.join("\n");""===o&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new d.e(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new d.e(i.startLineNumber,1,i.startLineNumber,1),o+"\n"):t.addEditOperation(new d.e(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+o),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let e=i.startLineNumber,t=i.startColumn,n=i.endLineNumber,o=i.endColumn;0!==this._startLineNumberDelta&&(e+=this._startLineNumberDelta,t=1),0!==this._endLineNumberDelta&&(n+=this._endLineNumberDelta,o=1),i=g.Y.createWithDirection(e,t,n,o,this._selectionDirection)}return i}}var f=i(291),v=i(9119),_=i(1381),b=i(8279),C=i(5383),y=i(1615);let w=class{constructor(e,t,i,n){this._languageConfigurationService=n,this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){const i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i)return void(this._selectionId=t.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=t.trackSelection(this._selection));this._moveEndPositionDown=!1;let n=this._selection;n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const{tabSize:o,indentSize:s,insertSpaces:r}=e.getOptions(),l=this.buildIndentConverter(o,s,r),c={tokenization:{getLineTokens:t=>e.tokenization.getLineTokens(t),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(t,i)=>e.getLanguageIdAtPosition(t,i)},getLineContent:null};if(n.startLineNumber===n.endLineNumber&&1===e.getLineMaxColumn(n.startLineNumber)){const i=n.startLineNumber,o=this._isMovingDown?i+1:i-1;1===e.getLineMaxColumn(o)?t.addEditOperation(new d.e(1,1,1,1),null):(t.addEditOperation(new d.e(i,1,i,1),e.getLineContent(o)),t.addEditOperation(new d.e(o,1,o,e.getLineMaxColumn(o)),null)),n=new g.Y(o,1,o,1)}else{let i,s;if(this._isMovingDown){i=n.endLineNumber+1,s=e.getLineContent(i),t.addEditOperation(new d.e(i-1,e.getLineMaxColumn(i-1),i,e.getLineMaxColumn(i)),null);let h=s;if(this.shouldAutoIndent(e,n)){const u=this.matchEnterRule(e,l,o,i,n.startLineNumber-1);if(null!==u){const t=a.V8(e.getLineContent(i)),n=u+b.Y(t,o),l=b.J(n,o,r);h=l+this.trimLeft(s)}else{c.getLineContent=t=>t===n.startLineNumber?e.getLineContent(i):e.getLineContent(t);const t=(0,C.n8)(this._autoIndent,c,e.getLanguageIdAtPosition(i,1),n.startLineNumber,l,this._languageConfigurationService);if(null!==t){const n=a.V8(e.getLineContent(i)),l=b.Y(t,o);if(l!==b.Y(n,o)){const e=b.J(l,o,r);h=e+this.trimLeft(s)}}}t.addEditOperation(new d.e(n.startLineNumber,1,n.startLineNumber,1),h+"\n");const g=this.matchEnterRuleMovingDown(e,l,o,n.startLineNumber,i,h);if(null!==g)0!==g&&this.getIndentEditsOfMovingBlock(e,t,n,o,r,g);else{c.getLineContent=t=>t===n.startLineNumber?h:t>=n.startLineNumber+1&&t<=n.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t);const s=(0,C.n8)(this._autoIndent,c,e.getLanguageIdAtPosition(i,1),n.startLineNumber+1,l,this._languageConfigurationService);if(null!==s){const i=a.V8(e.getLineContent(n.startLineNumber)),l=b.Y(s,o),d=b.Y(i,o);if(l!==d){const i=l-d;this.getIndentEditsOfMovingBlock(e,t,n,o,r,i)}}}}else t.addEditOperation(new d.e(n.startLineNumber,1,n.startLineNumber,1),h+"\n")}else if(i=n.startLineNumber-1,s=e.getLineContent(i),t.addEditOperation(new d.e(i,1,i+1,1),null),t.addEditOperation(new d.e(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+s),this.shouldAutoIndent(e,n)){c.getLineContent=t=>t===i?e.getLineContent(n.startLineNumber):e.getLineContent(t);const s=this.matchEnterRule(e,l,o,n.startLineNumber,n.startLineNumber-2);if(null!==s)0!==s&&this.getIndentEditsOfMovingBlock(e,t,n,o,r,s);else{const s=(0,C.n8)(this._autoIndent,c,e.getLanguageIdAtPosition(n.startLineNumber,1),i,l,this._languageConfigurationService);if(null!==s){const i=a.V8(e.getLineContent(n.startLineNumber)),l=b.Y(s,o),d=b.Y(i,o);if(l!==d){const i=l-d;this.getIndentEditsOfMovingBlock(e,t,n,o,r,i)}}}}}this._selectionId=t.trackSelection(n)}buildIndentConverter(e,t,i){return{shiftIndent:n=>f.U.shiftIndent(n,n.length+1,e,t,i),unshiftIndent:n=>f.U.unshiftIndent(n,n.length+1,e,t,i)}}parseEnterResult(e,t,i,n,o){if(o){let s=o.indentation;o.indentAction===v.wU.None||o.indentAction===v.wU.Indent?s=o.indentation+o.appendText:o.indentAction===v.wU.IndentOutdent?s=o.indentation:o.indentAction===v.wU.Outdent&&(s=t.unshiftIndent(o.indentation)+o.appendText);const r=e.getLineContent(n);if(this.trimLeft(r).indexOf(this.trimLeft(s))>=0){const o=a.V8(e.getLineContent(n));let r=a.V8(s);const l=(0,C.tI)(e,n,this._languageConfigurationService);return null!==l&&2&l&&(r=t.unshiftIndent(r)),b.Y(r,i)-b.Y(o,i)}}return null}matchEnterRuleMovingDown(e,t,i,n,o,s){if(a.ow(s)>=0){const s=e.getLineMaxColumn(o),r=(0,y.A)(this._autoIndent,e,new d.e(o,s,o,s),this._languageConfigurationService);return this.parseEnterResult(e,t,i,n,r)}{let o=n-1;for(;o>=1;){const t=e.getLineContent(o);if(a.ow(t)>=0)break;o--}if(o<1||n>e.getLineCount())return null;const s=e.getLineMaxColumn(o),r=(0,y.A)(this._autoIndent,e,new d.e(o,s,o,s),this._languageConfigurationService);return this.parseEnterResult(e,t,i,n,r)}}matchEnterRule(e,t,i,n,o,s){let r=o;for(;r>=1;){let t;if(t=r===o&&void 0!==s?s:e.getLineContent(r),a.ow(t)>=0)break;r--}if(r<1||n>e.getLineCount())return null;const l=e.getLineMaxColumn(r),c=(0,y.A)(this._autoIndent,e,new d.e(r,l,r,l),this._languageConfigurationService);return this.parseEnterResult(e,t,i,n,c)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4)return!1;if(!e.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const i=e.getLanguageIdAtPosition(t.startLineNumber,1);return i===e.getLanguageIdAtPosition(t.endLineNumber,1)&&null!==this._languageConfigurationService.getLanguageConfiguration(i).indentRulesSupport}getIndentEditsOfMovingBlock(e,t,i,n,o,s){for(let r=i.startLineNumber;r<=i.endLineNumber;r++){const l=e.getLineContent(r),c=a.V8(l),h=b.Y(c,n)+s,u=b.J(h,n,o);u!==c&&(t.addEditOperation(new d.e(r,1,r,c.length+1),u),r===i.endLineNumber&&i.endColumn<=c.length+1&&""===u&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}};var S,k;w=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(S=3,k=_.c_,function(e,t){k(e,t,S)})],w);class L{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return L._COLLATOR||(L._COLLATOR=new Intl.Collator),L._COLLATOR}getEditOperations(e,t){const i=function(e,t,i){const n=x(e,t,i);return n?l.h.replace(new d.e(n.startLineNumber,1,n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),n.after.join("\n")):null}(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(null===e)return!1;const n=x(e,t,i);if(!n)return!1;for(let e=0,t=n.before.length;e<t;e++)if(n.before[e]!==n.after[e])return!0;return!1}}function x(e,t,i){const n=t.startLineNumber;let o=t.endLineNumber;if(1===t.endColumn&&o--,n>=o)return null;const s=[];for(let t=n;t<=o;t++)s.push(e.getLineContent(t));let r=s.slice(0);return r.sort(L.getCollator().compare),!0===i&&(r=r.reverse()),{startLineNumber:n,endLineNumber:o,before:s,after:r}}L._COLLATOR=null;var I=i(3580),D=i(4144);class N extends s.R6{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const i=t.getSelections().map(((e,t)=>({selection:e,index:t,ignore:!1})));i.sort(((e,t)=>d.e.compareRangesUsingStarts(e.selection,t.selection)));let n=i[0];for(let e=1;e<i.length;e++){const t=i[e];n.selection.endLineNumber===t.selection.startLineNumber&&(n.index<t.index?t.ignore=!0:(n.ignore=!0,n=t))}const o=[];for(const e of i)o.push(new m(e.selection,this.down,e.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class E extends s.R6{constructor(){super({id:"editor.action.duplicateSelection",label:I.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:p.u.writable,menuOpts:{menuId:D.eH.MenubarSelectionMenu,group:"2_line",title:I.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;const n=[],o=t.getSelections(),s=t.getModel();for(const e of o)if(e.isEmpty())n.push(new m(e,!0));else{const t=new g.Y(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn);n.push(new r.OY(t,s.getValueInRange(e)))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class A extends s.R6{constructor(e,t){super(t),this.down=e}run(e,t){const i=e.get(_.c_),n=[],o=t.getSelections()||[],s=t.getOption(9);for(const e of o)n.push(new w(e,this.down,s,i));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class T extends s.R6{constructor(e,t){super(t),this.descending=e}run(e,t){const i=t.getSelections()||[];for(const e of i)if(!L.canRun(t.getModel(),e,this.descending))return;const n=[];for(let e=0,t=i.length;e<t;e++)n[e]=new L(i[e],this.descending);t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class M extends T{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:I.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:p.u.writable})}}class R extends T{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:I.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:p.u.writable})}}class P extends s.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:I.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:p.u.writable})}run(e,t){if(!t.hasModel())return;const i=t.getModel();if(1===i.getLineCount()&&1===i.getLineMaxColumn(1))return;const n=[],o=[];let s=0;for(const e of t.getSelections()){const t=new Set,r=[];for(let n=e.startLineNumber;n<=e.endLineNumber;n++){const e=i.getLineContent(n);t.has(e)||(r.push(e),t.add(e))}const a=new g.Y(e.startLineNumber,1,e.endLineNumber,i.getLineMaxColumn(e.endLineNumber)),d=e.startLineNumber-s,c=new g.Y(d,1,d+r.length-1,r[r.length-1].length);n.push(l.h.replace(a,r.join("\n"))),o.push(c),s+=e.endLineNumber-e.startLineNumber+1-r.length}t.pushUndoStop(),t.executeEdits(this.id,n,o),t.pushUndoStop()}}class O extends s.R6{constructor(){super({id:O.ID,label:I.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,n.gx)(2089,2102),weight:100}})}run(e,t,i){let n=[];"auto-save"===i.reason&&(n=(t.getSelections()||[]).map((e=>new u.L(e.positionLineNumber,e.positionColumn))));const o=t.getSelection();if(null===o)return;const s=new c(o,n);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop()}}O.ID="editor.action.trimTrailingWhitespace";class V extends s.R6{constructor(){super({id:"editor.action.deleteLines",label:I.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:p.u.writable,kbOpts:{kbExpr:p.u.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;const i=this._getLinesToRemove(t),n=t.getModel();if(1===n.getLineCount()&&1===n.getLineMaxColumn(1))return;let o=0;const s=[],r=[];for(let e=0,t=i.length;e<t;e++){const t=i[e];let a=t.startLineNumber,d=t.endLineNumber,c=1,h=n.getLineMaxColumn(d);d<n.getLineCount()?(d+=1,h=1):a>1&&(a-=1,c=n.getLineMaxColumn(a)),s.push(l.h.replace(new g.Y(a,c,d,h),"")),r.push(new g.Y(a-o,t.positionColumn,a-o,t.positionColumn)),o+=t.endLineNumber-t.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,s,r),t.pushUndoStop()}_getLinesToRemove(e){const t=e.getSelections().map((e=>{let t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}}));t.sort(((e,t)=>e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber));const i=[];let n=t[0];for(let e=1;e<t.length;e++)n.endLineNumber+1>=t[e].startLineNumber?n.endLineNumber=t[e].endLineNumber:(i.push(n),n=t[e]);return i.push(n),i}}class F extends s.R6{constructor(){super({id:"editor.action.indentLines",label:I.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:2137,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,h.u6.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class W extends s.R6{constructor(){super({id:"editor.action.outdentLines",label:I.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:2135,weight:100}})}run(e,t){o.CoreEditingCommands.Outdent.runEditorCommand(e,t,null)}}class z extends s.R6{constructor(){super({id:"editor.action.insertLineBefore",label:I.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:3075,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,h.u6.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}}class B extends s.R6{constructor(){super({id:"editor.action.insertLineAfter",label:I.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:2051,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,h.u6.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}}class U extends s.R6{run(e,t){if(!t.hasModel())return;const i=t.getSelection(),n=this._getRangesToDelete(t),o=[];for(let e=0,t=n.length-1;e<t;e++){const t=n[e],i=n[e+1];null===d.e.intersectRanges(t,i)?o.push(t):n[e+1]=d.e.plusRange(t,i)}o.push(n[n.length-1]);const s=this._getEndCursorState(i,o),r=o.map((e=>l.h.replace(e,"")));t.pushUndoStop(),t.executeEdits(this.id,r,s),t.pushUndoStop()}}class H extends U{constructor(){super({id:"deleteAllLeft",label:I.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:p.u.writable,kbOpts:{kbExpr:p.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null;const n=[];let o=0;return t.forEach((t=>{let s;if(1===t.endColumn&&o>0){const e=t.startLineNumber-o;s=new g.Y(e,t.startColumn,e,t.startColumn)}else s=new g.Y(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);o+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?i=s:n.push(s)})),i&&n.unshift(i),n}_getRangesToDelete(e){const t=e.getSelections();if(null===t)return[];let i=t;const n=e.getModel();return null===n?[]:(i.sort(d.e.compareRangesUsingStarts),i=i.map((e=>{if(e.isEmpty()){if(1===e.startColumn){const t=Math.max(1,e.startLineNumber-1),i=1===e.startLineNumber?1:n.getLineContent(t).length+1;return new d.e(t,i,e.startLineNumber,1)}return new d.e(e.startLineNumber,1,e.startLineNumber,e.startColumn)}return new d.e(e.startLineNumber,1,e.endLineNumber,e.endColumn)})),i)}}class G extends U{constructor(){super({id:"deleteAllRight",label:I.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:p.u.writable,kbOpts:{kbExpr:p.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null;const n=[];for(let o=0,s=t.length,r=0;o<s;o++){const s=t[o],a=new g.Y(s.startLineNumber-r,s.startColumn,s.startLineNumber-r,s.startColumn);s.intersectRanges(e)?i=a:n.push(a)}return i&&n.unshift(i),n}_getRangesToDelete(e){const t=e.getModel();if(null===t)return[];const i=e.getSelections();if(null===i)return[];const n=i.map((e=>{if(e.isEmpty()){const i=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===i?new d.e(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new d.e(e.startLineNumber,e.startColumn,e.startLineNumber,i)}return e}));return n.sort(d.e.compareRangesUsingStarts),n}}class j extends s.R6{constructor(){super({id:"editor.action.joinLines",label:I.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){const i=t.getSelections();if(null===i)return;let n=t.getSelection();if(null===n)return;i.sort(d.e.compareRangesUsingStarts);const o=[],s=i.reduce(((e,t)=>e.isEmpty()?e.endLineNumber===t.startLineNumber?(n.equalsSelection(e)&&(n=t),t):t.startLineNumber>e.endLineNumber+1?(o.push(e),t):new g.Y(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(o.push(e),t):new g.Y(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn)));o.push(s);const r=t.getModel();if(null===r)return;const a=[],c=[];let h=n,u=0;for(let e=0,t=o.length;e<t;e++){const t=o[e],i=t.startLineNumber,s=1;let p,m,f=0;const v=r.getLineContent(t.endLineNumber).length-t.endColumn;if(t.isEmpty()||t.startLineNumber===t.endLineNumber){const e=t.getStartPosition();e.lineNumber<r.getLineCount()?(p=i+1,m=r.getLineMaxColumn(p)):(p=e.lineNumber,m=r.getLineMaxColumn(e.lineNumber))}else p=t.endLineNumber,m=r.getLineMaxColumn(p);let _=r.getLineContent(i);for(let e=i+1;e<=p;e++){const t=r.getLineContent(e),i=r.getLineFirstNonWhitespaceColumn(e);if(i>=1){let e=!0;""===_&&(e=!1),!e||" "!==_.charAt(_.length-1)&&"\t"!==_.charAt(_.length-1)||(e=!1,_=_.replace(/[\s\uFEFF\xA0]+$/g," "));const n=t.substr(i-1);_+=(e?" ":"")+n,f=e?n.length+1:n.length}else f=0}const b=new d.e(i,s,p,m);if(!b.isEmpty()){let e;t.isEmpty()?(a.push(l.h.replace(b,_)),e=new g.Y(b.startLineNumber-u,_.length-f+1,i-u,_.length-f+1)):t.startLineNumber===t.endLineNumber?(a.push(l.h.replace(b,_)),e=new g.Y(t.startLineNumber-u,t.startColumn,t.endLineNumber-u,t.endColumn)):(a.push(l.h.replace(b,_)),e=new g.Y(t.startLineNumber-u,t.startColumn,t.startLineNumber-u,_.length-v)),null!==d.e.intersectRanges(b,n)?h=e:c.push(e)}u+=b.endLineNumber-b.startLineNumber}c.unshift(h),t.pushUndoStop(),t.executeEdits(this.id,a,c),t.pushUndoStop()}}class K extends s.R6{constructor(){super({id:"editor.action.transpose",label:I.NC("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:p.u.writable})}run(e,t){const i=t.getSelections();if(null===i)return;const n=t.getModel();if(null===n)return;const o=[];for(let e=0,t=i.length;e<t;e++){const t=i[e];if(!t.isEmpty())continue;const s=t.getStartPosition(),a=n.getLineMaxColumn(s.lineNumber);if(s.column>=a){if(s.lineNumber===n.getLineCount())continue;const e=new d.e(s.lineNumber,Math.max(1,s.column-1),s.lineNumber+1,1),t=n.getValueInRange(e).split("").reverse().join("");o.push(new r.T4(new g.Y(s.lineNumber,Math.max(1,s.column-1),s.lineNumber+1,1),t))}else{const e=new d.e(s.lineNumber,Math.max(1,s.column-1),s.lineNumber,s.column+1),t=n.getValueInRange(e).split("").reverse().join("");o.push(new r.hP(e,t,new g.Y(s.lineNumber,s.column+1,s.lineNumber,s.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class $ extends s.R6{run(e,t){const i=t.getSelections();if(null===i)return;const n=t.getModel();if(null===n)return;const o=t.getOption(119),s=[];for(const e of i)if(e.isEmpty()){const i=e.getStartPosition(),r=t.getConfiguredWordAtPosition(i);if(!r)continue;const a=new d.e(i.lineNumber,r.startColumn,i.lineNumber,r.endColumn),c=n.getValueInRange(a);s.push(l.h.replace(a,this._modifyText(c,o)))}else{const t=n.getValueInRange(e);s.push(l.h.replace(e,this._modifyText(t,o)))}t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop()}}class q extends ${constructor(){super({id:"editor.action.transformToUppercase",label:I.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:p.u.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class Y extends ${constructor(){super({id:"editor.action.transformToLowercase",label:I.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:p.u.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class Q{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return null!==this.get()}}class Z extends ${constructor(){super({id:"editor.action.transformToTitlecase",label:I.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:p.u.writable})}_modifyText(e,t){const i=Z.titleBoundary.get();return i?e.toLocaleLowerCase().replace(i,(e=>e.toLocaleUpperCase())):e}}Z.titleBoundary=new Q("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class J extends ${constructor(){super({id:"editor.action.transformToSnakecase",label:I.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:p.u.writable})}_modifyText(e,t){const i=J.caseBoundary.get(),n=J.singleLetters.get();return i&&n?e.replace(i,"$1_$2").replace(n,"$1_$2$3").toLocaleLowerCase():e}}J.caseBoundary=new Q("(\\p{Ll})(\\p{Lu})","gmu"),J.singleLetters=new Q("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class X extends ${constructor(){super({id:"editor.action.transformToKebabcase",label:I.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:p.u.writable})}static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every((e=>e.isSupported()))}_modifyText(e,t){const i=X.caseBoundary.get(),n=X.singleLetters.get(),o=X.underscoreBoundary.get();return i&&n&&o?e.replace(o,"$1-$3").replace(i,"$1-$2").replace(n,"$1-$2").toLocaleLowerCase():e}}X.caseBoundary=new Q("(\\p{Ll})(\\p{Lu})","gmu"),X.singleLetters=new Q("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),X.underscoreBoundary=new Q("(\\S)(_)(\\S)","gm"),(0,s.Qr)(class extends N{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:I.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:D.eH.MenubarSelectionMenu,group:"2_line",title:I.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),(0,s.Qr)(class extends N{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:I.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:D.eH.MenubarSelectionMenu,group:"2_line",title:I.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),(0,s.Qr)(E),(0,s.Qr)(class extends A{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:I.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:D.eH.MenubarSelectionMenu,group:"2_line",title:I.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),(0,s.Qr)(class extends A{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:I.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:D.eH.MenubarSelectionMenu,group:"2_line",title:I.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),(0,s.Qr)(M),(0,s.Qr)(R),(0,s.Qr)(P),(0,s.Qr)(O),(0,s.Qr)(V),(0,s.Qr)(F),(0,s.Qr)(W),(0,s.Qr)(z),(0,s.Qr)(B),(0,s.Qr)(H),(0,s.Qr)(G),(0,s.Qr)(j),(0,s.Qr)(K),(0,s.Qr)(q),(0,s.Qr)(Y),J.caseBoundary.isSupported()&&J.singleLetters.isSupported()&&(0,s.Qr)(J),Z.titleBoundary.isSupported()&&(0,s.Qr)(Z),X.isSupported()&&(0,s.Qr)(X)},76:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE:()=>D,LinkedEditingAction:()=>A,LinkedEditingContribution:()=>E,editorLinkedEditingBackground:()=>R});var n=i(9488),o=i(5393),s=i(1050),r=i(1264),a=i(7301),l=i(4669),d=i(5976),c=i(7295),h=i(666),u=i(6830),g=i(1640),p=i(187),m=i(4314),f=i(9102),v=i(2035),_=i(1381),b=i(3580),C=i(8819),y=i(3910),w=i(7781),S=i(1922),k=i(8191),L=i(4013),x=function(e,t){return function(i,n){t(i,n,e)}},I=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const D=new C.uy("LinkedEditingInputVisible",!1),N="linked-editing-decoration";let E=class e extends d.JT{constructor(e,t,i,n,o){super(),this.languageConfigurationService=n,this._syncRangesToken=0,this._localToDispose=this._register(new d.SL),this._editor=e,this._providers=i.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=D.bindTo(t),this._debounceInformation=o.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new d.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel((()=>this.reinitialize(!0)))),this._register(this._editor.onDidChangeConfiguration((e=>{(e.hasChanged(64)||e.hasChanged(84))&&this.reinitialize(!1)}))),this._register(this._providers.onDidChange((()=>this.reinitialize(!1)))),this._register(this._editor.onDidChangeModelLanguage((()=>this.reinitialize(!0)))),this.reinitialize(!0)}static get(t){return t.getContribution(e.ID)}reinitialize(e){const t=this._editor.getModel(),i=null!==t&&(this._editor.getOption(64)||this._editor.getOption(84))&&this._providers.has(t);if(i===this._enabled&&!e)return;if(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||null===t)return;this._localToDispose.add(l.ju.runAndSubscribe(t.onDidChangeLanguageConfiguration,(()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()})));const n=new o.vp(this._debounceInformation.get(t)),s=()=>{var e;this._rangeUpdateTriggerPromise=n.trigger((()=>this.updateRanges()),null!==(e=this._debounceDuration)&&void 0!==e?e:this._debounceInformation.get(t))},r=new o.vp(0),a=e=>{this._rangeSyncTriggerPromise=r.trigger((()=>this._syncRanges(e)))};this._localToDispose.add(this._editor.onDidChangeCursorPosition((()=>{s()}))),this._localToDispose.add(this._editor.onDidChangeModelContent((e=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const t=this._currentDecorations.getRange(0);if(t&&e.changes.every((e=>t.intersectRanges(e.range))))return void a(this._syncRangesToken)}s()}))),this._localToDispose.add({dispose:()=>{n.dispose(),r.dispose()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._syncRangesToken||0===this._currentDecorations.length)return;const t=this._editor.getModel(),i=this._currentDecorations.getRange(0);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();const n=t.getValueInRange(i);if(this._currentWordPattern){const e=n.match(this._currentWordPattern);if((e?e[0].length:0)!==n.length)return this.clearRanges()}const o=[];for(let e=1,i=this._currentDecorations.length;e<i;e++){const i=this._currentDecorations.getRange(e);if(i)if(i.startLineNumber!==i.endLineNumber)o.push({range:i,text:n});else{let e=t.getValueInRange(i),s=n,r=i.startColumn,a=i.endColumn;const l=c.Mh(e,s);r+=l,e=e.substr(l),s=s.substr(l);const d=c.P1(e,s);a-=d,e=e.substr(0,e.length-d),s=s.substr(0,s.length-d),r===a&&0===s.length||o.push({range:new m.e(i.startLineNumber,r,i.endLineNumber,a),text:s})}}if(0!==o.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const e=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(e)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(t=!1){return I(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return void this.clearRanges();const i=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1)return void this.clearRanges();const n=this._editor.getModel(),s=n.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===s){if(i.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const e=this._currentDecorations.getRange(0);if(e&&e.containsPosition(i))return}}this._currentRequestPosition=i,this._currentRequestModelVersion=s;const r=(0,o.PG)((t=>I(this,void 0,void 0,(function*(){try{const o=new L.G(!1),a=yield M(this._providers,n,i,t);if(this._debounceInformation.update(n,o.elapsed()),r!==this._currentRequest)return;if(this._currentRequest=null,s!==n.getVersionId())return;let l=[];(null==a?void 0:a.ranges)&&(l=a.ranges),this._currentWordPattern=(null==a?void 0:a.wordPattern)||this._languageWordPattern;let d=!1;for(let e=0,t=l.length;e<t;e++)if(m.e.containsPosition(l[e],i)){if(d=!0,0!==e){const t=l[e];l.splice(e,1),l.unshift(t)}break}if(!d)return void this.clearRanges();const c=l.map((t=>({range:t,options:e.DECORATION})));this._visibleContextKey.set(!0),this._currentDecorations.set(c),this._syncRangesToken++}catch(e){(0,a.n2)(e)||(0,a.dL)(e),this._currentRequest!==r&&this._currentRequest||this.clearRanges()}}))));return this._currentRequest=r,r}))}};E.ID="editor.contrib.linkedEditing",E.DECORATION=v.qx.register({description:"linked-editing",stickiness:0,className:N}),E=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([x(1,C.i6),x(2,S.p),x(3,_.c_),x(4,k.A)],E);class A extends u.R6{constructor(){super({id:"editor.action.linkedEditing",label:b.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:C.Ao.and(f.u.writable,f.u.hasRenameProvider),kbOpts:{kbExpr:f.u.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const i=e.get(g.$),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return h.o.isUri(n)&&p.L.isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then((e=>{e&&(e.setPosition(o),e.invokeWithinContext((t=>(this.reportTelemetry(t,e),this.run(t,e)))))}),a.dL):super.runCommand(e,t)}run(e,t){const i=E.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}}const T=u._l.bindToContribution(E.get);function M(e,t,i,s){const r=e.ordered(t);return(0,o.Ps)(r.map((e=>()=>I(this,void 0,void 0,(function*(){try{return yield e.provideLinkedEditingRanges(t,i,s)}catch(e){return void(0,a.Cp)(e)}})))),(e=>!!e&&n.Of(null==e?void 0:e.ranges)))}(0,u.fK)(new T({id:"cancelLinkedEditingInput",precondition:D,handler:e=>e.clearRanges(),kbOpts:{kbExpr:f.u.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const R=(0,y.P6G)("editor.linkedEditingBackground",{dark:r.Il.fromHex("#f00").transparent(.3),light:r.Il.fromHex("#f00").transparent(.3),hcDark:r.Il.fromHex("#f00").transparent(.3),hcLight:r.Il.white},b.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,w.Ic)(((e,t)=>{const i=e.getColor(R);i&&t.addRule(`.monaco-editor .${N} { background: ${i}; border-left-color: ${i}; }`)})),(0,u.sb)("_executeLinkedEditingProvider",((e,t,i)=>{const{linkedEditingRangeProvider:n}=e.get(S.p);return M(n,t,i,s.T.None)})),(0,u._K)(E.ID,E),(0,u.Qr)(A)},7253:(e,t,i)=>{"use strict";i.r(t),i.d(t,{LinkDetector:()=>M});var n=i(5393),o=i(1050),s=i(7301),r=i(9365),a=i(5976),l=i(6663),d=i(1432),c=i(5935),h=i(4013),u=i(666),g=i(6830),p=i(2035),m=i(8191),f=i(1922),v=i(2005),_=i(9488),b=i(8401),C=i(4314),y=i(3733),w=i(4565),S=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class k{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return S(this,void 0,void 0,(function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,e)).then((t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing"))))):Promise.reject(new Error("missing"))}))}}class L{constructor(e){this._disposables=new a.SL;let t=[];for(const[i,n]of e){const e=i.links.map((e=>new k(e,n)));t=L._union(t,e),(0,a.Wf)(i)&&this._disposables.add(i)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){const i=[];let n,o,s,r;for(n=0,s=0,o=e.length,r=t.length;n<o&&s<r;){const o=e[n],r=t[s];C.e.areIntersectingOrTouching(o.range,r.range)?n++:C.e.compareRangesUsingStarts(o.range,r.range)<0?(i.push(o),n++):(i.push(r),s++)}for(;n<o;n++)i.push(e[n]);for(;s<r;s++)i.push(t[s]);return i}}function x(e,t,i){const n=[],o=e.ordered(t).reverse().map(((e,o)=>Promise.resolve(e.provideLinks(t,i)).then((t=>{t&&(n[o]=[t,e])}),s.Cp)));return Promise.all(o).then((()=>{const e=new L((0,_.kX)(n));return i.isCancellationRequested?(e.dispose(),new L([])):e}))}w.P0.registerCommand("_executeLinkProvider",((e,...t)=>S(void 0,void 0,void 0,(function*(){let[i,n]=t;(0,b.p_)(i instanceof u.o),"number"!=typeof n&&(n=0);const{linkProvider:s}=e.get(f.p),r=e.get(y.q).getModel(i);if(!r)return[];const a=yield x(s,r,o.T.None);if(!a)return[];for(let e=0;e<Math.min(n,a.links.length);e++)yield a.links[e].resolve(o.T.None);const l=a.links.slice(0);return a.dispose(),l}))));var I=i(3580),D=i(9422),N=i(988),E=i(3910),A=i(7781),T=function(e,t){return function(i,n){t(i,n,e)}};let M=class e extends a.JT{constructor(e,t,i,o,s){super(),this.editor=e,this.openerService=t,this.notificationService=i,this.languageFeaturesService=o,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=s.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new n.pY((()=>this.computeLinksNow()),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const r=this._register(new v.yN(e));this._register(r.onMouseMoveOrRelevantKeyDown((([e,t])=>{this._onEditorMouseMove(e,t)}))),this._register(r.onExecute((e=>{this.onEditorMouseUp(e)}))),this._register(r.onCancel((e=>{this.cleanUpActiveLinkDecoration()}))),this._register(e.onDidChangeConfiguration((e=>{e.hasChanged(65)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))}))),this._register(e.onDidChangeModelContent((e=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))}))),this._register(e.onDidChangeModel((e=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)}))),this._register(e.onDidChangeModelLanguage((e=>{this.stop(),this.computeLinks.schedule(0)}))),this._register(this.providers.onDidChange((e=>{this.stop(),this.computeLinks.schedule(0)}))),this.computeLinks.schedule(0)}static get(t){return t.getContribution(e.ID)}computeLinksNow(){return e=this,t=void 0,o=function*(){if(!this.editor.hasModel()||!this.editor.getOption(65))return;const e=this.editor.getModel();if(this.providers.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,n.PG)((t=>x(this.providers,e,t)));try{const t=new h.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(e,t.elapsed()),e.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(e){(0,s.dL)(e)}finally{this.computePromise=null}}},new((i=void 0)||(i=Promise))((function(n,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((o=o.apply(e,t||[])).next())}));var e,t,i,o}updateDecorations(e){const t="altKey"===this.editor.getOption(72),i=[],n=Object.keys(this.currentOccurrences);for(const e of n){const t=this.currentOccurrences[e];i.push(t.decorationId)}const o=[];if(e)for(const i of e)o.push(P.decoration(i,t));this.editor.changeDecorations((t=>{const n=t.deltaDecorations(i,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let t=0,i=n.length;t<i;t++){const i=new P(e[t],n[t]);this.currentOccurrences[i.decorationId]=i}}))}_onEditorMouseMove(e,t){const i="altKey"===this.editor.getOption(72);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const t=this.getLinkOccurrence(e.target.position);t&&this.editor.changeDecorations((e=>{t.activate(e,i),this.activeLinkDecorationId=t.decorationId}))}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e="altKey"===this.editor.getOption(72);if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations((i=>{t.deactivate(i,e)})),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;const{link:n}=e;n.resolve(o.T.None).then((e=>{if("string"==typeof e&&this.editor.hasModel()){const t=this.editor.getModel().uri;if(t.scheme===l.lg.file&&e.startsWith(`${l.lg.file}:`)){const i=u.o.parse(e);if(i.scheme===l.lg.file){const n=c.z_(i);let o=null;n.startsWith("/./")?o=`.${n.substr(1)}`:n.startsWith("//./")&&(o=`.${n.substr(2)}`),o&&(e=c.Vo(t,o))}}}return this.openerService.open(e,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})}),(e=>{const t=e instanceof Error?e.message:e;"invalid"===t?this.notificationService.warn(I.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",n.url.toString())):"missing"===t?this.notificationService.warn(I.NC("missing.url","Failed to open this link because its target is missing.")):(0,s.dL)(e)}))}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const e of t){const t=this.currentOccurrences[e.id];if(t)return t}return null}isEnabled(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.computeLinks.cancel(),this.activeLinksList&&(null===(e=this.activeLinksList)||void 0===e||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};M.ID="editor.linkDetector",M=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([T(1,N.v4),T(2,D.lT),T(3,f.p),T(4,m.A)],M);const R={general:p.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:p.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class P{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:P._getOptions(e,t,!1)}}static _getOptions(e,t,i){const n=Object.assign({},i?R.active:R.general);return n.hoverMessage=function(e,t){const i=e.url&&/^command:/i.test(e.url.toString()),n=e.tooltip?e.tooltip:i?I.NC("links.navigate.executeCmd","Execute command"):I.NC("links.navigate.follow","Follow link"),o=t?d.dz?I.NC("links.navigate.kb.meta.mac","cmd + click"):I.NC("links.navigate.kb.meta","ctrl + click"):d.dz?I.NC("links.navigate.kb.alt.mac","option + click"):I.NC("links.navigate.kb.alt","alt + click");if(e.url){let t="";if(/^command:/i.test(e.url.toString())){const i=e.url.toString().match(/^command:([^?#]+)/);if(i){const e=i[1];t=I.NC("tooltip.explanation","Execute command {0}",e)}}return new r.W5("",!0).appendLink(e.url.toString(!0).replace(/ /g,"%20"),n,t).appendMarkdown(` (${o})`)}return(new r.W5).appendText(`${n} (${o})`)}(e,t),n}activate(e,t){e.changeDecorationOptions(this.decorationId,P._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,P._getOptions(this.link,t,!1))}}class O extends g.R6{constructor(){super({id:"editor.action.openLink",label:I.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){const i=M.get(t);if(!i)return;if(!t.hasModel())return;const n=t.getSelections();for(const e of n){const t=i.getLinkOccurrence(e.getEndPosition());t&&i.openLinkOccurrence(t,!1)}}}(0,g._K)(M.ID,M),(0,g.Qr)(O),(0,A.Ic)(((e,t)=>{const i=e.getColor(E._Yy);i&&t.addRule(`.monaco-editor .detected-link-active { color: ${i} !important; }`)}))},8598:(e,t,i)=>{"use strict";i.d(t,{$:()=>T});var n=i(5321),o=i(921),s=i(4850),r=i(8764),a=i(7448),l=i(6811),d=i(7301),c=i(4669),h=i(9365),u=i(1212),g=i(4742),p=i(5976);let m={};!function(){function e(e,t){t(m)}var t,i;e.amd=!0,t=this,i=function(e){function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var s=/[&<>"']/,r=/[&<>"']/g,a=/[<>"']|&(?!#?\w+;)/,l=/[<>"']|&(?!#?\w+;)/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=function(e){return d[e]};function h(e,t){if(t){if(s.test(e))return e.replace(r,c)}else if(a.test(e))return e.replace(l,c);return e}var u=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function g(e){return e.replace(u,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var p=/(^|[^\[])\^/g;function m(e,t){e="string"==typeof e?e:e.source,t=t||"";var i={replace:function(t,n){return n=(n=n.source||n).replace(p,"$1"),e=e.replace(t,n),i},getRegex:function(){return new RegExp(e,t)}};return i}var f=/[^\w:]/g,v=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function _(e,t,i){if(e){var n;try{n=decodeURIComponent(g(i)).replace(f,"").toLowerCase()}catch(e){return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}t&&!v.test(i)&&(i=function(e,t){b[" "+e]||(C.test(e)?b[" "+e]=e+"/":b[" "+e]=x(e,"/",!0));var i=-1===(e=b[" "+e]).indexOf(":");return"//"===t.substring(0,2)?i?t:e.replace(y,"$1")+t:"/"===t.charAt(0)?i?t:e.replace(w,"$1")+t:e+t}(t,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(e){return null}return i}var b={},C=/^[^:]+:\/*[^/]*$/,y=/^([^:]+:)[\s\S]*$/,w=/^([^:]+:\/*[^/]*)[\s\S]*$/,S={exec:function(){}};function k(e){for(var t,i,n=1;n<arguments.length;n++)for(i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function L(e,t){var i=e.replace(/\|/g,(function(e,t,i){for(var n=!1,o=t;--o>=0&&"\\"===i[o];)n=!n;return n?"|":" |"})).split(/ \|/),n=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i}function x(e,t,i){var n=e.length;if(0===n)return"";for(var o=0;o<n;){var s=e.charAt(n-o-1);if(s!==t||i){if(s===t||!i)break;o++}else o++}return e.slice(0,n-o)}function I(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function D(e,t){if(t<1)return"";for(var i="";t>1;)1&t&&(i+=e),t>>=1,e+=e;return i+e}function N(e,t,i,n){var o=t.href,s=t.title?h(t.title):null,r=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;var a={type:"link",raw:i,href:o,title:s,text:r,tokens:n.inlineTokens(r,[])};return n.state.inLink=!1,a}return{type:"image",raw:i,href:o,title:s,text:h(r)}}var E=function(){function t(t){this.options=t||e.defaults}var i=t.prototype;return i.space=function(e){var t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}},i.code=function(e){var t=this.rules.block.code.exec(e);if(t){var i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:x(i,"\n")}}},i.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var i=t[0],n=function(e,t){var i=e.match(/^(\s+)(?:```)/);if(null===i)return t;var n=i[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=n.length?e.slice(n.length):e})).join("\n")}(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim():t[2],text:n}}},i.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var i=t[2].trim();if(/#$/.test(i)){var n=x(i,"#");this.options.pedantic?i=n.trim():n&&!/ $/.test(n)||(i=n.trim())}var o={type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:[]};return this.lexer.inline(o.text,o.tokens),o}},i.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},i.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var i=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(i,[]),text:i}}},i.list=function(e){var t=this.rules.block.list.exec(e);if(t){var i,o,s,r,a,l,d,c,h,u,g,p,m=t[1].trim(),f=m.length>1,v={type:"list",raw:"",ordered:f,start:f?+m.slice(0,-1):"",loose:!1,items:[]};m=f?"\\d{1,9}\\"+m.slice(-1):"\\"+m,this.options.pedantic&&(m=f?m:"[*+-]");for(var _=new RegExp("^( {0,3}"+m+")((?:[\t ][^\\n]*)?(?:\\n|$))");e&&(p=!1,t=_.exec(e))&&!this.rules.block.hr.test(e);){if(i=t[0],e=e.substring(i.length),c=t[2].split("\n",1)[0],h=e.split("\n",1)[0],this.options.pedantic?(r=2,g=c.trimLeft()):(r=(r=t[2].search(/[^ ]/))>4?1:r,g=c.slice(r),r+=t[1].length),l=!1,!c&&/^ *$/.test(h)&&(i+=h+"\n",e=e.substring(h.length+1),p=!0),!p)for(var b=new RegExp("^ {0,"+Math.min(3,r-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),C=new RegExp("^ {0,"+Math.min(3,r-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)");e&&(c=u=e.split("\n",1)[0],this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!b.test(c))&&!C.test(e);){if(c.search(/[^ ]/)>=r||!c.trim())g+="\n"+c.slice(r);else{if(l)break;g+="\n"+c}l||c.trim()||(l=!0),i+=u+"\n",e=e.substring(u.length+1)}v.loose||(d?v.loose=!0:/\n *\n *$/.test(i)&&(d=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(g))&&(s="[ ] "!==o[0],g=g.replace(/^\[[ xX]\] +/,"")),v.items.push({type:"list_item",raw:i,task:!!o,checked:s,loose:!1,text:g}),v.raw+=i}v.items[v.items.length-1].raw=i.trimRight(),v.items[v.items.length-1].text=g.trimRight(),v.raw=v.raw.trimRight();var y=v.items.length;for(a=0;a<y;a++){this.lexer.state.top=!1,v.items[a].tokens=this.lexer.blockTokens(v.items[a].text,[]);var w=v.items[a].tokens.filter((function(e){return"space"===e.type})),S=w.every((function(e){for(var t,i=0,o=n(e.raw.split(""));!(t=o()).done;)if("\n"===t.value&&(i+=1),i>1)return!0;return!1}));!v.loose&&w.length&&S&&(v.loose=!0,v.items[a].loose=!0)}return v}},i.html=function(e){var t=this.rules.block.html.exec(e);if(t){var i={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};return this.options.sanitize&&(i.type="paragraph",i.text=this.options.sanitizer?this.options.sanitizer(t[0]):h(t[0]),i.tokens=[],this.lexer.inline(i.text,i.tokens)),i}},i.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},i.table=function(e){var t=this.rules.block.table.exec(e);if(t){var i={type:"table",header:L(t[1]).map((function(e){return{text:e}})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(i.header.length===i.align.length){i.raw=t[0];var n,o,s,r,a=i.align.length;for(n=0;n<a;n++)/^ *-+: *$/.test(i.align[n])?i.align[n]="right":/^ *:-+: *$/.test(i.align[n])?i.align[n]="center":/^ *:-+ *$/.test(i.align[n])?i.align[n]="left":i.align[n]=null;for(a=i.rows.length,n=0;n<a;n++)i.rows[n]=L(i.rows[n],i.header.length).map((function(e){return{text:e}}));for(a=i.header.length,o=0;o<a;o++)i.header[o].tokens=[],this.lexer.inline(i.header[o].text,i.header[o].tokens);for(a=i.rows.length,o=0;o<a;o++)for(r=i.rows[o],s=0;s<r.length;s++)r[s].tokens=[],this.lexer.inline(r[s].text,r[s].tokens);return i}}},i.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t){var i={type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}},i.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t){var i={type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}},i.text=function(e){var t=this.rules.block.text.exec(e);if(t){var i={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}},i.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:h(t[1])}},i.tag=function(e){var t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):h(t[0]):t[0]}},i.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;var n=x(i.slice(0,-1),"\\");if((i.length-n.length)%2==0)return}else{var o=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var i=e.length,n=0,o=0;o<i;o++)if("\\"===e[o])o++;else if(e[o]===t[0])n++;else if(e[o]===t[1]&&--n<0)return o;return-1}(t[2],"()");if(o>-1){var s=(0===t[0].indexOf("!")?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,s).trim(),t[3]=""}}var r=t[2],a="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);l&&(r=l[1],a=l[3])}else a=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(r=this.options.pedantic&&!/>$/.test(i)?r.slice(1):r.slice(1,-1)),N(t,{href:r?r.replace(this.rules.inline._escapes,"$1"):r,title:a?a.replace(this.rules.inline._escapes,"$1"):a},t[0],this.lexer)}},i.reflink=function(e,t){var i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){var n=(i[2]||i[1]).replace(/\s+/g," ");if(!(n=t[n.toLowerCase()])||!n.href){var o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return N(i,n,i[0],this.lexer)}},i.emStrong=function(e,t,i){void 0===i&&(i="");var n=this.rules.inline.emStrong.lDelim.exec(e);if(n&&(!n[3]||!i.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var o=n[1]||n[2]||"";if(!o||o&&(""===i||this.rules.inline.punctuation.exec(i))){var s,r,a=n[0].length-1,l=a,d=0,c="*"===n[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+a);null!=(n=c.exec(t));)if(s=n[1]||n[2]||n[3]||n[4]||n[5]||n[6])if(r=s.length,n[3]||n[4])l+=r;else if(!((n[5]||n[6])&&a%3)||(a+r)%3){if(!((l-=r)>0)){if(r=Math.min(r,r+l+d),Math.min(a,r)%2){var h=e.slice(1,a+n.index+r);return{type:"em",raw:e.slice(0,a+n.index+r+1),text:h,tokens:this.lexer.inlineTokens(h,[])}}var u=e.slice(2,a+n.index+r-1);return{type:"strong",raw:e.slice(0,a+n.index+r+1),text:u,tokens:this.lexer.inlineTokens(u,[])}}}else d+=r}}},i.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var i=t[2].replace(/\n/g," "),n=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return n&&o&&(i=i.substring(1,i.length-1)),i=h(i,!0),{type:"codespan",raw:t[0],text:i}}},i.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},i.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}},i.autolink=function(e,t){var i,n,o=this.rules.inline.autolink.exec(e);if(o)return n="@"===o[2]?"mailto:"+(i=h(this.options.mangle?t(o[1]):o[1])):i=h(o[1]),{type:"link",raw:o[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}},i.url=function(e,t){var i;if(i=this.rules.inline.url.exec(e)){var n,o;if("@"===i[2])o="mailto:"+(n=h(this.options.mangle?t(i[0]):i[0]));else{var s;do{s=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0]}while(s!==i[0]);n=h(i[0]),o="www."===i[1]?"http://"+n:n}return{type:"link",raw:i[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}},i.inlineText=function(e,t){var i,n=this.rules.inline.text.exec(e);if(n)return i=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):h(n[0]):n[0]:h(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:i}},t}(),A={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:S,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};A.def=m(A.def).replace("label",A._label).replace("title",A._title).getRegex(),A.bullet=/(?:[*+-]|\d{1,9}[.)])/,A.listItemStart=m(/^( *)(bull) */).replace("bull",A.bullet).getRegex(),A.list=m(A.list).replace(/bull/g,A.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+A.def.source+")").getRegex(),A._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",A._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,A.html=m(A.html,"i").replace("comment",A._comment).replace("tag",A._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),A.paragraph=m(A._paragraph).replace("hr",A.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",A._tag).getRegex(),A.blockquote=m(A.blockquote).replace("paragraph",A.paragraph).getRegex(),A.normal=k({},A),A.gfm=k({},A.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),A.gfm.table=m(A.gfm.table).replace("hr",A.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",A._tag).getRegex(),A.gfm.paragraph=m(A._paragraph).replace("hr",A.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",A.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",A._tag).getRegex(),A.pedantic=k({},A.normal,{html:m("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",A._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:S,paragraph:m(A.normal._paragraph).replace("hr",A.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",A.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var T={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:S,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:S,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function M(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function R(e){var t,i,n="",o=e.length;for(t=0;t<o;t++)i=e.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),n+="&#"+i+";";return n}T._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",T.punctuation=m(T.punctuation).replace(/punctuation/g,T._punctuation).getRegex(),T.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,T.escapedEmSt=/\\\*|\\_/g,T._comment=m(A._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),T.emStrong.lDelim=m(T.emStrong.lDelim).replace(/punct/g,T._punctuation).getRegex(),T.emStrong.rDelimAst=m(T.emStrong.rDelimAst,"g").replace(/punct/g,T._punctuation).getRegex(),T.emStrong.rDelimUnd=m(T.emStrong.rDelimUnd,"g").replace(/punct/g,T._punctuation).getRegex(),T._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,T._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,T._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,T.autolink=m(T.autolink).replace("scheme",T._scheme).replace("email",T._email).getRegex(),T._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,T.tag=m(T.tag).replace("comment",T._comment).replace("attribute",T._attribute).getRegex(),T._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,T._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,T._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,T.link=m(T.link).replace("label",T._label).replace("href",T._href).replace("title",T._title).getRegex(),T.reflink=m(T.reflink).replace("label",T._label).replace("ref",A._label).getRegex(),T.nolink=m(T.nolink).replace("ref",A._label).getRegex(),T.reflinkSearch=m(T.reflinkSearch,"g").replace("reflink",T.reflink).replace("nolink",T.nolink).getRegex(),T.normal=k({},T),T.pedantic=k({},T.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:m(/^!?\[(label)\]\((.*?)\)/).replace("label",T._label).getRegex(),reflink:m(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",T._label).getRegex()}),T.gfm=k({},T.normal,{escape:m(T.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),T.gfm.url=m(T.gfm.url,"i").replace("email",T.gfm._extended_email).getRegex(),T.breaks=k({},T.gfm,{br:m(T.br).replace("{2,}","*").getRegex(),text:m(T.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var P=function(){function i(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||e.defaults,this.options.tokenizer=this.options.tokenizer||new E,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var i={block:A.normal,inline:T.normal};this.options.pedantic?(i.block=A.pedantic,i.inline=T.pedantic):this.options.gfm&&(i.block=A.gfm,this.options.breaks?i.inline=T.breaks:i.inline=T.gfm),this.tokenizer.rules=i}i.lex=function(e,t){return new i(t).lex(e)},i.lexInline=function(e,t){return new i(t).inlineTokens(e)};var n,o,s=i.prototype;return s.lex=function(e){var t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens},s.blockTokens=function(e,t){var i,n,o,s,r=this;for(void 0===t&&(t=[]),e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(function(e,t,i){return t+"    ".repeat(i.length)}));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(n){return!!(i=n.call({lexer:r},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)}))))if(i=this.tokenizer.space(e))e=e.substring(i.raw.length),1===i.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(i);else if(i=this.tokenizer.code(e))e=e.substring(i.raw.length),!(n=t[t.length-1])||"paragraph"!==n.type&&"text"!==n.type?t.push(i):(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(i=this.tokenizer.fences(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.heading(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.hr(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.blockquote(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.list(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.html(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.def(e))e=e.substring(i.raw.length),!(n=t[t.length-1])||"paragraph"!==n.type&&"text"!==n.type?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(n.raw+="\n"+i.raw,n.text+="\n"+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(i=this.tokenizer.table(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.lheading(e))e=e.substring(i.raw.length),t.push(i);else if(o=e,this.options.extensions&&this.options.extensions.startBlock&&function(){var t=1/0,i=e.slice(1),n=void 0;r.options.extensions.startBlock.forEach((function(e){"number"==typeof(n=e.call({lexer:this},i))&&n>=0&&(t=Math.min(t,n))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}(),this.state.top&&(i=this.tokenizer.paragraph(o)))n=t[t.length-1],s&&"paragraph"===n.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i),s=o.length!==e.length,e=e.substring(i.raw.length);else if(i=this.tokenizer.text(e))e=e.substring(i.raw.length),(n=t[t.length-1])&&"text"===n.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i);else if(e){var a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return this.state.top=!0,t},s.inline=function(e,t){this.inlineQueue.push({src:e,tokens:t})},s.inlineTokens=function(e,t){var i,n,o,s=this;void 0===t&&(t=[]);var r,a,l,d=e;if(this.tokens.links){var c=Object.keys(this.tokens.links);if(c.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(d));)c.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(d=d.slice(0,r.index)+"["+D("a",r[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(d));)d=d.slice(0,r.index)+"["+D("a",r[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.escapedEmSt.exec(d));)d=d.slice(0,r.index)+"++"+d.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(a||(l=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(n){return!!(i=n.call({lexer:s},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)}))))if(i=this.tokenizer.escape(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.tag(e))e=e.substring(i.raw.length),(n=t[t.length-1])&&"text"===i.type&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(i=this.tokenizer.link(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(i.raw.length),(n=t[t.length-1])&&"text"===i.type&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(i=this.tokenizer.emStrong(e,d,l))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.codespan(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.br(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.del(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.autolink(e,R))e=e.substring(i.raw.length),t.push(i);else if(this.state.inLink||!(i=this.tokenizer.url(e,R))){if(o=e,this.options.extensions&&this.options.extensions.startInline&&function(){var t=1/0,i=e.slice(1),n=void 0;s.options.extensions.startInline.forEach((function(e){"number"==typeof(n=e.call({lexer:this},i))&&n>=0&&(t=Math.min(t,n))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}(),i=this.tokenizer.inlineText(o,M))e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(l=i.raw.slice(-1)),a=!0,(n=t[t.length-1])&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(e){var h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}throw new Error(h)}}else e=e.substring(i.raw.length),t.push(i);return t},n=i,o=[{key:"rules",get:function(){return{block:A,inline:T}}}],null&&t(n.prototype,null),o&&t(n,o),Object.defineProperty(n,"prototype",{writable:!1}),i}(),O=function(){function t(t){this.options=t||e.defaults}var i=t.prototype;return i.code=function(e,t,i){var n=(t||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,n);null!=o&&o!==e&&(i=!0,e=o)}return e=e.replace(/\n$/,"")+"\n",n?'<pre><code class="'+this.options.langPrefix+h(n,!0)+'">'+(i?e:h(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:h(e,!0))+"</code></pre>\n"},i.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},i.html=function(e){return e},i.heading=function(e,t,i,n){return this.options.headerIds?"<h"+t+' id="'+(this.options.headerPrefix+n.slug(i))+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},i.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.list=function(e,t,i){var n=t?"ol":"ul";return"<"+n+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+n+">\n"},i.listitem=function(e){return"<li>"+e+"</li>\n"},i.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},i.paragraph=function(e){return"<p>"+e+"</p>\n"},i.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},i.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},i.tablecell=function(e,t){var i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+">\n"},i.strong=function(e){return"<strong>"+e+"</strong>"},i.em=function(e){return"<em>"+e+"</em>"},i.codespan=function(e){return"<code>"+e+"</code>"},i.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.del=function(e){return"<del>"+e+"</del>"},i.link=function(e,t,i){if(null===(e=_(this.options.sanitize,this.options.baseUrl,e)))return i;var n='<a href="'+h(e)+'"';return t&&(n+=' title="'+t+'"'),n+">"+i+"</a>"},i.image=function(e,t,i){if(null===(e=_(this.options.sanitize,this.options.baseUrl,e)))return i;var n='<img src="'+e+'" alt="'+i+'"';return t&&(n+=' title="'+t+'"'),n+(this.options.xhtml?"/>":">")},i.text=function(e){return e},t}(),V=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,i){return""+i},t.image=function(e,t,i){return""+i},t.br=function(){return""},e}(),F=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var i=e,n=0;if(this.seen.hasOwnProperty(i)){n=this.seen[e];do{i=e+"-"+ ++n}while(this.seen.hasOwnProperty(i))}return t||(this.seen[e]=n,this.seen[i]=0),i},t.slug=function(e,t){void 0===t&&(t={});var i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)},e}(),W=function(){function t(t){this.options=t||e.defaults,this.options.renderer=this.options.renderer||new O,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new V,this.slugger=new F}t.parse=function(e,i){return new t(i).parse(e)},t.parseInline=function(e,i){return new t(i).parseInline(e)};var i=t.prototype;return i.parse=function(e,t){void 0===t&&(t=!0);var i,n,o,s,r,a,l,d,c,h,u,p,m,f,v,_,b,C,y,w="",S=e.length;for(i=0;i<S;i++)if(h=e[i],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type])||!1===(y=this.options.extensions.renderers[h.type].call({parser:this},h))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))switch(h.type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(h.tokens),h.depth,g(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":w+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(d="",l="",s=h.header.length,n=0;n<s;n++)l+=this.renderer.tablecell(this.parseInline(h.header[n].tokens),{header:!0,align:h.align[n]});for(d+=this.renderer.tablerow(l),c="",s=h.rows.length,n=0;n<s;n++){for(l="",r=(a=h.rows[n]).length,o=0;o<r;o++)l+=this.renderer.tablecell(this.parseInline(a[o].tokens),{header:!1,align:h.align[o]});c+=this.renderer.tablerow(l)}w+=this.renderer.table(d,c);continue;case"blockquote":c=this.parse(h.tokens),w+=this.renderer.blockquote(c);continue;case"list":for(u=h.ordered,p=h.start,m=h.loose,s=h.items.length,c="",n=0;n<s;n++)_=(v=h.items[n]).checked,b=v.task,f="",v.task&&(C=this.renderer.checkbox(_),m?v.tokens.length>0&&"paragraph"===v.tokens[0].type?(v.tokens[0].text=C+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&"text"===v.tokens[0].tokens[0].type&&(v.tokens[0].tokens[0].text=C+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:C}):f+=C),f+=this.parse(v.tokens,m),c+=this.renderer.listitem(f,b,_);w+=this.renderer.list(c,u,p);continue;case"html":w+=this.renderer.html(h.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(c=h.tokens?this.parseInline(h.tokens):h.text;i+1<S&&"text"===e[i+1].type;)c+="\n"+((h=e[++i]).tokens?this.parseInline(h.tokens):h.text);w+=t?this.renderer.paragraph(c):c;continue;default:var k='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(k);throw new Error(k)}else w+=y||"";return w},i.parseInline=function(e,t){t=t||this.renderer;var i,n,o,s="",r=e.length;for(i=0;i<r;i++)if(n=e[i],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type])||!1===(o=this.options.extensions.renderers[n.type].call({parser:this},n))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(n.type))switch(n.type){case"escape":case"text":s+=t.text(n.text);break;case"html":s+=t.html(n.text);break;case"link":s+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break;case"image":s+=t.image(n.href,n.title,n.text);break;case"strong":s+=t.strong(this.parseInline(n.tokens,t));break;case"em":s+=t.em(this.parseInline(n.tokens,t));break;case"codespan":s+=t.codespan(n.text);break;case"br":s+=t.br();break;case"del":s+=t.del(this.parseInline(n.tokens,t));break;default:var a='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}else s+=o||"";return s},t}();function z(e,t,i){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(i=t,t=null),I(t=k({},z.defaults,t||{})),i){var n,o=t.highlight;try{n=P.lex(e,t)}catch(e){return i(e)}var s=function(e){var s;if(!e)try{t.walkTokens&&z.walkTokens(n,t.walkTokens),s=W.parse(n,t)}catch(t){e=t}return t.highlight=o,e?i(e):i(null,s)};if(!o||o.length<3)return s();if(delete t.highlight,!n.length)return s();var r=0;return z.walkTokens(n,(function(e){"code"===e.type&&(r++,setTimeout((function(){o(e.text,e.lang,(function(t,i){if(t)return s(t);null!=i&&i!==e.text&&(e.text=i,e.escaped=!0),0==--r&&s()}))}),0))})),void(0===r&&s())}try{var a=P.lex(e,t);return t.walkTokens&&z.walkTokens(a,t.walkTokens),W.parse(a,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+h(e.message+"",!0)+"</pre>";throw e}}z.options=z.setOptions=function(t){var i;return k(z.defaults,t),i=z.defaults,e.defaults=i,z},z.getDefaults=o,z.defaults=e.defaults,z.use=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n,o=k.apply(void 0,[{}].concat(t)),s=z.defaults.extensions||{renderers:{},childTokens:{}};t.forEach((function(e){if(e.extensions&&(n=!0,e.extensions.forEach((function(e){if(!e.name)throw new Error("extension name required");if(e.renderer){var t=s.renderers?s.renderers[e.name]:null;s.renderers[e.name]=t?function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];var s=e.renderer.apply(this,n);return!1===s&&(s=t.apply(this,n)),s}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");s[e.level]?s[e.level].unshift(e.tokenizer):s[e.level]=[e.tokenizer],e.start&&("block"===e.level?s.startBlock?s.startBlock.push(e.start):s.startBlock=[e.start]:"inline"===e.level&&(s.startInline?s.startInline.push(e.start):s.startInline=[e.start]))}e.childTokens&&(s.childTokens[e.name]=e.childTokens)}))),e.renderer&&function(){var t=z.defaults.renderer||new O,i=function(i){var n=t[i];t[i]=function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];var a=e.renderer[i].apply(t,s);return!1===a&&(a=n.apply(t,s)),a}};for(var n in e.renderer)i(n);o.renderer=t}(),e.tokenizer&&function(){var t=z.defaults.tokenizer||new E,i=function(i){var n=t[i];t[i]=function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];var a=e.tokenizer[i].apply(t,s);return!1===a&&(a=n.apply(t,s)),a}};for(var n in e.tokenizer)i(n);o.tokenizer=t}(),e.walkTokens){var t=z.defaults.walkTokens;o.walkTokens=function(i){e.walkTokens.call(this,i),t&&t.call(this,i)}}n&&(o.extensions=s),z.setOptions(o)}))},z.walkTokens=function(e,t){for(var i,o=function(){var e=i.value;switch(t.call(z,e),e.type){case"table":for(var o,s=n(e.header);!(o=s()).done;){var r=o.value;z.walkTokens(r.tokens,t)}for(var a,l=n(e.rows);!(a=l()).done;)for(var d,c=n(a.value);!(d=c()).done;){var h=d.value;z.walkTokens(h.tokens,t)}break;case"list":z.walkTokens(e.items,t);break;default:z.defaults.extensions&&z.defaults.extensions.childTokens&&z.defaults.extensions.childTokens[e.type]?z.defaults.extensions.childTokens[e.type].forEach((function(i){z.walkTokens(e[i],t)})):e.tokens&&z.walkTokens(e.tokens,t)}},s=n(e);!(i=s()).done;)o()},z.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");I(t=k({},z.defaults,t||{}));try{var i=P.lexInline(e,t);return t.walkTokens&&z.walkTokens(i,t.walkTokens),W.parseInline(i,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+h(e.message+"",!0)+"</pre>";throw e}},z.Parser=W,z.parser=W.parse,z.Renderer=O,z.TextRenderer=V,z.Lexer=P,z.lexer=P.lex,z.Tokenizer=E,z.Slugger=F,z.parse=z;var B=z.options,U=z.setOptions,H=z.use,G=z.walkTokens,j=z.parseInline,K=z,$=W.parse,q=P.lex;e.Lexer=P,e.Parser=W,e.Renderer=O,e.Slugger=F,e.TextRenderer=V,e.Tokenizer=E,e.getDefaults=o,e.lexer=q,e.marked=z,e.options=B,e.parse=K,e.parseInline=j,e.parser=$,e.setOptions=U,e.use=H,e.walkTokens=G,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports?i(exports):e.amd?e(0,i):i((t="undefined"!=typeof globalThis?globalThis:t||self).marked={})}();var f=m||exports,v=i(3897),_=i(6663),b=i(6248),C=i(5935),y=i(7295),w=i(666);function S(e,t){return/^\w[\w\d+.-]*:/.test(t)?t:e.path.endsWith("/")?(0,C.i3)(e,t).toString():(0,C.i3)((0,C.XX)(e),t).toString()}function k(e,t){const{config:i,allowedSchemes:s}=function(e){const t=[_.lg.http,_.lg.https,_.lg.mailto,_.lg.data,_.lg.file,_.lg.vscodeFileResource,_.lg.vscodeRemote,_.lg.vscodeRemoteResource];return e.isTrusted&&t.push(_.lg.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:t}}(e);o.v5("uponSanitizeAttribute",((e,t)=>{if("style"!==t.attrName&&"class"!==t.attrName);else{if("SPAN"===e.tagName){if("style"===t.attrName)return void(t.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(t.attrValue));if("class"===t.attrName)return void(t.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(t.attrValue))}t.keepAttr=!1}}));const r=n._F(s);try{return o.Nw(t,Object.assign(Object.assign({},i),{RETURN_TRUSTED_TYPE:!0}))}finally{o.ok("uponSanitizeAttribute"),r.dispose()}}var L,x=i(988),I=i(2042),D=i(2963),N=i(2136),E=i(8801),A=function(e,t){return function(i,n){t(i,n,e)}};let T=class e{constructor(e,t,i){this._options=e,this._languageService=t,this._openerService=i,this._onDidRenderAsync=new c.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,i){if(!e)return{element:document.createElement("span"),dispose:()=>{}};const o=new p.SL,m=o.add(function(e,t={},i={}){var o;const m=new p.SL;let C=!1;const L=(0,r.az)(t),x=function(t){let i;try{i=(0,v.Q)(decodeURIComponent(t))}catch(e){}return i?(i=(0,b.rs)(i,(t=>e.uris&&e.uris[t]?w.o.revive(e.uris[t]):void 0)),encodeURIComponent(JSON.stringify(i))):t},I=function(t,i){const n=e.uris&&e.uris[t];let o=w.o.revive(n);return i?t.startsWith(_.lg.data+":")?t:(o||(o=w.o.parse(t)),_.Gi.asBrowserUri(o).toString(!0)):o?w.o.parse(t).toString()===o.toString()?t:(o.query&&(o=o.with({query:x(o.query)})),o.toString()):t},D=new f.Renderer;D.image=(e,t,i)=>{let n=[],o=[];return e&&(({href:e,dimensions:n}=(0,h.v1)(e)),o.push(`src="${(0,h.d9)(e)}"`)),i&&o.push(`alt="${(0,h.d9)(i)}"`),t&&o.push(`title="${(0,h.d9)(t)}"`),n.length&&(o=o.concat(n)),"<img "+o.join(" ")+">"},D.link=(e,t,i)=>"string"!=typeof e?"":(e===i&&(i=(0,h.oR)(i)),t="string"==typeof t?(0,h.d9)((0,h.oR)(t)):"",`<a href="${e=(e=(0,h.oR)(e)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${t||e}">${i}</a>`),D.paragraph=e=>`<p>${e}</p>`;const N=[];if(t.codeBlockRenderer&&(D.code=(e,i)=>{const n=g.a.nextId(),o=t.codeBlockRenderer(null!=i?i:"",e);return N.push(o.then((e=>[n,e]))),`<div class="code" data-code="${n}">${(0,y.YU)(e)}</div>`}),t.actionHandler){const i=t.actionHandler.disposables.add(new s.Y(L,"click")),n=t.actionHandler.disposables.add(new s.Y(L,"auxclick"));t.actionHandler.disposables.add(c.ju.any(i.event,n.event)((i=>{const n=new a.n(i);if(!n.leftButton&&!n.middleButton)return;let o=n.target;if("A"===o.tagName||(o=o.parentElement,o&&"A"===o.tagName))try{let i=o.dataset.href;i&&(e.baseUri&&(i=S(w.o.from(e.baseUri),i)),t.actionHandler.callback(i,n))}catch(e){(0,d.dL)(e)}finally{n.preventDefault()}})))}e.supportHtml||(i.sanitizer=t=>(e.isTrusted?t.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?t:"",i.sanitize=!0,i.silent=!0),i.renderer=D;let E=null!==(o=e.value)&&void 0!==o?o:"";E.length>1e5&&(E=`${E.substr(0,1e5)}`),e.supportThemeIcons&&(E=(0,u.f$)(E));let A=f.parse(E,i);e.supportThemeIcons&&(A=(0,l.T)(A).map((e=>"string"==typeof e?e:e.outerHTML)).join(""));const T=(new DOMParser).parseFromString(k(e,A),"text/html");if(T.body.querySelectorAll("img").forEach((t=>{const i=t.getAttribute("src");if(i){let n=i;try{e.baseUri&&(n=S(w.o.from(e.baseUri),n))}catch(e){}t.src=I(n,!0)}})),T.body.querySelectorAll("a").forEach((t=>{const i=t.getAttribute("href");if(t.setAttribute("href",""),!i||/^data:|javascript:/i.test(i)||/^command:/i.test(i)&&!e.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(i))t.replaceWith(...t.childNodes);else{let n=I(i,!1);e.baseUri&&(n=S(w.o.from(e.baseUri),i)),t.dataset.href=n}})),L.innerHTML=k(e,T.body.innerHTML),N.length>0&&Promise.all(N).then((e=>{var i,o;if(C)return;const s=new Map(e),r=L.querySelectorAll("div[data-code]");for(const e of r){const t=s.get(null!==(i=e.dataset.code)&&void 0!==i?i:"");t&&n.mc(e,t)}null===(o=t.asyncRenderCallback)||void 0===o||o.call(t)})),t.asyncRenderCallback)for(const e of L.getElementsByTagName("img")){const i=m.add(n.nm(e,"load",(()=>{i.dispose(),t.asyncRenderCallback()})))}return{element:L,dispose:()=>{C=!0,m.dispose()}}}(e,Object.assign(Object.assign({},this._getRenderOptions(e,o)),t),i));return{element:m.element,dispose:()=>o.dispose()}}_getRenderOptions(t,i){return{codeBlockRenderer:(t,i)=>{return n=this,o=void 0,r=function*(){var n,o,s;let r;t?r=this._languageService.getLanguageIdByLanguageName(t):this._options.editor&&(r=null===(n=this._options.editor.getModel())||void 0===n?void 0:n.getLanguageId()),r||(r=E.bd);const a=yield(0,D.C2)(this._languageService,i,r),l=document.createElement("span");if(l.innerHTML=null!==(s=null===(o=e._ttpTokenizer)||void 0===o?void 0:o.createHTML(a))&&void 0!==s?s:a,this._options.editor){const e=this._options.editor.getOption(46);(0,N.N)(l,e)}else this._options.codeBlockFontFamily&&(l.style.fontFamily=this._options.codeBlockFontFamily);return void 0!==this._options.codeBlockFontSize&&(l.style.fontSize=this._options.codeBlockFontSize),l},new((s=void 0)||(s=Promise))((function(e,t){function i(e){try{l(r.next(e))}catch(e){t(e)}}function a(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(i,a)}l((r=r.apply(n,o||[])).next())}));var n,o,s,r},asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:e=>this._openerService.open(e,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:t.isTrusted}).catch(d.dL),disposables:i}}}};T._ttpTokenizer=null===(L=window.trustedTypes)||void 0===L?void 0:L.createPolicy("tokenizeToString",{createHTML:e=>e}),T=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([A(1,I.O),A(2,x.v4)],T)},7753:(e,t,i)=>{"use strict";i.d(t,{O:()=>c});var n=i(5152),o=i(5393),s=i(5976),r=i(6830),a=i(4314),l=i(3580),d=i(8819);let c=class e{constructor(t,i){this._messageWidget=new s.XK,this._messageListeners=new s.SL,this._editor=t,this._visible=e.MESSAGE_VISIBLE.bindTo(i)}static get(t){return t.getContribution(e.ID)}dispose(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){let i;(0,n.Z9)(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new p(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidChangeCursorPosition((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidDispose((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidChangeModel((()=>this.closeMessage()))),this._messageListeners.add(new o._F((()=>this.closeMessage()),3e3)),this._messageListeners.add(this._editor.onMouseMove((e=>{e.target.position&&(i?i.containsPosition(e.target.position)||this.closeMessage():i=new a.e(t.lineNumber-3,1,e.target.position.lineNumber+3,1))})))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(p.fadeOut(this._messageWidget.value))}};var h,u;c.ID="editor.contrib.messageController",c.MESSAGE_VISIBLE=new d.uy("messageVisible",!1,l.NC("messageVisible","Whether the editor is currently showing an inline message")),c=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(h=1,u=d.i6,function(e,t){u(e,t,h)})],c);const g=r._l.bindToContribution(c.get);(0,r.fK)(new g({id:"leaveEditorMessage",precondition:c.MESSAGE_VISIBLE,handler:e=>e.closeMessage(),kbOpts:{weight:130,primary:9}}));class p{constructor(e,{lineNumber:t,column:i},n){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const s=document.createElement("div");s.classList.add("message"),s.textContent=n,this._domNode.appendChild(s);const r=document.createElement("div");r.classList.add("anchor","below"),this._domNode.appendChild(r),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){const t=()=>{e.dispose(),clearTimeout(i),e.getDomNode().removeEventListener("animationend",t)},i=setTimeout(t,110);return e.getDomNode().addEventListener("animationend",t),e.getDomNode().classList.add("fadeOut"),{dispose:t}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(e){this._domNode.classList.toggle("below",2===e)}}(0,r._K)(c.ID,c)},7061:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AddSelectionToNextFindMatchAction:()=>A,AddSelectionToPreviousFindMatchAction:()=>T,CompatChangeAll:()=>O,FocusNextCursor:()=>H,FocusPreviousCursor:()=>G,InsertCursorAbove:()=>w,InsertCursorBelow:()=>S,MoveSelectionToNextFindMatchAction:()=>M,MoveSelectionToPreviousFindMatchAction:()=>R,MultiCursorSelectionController:()=>N,MultiCursorSelectionControllerAction:()=>E,MultiCursorSession:()=>D,MultiCursorSessionResult:()=>I,SelectHighlightsAction:()=>P,SelectionHighlighter:()=>F});var n=i(5152),o=i(5393),s=i(2258),r=i(5976),a=i(6830),l=i(8108),d=i(4314),c=i(3860),h=i(9102),u=i(4973),g=i(2035),p=i(1633),m=i(3580),f=i(4144),v=i(8819),_=i(3910),b=i(7781),C=i(1922);function y(e,t){const i=t.filter((t=>!e.find((e=>e.equals(t)))));if(i.length>=1){const e=i.map((e=>`line ${e.viewState.position.lineNumber} column ${e.viewState.position.column}`)).join(", "),t=1===i.length?m.NC("cursorAdded","Cursor added: {0}",e):m.NC("cursorsAdded","Cursors added: {0}",e);(0,n.i7)(t)}}class w extends a.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:m.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:h.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:f.eH.MenubarSelectionMenu,group:"3_multi",title:m.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;let n=!0;i&&!1===i.logicalLine&&(n=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const s=o.getCursorStates();o.setCursorStates(i.source,3,l.P.addCursorUp(o,s,n)),o.revealTopMostCursor(i.source),y(s,o.getCursorStates())}}class S extends a.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:m.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:h.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:f.eH.MenubarSelectionMenu,group:"3_multi",title:m.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;let n=!0;i&&!1===i.logicalLine&&(n=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const s=o.getCursorStates();o.setCursorStates(i.source,3,l.P.addCursorDown(o,s,n)),o.revealBottomMostCursor(i.source),y(s,o.getCursorStates())}}class k extends a.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:m.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:h.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:f.eH.MenubarSelectionMenu,group:"3_multi",title:m.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let n=e.startLineNumber;n<e.endLineNumber;n++){const e=t.getLineMaxColumn(n);i.push(new c.Y(n,e,n,e))}e.endColumn>1&&i.push(new c.Y(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const i=t.getModel(),n=t.getSelections(),o=t._getViewModel(),s=o.getCursorStates(),r=[];n.forEach((e=>this.getCursorsForSelection(e,i,r))),r.length>0&&t.setSelections(r),y(s,o.getCursorStates())}}class L extends a.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:m.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),n=t.getModel().getLineCount(),o=[];for(let e=i[0].startLineNumber;e<=n;e++)o.push(new c.Y(e,i[0].startColumn,e,i[0].endColumn));const s=t._getViewModel(),r=s.getCursorStates();o.length>0&&t.setSelections(o),y(r,s.getCursorStates())}}class x extends a.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:m.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),n=[];for(let e=i[0].startLineNumber;e>=1;e--)n.push(new c.Y(e,i[0].startColumn,e,i[0].endColumn));const o=t._getViewModel(),s=o.getCursorStates();n.length>0&&t.setSelections(n),y(s,o.getCursorStates())}}class I{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class D{constructor(e,t,i,n,o,s,r){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=n,this.wholeWord=o,this.matchCase=s,this.currentMatch=r}static create(e,t){if(!e.hasModel())return null;const i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new D(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let n,o,s=!1;const r=e.getSelections();1===r.length&&r[0].isEmpty()?(s=!0,n=!0,o=!0):(n=i.wholeWord,o=i.matchCase);const a=e.getSelection();let l,d=null;if(a.isEmpty()){const t=e.getConfiguredWordAtPosition(a.getStartPosition());if(!t)return null;l=t.word,d=new c.Y(a.startLineNumber,t.startColumn,a.startLineNumber,t.endColumn)}else l=e.getModel().getValueInRange(a).replace(/\r\n/g,"\n");return new D(e,t,s,l,n,o,d)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new I(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new I(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return i?new c.Y(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new I(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new I(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return i?new c.Y(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(e){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const t=this._editor.getModel();return e?t.findMatches(this.searchText,e,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824):t.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824)}}class N extends r.JT{constructor(e){super(),this._sessionDispose=this._register(new r.SL),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(N.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=D.create(this._editor,e);if(!t)return;this._session=t;const i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection((e=>{this._ignoreSelectionChange||this._endSession()}))),this._sessionDispose.add(this._editor.onDidBlurEditorText((()=>{this._endSession()}))),this._sessionDispose.add(e.getState().onFindReplaceStateChange((e=>{(e.matchCase||e.wholeWord)&&this._endSession()})))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new c.Y(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const i=e.getState().matchCase;if(!W(this._editor.getModel(),t,i)){const e=this._editor.getModel(),i=[];for(let n=0,o=t.length;n<o;n++)i[n]=this._expandEmptyToWord(e,t[n]);return void this._editor.setSelections(i)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex){const e=this._editor.getModel();t=i.searchScope?e.findMatches(i.searchString,i.searchScope,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(119):null,!1,1073741824):e.findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(119):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll(i.searchScope)}if(t.length>0){const e=this._editor.getSelection();for(let i=0,n=t.length;i<n;i++){const n=t[i];if(n.range.intersectRanges(e)){t[i]=t[0],t[0]=n;break}}this._setSelections(t.map((e=>new c.Y(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn))))}}}N.ID="editor.contrib.multiCursorController";class E extends a.R6{run(e,t){const i=N.get(t);if(!i)return;const n=p.CommonFindController.get(t);if(!n)return;const o=t._getViewModel();if(o){const e=o.getCursorStates();this._run(i,n),y(e,o.getCursorStates())}}}class A extends E{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:m.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:h.u.focus,primary:2082,weight:100},menuOpts:{menuId:f.eH.MenubarSelectionMenu,group:"3_multi",title:m.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}class T extends E{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:m.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:f.eH.MenubarSelectionMenu,group:"3_multi",title:m.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}class M extends E{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:m.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:h.u.focus,primary:(0,s.gx)(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}class R extends E{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:m.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}class P extends E{constructor(){super({id:"editor.action.selectHighlights",label:m.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:h.u.focus,primary:3114,weight:100},menuOpts:{menuId:f.eH.MenubarSelectionMenu,group:"3_multi",title:m.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}class O extends E{constructor(){super({id:"editor.action.changeAll",label:m.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:v.Ao.and(h.u.writable,h.u.editorTextFocus),kbOpts:{kbExpr:h.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}class V{constructor(e,t,i,n,o){this._model=e,this._searchText=t,this._matchCase=i,this._wordSeparators=n,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,o&&this._model===o._model&&this._searchText===o._searchText&&this._matchCase===o._matchCase&&this._wordSeparators===o._wordSeparators&&this._modelVersionId===o._modelVersionId&&(this._cachedFindMatches=o._cachedFindMatches)}findMatches(){return null===this._cachedFindMatches&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map((e=>e.range)),this._cachedFindMatches.sort(d.e.compareRangesUsingStarts)),this._cachedFindMatches}}let F=class e extends r.JT{constructor(e,t){super(),this._languageFeaturesService=t,this.editor=e,this._isEnabled=e.getOption(99),this._decorations=e.createDecorationsCollection(),this.updateSoon=this._register(new o.pY((()=>this._update()),300)),this.state=null,this._register(e.onDidChangeConfiguration((t=>{this._isEnabled=e.getOption(99)}))),this._register(e.onDidChangeCursorSelection((e=>{this._isEnabled&&(e.selection.isEmpty()?3===e.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())}))),this._register(e.onDidChangeModel((e=>{this._setState(null)}))),this._register(e.onDidChangeModelContent((e=>{this._isEnabled&&this.updateSoon.schedule()})));const i=p.CommonFindController.get(e);i&&this._register(i.getState().onFindReplaceStateChange((e=>{this._update()})))}_update(){this._setState(e._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,i){if(!t)return null;if(!i.hasModel())return null;const n=i.getSelection();if(n.startLineNumber!==n.endLineNumber)return null;const o=N.get(i);if(!o)return null;const s=p.CommonFindController.get(i);if(!s)return null;let r=o.getSession(s);if(!r){const e=i.getSelections();if(e.length>1){const t=s.getState().matchCase;if(!W(i.getModel(),e,t))return null}r=D.create(i,s)}if(!r)return null;if(r.currentMatch)return null;if(/^[ \t]+$/.test(r.searchText))return null;if(r.searchText.length>200)return null;const a=s.getState(),l=a.matchCase;if(a.isRevealed){let e=a.searchString;l||(e=e.toLowerCase());let t=r.searchText;if(l||(t=t.toLowerCase()),e===t&&r.matchCase===a.matchCase&&r.wholeWord===a.wholeWord&&!a.isRegex)return null}return new V(i.getModel(),r.searchText,r.matchCase,r.wholeWord?i.getOption(119):null,e)}_setState(t){if(this.state=t,!this.state)return void this._decorations.clear();if(!this.editor.hasModel())return;const i=this.editor.getModel();if(i.isTooLargeForTokenization())return;const n=this.state.findMatches(),o=this.editor.getSelections();o.sort(d.e.compareRangesUsingStarts);const s=[];for(let e=0,t=0,i=n.length,r=o.length;e<i;){const i=n[e];if(t>=r)s.push(i),e++;else{const n=d.e.compareRangesUsingStarts(i,o[t]);n<0?(!o[t].isEmpty()&&d.e.areIntersecting(i,o[t])||s.push(i),e++):(n>0||e++,t++)}}const r=this._languageFeaturesService.documentHighlightProvider.has(i)&&this.editor.getOption(74),a=s.map((t=>({range:t,options:r?e._SELECTION_HIGHLIGHT:e._SELECTION_HIGHLIGHT_OVERVIEW})));this._decorations.set(a)}dispose(){this._setState(null),super.dispose()}};function W(e,t,i){const n=z(e,t[0],!i);for(let o=1,s=t.length;o<s;o++){const s=t[o];if(s.isEmpty())return!1;if(n!==z(e,s,!i))return!1}return!0}function z(e,t,i){const n=e.getValueInRange(t);return i?n.toLowerCase():n}var B,U;F.ID="editor.contrib.selectionHighlighter",F._SELECTION_HIGHLIGHT_OVERVIEW=g.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,b.EN)(_.IYc),position:u.F5.Inline},overviewRuler:{color:(0,b.EN)(_.SPM),position:u.sh.Center}}),F._SELECTION_HIGHLIGHT=g.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),F=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(B=1,U=C.p,function(e,t){U(e,t,B)})],F);class H extends a.R6{constructor(){super({id:"editor.action.focusNextCursor",label:m.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:m.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;const n=t._getViewModel();if(n.cursorConfig.readOnly)return;n.model.pushStackElement();const o=Array.from(n.getCursorStates()),s=o.shift();s&&(o.push(s),n.setCursorStates(i.source,3,o),n.revealPrimaryCursor(i.source,!0),y(o,n.getCursorStates()))}}class G extends a.R6{constructor(){super({id:"editor.action.focusPreviousCursor",label:m.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:m.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;const n=t._getViewModel();if(n.cursorConfig.readOnly)return;n.model.pushStackElement();const o=Array.from(n.getCursorStates()),s=o.pop();s&&(o.unshift(s),n.setCursorStates(i.source,3,o),n.revealPrimaryCursor(i.source,!0),y(o,n.getCursorStates()))}}(0,a._K)(N.ID,N),(0,a._K)(F.ID,F),(0,a.Qr)(w),(0,a.Qr)(S),(0,a.Qr)(k),(0,a.Qr)(A),(0,a.Qr)(T),(0,a.Qr)(M),(0,a.Qr)(R),(0,a.Qr)(P),(0,a.Qr)(O),(0,a.Qr)(L),(0,a.Qr)(x),(0,a.Qr)(H),(0,a.Qr)(G)},5313:(e,t,i)=>{"use strict";i.r(t),i.d(t,{TriggerParameterHintsAction:()=>q});var n=i(5976),o=i(6830),s=i(9102),r=i(6887),a=i(1050),l=i(7301),d=i(8401),c=i(666),h=i(187),u=i(1922),g=i(8216),p=i(4565),m=i(8819),f=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const v={Visible:new m.uy("parameterHintsVisible",!1),MultipleSignatures:new m.uy("parameterHintsMultipleSignatures",!1)};function _(e,t,i,n,o){return f(this,void 0,void 0,(function*(){const s=e.ordered(t);for(const e of s)try{const s=yield e.provideSignatureHelp(t,i,o,n);if(s)return s}catch(e){(0,l.Cp)(e)}}))}p.P0.registerCommand("_executeSignatureHelpProvider",((e,...t)=>f(void 0,void 0,void 0,(function*(){const[i,n,o]=t;(0,d.p_)(c.o.isUri(i)),(0,d.p_)(h.L.isIPosition(n)),(0,d.p_)("string"==typeof o||!o);const s=e.get(u.p),l=yield e.get(g.S).createModelReference(i);try{const e=yield _(s.signatureHelpProvider,l.object.textEditorModel,h.L.lift(n),{triggerKind:r.WW.Invoke,isRetrigger:!1,triggerCharacter:o},a.T.None);if(!e)return;return setTimeout((()=>e.dispose()),0),e.value}finally{l.dispose()}}))));var b,C=i(3580),y=i(2065),w=i(5321),S=i(5152),k=i(9802),L=i(3046),x=i(4669),I=i(7295),D=i(2042),N=i(8598),E=i(5393),A=i(4906);!function(e){e.Default={type:0},e.Pending=class{constructor(e,t){this.request=e,this.previouslyActiveHints=t,this.type=2}},e.Active=class{constructor(e){this.hints=e,this.type=1}}}(b||(b={}));class T extends n.JT{constructor(e,t,i=T.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new x.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=b.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new n.XK),this.triggerChars=new A.q,this.retriggerChars=new A.q,this.triggerId=0,this.editor=e,this.providers=t,this.throttledDelayer=new E.vp(i),this._register(this.editor.onDidBlurEditorWidget((()=>this.cancel()))),this._register(this.editor.onDidChangeConfiguration((()=>this.onEditorConfigurationChange()))),this._register(this.editor.onDidChangeModel((e=>this.onModelChanged()))),this._register(this.editor.onDidChangeModelLanguage((e=>this.onModelChanged()))),this._register(this.editor.onDidChangeCursorSelection((e=>this.onCursorChange(e)))),this._register(this.editor.onDidChangeModelContent((e=>this.onModelContentChange()))),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType((e=>this.onDidType(e)))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){2===this._state.type&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=b.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const i=this.editor.getModel();if(!i||!this.providers.has(i))return;const n=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger((()=>this.doTrigger(n)),t).catch(l.dL)}next(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e==e-1,n=this.editor.getOption(78).cycle;!(e<2||i)||n?this.updateActiveSignature(i&&n?0:t+1):this.cancel()}previous(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=0===t,n=this.editor.getOption(78).cycle;!(e<2||i)||n?this.updateActiveSignature(i&&n?e-1:t-1):this.cancel()}updateActiveSignature(e){1===this.state.type&&(this.state=new b.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return t=this,i=void 0,o=function*(){const t=1===this.state.type||2===this.state.type,i=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const n=this._pendingTriggers.reduce(M);this._pendingTriggers=[];const o={triggerKind:n.triggerKind,triggerCharacter:n.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;const s=this.editor.getModel(),r=this.editor.getPosition();this.state=new b.Pending((0,E.PG)((e=>_(this.providers,s,r,o,e))),i);try{const t=yield this.state.request;return e!==this.triggerId?(null==t||t.dispose(),!1):t&&t.value.signatures&&0!==t.value.signatures.length?(this.state=new b.Active(t.value),this._lastSignatureHelpResult.value=t,this._onChangedHints.fire(this.state.hints),!0):(null==t||t.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(t){return e===this.triggerId&&(this.state=b.Default),(0,l.dL)(t),!1}},new((n=void 0)||(n=Promise))((function(e,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,n,o}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new A.q,this.retriggerChars=new A.q;const e=this.editor.getModel();if(e)for(const t of this.providers.ordered(e)){for(const e of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(e.charCodeAt(0)),this.retriggerChars.add(e.charCodeAt(0));for(const e of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(e.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:r.WW.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:r.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:r.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(78).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}function M(e,t){switch(t.triggerKind){case r.WW.Invoke:return t;case r.WW.ContentChange:return e;case r.WW.TriggerCharacter:default:return t}}T.DEFAULT_DELAY=120;var R=i(988),P=i(3910),O=i(9554),V=i(2321),F=i(7781),W=function(e,t){return function(i,n){t(i,n,e)}};const z=w.$,B=(0,O.q5)("parameter-hints-next",L.lA.chevronDown,C.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),U=(0,O.q5)("parameter-hints-previous",L.lA.chevronUp,C.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let H=class e extends n.JT{constructor(e,t,i,o,s){super(),this.editor=e,this.renderDisposeables=this._register(new n.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new N.$({editor:e},o,i)),this.model=this._register(new T(e,s.signatureHelpProvider)),this.keyVisible=v.Visible.bindTo(t),this.keyMultipleSignatures=v.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints((e=>{e?(this.show(),this.render(e)):this.hide()})))}createParameterHintDOMNodes(){const e=z(".editor-widget.parameter-hints-widget"),t=w.R3(e,z(".phwrapper"));t.tabIndex=-1;const i=w.R3(t,z(".controls")),n=w.R3(i,z(".button"+F.kS.asCSSSelector(U))),o=w.R3(i,z(".overloads")),s=w.R3(i,z(".button"+F.kS.asCSSSelector(B)));this._register(w.nm(n,"click",(e=>{w.zB.stop(e),this.previous()}))),this._register(w.nm(s,"click",(e=>{w.zB.stop(e),this.next()})));const r=z(".body"),a=new k.s$(r,{alwaysConsumeMouseWheel:!0});this._register(a),t.appendChild(a.getDomNode());const l=w.R3(r,z(".signature")),d=w.R3(r,z(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:l,overloads:o,docs:d,scrollbar:a},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection((e=>{this.visible&&this.editor.layoutContentWidget(this)})));const c=()=>{if(!this.domNodes)return;const e=this.editor.getOption(46);this.domNodes.element.style.fontSize=`${e.fontSize}px`,this.domNodes.element.style.lineHeight=""+e.lineHeight/e.fontSize};c(),this._register(x.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((e=>e.hasChanged(46))).on(c,null)),this._register(this.editor.onDidLayoutChange((e=>this.updateMaxHeight()))),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout((()=>{var e;null===(e=this.domNodes)||void 0===e||e.element.classList.add("visible")}),100),this.editor.layoutContentWidget(this))}hide(){var e;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,null===(e=this.domNodes)||void 0===e||e.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const n=e.signatures[e.activeSignature];if(!n)return;const o=w.R3(this.domNodes.signature,z(".code")),s=this.editor.getOption(46);o.style.fontSize=`${s.fontSize}px`,o.style.fontFamily=s.fontFamily;const r=n.parameters.length>0,a=null!==(t=n.activeParameter)&&void 0!==t?t:e.activeParameter;r?this.renderParameters(o,n,a):w.R3(o,z("span")).textContent=n.label;const l=n.parameters[a];if(null==l?void 0:l.documentation){const e=z("span.documentation");if("string"==typeof l.documentation)e.textContent=l.documentation;else{const t=this.renderMarkdownDocs(l.documentation);e.appendChild(t.element)}w.R3(this.domNodes.docs,z("p",{},e))}if(void 0===n.documentation);else if("string"==typeof n.documentation)w.R3(this.domNodes.docs,z("p",{},n.documentation));else{const e=this.renderMarkdownDocs(n.documentation);w.R3(this.domNodes.docs,e.element)}const d=this.hasDocs(n,l);if(this.domNodes.signature.classList.toggle("has-docs",d),this.domNodes.docs.classList.toggle("empty",!d),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,l){let e="";const t=n.parameters[a];e=Array.isArray(t.label)?n.label.substring(t.label[0],t.label[1]):t.label,t.documentation&&(e+="string"==typeof t.documentation?`, ${t.documentation}`:`, ${t.documentation.value}`),n.documentation&&(e+="string"==typeof n.documentation?`, ${n.documentation}`:`, ${n.documentation.value}`),this.announcedLabel!==e&&(S.Z9(C.NC("hint","{0}, hint",e)),this.announcedLabel=e)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var e;null===(e=this.domNodes)||void 0===e||e.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&"string"==typeof t.documentation&&(0,d.cW)(t.documentation).length>0||t&&"object"==typeof t.documentation&&(0,d.cW)(t.documentation).value.length>0||e.documentation&&"string"==typeof e.documentation&&(0,d.cW)(e.documentation).length>0||e.documentation&&"object"==typeof e.documentation&&(0,d.cW)(e.documentation.value).length>0)}renderParameters(e,t,i){const[n,o]=this.getParameterLabelOffsets(t,i),s=document.createElement("span");s.textContent=t.label.substring(0,n);const r=document.createElement("span");r.textContent=t.label.substring(n,o),r.className="parameter active";const a=document.createElement("span");a.textContent=t.label.substring(o),w.R3(e,s,r,a)}getParameterLabelOffsets(e,t){const i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;if(i.label.length){const t=new RegExp(`(\\W|^)${(0,I.ec)(i.label)}(?=\\W|$)`,"g");t.test(e.label);const n=t.lastIndex-i.label.length;return n>=0?[n,t.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return e.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;const e=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=e;const t=this.domNodes.element.getElementsByClassName("phwrapper");t.length&&(t[0].style.maxHeight=e)}};H.ID="editor.widget.parameterHintsWidget",H=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([W(1,m.i6),W(2,R.v4),W(3,D.O),W(4,u.p)],H);const G=(0,P.P6G)("editorHoverWidget.highlightForeground",{dark:P.Gwp,light:P.Gwp,hcDark:P.Gwp,hcLight:P.Gwp},C.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));(0,F.Ic)(((e,t)=>{const i=e.getColor(P.CNo);if(i){const n=(0,V.c3)(e.type)?2:1;t.addRule(`.monaco-editor .parameter-hints-widget { border: ${n}px solid ${i}; }`),t.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${i.transparent(.5)}; }`),t.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${i.transparent(.5)}; }`)}const n=e.getColor(P.yJx);n&&t.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${n}; }`);const o=e.getColor(P.url);o&&t.addRule(`.monaco-editor .parameter-hints-widget a { color: ${o}; }`);const s=e.getColor(P.sgC);s&&t.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${s}; }`);const r=e.getColor(P.Sbf);r&&t.addRule(`.monaco-editor .parameter-hints-widget { color: ${r}; }`);const a=e.getColor(P.SwI);a&&t.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${a}; }`);const l=e.getColor(G);l&&t.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${l}}`)}));let j=class e extends n.JT{constructor(e,t){super(),this.editor=e,this.widget=this._register(t.createInstance(H,this.editor))}static get(t){return t.getContribution(e.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};var K,$;j.ID="editor.controller.parameterHints",j=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(K=1,$=y.TG,function(e,t){$(e,t,K)})],j);class q extends o.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:C.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:s.u.hasSignatureHelpProvider,kbOpts:{kbExpr:s.u.editorTextFocus,primary:3082,weight:100}})}run(e,t){const i=j.get(t);i&&i.trigger({triggerKind:r.WW.Invoke})}}(0,o._K)(j.ID,j),(0,o.Qr)(q);const Y=o._l.bindToContribution(j.get);(0,o.fK)(new Y({id:"closeParameterHints",precondition:v.Visible,handler:e=>e.cancel(),kbOpts:{weight:175,kbExpr:s.u.focus,primary:9,secondary:[1033]}})),(0,o.fK)(new Y({id:"showPrevParameterHint",precondition:m.Ao.and(v.Visible,v.MultipleSignatures),handler:e=>e.previous(),kbOpts:{weight:175,kbExpr:s.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,o.fK)(new Y({id:"showNextParameterHint",precondition:m.Ao.and(v.Visible,v.MultipleSignatures),handler:e=>e.next(),kbOpts:{weight:175,kbExpr:s.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},2049:(e,t,i)=>{"use strict";i.d(t,{Fw:()=>T,Jy:()=>M,vk:()=>V,rc:()=>P,SC:()=>B,M8:()=>U,KY:()=>F,IH:()=>W,R7:()=>z});var n=i(5321),o=i(317),s=i(4741),r=i(3046),a=i(1264),l=i(4669),d=i(6248),c=i(6830),h=i(1640),u=i(4527),g=i(3098),p=i(4742),m=i(5976),f=i(4314),v=i(2035);const _=new a.Il(new a.VS(0,122,204)),b={showArrow:!0,showFrame:!0,className:"",frameColor:_,arrowColor:_,keepEditorSelection:!1};class C{constructor(e,t,i,n,o,s){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=n,this._onDomNodeTop=o,this._onComputedHeight=s}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class y{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class w{constructor(e){this._editor=e,this._ruleName=w._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),n.uN(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){n.uN(this._ruleName),n.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){1===e.column&&(e={lineNumber:e.lineNumber,column:2}),this._decorations.set([{range:f.e.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}w._IdGenerator=new p.R(".arrow-decoration-");class S{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new m.SL,this.container=null,this._isShowing=!1,this.editor=e,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=d.I8(t),d.jB(this.options,b,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange((e=>{const t=this._getWidth(e);this.domNode.style.width=t+"px",this.domNode.style.left=this._getLeft(e)+"px",this._onWidth(t)})))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null})),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new w(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){const e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){if(this.domNode.style.height=`${e}px`,this.container){const t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const i=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(i))}this._resizeSash&&this._resizeSash.layout()}get position(){const e=this._positionMarkerId.getRange(0);if(e)return e.getStartPosition()}show(e,t){const i=f.e.isIRange(e)?f.e.lift(e):f.e.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId.set([{range:i,options:v.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id)})),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){const e=this.editor.getOption(61);let t=0;return this.options.showArrow&&(t+=2*Math.round(e/3)),this.options.showFrame&&(t+=2*Math.round(e/9)),t}_showImpl(e,t){const i=e.getStartPosition(),n=this.editor.getLayoutInfo(),o=this._getWidth(n);this.domNode.style.width=`${o}px`,this.domNode.style.left=this._getLeft(n)+"px";const s=document.createElement("div");s.style.overflow="hidden";const r=this.editor.getOption(61),a=Math.max(12,this.editor.getLayoutInfo().height/r*.8);t=Math.min(t,a);let l=0,d=0;if(this._arrow&&this.options.showArrow&&(l=Math.round(r/3),this._arrow.height=l,this._arrow.show(i)),this.options.showFrame&&(d=Math.round(r/9)),this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new C(s,i.lineNumber,i.column,t,(e=>this._onViewZoneTop(e)),(e=>this._onViewZoneHeight(e))),this._viewZone.id=e.addZone(this._viewZone),this._overlayWidget=new y("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)})),this.container&&this.options.showFrame){const e=this.options.frameWidth?this.options.frameWidth:d;this.container.style.borderTopWidth=e+"px",this.container.style.borderBottomWidth=e+"px"}const c=t*r-this._decoratingElementsHeight();this.container&&(this.container.style.top=l+"px",this.container.style.height=c+"px",this.container.style.overflow="hidden"),this._doLayout(c,o),this.options.keepEditorSelection||this.editor.setSelection(e);const h=this.editor.getModel();if(h){const t=e.endLineNumber+1;t<=h.getLineCount()?this.revealLine(t,!1):this.revealLine(h.getLineCount(),!0)}}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){this.container&&(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones((t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))}))}_initSash(){if(this._resizeSash)return;let e;this._resizeSash=this._disposables.add(new g.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart((t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})}))),this._disposables.add(this._resizeSash.onDidEnd((()=>{e=void 0}))),this._disposables.add(this._resizeSash.onDidChange((t=>{if(e){const i=(t.currentY-e.startY)/this.editor.getOption(61),n=i<0?Math.ceil(i):Math.floor(i),o=e.heightInLines+n;o>5&&o<35&&this._relayout(o)}})))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}var k=i(3580),L=i(8335),x=i(8819),I=i(5026),D=i(2065),N=i(3910),E=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},A=function(e,t){return function(i,n){t(i,n,e)}};const T=(0,D.yh)("IPeekViewService");var M;(0,I.z)(T,class{constructor(){this._widgets=new Map}addExclusiveWidget(e,t){const i=this._widgets.get(e);i&&(i.listener.dispose(),i.widget.dispose()),this._widgets.set(e,{widget:t,listener:t.onDidClose((()=>{const i=this._widgets.get(e);i&&i.widget===t&&(i.listener.dispose(),this._widgets.delete(e))}))})}}),function(e){e.inPeekEditor=new x.uy("inReferenceSearchEditor",!0,k.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),e.notInPeekEditor=e.inPeekEditor.toNegated()}(M||(M={}));let R=class{constructor(e,t){e instanceof u.H&&M.inPeekEditor.bindTo(t)}dispose(){}};function P(e){const t=e.get(h.$).getFocusedCodeEditor();return t instanceof u.H?t.getParentEditor():t}R.ID="editor.contrib.referenceController",R=E([A(1,x.i6)],R),(0,c._K)(R.ID,R);const O={headerBackgroundColor:a.Il.white,primaryHeadingColor:a.Il.fromHex("#333333"),secondaryHeadingColor:a.Il.fromHex("#6c6c6cb3")};let V=class extends S{constructor(e,t,i){super(e,t),this.instantiationService=i,this._onDidClose=new l.Q5,this.onDidClose=this._onDidClose.event,d.jB(this.options,O,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){const t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();const e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=n.$(".head"),this._bodyElement=n.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){const i=n.$(".peekview-title");this.options.supportOnTitleClick&&(i.classList.add("clickable"),n.mu(i,"click",(e=>this._onTitleClick(e)))),n.R3(this._headElement,i),this._fillTitleIcon(i),this._primaryHeading=n.$("span.filename"),this._secondaryHeading=n.$("span.dirname"),this._metaHeading=n.$("span.meta"),n.R3(i,this._primaryHeading,this._secondaryHeading,this._metaHeading);const a=n.$(".peekview-actions");n.R3(this._headElement,a);const l=this._getActionBarOptions();this._actionbarWidget=new o.o(a,l),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new s.aU("peekview.close",k.NC("label.close","Close"),r.lA.close.classNames,!0,(()=>(this.dispose(),Promise.resolve()))),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:L.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:n.PO(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,n.$Z(this._metaHeading)):n.Cp(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0)return void this.dispose();const i=Math.ceil(1.2*this.editor.getOption(61)),n=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(n,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};V=E([A(2,D.TG)],V);const F=(0,N.P6G)("peekViewTitle.background",{dark:(0,N.ZnX)(N.c63,.1),light:(0,N.ZnX)(N.c63,.1),hcDark:null,hcLight:null},k.NC("peekViewTitleBackground","Background color of the peek view title area.")),W=(0,N.P6G)("peekViewTitleLabel.foreground",{dark:a.Il.white,light:a.Il.black,hcDark:a.Il.white,hcLight:N.NOs},k.NC("peekViewTitleForeground","Color of the peek view title.")),z=(0,N.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},k.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),B=(0,N.P6G)("peekView.border",{dark:N.c63,light:N.c63,hcDark:N.lRK,hcLight:N.lRK},k.NC("peekViewBorder","Color of the peek view borders and arrow.")),U=(0,N.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:a.Il.black,hcLight:a.Il.white},k.NC("peekViewResultsBackground","Background color of the peek view result list.")),H=((0,N.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:a.Il.white,hcLight:N.NOs},k.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),(0,N.P6G)("peekViewResult.fileForeground",{dark:a.Il.white,light:"#1E1E1E",hcDark:a.Il.white,hcLight:N.NOs},k.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),(0,N.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},k.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),(0,N.P6G)("peekViewResult.selectionForeground",{dark:a.Il.white,light:"#6C6C6C",hcDark:a.Il.white,hcLight:N.NOs},k.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),(0,N.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:a.Il.black,hcLight:a.Il.white},k.NC("peekViewEditorBackground","Background color of the peek view editor.")));(0,N.P6G)("peekViewEditorGutter.background",{dark:H,light:H,hcDark:H,hcLight:H},k.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),(0,N.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},k.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),(0,N.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},k.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),(0,N.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:N.xL1,hcLight:N.xL1},k.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},3943:(e,t,i)=>{"use strict";i.d(t,{X:()=>c});var n=i(8289),o=i(5976),s=i(8401),r=i(5520),a=i(4973),l=i(8625),d=i(7781);class c{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var i;const n=new o.SL;e.canAcceptInBackground=!!(null===(i=this.options)||void 0===i?void 0:i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const s=n.add(new o.XK);return s.value=this.doProvide(e,t),n.add(this.onDidActiveTextEditorControlChange((()=>{s.value=void 0,s.value=this.doProvide(e,t)}))),n}doProvide(e,t){const i=new o.SL,a=this.activeTextEditorControl;if(a&&this.canProvideWithTextEditor(a)){const l={editor:a},d=(0,r.Pi)(a);if(d){let e=(0,s.f6)(a.saveViewState());i.add(d.onDidChangeCursorPosition((()=>{e=(0,s.f6)(a.saveViewState())}))),l.restoreViewState=()=>{e&&a===this.activeTextEditorControl&&a.restoreViewState(e)},i.add((0,n.I)(t.onCancellationRequested)((()=>{var e;return null===(e=l.restoreViewState)||void 0===e?void 0:e.call(l)})))}i.add((0,o.OF)((()=>this.clearDecorations(a)))),i.add(this.provideWithTextEditor(l,e,t))}else i.add(this.provideWithoutTextEditor(e,t));return i}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus()}getModel(e){var t;return(0,r.QI)(e)?null===(t=e.getModel())||void 0===t?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations((e=>{const i=[];this.rangeHighlightDecorationId&&(i.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),i.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const n=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,d.EN)(l.m9),position:a.sh.Full}}}],[o,s]=e.deltaDecorations(i,n);this.rangeHighlightDecorationId={rangeHighlightId:o,overviewRulerDecorationId:s}}))}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations((e=>{e.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])})),this.rangeHighlightDecorationId=void 0)}}},3945:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ReadOnlyMessageController:()=>a});var n=i(5976),o=i(6830),s=i(7753),r=i(3580);class a extends n.JT{constructor(e){super(),this.editor=e,this._register(this.editor.onDidAttemptReadOnlyEdit((()=>this._onDidAttemptReadOnlyEdit())))}_onDidAttemptReadOnlyEdit(){const e=s.O.get(this.editor);e&&this.editor.hasModel()&&(this.editor.isSimpleWidget?e.showMessage(r.NC("editor.simple.readonly","Cannot edit in read-only input"),this.editor.getPosition()):e.showMessage(r.NC("editor.readonly","Cannot edit in read-only editor"),this.editor.getPosition()))}}a.ID="editor.contrib.readOnlyMessageController",(0,o._K)(a.ID,a)},2894:(e,t,i)=>{"use strict";i.r(t),i.d(t,{RenameAction:()=>W,rename:()=>V});var n=i(5152),o=i(5393),s=i(1050),r=i(7301),a=i(5976),l=i(8401),d=i(666),c=i(6467),h=i(6830),u=i(6007),g=i(1640),p=i(187),m=i(4314),f=i(9102),v=i(1765),_=i(7753),b=i(3580),C=i(3193),y=i(8819),w=i(2065),S=i(3557),k=i(9422),L=i(535),x=i(9872),I=i(1847),D=i(3910),N=i(7781),E=function(e,t){return function(i,n){t(i,n,e)}};const A=new y.uy("renameInputVisible",!1,(0,b.NC)("renameInputVisible","Whether the rename input widget is visible"));let T=class{constructor(e,t,i,n,o){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=n,this._disposables=new a.SL,this.allowEditorOverflow=!0,this._visibleContextKey=A.bindTo(o),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(46)&&this._updateFont()}))),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,b.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const e=()=>{var e,t;const[i,n]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(i),this._label.innerText=(0,b.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(e=this._keybindingService.lookupKeybinding(i))||void 0===e?void 0:e.getLabel(),null===(t=this._keybindingService.lookupKeybinding(n))||void 0===t?void 0:t.getLabel())};e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(e){var t,i,n,o;if(!this._input||!this._domNode)return;const s=e.getColor(D.rh);this._domNode.style.backgroundColor=String(null!==(t=e.getColor(D.D0T))&&void 0!==t?t:""),this._domNode.style.boxShadow=s?` 0 0 8px 2px ${s}`:"",this._domNode.style.color=String(null!==(i=e.getColor(D.zJb))&&void 0!==i?i:""),this._input.style.backgroundColor=String(null!==(n=e.getColor(D.sEe))&&void 0!==n?n:"");const r=e.getColor(D.dt_);this._input.style.borderWidth=r?"1px":"0px",this._input.style.borderStyle=r?"solid":"none",this._input.style.borderColor=null!==(o=null==r?void 0:r.toString())&&void 0!==o?o:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(46);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=.8*e.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){var t;null===(t=this._currentAcceptInput)||void 0===t||t.call(this,e)}cancelInput(e){var t;null===(t=this._currentCancelInput)||void 0===t||t.call(this,e)}getInput(e,t,i,n,o,s){this._domNode.classList.toggle("preview",o),this._position=new p.L(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",n.toString()),this._input.size=Math.max(1.1*(e.endColumn-e.startColumn),20);const r=new a.SL;return new Promise((e=>{this._currentCancelInput=t=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e(t),!0),this._currentAcceptInput=i=>{0!==this._input.value.trim().length&&this._input.value!==t?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e({newName:this._input.value,wantsPreview:o&&i})):this.cancelInput(!0)},r.add(s.onCancellationRequested((()=>this.cancelInput(!0)))),r.add(this._editor.onDidBlurEditorWidget((()=>this.cancelInput(!1)))),this._show()})).finally((()=>{r.dispose(),this._hide()}))}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout((()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))}),100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};T=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([E(2,N.XE),E(3,I.d),E(4,y.i6)],T);var M=i(1922),R=function(e,t){return function(i,n){t(i,n,e)}},P=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class O{constructor(e,t,i){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=i.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return P(this,void 0,void 0,(function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const i=this._providers[this._providerRenameIdx];if(!i.resolveRenameLocation)break;const n=yield i.resolveRenameLocation(this.model,this.position,e);if(n){if(!n.rejectReason)return n;t.push(n.rejectReason)}}const i=this.model.getWordAtPosition(this.position);return i?{range:new m.e(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join("\n"):void 0}:{range:m.e.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join("\n"):void 0}}))}provideRenameEdits(e,t){return P(this,void 0,void 0,(function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)}))}_provideRenameEdits(e,t,i,n){return P(this,void 0,void 0,(function*(){const o=this._providers[t];if(!o)return{edits:[],rejectReason:i.join("\n")};const s=yield o.provideRenameEdits(this.model,this.position,e,n);return s?s.rejectReason?this._provideRenameEdits(e,t+1,i.concat(s.rejectReason),n):s:this._provideRenameEdits(e,t+1,i.concat(b.NC("no result","No result.")),n)}))}}function V(e,t,i,n){return P(this,void 0,void 0,(function*(){const o=new O(t,i,e),r=yield o.resolveRenameLocation(s.T.None);return(null==r?void 0:r.rejectReason)?{edits:[],rejectReason:r.rejectReason}:o.provideRenameEdits(n,s.T.None)}))}let F=class e{constructor(e,t,i,n,r,l,d,c){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=n,this._progressService=r,this._logService=l,this._configService=d,this._languageFeaturesService=c,this._disposableStore=new a.SL,this._cts=new s.A,this._renameInputField=this._disposableStore.add(new o.Ue((()=>this._disposableStore.add(this._instaService.createInstance(T,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"])))))}static get(t){return t.getContribution(e.ID)}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var e,t;return P(this,void 0,void 0,(function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const i=this.editor.getPosition(),s=new O(this.editor.getModel(),i,this._languageFeaturesService.renameProvider);if(!s.hasProvider())return;let r;this._cts=new c.Dl(this.editor,5);try{const e=s.resolveRenameLocation(this._cts.token);this._progressService.showWhile(e,250),r=yield e}catch(t){return void(null===(e=_.O.get(this.editor))||void 0===e||e.showMessage(t||b.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),i))}if(!r)return;if(r.rejectReason)return void(null===(t=_.O.get(this.editor))||void 0===t||t.showMessage(r.rejectReason,i));if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new c.Dl(this.editor,5,r.range);const a=this.editor.getSelection();let l=0,d=r.text.length;m.e.isEmpty(a)||m.e.spansMultipleLines(a)||!m.e.containsRange(r.range,a)||(l=Math.max(0,a.startColumn-r.range.startColumn),d=Math.min(r.range.endColumn,a.endColumn)-r.range.startColumn);const h=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),g=yield this._renameInputField.value.getInput(r.range,r.text,l,d,h,this._cts.token);if("boolean"==typeof g)return void(g&&this.editor.focus());this.editor.focus();const p=(0,o.eP)(s.provideRenameEdits(g.newName,this._cts.token),this._cts.token).then((e=>P(this,void 0,void 0,(function*(){e&&this.editor.hasModel()&&(e.rejectReason?this._notificationService.info(e.rejectReason):(this.editor.setSelection(m.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(u.fo.convert(e),{editor:this.editor,showPreview:g.wantsPreview,label:b.NC("label","Renaming '{0}' to '{1}'",null==r?void 0:r.text,g.newName),code:"undoredo.rename",quotableLabel:b.NC("quotableLabel","Renaming {0} to {1}",null==r?void 0:r.text,g.newName),respectAutoSaveConfig:!0}).then((e=>{e.ariaSummary&&(0,n.Z9)(b.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",r.text,g.newName,e.ariaSummary))})).catch((e=>{this._notificationService.error(b.NC("rename.failedApply","Rename failed to apply edits")),this._logService.error(e)}))))}))),(e=>{this._notificationService.error(b.NC("rename.failed","Rename failed to compute edits")),this._logService.error(e)}));return this._progressService.showWhile(p,250),p}))}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};F.ID="editor.contrib.renameController",F=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([R(1,w.TG),R(2,k.lT),R(3,u.vu),R(4,L.ek),R(5,S.VZ),R(6,v.V),R(7,M.p)],F);class W extends h.R6{constructor(){super({id:"editor.action.rename",label:b.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:y.Ao.and(f.u.writable,f.u.hasRenameProvider),kbOpts:{kbExpr:f.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const i=e.get(g.$),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return d.o.isUri(n)&&p.L.isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then((e=>{e&&(e.setPosition(o),e.invokeWithinContext((t=>(this.reportTelemetry(t,e),this.run(t,e)))))}),r.dL):super.runCommand(e,t)}run(e,t){const i=F.get(t);return i?i.run():Promise.resolve()}}(0,h._K)(F.ID,F),(0,h.Qr)(W);const z=h._l.bindToContribution(F.get);(0,h.fK)(new z({id:"acceptRenameInput",precondition:A,handler:e=>e.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:f.u.focus,primary:3}})),(0,h.fK)(new z({id:"acceptRenameInputWithPreview",precondition:y.Ao.and(A,y.Ao.has("config.editor.rename.enablePreview")),handler:e=>e.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:f.u.focus,primary:1027}})),(0,h.fK)(new z({id:"cancelRenameInput",precondition:A,handler:e=>e.cancelRenameInput(),kbOpts:{weight:199,kbExpr:f.u.focus,primary:9,secondary:[1033]}})),(0,h.sb)("_executeDocumentRenameProvider",(function(e,t,i,...n){const[o]=n;(0,l.p_)("string"==typeof o);const{renameProvider:s}=e.get(M.p);return V(s,t,i,o)})),(0,h.sb)("_executePrepareRename",(function(e,t,i){return P(this,void 0,void 0,(function*(){const{renameProvider:n}=e.get(M.p),o=new O(t,i,n),r=yield o.resolveRenameLocation(s.T.None);if(null==r?void 0:r.rejectReason)throw new Error(r.rejectReason);return r}))})),x.B.as(C.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:b.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},9694:(e,t,i)=>{"use strict";i.d(t,{x:()=>r});var n=i(1741),o=i(187),s=i(4314);class r{provideSelectionRanges(e,t){return i=this,n=void 0,s=function*(){const i=[];for(const n of t){const t=[];i.push(t);const o=new Map;yield new Promise((t=>r._bracketsRightYield(t,0,e,n,o))),yield new Promise((i=>r._bracketsLeftYield(i,0,e,n,o,t)))}return i},new((o=void 0)||(o=Promise))((function(e,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(r,a)}l((s=s.apply(i,n||[])).next())}));var i,n,o,s}static _bracketsRightYield(e,t,i,o,s){const a=new Map,l=Date.now();for(;;){if(t>=r._maxRounds){e();break}if(!o){e();break}const d=i.bracketPairs.findNextBracket(o);if(!d){e();break}if(Date.now()-l>r._maxDuration){setTimeout((()=>r._bracketsRightYield(e,t+1,i,o,s)));break}if(d.bracketInfo.isOpeningBracket){const e=d.bracketInfo.bracketText,t=a.has(e)?a.get(e):0;a.set(e,t+1)}else{const e=d.bracketInfo.getClosedBrackets()[0].bracketText;let t=a.has(e)?a.get(e):0;if(t-=1,a.set(e,Math.max(0,t)),t<0){let t=s.get(e);t||(t=new n.S,s.set(e,t)),t.push(d.range)}}o=d.range.getEndPosition()}}static _bracketsLeftYield(e,t,i,n,o,a){const l=new Map,d=Date.now();for(;;){if(t>=r._maxRounds&&0===o.size){e();break}if(!n){e();break}const c=i.bracketPairs.findPrevBracket(n);if(!c){e();break}if(Date.now()-d>r._maxDuration){setTimeout((()=>r._bracketsLeftYield(e,t+1,i,n,o,a)));break}if(c.bracketInfo.isOpeningBracket){const e=c.bracketInfo.bracketText;let t=l.has(e)?l.get(e):0;if(t-=1,l.set(e,Math.max(0,t)),t<0){const t=o.get(e);if(t){const n=t.shift();0===t.size&&o.delete(e);const l=s.e.fromPositions(c.range.getEndPosition(),n.getStartPosition()),d=s.e.fromPositions(c.range.getStartPosition(),n.getEndPosition());a.push({range:l}),a.push({range:d}),r._addBracketLeading(i,d,a)}}}else{const e=c.bracketInfo.getClosedBrackets()[0].bracketText,t=l.has(e)?l.get(e):0;l.set(e,t+1)}n=c.range.getStartPosition()}}static _addBracketLeading(e,t,i){if(t.startLineNumber===t.endLineNumber)return;const n=t.startLineNumber,r=e.getLineFirstNonWhitespaceColumn(n);0!==r&&r!==t.startColumn&&(i.push({range:s.e.fromPositions(new o.L(n,r),t.getEndPosition())}),i.push({range:s.e.fromPositions(new o.L(n,1),t.getEndPosition())}));const a=n-1;if(a>0){const n=e.getLineFirstNonWhitespaceColumn(a);n===t.startColumn&&n!==e.getLineLastNonWhitespaceColumn(a)&&(i.push({range:s.e.fromPositions(new o.L(a,n),t.getEndPosition())}),i.push({range:s.e.fromPositions(new o.L(a,1),t.getEndPosition())}))}}}r._maxDuration=30,r._maxRounds=2},102:(e,t,i)=>{"use strict";i.r(t),i.d(t,{provideSelectionRanges:()=>I});var n=i(9488),o=i(1050),s=i(7301),r=i(6830),a=i(187),l=i(4314),d=i(3860),c=i(9102),h=i(9694),u=i(7295);class g{provideSelectionRanges(e,t){const i=[];for(const n of t){const t=[];i.push(t),this._addInWordRanges(t,e,n),this._addWordRanges(t,e,n),this._addWhitespaceLine(t,e,n),t.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){const n=t.getWordAtPosition(i);if(!n)return;const{word:o,startColumn:s}=n,r=i.column-s;let a=r,d=r,c=0;for(;a>=0;a--){const e=o.charCodeAt(a);if(a!==r&&(95===e||45===e))break;if((0,u.mK)(e)&&(0,u.df)(c))break;c=e}for(a+=1;d<o.length;d++){const e=o.charCodeAt(d);if((0,u.df)(e)&&(0,u.mK)(c))break;if(95===e||45===e)break;c=e}a<d&&e.push({range:new l.e(i.lineNumber,s+a,i.lineNumber,s+d)})}_addWordRanges(e,t,i){const n=t.getWordAtPosition(i);n&&e.push({range:new l.e(i.lineNumber,n.startColumn,i.lineNumber,n.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(i.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(i.lineNumber)&&e.push({range:new l.e(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}}var p=i(3580),m=i(4144),f=i(4565),v=i(1922),_=i(8216),b=i(8401),C=i(666),y=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class w{constructor(e,t){this.index=e,this.ranges=t}mov(e){const t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const i=new w(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}}let S=class e{constructor(e,t){this._editor=e,this._languageFeaturesService=t,this._ignoreSelection=!1}static get(t){return t.getContribution(e.ID)}dispose(){var e;null===(e=this._selectionListener)||void 0===e||e.dispose()}run(e){return y(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),i=this._editor.getModel();if(this._state||(yield I(this._languageFeaturesService.selectionRangeProvider,i,t.map((e=>e.getPosition())),this._editor.getOption(104),o.T.None).then((e=>{var i;if(n.Of(e)&&e.length===t.length&&this._editor.hasModel()&&n.fS(this._editor.getSelections(),t,((e,t)=>e.equalsSelection(t)))){for(let i=0;i<e.length;i++)e[i]=e[i].filter((e=>e.containsPosition(t[i].getStartPosition())&&e.containsPosition(t[i].getEndPosition()))),e[i].unshift(t[i]);this._state=e.map((e=>new w(0,e))),null===(i=this._selectionListener)||void 0===i||i.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition((()=>{var e;this._ignoreSelection||(null===(e=this._selectionListener)||void 0===e||e.dispose(),this._state=void 0)}))}}))),!this._state)return;this._state=this._state.map((t=>t.mov(e)));const s=this._state.map((e=>d.Y.fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition())));this._ignoreSelection=!0;try{this._editor.setSelections(s)}finally{this._ignoreSelection=!1}}))}};var k,L;S.ID="editor.contrib.smartSelectController",S=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(k=1,L=v.p,function(e,t){L(e,t,k)})],S);class x extends r.R6{constructor(e,t){super(t),this._forward=e}run(e,t){return y(this,void 0,void 0,(function*(){const e=S.get(t);e&&(yield e.run(this._forward))}))}}function I(e,t,i,o,r){return y(this,void 0,void 0,(function*(){const d=e.all(t).concat(new g);1===d.length&&d.unshift(new h.x);const c=[],u=[];for(const e of d)c.push(Promise.resolve(e.provideSelectionRanges(t,i,r)).then((e=>{if(n.Of(e)&&e.length===i.length)for(let t=0;t<i.length;t++){u[t]||(u[t]=[]);for(const n of e[t])l.e.isIRange(n.range)&&l.e.containsPosition(n.range,i[t])&&u[t].push(l.e.lift(n.range))}}),s.Cp));return yield Promise.all(c),u.map((e=>{if(0===e.length)return[];e.sort(((e,t)=>a.L.isBefore(e.getStartPosition(),t.getStartPosition())?1:a.L.isBefore(t.getStartPosition(),e.getStartPosition())||a.L.isBefore(e.getEndPosition(),t.getEndPosition())?-1:a.L.isBefore(t.getEndPosition(),e.getEndPosition())?1:0));const i=[];let n;for(const t of e)(!n||l.e.containsRange(t,n)&&!l.e.equalsRange(t,n))&&(i.push(t),n=t);if(!o.selectLeadingAndTrailingWhitespace)return i;const s=[i[0]];for(let e=1;e<i.length;e++){const n=i[e-1],o=i[e];if(o.startLineNumber!==n.startLineNumber||o.endLineNumber!==n.endLineNumber){const e=new l.e(n.startLineNumber,t.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,t.getLineLastNonWhitespaceColumn(n.endLineNumber));e.containsRange(n)&&!e.equalsRange(n)&&o.containsRange(e)&&!o.equalsRange(e)&&s.push(e);const i=new l.e(n.startLineNumber,1,n.endLineNumber,t.getLineMaxColumn(n.endLineNumber));i.containsRange(n)&&!i.equalsRange(e)&&o.containsRange(i)&&!o.equalsRange(i)&&s.push(i)}s.push(o)}return s}))}))}f.P0.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand"),(0,r._K)(S.ID,S),(0,r.Qr)(class extends x{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:p.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:c.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:m.eH.MenubarSelectionMenu,group:"1_basic",title:p.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),(0,r.Qr)(class extends x{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:p.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:c.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:m.eH.MenubarSelectionMenu,group:"1_basic",title:p.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),f.P0.registerCommand("_executeSelectionRangeProvider",(function(e,...t){return y(this,void 0,void 0,(function*(){const[i,n]=t;(0,b.p_)(C.o.isUri(i));const s=e.get(v.p).selectionRangeProvider,r=yield e.get(_.S).createModelReference(i);try{return I(s,r.object.textEditorModel,n,{selectLeadingAndTrailingWhitespace:!0},o.T.None)}finally{r.dispose()}}))}))},8762:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SnippetController2:()=>_,performSnippetEdit:()=>C});var n=i(5976),o=i(8401),s=i(6830),r=i(187),a=i(3860),l=i(9102),d=i(1381),c=i(1922),h=i(5621),u=i(3580),g=i(8819),p=i(3557),m=i(9561),f=function(e,t){return function(i,n){t(i,n,e)}};const v={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let _=class e{constructor(t,i,o,s,r){this._editor=t,this._logService=i,this._languageFeaturesService=o,this._languageConfigurationService=r,this._snippetListener=new n.SL,this._modelVersionId=-1,this._inSnippet=e.InSnippetMode.bindTo(s),this._hasNextTabstop=e.HasNextTabstop.bindTo(s),this._hasPrevTabstop=e.HasPrevTabstop.bindTo(s)}static get(t){return t.getContribution(e.ID)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(e=this._session)||void 0===e||e.dispose(),this._snippetListener.dispose()}apply(e,t){try{this._doInsert(e,void 0===t?v:Object.assign(Object.assign({},v),t))}catch(t){this.cancel(),this._logService.error(t),this._logService.error("snippet_error"),this._logService.error("insert_edits=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}insert(e,t){try{this._doInsert(e,void 0===t?v:Object.assign(Object.assign({},v),t))}catch(t){this.cancel(),this._logService.error(t),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){var i;if(this._editor.hasModel()){if(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&"string"!=typeof e&&this.cancel(),this._session?((0,o.p_)("string"==typeof e),this._session.merge(e,t)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new m.l(this._editor,e,t,this._languageConfigurationService),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),null===(i=this._session)||void 0===i?void 0:i.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(e,t)=>{if(!this._session||e!==this._editor.getModel()||!r.L.equals(this._editor.getPosition(),t))return;const{activeChoice:i}=this._session;if(!i||0===i.choice.options.length)return;const n=e.getValueInRange(i.range),o=Boolean(i.choice.options.find((e=>e.value===n))),s=[];for(let e=0;e<i.choice.options.length;e++){const t=i.choice.options[e];s.push({kind:13,label:t.value,insertText:t.value,sortText:"a".repeat(e+1),range:i.range,filterText:o?`${n}_${t.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,u.NC)("next","Go to next placeholder...")}})}return{suggestions:s}}};const e=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme},this._choiceCompletionItemProvider);this._snippetListener.add(e)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((e=>e.isFlush&&this.cancel()))),this._snippetListener.add(this._editor.onDidChangeModel((()=>this.cancel()))),this._snippetListener.add(this._editor.onDidChangeCursorSelection((()=>this._updateState())))}}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{activeChoice:e}=this._session;e&&this._choiceCompletionItemProvider?this._currentChoice!==e.choice&&(this._currentChoice=e.choice,queueMicrotask((()=>{(0,h.i5)(this._editor,this._choiceCompletionItemProvider)}))):this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,null===(t=this._session)||void 0===t||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};_.ID="snippetController2",_.InSnippetMode=new g.uy("inSnippetMode",!1,(0,u.NC)("inSnippetMode","Whether the editor in current in snippet mode")),_.HasNextTabstop=new g.uy("hasNextTabstop",!1,(0,u.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),_.HasPrevTabstop=new g.uy("hasPrevTabstop",!1,(0,u.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),_=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([f(1,p.VZ),f(2,c.p),f(3,g.i6),f(4,d.c_)],_),(0,s._K)(_.ID,_);const b=s._l.bindToContribution(_.get);function C(e,t,i){const n=_.get(e);return!!n&&(e.focus(),n.apply(i.map((e=>({range:a.Y.liftSelection(e),template:t})))),n.isInSnippet())}(0,s.fK)(new b({id:"jumpToNextSnippetPlaceholder",precondition:g.Ao.and(_.InSnippetMode,_.HasNextTabstop),handler:e=>e.next(),kbOpts:{weight:130,kbExpr:l.u.editorTextFocus,primary:2}})),(0,s.fK)(new b({id:"jumpToPrevSnippetPlaceholder",precondition:g.Ao.and(_.InSnippetMode,_.HasPrevTabstop),handler:e=>e.prev(),kbOpts:{weight:130,kbExpr:l.u.editorTextFocus,primary:1026}})),(0,s.fK)(new b({id:"leaveSnippet",precondition:_.InSnippetMode,handler:e=>e.cancel(!0),kbOpts:{weight:130,kbExpr:l.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,s.fK)(new b({id:"acceptSnippet",precondition:_.InSnippetMode,handler:e=>e.finish()}))},5084:(e,t,i)=>{"use strict";i.d(t,{Lv:()=>l,Vm:()=>a,Yj:()=>p,xv:()=>s,y1:()=>g});class n{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const e=this.pos;let t,i=0,o=this.value.charCodeAt(e);if(t=n._table[o],"number"==typeof t)return this.pos+=1,{type:t,pos:e,len:1};if(n.isDigitCharacter(o)){t=8;do{i+=1,o=this.value.charCodeAt(e+i)}while(n.isDigitCharacter(o));return this.pos+=i,{type:t,pos:e,len:i}}if(n.isVariableCharacter(o)){t=9;do{o=this.value.charCodeAt(e+ ++i)}while(n.isVariableCharacter(o)||n.isDigitCharacter(o));return this.pos+=i,{type:t,pos:e,len:i}}t=10;do{i+=1,o=this.value.charCodeAt(e+i)}while(!isNaN(o)&&void 0===n._table[o]&&!n.isDigitCharacter(o)&&!n.isVariableCharacter(o));return this.pos+=i,{type:t,pos:e,len:i}}}n._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class o{constructor(){this._children=[]}appendChild(e){return e instanceof s&&this._children[this._children.length-1]instanceof s?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:i}=e,n=i.children.indexOf(e),o=i.children.slice(0);o.splice(n,1,...t),i._children=o,function e(t,i){for(const n of t)n.parent=i,e(n.children,n)}(t,i)}get children(){return this._children}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof g)return e;e=e.parent}}toString(){return this.children.reduce(((e,t)=>e+t.toString()),"")}len(){return 0}}class s extends o{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new s(this.value)}}class r extends o{}class a extends r{constructor(e){super(),this.index=e}static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof l?this._children[0]:void 0}clone(){const e=new a(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((e=>e.clone())),e}}class l extends o{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof s&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const e=new l;return this.options.forEach(e.appendChild,e),e}}class d extends o{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let i=!1,n=e.replace(this.regexp,(function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))}));return!i&&this._children.some((e=>e instanceof c&&Boolean(e.elseValue)))&&(n=this._replace([])),n}_replace(e){let t="";for(const i of this._children)if(i instanceof c){let n=e[i.index]||"";n=i.resolve(n),t+=n}else t+=i.toString();return t}toString(){return""}clone(){const e=new d;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map((e=>e.clone())),e}}class c extends o{constructor(e,t,i,n){super(),this.index=e,this.shorthandName=t,this.ifValue=i,this.elseValue=n}resolve(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":"camelcase"===this.shorthandName?e?this._toCamelCase(e):"":Boolean(e)&&"string"==typeof this.ifValue?this.ifValue:Boolean(e)||"string"!=typeof this.elseValue?e||"":this.elseValue}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((e=>e.charAt(0).toUpperCase()+e.substr(1))).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(((e,t)=>0===t?e.charAt(0).toLowerCase()+e.substr(1):e.charAt(0).toUpperCase()+e.substr(1))).join(""):e}clone(){return new c(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class h extends r{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new s(t)],!0)}clone(){const e=new h(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((e=>e.clone())),e}}function u(e,t){const i=[...e];for(;i.length>0;){const e=i.shift();if(!t(e))break;i.unshift(...e.children)}}class g extends o{get placeholderInfo(){if(!this._placeholders){const e=[];let t;this.walk((function(i){return i instanceof a&&(e.push(i),t=!t||t.index<i.index?i:t),!0})),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,i=!1;return this.walk((n=>n===e?(i=!0,!1):(t+=n.len(),!0))),i?t:-1}fullLen(e){let t=0;return u([e],(e=>(t+=e.len(),!0))),t}enclosingPlaceholders(e){const t=[];let{parent:i}=e;for(;i;)i instanceof a&&t.push(i),i=i.parent;return t}resolveVariables(e){return this.walk((t=>(t instanceof h&&t.resolve(e)&&(this._placeholders=void 0),!0))),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){const e=new g;return this._children=this.children.map((e=>e.clone())),e}walk(e){u(this.children,e)}}class p{constructor(){this._scanner=new n,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,i){const n=new g;return this.parseFragment(e,n),this.ensureFinalTabstop(n,null!=i&&i,null!=t&&t),n}parseFragment(e,t){const i=t.children.length;for(this._scanner.text(e),this._token=this._scanner.next();this._parse(t););const n=new Map,o=[];t.walk((e=>(e instanceof a&&(e.isFinalTabstop?n.set(0,void 0):!n.has(e.index)&&e.children.length>0?n.set(e.index,e.children):o.push(e)),!0)));for(const e of o){const i=n.get(e.index);if(i){const n=new a(e.index);n.transform=e.transform;for(const e of i)n.appendChild(e.clone());t.replace(e,[n])}}return t.children.slice(i)}ensureFinalTabstop(e,t,i){(t||i&&e.placeholders.length>0)&&(e.placeholders.find((e=>0===e.index))||e.appendChild(new a(0)))}_accept(e,t){if(void 0===e||this._token.type===e){const e=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),e}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(14===this._token.type)return!1;if(5===this._token.type){const e=this._scanner.next();if(0!==e.type&&4!==e.type&&5!==e.type)return!1}this._token=this._scanner.next()}const i=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new s(t)),!0)}_parseTabstopOrVariableName(e){let t;const i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new a(Number(t)):new h(t)),!0):this._backTo(i)}_parseComplexPlaceholder(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);const n=new a(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(n),!0;if(!this._parse(n))return e.appendChild(new s("${"+t+":")),n.children.forEach(e.appendChild,e),!0}else{if(!(n.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(n)?(e.appendChild(n),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(n),!0):this._backTo(i);{const t=new l;for(;;){if(this._parseChoiceElement(t)){if(this._accept(2))continue;if(this._accept(7)&&(n.appendChild(t),this._accept(4)))return e.appendChild(n),!0}return this._backTo(i),!1}}}}_parseChoiceElement(e){const t=this._token,i=[];for(;2!==this._token.type&&7!==this._token.type;){let e;if(e=(e=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||e:this._accept(void 0,!0),!e)return this._backTo(t),!1;i.push(e)}return 0===i.length?(this._backTo(t),!1):(e.appendChild(new s(i.join(""))),!0)}_parseComplexVariable(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);const n=new h(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(n)?(e.appendChild(n),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(n),!0):this._backTo(i);for(;;){if(this._accept(4))return e.appendChild(n),!0;if(!this._parse(n))return e.appendChild(new s("${"+t+":")),n.children.forEach(e.appendChild,e),!0}}_parseTransform(e){const t=new d;let i="",n="";for(;!this._accept(6);){let e;if(e=this._accept(5,!0))e=this._accept(6,!0)||e,i+=e;else{if(14===this._token.type)return!1;i+=this._accept(void 0,!0)}}for(;!this._accept(6);){let e;if(e=this._accept(5,!0))e=this._accept(5,!0)||this._accept(6,!0)||e,t.appendChild(new s(e));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}try{t.regexp=new RegExp(i,n)}catch(e){return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);const n=this._accept(8,!0);if(!n)return this._backTo(t),!1;if(!i)return e.appendChild(new c(Number(n))),!0;if(this._accept(4))return e.appendChild(new c(Number(n))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){const i=this._accept(9,!0);return i&&this._accept(4)?(e.appendChild(new c(Number(n),i)),!0):(this._backTo(t),!1)}if(this._accept(11)){const t=this._until(4);if(t)return e.appendChild(new c(Number(n),void 0,t,void 0)),!0}else if(this._accept(12)){const t=this._until(4);if(t)return e.appendChild(new c(Number(n),void 0,void 0,t)),!0}else if(this._accept(13)){const t=this._until(1);if(t){const i=this._until(4);if(i)return e.appendChild(new c(Number(n),void 0,t,i)),!0}}else{const t=this._until(4);if(t)return e.appendChild(new c(Number(n),void 0,void 0,t)),!0}return this._backTo(t),!1}_parseAnything(e){return 14!==this._token.type&&(e.appendChild(new s(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}},9561:(e,t,i)=>{"use strict";i.d(t,{l:()=>M});var n=i(9488),o=i(5976),s=i(7295),r=i(9386),a=i(4314),l=i(3860),d=i(1381),c=i(2035),h=i(4349),u=i(382),g=i(5084),p=i(5527),m=i(1432);function f(e,t=m.ED){return(0,p.oP)(e,t)?e.charAt(0).toUpperCase()+e.slice(1):e}Object.create(null);var v=i(8721),_=i(5935),b=i(8e3),C=i(3580);Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class y{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){const i=t.resolve(e);if(void 0!==i)return i}}}class w{constructor(e,t,i,n){this._model=e,this._selection=t,this._selectionIdx=i,this._overtypingCapturer=n}resolve(e){const{name:t}=e;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){let t=this._model.getValueInRange(this._selection)||void 0,i=this._selection.startLineNumber!==this._selection.endLineNumber;if(!t&&this._overtypingCapturer){const e=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);e&&(t=e.value,i=e.multiline)}if(t&&i&&e.snippet){const i=this._model.getLineContent(this._selection.startLineNumber),n=(0,s.V8)(i,0,this._selection.startColumn-1);let o=n;e.snippet.walk((t=>t!==e&&(t instanceof g.xv&&(o=(0,s.V8)((0,s.uq)(t.value).pop())),!0)));const r=(0,s.Mh)(o,n);t=t.replace(/(\r\n|\r|\n)(.*)/g,((e,t,i)=>`${t}${o.substr(r)}${i}`))}return t}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===t){const e=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return e&&e.word||void 0}return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):"CURSOR_INDEX"===t?String(this._selectionIdx):"CURSOR_NUMBER"===t?String(this._selectionIdx+1):void 0}}class S{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if("TM_FILENAME"===t)return v.EZ(this._model.uri.fsPath);if("TM_FILENAME_BASE"===t){const e=v.EZ(this._model.uri.fsPath),t=e.lastIndexOf(".");return t<=0?e:e.slice(0,t)}return"TM_DIRECTORY"===t?"."===v.XX(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,_.XX)(this._model.uri)):"TM_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class k{constructor(e,t,i,n){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=n}resolve(e){if("CLIPBOARD"!==e.name)return;const t=this._readClipboardText();if(t){if(this._spread){const e=t.split(/\r\n|\n|\r/).filter((e=>!(0,s.m5)(e)));if(e.length===this._selectionCount)return e[this._selectionIdx]}return t}}}let L=class{constructor(e,t,i){this._model=e,this._selection=t,this._languageConfigurationService=i}resolve(e){const{name:t}=e,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),n=this._languageConfigurationService.getLanguageConfiguration(i).comments;if(n)return"LINE_COMMENT"===t?n.lineCommentToken||void 0:"BLOCK_COMMENT_START"===t?n.blockCommentStartToken||void 0:"BLOCK_COMMENT_END"===t&&n.blockCommentEndToken||void 0}};var x,I;L=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(x=2,I=d.c_,function(e,t){I(e,t,x)})],L);class D{constructor(){this._date=new Date}resolve(e){const{name:t}=e;return"CURRENT_YEAR"===t?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===t?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===t?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===t?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===t?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===t?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===t?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===t?D.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===t?D.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===t?D.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===t?D.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===t?String(Math.floor(this._date.getTime()/1e3)):void 0}}D.dayNames=[C.NC("Sunday","Sunday"),C.NC("Monday","Monday"),C.NC("Tuesday","Tuesday"),C.NC("Wednesday","Wednesday"),C.NC("Thursday","Thursday"),C.NC("Friday","Friday"),C.NC("Saturday","Saturday")],D.dayNamesShort=[C.NC("SundayShort","Sun"),C.NC("MondayShort","Mon"),C.NC("TuesdayShort","Tue"),C.NC("WednesdayShort","Wed"),C.NC("ThursdayShort","Thu"),C.NC("FridayShort","Fri"),C.NC("SaturdayShort","Sat")],D.monthNames=[C.NC("January","January"),C.NC("February","February"),C.NC("March","March"),C.NC("April","April"),C.NC("May","May"),C.NC("June","June"),C.NC("July","July"),C.NC("August","August"),C.NC("September","September"),C.NC("October","October"),C.NC("November","November"),C.NC("December","December")],D.monthNamesShort=[C.NC("JanuaryShort","Jan"),C.NC("FebruaryShort","Feb"),C.NC("MarchShort","Mar"),C.NC("AprilShort","Apr"),C.NC("MayShort","May"),C.NC("JuneShort","Jun"),C.NC("JulyShort","Jul"),C.NC("AugustShort","Aug"),C.NC("SeptemberShort","Sep"),C.NC("OctoberShort","Oct"),C.NC("NovemberShort","Nov"),C.NC("DecemberShort","Dec")];class N{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=(0,u.uT)(this._workspaceService.getWorkspace());return t?"WORKSPACE_NAME"===e.name?this._resolveWorkspaceName(t):"WORKSPACE_FOLDER"===e.name?this._resoveWorkspacePath(t):void 0:void 0}_resolveWorkspaceName(e){if((0,u.eb)(e))return v.EZ(e.uri.path);let t=v.EZ(e.configPath.path);return t.endsWith(u.A6)&&(t=t.substr(0,t.length-u.A6.length-1)),t}_resoveWorkspacePath(e){if((0,u.eb)(e))return f(e.uri.fsPath);const t=v.EZ(e.configPath.path);let i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?f(i):"/"}}class E{resolve(e){const{name:t}=e;return"RANDOM"===t?Math.random().toString().slice(-6):"RANDOM_HEX"===t?Math.random().toString(16).slice(-6):"UUID"===t?(0,b.R)():void 0}}class A{constructor(e,t,i){this._editor=e,this._snippet=t,this._snippetLineLeadingWhitespace=i,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,n.vM)(t.placeholders,g.Vm.compareByIndex),this._placeholderGroupsIdx=-1}initialize(e){this._offset=e.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(-1===this._offset)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations((t=>{for(const i of this._snippet.placeholders){const n=this._snippet.offset(i),o=this._snippet.fullLen(i),s=a.e.fromPositions(e.getPositionAt(this._offset+n),e.getPositionAt(this._offset+n+o)),r=i.isFinalTabstop?A._decor.inactiveFinal:A._decor.inactive,l=t.addDecoration(s,r);this._placeholderDecorations.set(i,l)}}))}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const e=[];for(const t of this._placeholderGroups[this._placeholderGroupsIdx])if(t.transform){const i=this._placeholderDecorations.get(t),n=this._editor.getModel().getDecorationRange(i),o=this._editor.getModel().getValueInRange(n),s=t.transform.resolve(o).split(/\r\n|\r|\n/);for(let e=1;e<s.length;e++)s[e]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+s[e]);e.push(r.h.replace(n,s.join(this._editor.getModel().getEOL())))}e.length>0&&this._editor.executeEdits("snippet.placeholderTransform",e)}let t=!1;!0===e&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):!1===e&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const i=this._editor.getModel().changeDecorations((e=>{const i=new Set,n=[];for(const o of this._placeholderGroups[this._placeholderGroupsIdx]){const s=this._placeholderDecorations.get(o),r=this._editor.getModel().getDecorationRange(s);n.push(new l.Y(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(o),e.changeDecorationOptions(s,o.isFinalTabstop?A._decor.activeFinal:A._decor.active),i.add(o);for(const t of this._snippet.enclosingPlaceholders(o)){const n=this._placeholderDecorations.get(t);e.changeDecorationOptions(n,t.isFinalTabstop?A._decor.activeFinal:A._decor.active),i.add(t)}}for(const[t,n]of this._placeholderDecorations)i.has(t)||e.changeDecorationOptions(n,t.isFinalTabstop?A._decor.inactiveFinal:A._decor.inactive);return n}));return t?this.move(e):null!=i?i:[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof g.Vm){const e=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(e).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){return 0===this._snippet.placeholders.length||1===this._snippet.placeholders.length&&this._snippet.placeholders[0].isFinalTabstop}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let i;for(const n of t){if(n.isFinalTabstop)break;i||(i=[],e.set(n.index,i));const t=this._placeholderDecorations.get(n),o=this._editor.getModel().getDecorationRange(t);if(!o){e.delete(n.index);break}i.push(o)}}return e}get activeChoice(){if(!this._placeholderDecorations)return;const e=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(null==e?void 0:e.choice))return;const t=this._placeholderDecorations.get(e);if(!t)return;const i=this._editor.getModel().getDecorationRange(t);return i?{range:i,choice:e.choice}:void 0}get hasChoice(){let e=!1;return this._snippet.walk((t=>(e=t instanceof g.Lv,!e))),e}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((i=>{for(const n of this._placeholderGroups[this._placeholderGroupsIdx]){const o=e.shift();console.assert(-1!==o._offset),console.assert(!o._placeholderDecorations);const s=o._snippet.placeholderInfo.last.index;for(const e of o._snippet.placeholderInfo.all)e.isFinalTabstop?e.index=n.index+(s+1)/this._nestingLevel:e.index=n.index+e.index/this._nestingLevel;this._snippet.replace(n,o._snippet.children);const r=this._placeholderDecorations.get(n);i.removeDecoration(r),this._placeholderDecorations.delete(n);for(const e of o._snippet.placeholders){const n=o._snippet.offset(e),s=o._snippet.fullLen(e),r=a.e.fromPositions(t.getPositionAt(o._offset+n),t.getPositionAt(o._offset+n+s)),l=i.addDecoration(r,A._decor.inactive);this._placeholderDecorations.set(e,l)}}this._placeholderGroups=(0,n.vM)(this._snippet.placeholders,g.Vm.compareByIndex)}))}}A._decor={active:c.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:c.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:c.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:c.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const T={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let M=class e{constructor(e,t,i=T,n){this._editor=e,this._template=t,this._options=i,this._languageConfigurationService=n,this._templateMerges=[],this._snippets=[]}static adjustWhitespace(e,t,i,n,o){const r=e.getLineContent(t.lineNumber),a=(0,s.V8)(r,0,t.column-1);let l;return i.walk((t=>{if(!(t instanceof g.xv)||t.parent instanceof g.Lv)return!0;const o=t.value.split(/\r\n|\r|\n/);if(n){const n=i.offset(t);if(0===n)o[0]=e.normalizeIndentation(o[0]);else{l=null!=l?l:i.toString();const t=l.charCodeAt(n-1);10!==t&&13!==t||(o[0]=e.normalizeIndentation(a+o[0]))}for(let t=1;t<o.length;t++)o[t]=e.normalizeIndentation(a+o[t])}const s=o.join(e.getEOL());return s!==t.value&&(t.parent.replace(t,[new g.xv(s)]),l=void 0),!0})),a}static adjustSelection(e,t,i,n){if(0!==i||0!==n){const{positionLineNumber:o,positionColumn:s}=t,r=s-i,a=s+n,d=e.validateRange({startLineNumber:o,startColumn:r,endLineNumber:o,endColumn:a});t=l.Y.createWithDirection(d.startLineNumber,d.startColumn,d.endLineNumber,d.endColumn,t.getDirection())}return t}static createEditsAndSnippetsFromSelections(t,i,n,o,s,l,d,c,p){const m=[],f=[];if(!t.hasModel())return{edits:m,snippets:f};const v=t.getModel(),_=t.invokeWithinContext((e=>e.get(u.ec))),b=t.invokeWithinContext((e=>new S(e.get(h.e),v))),C=()=>d,x=v.getValueInRange(e.adjustSelection(v,t.getSelection(),n,0)),I=v.getValueInRange(e.adjustSelection(v,t.getSelection(),0,o)),T=v.getLineFirstNonWhitespaceColumn(t.getSelection().positionLineNumber),M=t.getSelections().map(((e,t)=>({selection:e,idx:t}))).sort(((e,t)=>a.e.compareRangesUsingStarts(e.selection,t.selection)));for(const{selection:a,idx:d}of M){let h=e.adjustSelection(v,a,n,0),u=e.adjustSelection(v,a,0,o);x!==v.getValueInRange(h)&&(h=a),I!==v.getValueInRange(u)&&(u=a);const S=a.setStartPosition(h.startLineNumber,h.startColumn).setEndPosition(u.endLineNumber,u.endColumn),R=(new g.Yj).parse(i,!0,s),P=S.getStartPosition(),O=e.adjustWhitespace(v,P,R,l||d>0&&T!==v.getLineFirstNonWhitespaceColumn(a.positionLineNumber),!0);R.resolveVariables(new y([b,new k(C,d,M.length,"spread"===t.getOption(73)),new w(v,a,d,c),new L(v,a,p),new D,new N(_),new E])),m[d]=r.h.replace(S,R.toString()),m[d].identifier={major:d,minor:0},m[d]._isTracked=!0,f[d]=new A(t,R,O)}return{edits:m,snippets:f}}static createEditsAndSnippetsFromEdits(e,t,i,n,o,s,l){if(!e.hasModel()||0===t.length)return{edits:[],snippets:[]};const d=[],c=e.getModel(),p=new g.Yj,m=new g.y1,f=new y([e.invokeWithinContext((e=>new S(e.get(h.e),c))),new k((()=>o),0,e.getSelections().length,"spread"===e.getOption(73)),new w(c,e.getSelection(),0,s),new L(c,e.getSelection(),l),new D,new N(e.invokeWithinContext((e=>e.get(u.ec)))),new E]);t=t.sort(((e,t)=>a.e.compareRangesUsingStarts(e.range,t.range)));let v=0;for(let e=0;e<t.length;e++){const{range:i,template:n}=t[e];if(e>0){const n=t[e-1].range,o=a.e.fromPositions(n.getEndPosition(),i.getStartPosition()),s=new g.xv(c.getValueInRange(o));m.appendChild(s),v+=s.value.length}p.parseFragment(n,m),m.resolveVariables(f);const o=m.toString(),s=o.slice(v);v=o.length;const l=r.h.replace(i,s);l.identifier={major:e,minor:0},l._isTracked=!0,d.push(l)}return p.ensureFinalTabstop(m,i,!0),{edits:d,snippets:[new A(e,m,"")]}}dispose(){(0,o.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:t,snippets:i}="string"==typeof this._template?e.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):e.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=i,this._editor.executeEdits("snippet",t,(e=>{const t=e.filter((e=>!!e.identifier));for(let e=0;e<i.length;e++)i[e].initialize(t[e].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):t.map((e=>l.Y.fromPositions(e.range.getEndPosition())))})),this._editor.revealRange(this._editor.getSelections()[0])}merge(t,i=T){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,t]);const{edits:n,snippets:o}=e.createEditsAndSnippetsFromSelections(this._editor,t,i.overwriteBefore,i.overwriteAfter,!0,i.adjustWhitespace,i.clipboardText,i.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",n,(e=>{const t=e.filter((e=>!!e.identifier));for(let e=0;e<o.length;e++)o[e].initialize(t[e].textChange);const i=o[0].isTrivialSnippet;if(!i){for(const e of this._snippets)e.merge(o);console.assert(0===o.length)}return this._snippets[0].hasPlaceholder&&!i?this._move(void 0):t.map((e=>l.Y.fromPositions(e.range.getEndPosition())))}))}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const i of this._snippets){const n=i.move(e);t.push(...n)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;const t=new Map;for(const i of this._snippets){const n=i.computePossibleSelections();if(0===t.size)for(const[i,o]of n){o.sort(a.e.compareRangesUsingStarts);for(const n of e)if(o[0].containsRange(n)){t.set(i,[]);break}}if(0===t.size)return!1;t.forEach(((e,t)=>{e.push(...n.get(t))}))}e.sort(a.e.compareRangesUsingStarts);for(const[i,n]of t)if(n.length===e.length){n.sort(a.e.compareRangesUsingStarts);for(let o=0;o<n.length;o++)n[o].containsRange(e[o])||t.delete(i)}else t.delete(i);return t.size>0}};M=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(3,d.c_)],M)},1984:(e,t,i)=>{"use strict";i.r(t);var n,o=i(5976),s=i(6830),r=i(1922),a=i(335),l=i(1050),d=i(5321),c=i(72),h=i(1557),u=i(2550),g=i(5393),p=i(187),m=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let f=class extends o.JT{constructor(e,t){super(),this._sessionStore=new o.SL,this._ranges=[],this._rangesVersionId=0,this._editor=e,this._languageFeaturesService=t,this.stickyScrollWidget=new y(this._editor),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(34)&&this.onConfigurationChange()}))),this._updateSoon=this._register(new g.pY((()=>this._update(!0)),50)),this.onConfigurationChange()}onConfigurationChange(){if(!1===this._editor.getOption(34).stickyScroll.enabled)return this.stickyScrollWidget.emptyRootNode(),this._editor.removeOverlayWidget(this.stickyScrollWidget),void this._sessionStore.clear();this._editor.addOverlayWidget(this.stickyScrollWidget),this._sessionStore.add(this._editor.onDidChangeModel((()=>this._update(!0)))),this._sessionStore.add(this._editor.onDidScrollChange((()=>this._update(!1)))),this._sessionStore.add(this._editor.onDidChangeHiddenAreas((()=>this._update(!0)))),this._sessionStore.add(this._editor.onDidChangeModelTokens((e=>this._onTokensChange(e)))),this._sessionStore.add(this._editor.onDidChangeModelContent((()=>this._updateSoon.schedule()))),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange((()=>this._update(!0)))),this._update(!0)}_needsUpdate(e){const t=this.stickyScrollWidget.getCurrentLines();for(const i of t)for(const t of e.ranges)if(i>=t.fromLineNumber&&i<=t.toLineNumber)return!0;return!1}_onTokensChange(e){this._needsUpdate(e)&&this._update(!1)}_update(e=!1){var t,i;return m(this,void 0,void 0,(function*(){e&&(null===(t=this._cts)||void 0===t||t.dispose(!0),this._cts=new l.A,yield this._updateOutlineModel(this._cts.token));const n=null===(i=this._editor._getViewModel())||void 0===i?void 0:i.getHiddenAreas();if(n)for(const e of n)this._ranges=this._ranges.filter((t=>!(t[0]>=e.startLineNumber&&t[1]<=e.endLineNumber+1)));this._renderStickyScroll()}))}_findLineRanges(e,t){if(null==e?void 0:e.children.size){let i=!1;for(const n of null==e?void 0:e.children.values()){const e=n.symbol.kind;4!==e&&8!==e&&11!==e&&10!==e&&5!==e&&1!==e||(i=!0,this._findLineRanges(n,t+1))}i||this._addOutlineRanges(e,t)}else this._addOutlineRanges(e,t)}_addOutlineRanges(e,t){let i=0,n=0;for(;e;){const o=e.symbol.kind;if(4!==o&&8!==o&&11!==o&&10!==o&&5!==o&&1!==o||(i=null==e?void 0:e.symbol.range.startLineNumber,n=null==e?void 0:e.symbol.range.endLineNumber,this._ranges.push([i,n,t]),t--),!(e.parent instanceof a.sT))break;e=e.parent}}_updateOutlineModel(e){return m(this,void 0,void 0,(function*(){if(this._editor.hasModel()){const t=this._editor.getModel(),i=t.getVersionId(),n=yield a.C3.create(this._languageFeaturesService.documentSymbolProvider,t,e);if(e.isCancellationRequested)return;this._ranges=[],this._rangesVersionId=i;for(const e of n.children.values()){if(e instanceof a.sT){const t=e.symbol.kind;4===t||8===t||11===t||10===t||5===t||1===t?this._findLineRanges(e,1):this._findLineRanges(e,0)}this._ranges=this._ranges.sort((function(e,t){return e[0]!==t[0]?e[0]-t[0]:e[1]!==t[1]?t[1]-e[1]:e[2]-t[2]}));let t=[];for(const[e,i]of this._ranges.entries()){const[n,o,s]=i;t[0]===n&&t[1]===o?this._ranges.splice(e,1):t=i}}}}))}_renderStickyScroll(){if(!this._editor.hasModel())return;const e=this._editor.getOption(61),t=this._editor.getModel();if(this._rangesVersionId!==t.getVersionId())return;const i=this._editor.getScrollTop();this.stickyScrollWidget.emptyRootNode();const n=new Set;for(const[o,s]of this._ranges.entries()){const[r,a,l]=s;if(a-r>0&&""!==t.getLineContent(r)){const t=(l-1)*e,s=l*e,d=this._editor.getBottomForLineNumber(r)-i,c=this._editor.getTopForLineNumber(a)-i,h=this._editor.getBottomForLineNumber(a)-i;if(n.has(r))this._ranges.splice(o,1);else{if(t>=c-1&&t<h-2){n.add(r),this.stickyScrollWidget.pushCodeLine(new C(r,l,this._editor,-1,h-s));break}s>d&&s<h-1&&(n.add(r),this.stickyScrollWidget.pushCodeLine(new C(r,l,this._editor,0,0)))}}}this.stickyScrollWidget.updateRootNode()}dispose(){super.dispose(),this._sessionStore.dispose()}};var v,_;f.ID="store.contrib.stickyScrollController",f=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(v=1,_=r.p,function(e,t){_(e,t,v)})],f);const b=null===(n=window.trustedTypes)||void 0===n?void 0:n.createPolicy("stickyScrollViewLayer",{createHTML:e=>e});class C{constructor(e,t,i,n,o){this._lineNumber=e,this._depth=t,this._editor=i,this._zIndex=n,this._relativePosition=o,this.effectiveLineHeight=0,this.effectiveLineHeight=this._editor.getOption(61)+this._relativePosition}get lineNumber(){return this._lineNumber}getDomNode(){const e=document.createElement("div"),t=this._editor._getViewModel(),i=t.coordinatesConverter.convertModelPositionToViewPosition(new p.L(this._lineNumber,1)).lineNumber,n=t.getViewLineRenderingData(i);let o;try{o=u.Kp.filter(n.inlineDecorations,i,n.minColumn,n.maxColumn)}catch(e){o=[]}const s=new h.IJ(!0,!0,n.content,n.continuesWithWrappedLine,n.isBasicASCII,n.containsRTL,0,n.tokens,o,n.tabSize,n.startVisibleColumn,1,1,1,100,"none",!0,!0,null),r=(0,c.l$)(400);let a;(0,h.d1)(s,r),a=b?b.createHTML(r.build()):r.build();const l=document.createElement("span");l.style.backgroundColor="var(--vscode-editorStickyScroll-background)",l.style.overflow="hidden",l.style.whiteSpace="nowrap",l.style.display="inline-block",l.style.lineHeight=this._editor.getOption(61).toString()+"px",l.innerHTML=a;const d=document.createElement("span");d.style.width=this._editor.getLayoutInfo().contentLeft.toString()+"px",d.style.backgroundColor="var(--vscode-editorStickyScroll-background)",d.style.color="var(--vscode-editorLineNumber-foreground)",d.style.display="inline-block",d.style.lineHeight=this._editor.getOption(61).toString()+"px";const g=document.createElement("span");return g.innerText=this._lineNumber.toString(),g.style.paddingLeft=this._editor.getLayoutInfo().lineNumbersLeft.toString()+"px",g.style.width=this._editor.getLayoutInfo().lineNumbersWidth.toString()+"px",g.style.backgroundColor="var(--vscode-editorStickyScroll-background)",g.style.textAlign="right",g.style.float="left",g.style.lineHeight=this._editor.getOption(61).toString()+"px",d.appendChild(g),e.onclick=e=>{e.stopPropagation(),e.preventDefault(),this._editor.revealPosition({lineNumber:this._lineNumber-this._depth+1,column:1})},e.onmouseover=t=>{g.style.background="var(--vscode-editorStickyScrollHover-background)",l.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",d.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",e.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",g.style.cursor="pointer",l.style.cursor="pointer",e.style.cursor="pointer",d.style.cursor="pointer"},e.onmouseleave=t=>{g.style.background="var(--vscode-editorStickyScroll-background)",l.style.backgroundColor="var(--vscode-editorStickyScroll-background)",d.style.backgroundColor="var(--vscode-editorStickyScroll-background)",e.style.backgroundColor="var(--vscode-editorStickyScroll-background)"},this._editor.applyFontInfo(l),this._editor.applyFontInfo(g),e.appendChild(d),e.appendChild(l),e.style.zIndex=this._zIndex.toString(),e.style.backgroundColor="var(--vscode-editorStickyScroll-background)",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.width="100%",e.style.lineHeight=this._editor.getOption(61).toString()+"px",e.style.height=this._editor.getOption(61).toString()+"px",this._relativePosition&&(e.style.position="relative",e.style.top=this._relativePosition+"px",e.style.width="100%"),e}}class y{constructor(e){this._editor=e,this.arrayOfCodeLines=[],this.rootDomNode=document.createElement("div"),this.rootDomNode=document.createElement("div"),this.rootDomNode.style.width="100%",this.rootDomNode.style.boxShadow="var(--vscode-scrollbar-shadow) 0 6px 6px -6px"}getCurrentLines(){const e=[];for(const t of this.arrayOfCodeLines)e.push(t.lineNumber);return e}pushCodeLine(e){this.arrayOfCodeLines.push(e)}updateRootNode(){let e=0;for(const t of this.arrayOfCodeLines)e+=t.effectiveLineHeight,this.rootDomNode.appendChild(t.getDomNode());this.rootDomNode.style.height=e.toString()+"px"}emptyRootNode(){this.arrayOfCodeLines.length=0,d.PO(this.rootDomNode)}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this.rootDomNode.style.zIndex="2",this.rootDomNode.style.backgroundColor="var(--vscode-editorStickyScroll-background)",this.rootDomNode}getPosition(){return{preference:null}}}(0,s._K)(f.ID,f)},4961:(e,t,i)=>{"use strict";i.d(t,{_:()=>a,t:()=>r});var n=i(9488),o=i(5392),s=i(7295);class r{constructor(e,t){this.leadingLineContent=e,this.characterCountDelta=t}}class a{constructor(e,t,i,n,s,r,l=o.mX.default,d){this.clipboardText=d,this._snippetCompareFn=a._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=n,this._options=s,this._refilterKind=1,this._lineContext=i,this._fuzzyScoreOptions=l,"top"===r?this._snippetCompareFn=a._compareCompletionItemsSnippetsUp:"bottom"===r&&(this._snippetCompareFn=a._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const e=new Set;for(const[t,i]of this._providerInfo)i&&e.add(t);return e}adopt(e){const t=[];for(let i=0;i<this._items.length;)e.has(this._items[i].provider)?i++:(t.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const e=[],{leadingLineContent:t,characterCountDelta:i}=this._lineContext;let r="",a="";const l=1===this._refilterKind?this._items:this._filteredItems,d=[],c=!this._options.filterGraceful||l.length>2e3?o.EW:o.l7;for(let n=0;n<l.length;n++){const h=l[n];if(h.isInvalid)continue;this._providerInfo.set(h.provider,Boolean(h.container.incomplete));const u=h.position.column-h.editStart.column,g=u+i-(h.position.column-this._column);if(r.length!==g&&(r=0===g?"":t.slice(-g),a=r.toLowerCase()),h.word=r,0===g)h.score=o.CL.Default;else{let e=0;for(;e<u;){const t=r.charCodeAt(e);if(32!==t&&9!==t)break;e+=1}if(e>=g)h.score=o.CL.Default;else if("string"==typeof h.completion.filterText){const t=c(r,a,e,h.completion.filterText,h.filterTextLow,0,this._fuzzyScoreOptions);if(!t)continue;0===(0,s.zY)(h.completion.filterText,h.textLabel)?h.score=t:(h.score=(0,o.jB)(r,a,e,h.textLabel,h.labelLow,0),h.score[0]=t[0])}else{const t=c(r,a,e,h.textLabel,h.labelLow,0,this._fuzzyScoreOptions);if(!t)continue;h.score=t}}h.idx=n,h.distance=this._wordDistance.distance(h.position,h.completion),d.push(h),e.push(h.textLabel.length)}this._filteredItems=d.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?(0,n.HW)(e.length-.85,e,((e,t)=>e-t)):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return a._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return a._compareCompletionItems(e,t)}}},5621:(e,t,i)=>{"use strict";i.d(t,{A9:()=>k,GI:()=>w,ZJ:()=>L,_y:()=>y,i5:()=>A,kL:()=>I,tG:()=>T,wg:()=>E});var n=i(1050),o=i(7301),s=i(5392),r=i(5976),a=i(4013),l=i(8401),d=i(666),c=i(187),h=i(4314),u=i(8216),g=i(5084),p=i(3580),m=i(4144),f=i(4565),v=i(8819),_=i(1922),b=i(2980),C=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const y={Visible:b.iX,HasFocusedSuggestion:new v.uy("suggestWidgetHasFocusedSuggestion",!1,(0,p.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new v.uy("suggestWidgetDetailsVisible",!1,(0,p.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new v.uy("suggestWidgetMultipleSuggestions",!1,(0,p.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new v.uy("suggestionMakesTextEdit",!0,(0,p.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new v.uy("acceptSuggestionOnEnter",!0,(0,p.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new v.uy("suggestionHasInsertAndReplaceRange",!1,(0,p.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new v.uy("suggestionInsertMode",void 0,{type:"string",description:(0,p.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new v.uy("suggestionCanResolve",!1,(0,p.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},w=new m.eH("suggestWidgetStatusBar");class S{constructor(e,t,i,n){this.position=e,this.completion=t,this.container=i,this.provider=n,this.isInvalid=!1,this.score=s.CL.Default,this.distance=0,this.textLabel="string"==typeof t.label?t.label:t.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),this.extensionId=t.extensionId,h.e.isIRange(t.range)?(this.editStart=new c.L(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new c.L(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new c.L(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||h.e.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new c.L(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new c.L(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new c.L(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||h.e.spansMultipleLines(t.range.insert)||h.e.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),"function"!=typeof n.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(e){return C(this,void 0,void 0,(function*(){if(!this._resolveCache){const t=e.onCancellationRequested((()=>{this._resolveCache=void 0,this._isResolved=!1}));this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then((e=>{Object.assign(this.completion,e),this._isResolved=!0,t.dispose()}),(e=>{(0,o.n2)(e)&&(this._resolveCache=void 0,this._isResolved=!1)}))}return this._resolveCache}))}}class k{constructor(e=2,t=new Set,i=new Set,n=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i,this.showDeprecated=n}}function L(){}k.default=new k;class x{constructor(e,t,i,n){this.items=e,this.needsClipboard=t,this.durations=i,this.disposable=n}}function I(e,t,i,s=k.default,l={triggerKind:0},d=n.T.None){return C(this,void 0,void 0,(function*(){const n=new a.G(!0);i=i.clone();const c=t.getWordAtPosition(i),u=c?new h.e(i.lineNumber,c.startColumn,i.lineNumber,c.endColumn):h.e.fromPositions(i),p={replace:u,insert:u.setEndPosition(i.lineNumber,i.column)},m=[],f=new r.SL,v=[];let _=!1;const b=(e,t,n)=>{var o,a,l;let d=!1;if(!t)return d;for(const n of t.suggestions)if(!s.kindFilter.has(n.kind)){if(!s.showDeprecated&&(null===(o=null==n?void 0:n.tags)||void 0===o?void 0:o.includes(1)))continue;n.range||(n.range=p),n.sortText||(n.sortText="string"==typeof n.label?n.label:n.label.label),!_&&n.insertTextRules&&4&n.insertTextRules&&(_=g.Yj.guessNeedsClipboard(n.insertText)),m.push(new S(i,n,t,e)),d=!0}return(0,r.Wf)(t)&&f.add(t),v.push({providerName:null!==(a=e._debugDisplayName)&&void 0!==a?a:"unknown_provider",elapsedProvider:null!==(l=t.duration)&&void 0!==l?l:-1,elapsedOverall:n.elapsed()}),d},y=(()=>C(this,void 0,void 0,(function*(){})))();for(const n of e.orderedGroups(t)){let e=!1;if(yield Promise.all(n.map((n=>C(this,void 0,void 0,(function*(){if(!(s.providerFilter.size>0)||s.providerFilter.has(n))try{const o=new a.G(!0),s=yield n.provideCompletionItems(t,i,l,d);e=b(n,s,o)||e}catch(e){(0,o.Cp)(e)}}))))),e||d.isCancellationRequested)break}return yield y,d.isCancellationRequested?(f.dispose(),Promise.reject(new o.FU)):new x(m.sort(E(s.snippetSortOrder)),_,{entries:v,elapsed:n.elapsed()},f)}))}function D(e,t){if(e.sortTextLow&&t.sortTextLow){if(e.sortTextLow<t.sortTextLow)return-1;if(e.sortTextLow>t.sortTextLow)return 1}return e.textLabel<t.textLabel?-1:e.textLabel>t.textLabel?1:e.completion.kind-t.completion.kind}const N=new Map;function E(e){return N.get(e)}function A(e,t){var i;null===(i=e.getContribution("editor.contrib.suggestController"))||void 0===i||i.triggerSuggest((new Set).add(t),void 0,!0)}N.set(0,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return D(e,t)})),N.set(2,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return D(e,t)})),N.set(1,D),f.P0.registerCommand("_executeCompletionItemProvider",((e,...t)=>C(void 0,void 0,void 0,(function*(){const[i,o,s,r]=t;(0,l.p_)(d.o.isUri(i)),(0,l.p_)(c.L.isIPosition(o)),(0,l.p_)("string"==typeof s||!s),(0,l.p_)("number"==typeof r||!r);const{completionProvider:a}=e.get(_.p),h=yield e.get(u.S).createModelReference(i);try{const e={incomplete:!1,suggestions:[]},t=[],i=yield I(a,h.object.textEditorModel,c.L.lift(o),void 0,{triggerCharacter:s,triggerKind:s?1:0});for(const o of i.items)t.length<(null!=r?r:0)&&t.push(o.resolve(n.T.None)),e.incomplete=e.incomplete||o.container.incomplete,e.suggestions.push(o.completion);try{return yield Promise.all(t),e}finally{setTimeout((()=>i.disposable.dispose()),100)}}finally{h.dispose()}}))));class T{static isAllOff(e){return"off"===e.other&&"off"===e.comments&&"off"===e.strings}static isAllOn(e){return"on"===e.other&&"on"===e.comments&&"on"===e.strings}static valueFor(e,t){switch(t){case 1:return e.comments;case 2:return e.strings;default:return e.other}}}},4804:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SuggestController:()=>$e,TriggerSuggestAction:()=>Ye});var n=i(5152),o=i(9488),s=i(5393),r=i(1050),a=i(7301),l=i(4669),d=i(8313),c=i(5976),h=i(1432),u=i(4013),g=i(8401),p=i(3407),m=i(6830),f=i(9386),v=i(187),_=i(4314),b=i(9102),C=i(8762),y=i(5084),w=i(378),S=i(8819);let k=class e{constructor(t,i){this._editor=t,this._enabled=!1,this._ckAtEnd=e.AtEnd.bindTo(i),this._configListener=this._editor.onDidChangeConfiguration((e=>e.hasChanged(113)&&this._update())),this._update()}dispose(){var e;this._configListener.dispose(),null===(e=this._selectionListener)||void 0===e||e.dispose(),this._ckAtEnd.reset()}_update(){const e="on"===this._editor.getOption(113);if(this._enabled!==e)if(this._enabled=e,this._enabled){const e=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const e=this._editor.getModel(),t=this._editor.getSelection(),i=e.getWordAtPosition(t.getStartPosition());i?this._ckAtEnd.set(i.endColumn===t.getStartPosition().column):this._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(e),e()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};var L,x;k.AtEnd=new S.uy("atEndOfWord",!1),k=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(L=1,x=S.i6,function(e,t){x(e,t,L)})],k);var I=i(3580),D=i(4565),N=i(2065),E=i(3557),A=i(5621);let T=class e{constructor(t,i){this._editor=t,this._index=0,this._ckOtherSuggestions=e.OtherSuggestions.bindTo(i)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),null===(e=this._listener)||void 0===e||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:t,index:i},n){0!==t.items.length&&e._moveIndex(!0,t,i)!==i?(this._acceptNext=n,this._model=t,this._index=i,this._listener=this._editor.onDidChangeCursorPosition((()=>{this._ignore||this.reset()})),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(e,t,i){let n=i;for(;n=(n+t.items.length+(e?1:-1))%t.items.length,n!==i&&t.items[n].completion.additionalTextEdits;);return n}next(){this._move(!0)}prev(){this._move(!1)}_move(t){if(this._model)try{this._ignore=!0,this._index=e._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};T.OtherSuggestions=new S.uy("hasOtherSuggestions",!1),T=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,S.i6)],T);var M=i(4906);class R{constructor(e,t,i){this._disposables=new c.SL,this._disposables.add(t.onDidShow((()=>this._onItem(t.getFocusedItem())))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType((n=>{if(this._active&&!t.isFrozen()){const t=n.charCodeAt(n.length-1);this._active.acceptCharacters.has(t)&&e.getOption(0)&&i(this._active.item)}})))}_onItem(e){if(!e||!(0,o.Of)(e.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===e.item)return;const t=new M.q;for(const i of e.item.completion.commitCharacters)i.length>0&&t.add(i.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var P=i(7295),O=i(3860),V=i(4319),F=i(4477),W=i(4972),z=i(3108),B=i(829),U=i(4961),H=i(1922),G=function(e,t){return function(i,n){t(i,n,e)}};class j{constructor(e,t,i,n,o){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=i,this.shy=n,this.noSelect=o}static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),i=e.getPosition();t.tokenization.tokenizeIfCheap(i.lineNumber);const n=t.getWordAtPosition(i);return!!n&&n.endColumn===i.column&&!!isNaN(Number(n.word))}}let K=class e{constructor(e,t,i,n,o,r,a,d){this._editor=e,this._editorWorkerService=t,this._clipboardService=i,this._telemetryService=n,this._logService=o,this._contextKeyService=r,this._configurationService=a,this._languageFeaturesService=d,this._toDispose=new c.SL,this._triggerCharacterListener=new c.SL,this._triggerQuickSuggest=new s._F,this._state=0,this._completionDisposables=new c.SL,this._onDidCancel=new l.Q5,this._onDidTrigger=new l.Q5,this._onDidSuggest=new l.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new O.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel((()=>{this._updateTriggerCharacters(),this.cancel()}))),this._toDispose.add(this._editor.onDidChangeModelLanguage((()=>{this._updateTriggerCharacters(),this.cancel()}))),this._toDispose.add(this._editor.onDidChangeConfiguration((()=>{this._updateTriggerCharacters()}))),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange((()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})));let h=!1;this._toDispose.add(this._editor.onDidCompositionStart((()=>{h=!0}))),this._toDispose.add(this._editor.onDidCompositionEnd((()=>{h=!1,this._onCompositionEnd()}))),this._toDispose.add(this._editor.onDidChangeCursorSelection((e=>{h||this._onCursorChange(e)}))),this._toDispose.add(this._editor.onDidChangeModelContent((()=>{h||this._refilterCompletionItems()}))),this._updateTriggerCharacters()}dispose(){(0,c.B9)(this._triggerCharacterListener),(0,c.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(83)||!this._editor.hasModel()||!this._editor.getOption(111))return;const e=new Map;for(const t of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const i of t.triggerCharacters||[]){let n=e.get(i);n||(n=new Set,n.add((0,A.ZJ)()),e.set(i,n)),n.add(t)}const t=t=>{if(!function(e,t,i){if(!Boolean(t.getContextKeyValue("inlineSuggestionVisible")))return!0;const n=i.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return void 0!==n&&Boolean(n)}(this._editor,this._contextKeyService,this._configurationService))return;if(j.shouldAutoTrigger(this._editor))return;if(!t){const e=this._editor.getPosition();t=this._editor.getModel().getLineContent(e.lineNumber).substr(0,e.column-1)}let i="";(0,P.YK)(t.charCodeAt(t.length-1))?(0,P.ZG)(t.charCodeAt(t.length-2))&&(i=t.substr(t.length-2)):i=t.charAt(t.length-1);const n=e.get(i);if(n){const e=this._completionModel?{items:this._completionModel.adopt(n),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,noSelect:!1,triggerCharacter:i},Boolean(this._completionModel),n,e)}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd((()=>t())))}get state(){return this._state}cancel(e=!1){var t;0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(t=this._requestToken)||void 0===t||t.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1,noSelect:!1},!0):this.cancel())}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._currentSelection;this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||0!==e.reason&&3!==e.reason||"keyboard"!==e.source&&"deleteLeft"!==e.source?this.cancel():0===this._state&&0===e.reason?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():0!==this._state&&3===e.reason&&this._refilterCompletionItems()}_onCompositionEnd(){0===this._state?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var e;A.tG.isAllOff(this._editor.getOption(81))||this._editor.getOption(108).snippetsPreventQuickSuggestions&&(null===(e=C.SnippetController2.get(this._editor))||void 0===e?void 0:e.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet((()=>{if(0!==this._state)return;if(!j.shouldAutoTrigger(this._editor))return;if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const e=this._editor.getModel(),t=this._editor.getPosition(),i=this._editor.getOption(81);if(!A.tG.isAllOff(i)){if(!A.tG.isAllOn(i)){e.tokenization.tokenizeIfCheap(t.lineNumber);const n=e.tokenization.getLineTokens(t.lineNumber),o=n.getStandardTokenType(n.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if("on"!==A.tG.valueFor(i,o))return}(function(e,t,i){if(!Boolean(t.getContextKeyValue("inlineSuggestionVisible")))return!0;const n=i.getValue("editor.inlineSuggest.allowQuickSuggestions");return void 0!==n&&Boolean(n)})(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(e)&&this.trigger({auto:!0,shy:!1,noSelect:!1})}}),this._editor.getOption(82)))}_refilterCompletionItems(){Promise.resolve().then((()=>{if(0===this._state)return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),i=new j(e,t,2===this._state,!1,!1);this._onNewContext(i)}))}trigger(t,i=!1,n,o,s){var l;if(!this._editor.hasModel())return;const d=this._editor.getModel(),c=t.auto,h=new j(d,this._editor.getPosition(),c,t.shy,t.noSelect);this.cancel(i),this._state=c?2:1,this._onDidTrigger.fire({auto:c,shy:t.shy,position:this._editor.getPosition()}),this._context=h;let u={triggerKind:null!==(l=t.triggerKind)&&void 0!==l?l:0};t.triggerCharacter&&(u={triggerKind:1,triggerCharacter:t.triggerCharacter}),this._requestToken=new r.A;const g=this._editor.getOption(103);let p=1;switch(g){case"top":p=0;break;case"bottom":p=2}const{itemKind:m,showDeprecated:f}=e._createSuggestFilter(this._editor),v=new A.A9(p,s?new Set:m,n,f),_=F.K.create(this._editorWorkerService,this._editor),b=(0,A.kL)(this._languageFeaturesService.completionProvider,d,this._editor.getPosition(),v,u,this._requestToken.token);Promise.all([b,_]).then((([e,i])=>{return n=this,s=void 0,a=function*(){var n;if(null===(n=this._requestToken)||void 0===n||n.dispose(),!this._editor.hasModel())return;let s=null==o?void 0:o.clipboardText;if(!s&&e.needsClipboard&&(s=yield this._clipboardService.readText()),0===this._state)return;const r=this._editor.getModel();let a=e.items;if(o){const e=(0,A.wg)(p);a=a.concat(o.items).sort(e)}const l=new j(r,this._editor.getPosition(),c,t.shy,t.noSelect);this._completionModel=new U._(a,this._context.column,{leadingLineContent:l.leadingLineContent,characterCountDelta:l.column-this._context.column},i,this._editor.getOption(108),this._editor.getOption(103),void 0,s),this._completionDisposables.add(e.disposable),this._onNewContext(l),this._reportDurationsTelemetry(e.durations)},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{l(a.next(e))}catch(e){t(e)}}function o(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,o)}l((a=a.apply(n,s||[])).next())}));var n,s,r,a})).catch(a.dL)}_reportDurationsTelemetry(e){this._telemetryGate++%230==0&&setTimeout((()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)}))}static _createSuggestFilter(e){const t=new Set;"none"===e.getOption(103)&&t.add(27);const i=e.getOption(108);return i.showMethods||t.add(0),i.showFunctions||t.add(1),i.showConstructors||t.add(2),i.showFields||t.add(3),i.showVariables||t.add(4),i.showClasses||t.add(5),i.showStructs||t.add(6),i.showInterfaces||t.add(7),i.showModules||t.add(8),i.showProperties||t.add(9),i.showEvents||t.add(10),i.showOperators||t.add(11),i.showUnits||t.add(12),i.showValues||t.add(13),i.showConstants||t.add(14),i.showEnums||t.add(15),i.showEnumMembers||t.add(16),i.showKeywords||t.add(17),i.showWords||t.add(18),i.showColors||t.add(19),i.showFiles||t.add(20),i.showReferences||t.add(21),i.showColors||t.add(22),i.showFolders||t.add(23),i.showTypeParameters||t.add(24),i.showSnippets||t.add(27),i.showUsers||t.add(25),i.showIssues||t.add(26),{itemKind:t,showDeprecated:i.showDeprecated}}_onNewContext(e){if(this._context)if(e.lineNumber===this._context.lineNumber)if((0,P.V8)(e.leadingLineContent)===(0,P.V8)(this._context.leadingLineContent)){if(e.column<this._context.column)e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0):this.cancel();else if(this._completionModel)if(0!==e.leadingWord.word.length&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){const e=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(const t of this._completionModel.allProvider)e.delete(t);const t=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0,e,{items:t,clipboardText:this._completionModel.clipboardText})}else if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==e.leadingWord.word.length){const{incomplete:e}=this._completionModel,t=this._completionModel.adopt(e);this.trigger({auto:2===this._state,shy:!1,noSelect:!1,triggerKind:2},!0,e,{items:t,clipboardText:this._completionModel.clipboardText})}else{const t=this._completionModel.lineContext;let i=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},0===this._completionModel.items.length){if(j.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=t,i=this._completionModel.items.length>0,i&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,noSelect:this._context.noSelect,isFrozen:i})}}else this.cancel();else this.cancel()}};K=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([G(1,V.p),G(2,W.p),G(3,B.b),G(4,E.VZ),G(5,S.i6),G(6,z.Ui),G(7,H.p)],K);class ${constructor(e,t){this._disposables=new c.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(e.onWillType((()=>{if(!this._empty)return;if(!e.hasModel())return;const t=e.getSelections(),i=t.length;let n=!1;for(let e=0;e<i;e++)if(!t[e].isEmpty()){n=!0;break}if(!n)return;this._lastOvertyped=[];const o=e.getModel();for(let e=0;e<i;e++){const i=t[e];if(o.getValueLengthInRange(i)>$._maxSelectionLength)return;this._lastOvertyped[e]={value:o.getValueInRange(i),multiline:i.startLineNumber!==i.endLineNumber}}this._empty=!1}))),this._disposables.add(t.onDidCancel((e=>{this._empty||e.retrigger||(this._empty=!0)})))}getLastOvertypedInfo(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}$._maxSelectionLength=51200;var q=i(5321),Y=(i(8609),i(3799)),Q=i(9870),Z=i(4527),J=i(317),X=i(8335),ee=i(4144),te=function(e,t){return function(i,n){t(i,n,e)}};class ie extends X.Mm{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=(0,I.NC)("ddd","{0} ({1})",this._action.label,ie.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return null===(t=e.getLabel())||void 0===t?void 0:t.replace(/\benter\b/gi,"")}}let ne=class{constructor(e,t,i,n){this._menuService=i,this._contextKeyService=n,this._menuDisposables=new c.SL,this.element=q.R3(e,q.$(".suggest-status-bar"));const o=e=>e instanceof ee.U8?t.createInstance(ie,e,void 0):void 0;this._leftActions=new J.o(this.element,{actionViewItemProvider:o}),this._rightActions=new J.o(this.element,{actionViewItemProvider:o}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(A.GI,this._contextKeyService),t=()=>{const t=[],i=[];for(const[n,o]of e.getActions())"left"===n?t.push(...o):i.push(...o);this._leftActions.clear(),this._leftActions.push(t),this._rightActions.clear(),this._rightActions.push(i)};this._menuDisposables.add(e.onDidChange((()=>t()))),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};ne=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([te(1,N.TG),te(2,ee.co),te(3,S.i6)],ne),i(1713);var oe=i(6904),se=i(3910),re=i(8810),ae=i(2321),le=i(7781),de=i(3098);class ce{constructor(){let e;this._onDidWillResize=new l.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new l.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new c.SL,this._size=new q.Ro(0,0),this._minSize=new q.Ro(0,0),this._maxSize=new q.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new de.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new de.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new de.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:de.l.North}),this._southSash=new de.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:de.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let t=0,i=0;this._sashListener.add(l.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)((()=>{void 0===e&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)}))),this._sashListener.add(l.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)((()=>{void 0!==e&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))}))),this._sashListener.add(this._eastSash.onDidChange((n=>{e&&(i=n.currentX-n.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))}))),this._sashListener.add(this._westSash.onDidChange((n=>{e&&(i=-(n.currentX-n.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))}))),this._sashListener.add(this._northSash.onDidChange((n=>{e&&(t=-(n.currentY-n.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))}))),this._sashListener.add(this._southSash.onDidChange((n=>{e&&(t=n.currentY-n.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))}))),this._sashListener.add(l.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)((e=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))),this._sashListener.add(l.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)((e=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))})))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,n){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=n?3:0}layout(e=this.size.height,t=this.size.width){const{height:i,width:n}=this._minSize,{height:o,width:s}=this._maxSize;e=Math.max(i,Math.min(o,e)),t=Math.max(n,Math.min(s,t));const r=new q.Ro(t,e);q.Ro.equals(r,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=r,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}var he=i(9802),ue=i(3046),ge=i(9365),pe=i(8598);function me(e){return!!e&&Boolean(e.completion.documentation||e.completion.detail&&e.completion.detail!==e.completion.label)}let fe=class{constructor(e,t){this._editor=e,this._onDidClose=new l.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new l.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new c.SL,this._renderDisposeable=new c.SL,this._borderWidth=1,this._size=new q.Ro(330,0),this.domNode=q.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(pe.$,{editor:e}),this._body=q.$(".body"),this._scrollbar=new he.s$(this._body,{alwaysConsumeMouseWheel:!0}),q.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=q.R3(this._body,q.$(".header")),this._close=q.R3(this._header,q.$("span"+ue.lA.close.cssSelector)),this._close.title=I.NC("details.close","Close"),this._type=q.R3(this._header,q.$("p.type")),this._docs=q.R3(this._body,q.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(46)&&this._configureFont()})))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(46),i=t.getMassagedFontFamily(),n=e.get(109)||t.fontSize,o=e.get(110)||t.lineHeight,s=t.fontWeight,r=`${n}px`,a=`${o}px`;this.domNode.style.fontSize=r,this.domNode.style.lineHeight=""+o/n,this.domNode.style.fontWeight=s,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=a,this._close.style.width=a}getLayoutInfo(){const e=this._editor.getOption(110)||this._editor.getOption(46).lineHeight,t=this._borderWidth;return{lineHeight:e,borderWidth:t,borderHeight:2*t,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=I.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(e,t){var i,n;this._renderDisposeable.clear();let{detail:o,documentation:s}=e.completion;if(t){let t="";t+=`score: ${e.score[0]}\n`,t+=`prefix: ${null!==(i=e.word)&&void 0!==i?i:"(no prefix)"}\n`,t+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}\n`,t+=`distance: ${e.distance} (localityBonus-setting)\n`,t+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}\n`,t+=`commit_chars: ${null===(n=e.completion.commitCharacters)||void 0===n?void 0:n.join("")}\n`,s=(new ge.W5).appendCodeblock("empty",t),o=`Provider: ${e.provider._debugDisplayName}`}if(t||me(e)){if(this.domNode.classList.remove("no-docs","no-type"),o){const e=o.length>1e5?`${o.substr(0,1e5)}`:o;this._type.textContent=e,this._type.title=e,q.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(e))}else q.PO(this._type),this._type.title="",q.Cp(this._type),this.domNode.classList.add("no-type");if(q.PO(this._docs),"string"==typeof s)this._docs.classList.remove("markdown-docs"),this._docs.textContent=s;else if(s){this._docs.classList.add("markdown-docs"),q.PO(this._docs);const e=this._markdownRenderer.render(s);this._docs.appendChild(e.element),this._renderDisposeable.add(e),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync((()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)})))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=e=>{e.preventDefault(),e.stopPropagation()},this._close.onclick=e=>{e.preventDefault(),e.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){const i=new q.Ro(e,t);q.Ro.equals(i,this._size)||(this._size=i,q.dp(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};fe=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,N.TG)],fe);class ve{constructor(e,t){let i,n;this.widget=e,this._editor=t,this._disposables=new c.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new ce,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let o=0,s=0;this._disposables.add(this._resizable.onDidWillResize((()=>{i=this._topLeft,n=this._resizable.size}))),this._disposables.add(this._resizable.onDidResize((e=>{if(i&&n){this.widget.layout(e.dimension.width,e.dimension.height);let t=!1;e.west&&(s=n.width-e.dimension.width,t=!0),e.north&&(o=n.height-e.dimension.height,t=!0),t&&this._applyTopLeft({top:i.top+o,left:i.left+s})}e.done&&(i=void 0,n=void 0,o=0,s=0,this._userSize=e.dimension)}))),this._disposables.add(this.widget.onDidChangeContents((()=>{var e;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(e=this._userSize)&&void 0!==e?e:this.widget.size,this._preferAlignAtTop)})))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){var i;const n=e.getBoundingClientRect();this._anchorBox=n,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,null!==(i=this._userSize)&&void 0!==i?i:this.widget.size,t)}_placeAtAnchor(e,t,i){var n;const o=q.D6(document.body),s=this.widget.getLayoutInfo(),r=new q.Ro(220,2*s.lineHeight),a=e.top,l=function(){const i=o.width-(e.left+e.width+s.borderWidth+s.horizontalPadding),n=-s.borderWidth+e.left+e.width,l=new q.Ro(i,o.height-e.top-s.borderHeight-s.verticalPadding),d=l.with(void 0,e.top+e.height-s.borderHeight-s.verticalPadding);return{top:a,left:n,fit:i-t.width,maxSizeTop:l,maxSizeBottom:d,minSize:r.with(Math.min(i,r.width))}}(),d=[l,function(){const i=e.left-s.borderWidth-s.horizontalPadding,n=Math.max(s.horizontalPadding,e.left-t.width-s.borderWidth),l=new q.Ro(i,o.height-e.top-s.borderHeight-s.verticalPadding),d=l.with(void 0,e.top+e.height-s.borderHeight-s.verticalPadding);return{top:a,left:n,fit:i-t.width,maxSizeTop:l,maxSizeBottom:d,minSize:r.with(Math.min(i,r.width))}}(),function(){const i=e.left,n=-s.borderWidth+e.top+e.height,a=new q.Ro(e.width-s.borderHeight,o.height-e.top-e.height-s.verticalPadding);return{top:n,left:i,fit:a.height-t.height,maxSizeBottom:a,maxSizeTop:a,minSize:r.with(a.width)}}()],c=null!==(n=d.find((e=>e.fit>=0)))&&void 0!==n?n:d.sort(((e,t)=>t.fit-e.fit))[0],h=e.top+e.height-s.borderHeight;let u,g=t.height;const p=Math.max(c.maxSizeTop.height,c.maxSizeBottom.height);let m;g>p&&(g=p),i?g<=c.maxSizeTop.height?(u=!0,m=c.maxSizeTop):(u=!1,m=c.maxSizeBottom):g<=c.maxSizeBottom.height?(u=!1,m=c.maxSizeBottom):(u=!0,m=c.maxSizeTop),this._applyTopLeft({left:c.left,top:u?c.top:h-g}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!u,c===l,u,c!==l),this._resizable.minSize=c.minSize,this._resizable.maxSize=m,this._resizable.layout(g,Math.min(m.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var _e,be=i(9834),Ce=i(5392),ye=i(666),we=i(6887),Se=i(6663),ke=i(5935),Le=i(8801);!function(e){e[e.FILE=0]="FILE",e[e.FOLDER=1]="FOLDER",e[e.ROOT_FOLDER=2]="ROOT_FOLDER"}(_e||(_e={}));const xe=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function Ie(e,t,i,n){const o=n===_e.ROOT_FOLDER?["rootfolder-icon"]:n===_e.FOLDER?["folder-icon"]:["file-icon"];if(i){let s;if(i.scheme===Se.lg.data)s=ke.Vb.parseMetaData(i).get(ke.Vb.META_DATA_LABEL);else{const e=i.path.match(xe);e?(s=De(e[2].toLowerCase()),e[1]&&o.push(`${De(e[1].toLowerCase())}-name-dir-icon`)):s=De(i.authority.toLowerCase())}if(n===_e.FOLDER)o.push(`${s}-name-folder-icon`);else{if(s){if(o.push(`${s}-name-file-icon`),o.push("name-file-icon"),s.length<=255){const e=s.split(".");for(let t=1;t<e.length;t++)o.push(`${e.slice(t).join(".")}-ext-file-icon`)}o.push("ext-file-icon")}const n=function(e,t,i){if(!i)return null;let n=null;if(i.scheme===Se.lg.data){const e=ke.Vb.parseMetaData(i).get(ke.Vb.META_DATA_MIME);e&&(n=t.getLanguageIdByMimeType(e))}else{const t=e.getModel(i);t&&(n=t.getLanguageId())}return n&&n!==Le.bd?n:t.guessLanguageIdByFilepathOrFirstLine(i)}(e,t,i);n&&o.push(`${De(n)}-lang-file-icon`)}}return o}function De(e){return e.replace(/[\11\12\14\15\40]/g,"/")}var Ne,Ee=i(3733),Ae=i(2042),Te=function(e,t){return function(i,n){t(i,n,e)}};function Me(e){return`suggest-aria-id:${e}`}const Re=(0,i(9554).q5)("suggest-more-info",ue.lA.chevronRight,I.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),Pe=new((Ne=class e{extract(t,i){if(t.textLabel.match(e._regexStrict))return i[0]=t.textLabel,!0;if(t.completion.detail&&t.completion.detail.match(e._regexStrict))return i[0]=t.completion.detail,!0;if("string"==typeof t.completion.documentation){const n=e._regexRelaxed.exec(t.completion.documentation);if(n&&(0===n.index||n.index+n[0].length===t.completion.documentation.length))return i[0]=n[0],!0}return!1}})._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Ne._regexStrict=new RegExp(`^${Ne._regexRelaxed.source}$`,"i"),Ne);let Oe=class{constructor(e,t,i,n){this._editor=e,this._modelService=t,this._languageService=i,this._themeService=n,this._onDidToggleDetails=new l.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=Object.create(null);t.disposables=new c.SL,t.root=e,t.root.classList.add("show-file-icons"),t.icon=(0,q.R3)(e,(0,q.$)(".icon")),t.colorspan=(0,q.R3)(t.icon,(0,q.$)("span.colorspan"));const i=(0,q.R3)(e,(0,q.$)(".contents")),n=(0,q.R3)(i,(0,q.$)(".main"));t.iconContainer=(0,q.R3)(n,(0,q.$)(".icon-label.codicon")),t.left=(0,q.R3)(n,(0,q.$)("span.left")),t.right=(0,q.R3)(n,(0,q.$)("span.right")),t.iconLabel=new be.g(t.left,{supportHighlights:!0,supportIcons:!0}),t.disposables.add(t.iconLabel),t.parametersLabel=(0,q.R3)(t.left,(0,q.$)("span.signature-label")),t.qualifierLabel=(0,q.R3)(t.left,(0,q.$)("span.qualifier-label")),t.detailsLabel=(0,q.R3)(t.right,(0,q.$)("span.details-label")),t.readMore=(0,q.R3)(t.right,(0,q.$)("span.readMore"+le.kS.asCSSSelector(Re))),t.readMore.title=I.NC("readMore","Read More");const o=()=>{const e=this._editor.getOptions(),i=e.get(46),o=i.getMassagedFontFamily(),s=i.fontFeatureSettings,r=e.get(109)||i.fontSize,a=e.get(110)||i.lineHeight,l=i.fontWeight,d=`${r}px`,c=`${a}px`,h=`${i.letterSpacing}px`;t.root.style.fontSize=d,t.root.style.fontWeight=l,t.root.style.letterSpacing=h,n.style.fontFamily=o,n.style.fontFeatureSettings=s,n.style.lineHeight=c,t.icon.style.height=c,t.icon.style.width=c,t.readMore.style.height=c,t.readMore.style.width=c};return o(),t.disposables.add(this._editor.onDidChangeConfiguration((e=>{(e.hasChanged(46)||e.hasChanged(109)||e.hasChanged(110))&&o()}))),t}renderElement(e,t,i){const{completion:n}=e;i.root.id=Me(t),i.colorspan.style.backgroundColor="";const o={labelEscapeNewLines:!0,matches:(0,Ce.mB)(e.score)},s=[];if(19===n.kind&&Pe.extract(e,s))i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=s[0];else if(20===n.kind&&this._themeService.getFileIconTheme().hasFileIcons){i.icon.className="icon hide",i.iconContainer.className="icon hide";const t=Ie(this._modelService,this._languageService,ye.o.from({scheme:"fake",path:e.textLabel}),_e.FILE),s=Ie(this._modelService,this._languageService,ye.o.from({scheme:"fake",path:n.detail}),_e.FILE);o.extraClasses=t.length>s.length?t:s}else 23===n.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",o.extraClasses=[Ie(this._modelService,this._languageService,ye.o.from({scheme:"fake",path:e.textLabel}),_e.FOLDER),Ie(this._modelService,this._languageService,ye.o.from({scheme:"fake",path:n.detail}),_e.FOLDER)].flat()):(i.icon.className="icon hide",i.iconContainer.className="",i.iconContainer.classList.add("suggest-icon",...ue.dT.asClassNameArray(we.gX.toIcon(n.kind))));n.tags&&n.tags.indexOf(1)>=0&&(o.extraClasses=(o.extraClasses||[]).concat(["deprecated"]),o.matches=[]),i.iconLabel.setLabel(e.textLabel,void 0,o),"string"==typeof n.label?(i.parametersLabel.textContent="",i.detailsLabel.textContent=Ve(n.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=Ve(n.label.detail||""),i.detailsLabel.textContent=Ve(n.label.description||""),i.root.classList.remove("string-label")),this._editor.getOption(108).showInlineDetails?(0,q.$Z)(i.detailsLabel):(0,q.Cp)(i.detailsLabel),me(e)?(i.right.classList.add("can-expand-details"),(0,q.$Z)(i.readMore),i.readMore.onmousedown=e=>{e.stopPropagation(),e.preventDefault()},i.readMore.onclick=e=>{e.stopPropagation(),e.preventDefault(),this._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),(0,q.Cp)(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};function Ve(e){return e.replace(/\r\n|\r|\n/g,"")}Oe=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Te(1,Ee.q),Te(2,Ae.O),Te(3,le.XE)],Oe);var Fe=function(e,t){return function(i,n){t(i,n,e)}};(0,se.P6G)("editorSuggestWidget.background",{dark:se.D0T,light:se.D0T,hcDark:se.D0T,hcLight:se.D0T},I.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,se.P6G)("editorSuggestWidget.border",{dark:se.D1_,light:se.D1_,hcDark:se.D1_,hcLight:se.D1_},I.NC("editorSuggestWidgetBorder","Border color of the suggest widget."));const We=(0,se.P6G)("editorSuggestWidget.foreground",{dark:se.NOs,light:se.NOs,hcDark:se.NOs,hcLight:se.NOs},I.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),ze=((0,se.P6G)("editorSuggestWidget.selectedForeground",{dark:se.NPS,light:se.NPS,hcDark:se.NPS,hcLight:se.NPS},I.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,se.P6G)("editorSuggestWidget.selectedIconForeground",{dark:se.cbQ,light:se.cbQ,hcDark:se.cbQ,hcLight:se.cbQ},I.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),(0,se.P6G)("editorSuggestWidget.selectedBackground",{dark:se.Vqd,light:se.Vqd,hcDark:se.Vqd,hcLight:se.Vqd},I.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")));(0,se.P6G)("editorSuggestWidget.highlightForeground",{dark:se.Gwp,light:se.Gwp,hcDark:se.Gwp,hcLight:se.Gwp},I.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,se.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:se.PX0,light:se.PX0,hcDark:se.PX0,hcLight:se.PX0},I.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,se.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,se.ZnX)(We,.5),light:(0,se.ZnX)(We,.5),hcDark:(0,se.ZnX)(We,.5),hcLight:(0,se.ZnX)(We,.5)},I.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class Be{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof Z.H}`}restore(){var e;const t=null!==(e=this._service.get(this._key,0))&&void 0!==e?e:"";try{const e=JSON.parse(t);if(q.Ro.is(e))return q.Ro.lift(e)}catch(e){}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let Ue=class e{constructor(e,t,i,n,o){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new s._F,this._disposables=new c.SL,this._onDidSelect=new l.Q5,this._onDidFocus=new l.Q5,this._onDidHide=new l.Q5,this._onDidShow=new l.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new l.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new ce,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new He(this,e),this._persistedSize=new Be(t,e);class r{constructor(e,t,i=!1,n=!1){this.persistedSize=e,this.currentSize=t,this.persistHeight=i,this.persistWidth=n}}let a;this._disposables.add(this.element.onDidWillResize((()=>{this._contentWidget.lockPreference(),a=new r(this._persistedSize.restore(),this.element.size)}))),this._disposables.add(this.element.onDidResize((e=>{var t,i,n,o;if(this._resize(e.dimension.width,e.dimension.height),a&&(a.persistHeight=a.persistHeight||!!e.north||!!e.south,a.persistWidth=a.persistWidth||!!e.east||!!e.west),e.done){if(a){const{itemHeight:e,defaultSize:s}=this.getLayoutInfo(),r=Math.round(e/2);let{width:l,height:d}=this.element.size;(!a.persistHeight||Math.abs(a.currentSize.height-d)<=r)&&(d=null!==(i=null===(t=a.persistedSize)||void 0===t?void 0:t.height)&&void 0!==i?i:s.height),(!a.persistWidth||Math.abs(a.currentSize.width-l)<=r)&&(l=null!==(o=null===(n=a.persistedSize)||void 0===n?void 0:n.width)&&void 0!==o?o:s.width),this._persistedSize.store(new q.Ro(l,d))}this._contentWidget.unlockPreference(),a=void 0}}))),this._messageElement=q.R3(this.element.domNode,q.$(".message")),this._listElement=q.R3(this.element.domNode,q.$(".tree"));const d=o.createInstance(fe,this.editor);d.onDidClose(this.toggleDetails,this,this._disposables),this._details=new ve(d,this.editor);const h=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(108).showIcons);h();const u=o.createInstance(Oe,this.editor);this._disposables.add(u),this._disposables.add(u.onDidToggleDetails((()=>this.toggleDetails()))),this._list=new Y.aV("SuggestWidget",this._listElement,{getHeight:e=>this.getLayoutInfo().itemHeight,getTemplateId:e=>"suggestion"},[u],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>I.NC("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:e=>{let t=e.textLabel;if("string"!=typeof e.completion.label){const{detail:i,description:n}=e.completion.label;i&&n?t=I.NC("label.full","{0}{1}, {2}",t,i,n):i?t=I.NC("label.detail","{0}{1}",t,i):n&&(t=I.NC("label.desc","{0}, {1}",t,n))}if(!e.isResolved||!this._isDetailsVisible())return t;const{documentation:i,detail:n}=e.completion,o=P.WU("{0}{1}",n||"",i?"string"==typeof i?i:i.value:"");return I.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",t,o)}}}),this._status=o.createInstance(ne,this.element.domNode);const g=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(108).showStatusBar);g(),this._disposables.add((0,re.Jl)(this._list,n,{listInactiveFocusBackground:ze,listInactiveFocusOutline:se.xL1})),this._disposables.add(n.onDidColorThemeChange((e=>this._onThemeChange(e)))),this._onThemeChange(n.getColorTheme()),this._disposables.add(this._list.onMouseDown((e=>this._onListMouseDownOrTap(e)))),this._disposables.add(this._list.onTap((e=>this._onListMouseDownOrTap(e)))),this._disposables.add(this._list.onDidChangeSelection((e=>this._onListSelection(e)))),this._disposables.add(this._list.onDidChangeFocus((e=>this._onListFocus(e)))),this._disposables.add(this.editor.onDidChangeCursorSelection((()=>this._onCursorSelectionChanged()))),this._disposables.add(this.editor.onDidChangeConfiguration((e=>{e.hasChanged(108)&&(g(),h())}))),this._ctxSuggestWidgetVisible=A._y.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=A._y.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=A._y.MultipleSuggestions.bindTo(i),this._ctxSuggestWidgetHasFocusedSuggestion=A._y.HasFocusedSuggestion.bindTo(i),this._disposables.add(q.mu(this._details.widget.domNode,"keydown",(e=>{this._onDetailsKeydown.fire(e)}))),this._disposables.add(this.editor.onMouseDown((e=>this._onEditorMouseDown(e))))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(e){void 0!==e.element&&void 0!==e.index&&(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const i=this._completionModel;i&&(this._onDidSelect.fire({item:e,index:t,model:i}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth=(0,ae.c3)(e.type)?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),void this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const i=e.elements[0],n=e.indexes[0];i!==this._focusedItem&&(null===(t=this._currentSuggestionDetails)||void 0===t||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=i,this._list.reveal(n),this._currentSuggestionDetails=(0,s.PG)((e=>{return t=this,n=void 0,r=function*(){const t=(0,s.Vg)((()=>{this._isDetailsVisible()&&this.showDetails(!0)}),250),n=e.onCancellationRequested((()=>t.dispose())),o=yield i.resolve(e);return t.dispose(),n.dispose(),o},new((o=void 0)||(o=Promise))((function(e,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(s,a)}l((r=r.apply(t,n||[])).next())}));var t,n,o,r})),this._currentSuggestionDetails.then((()=>{n>=this._list.length||i!==this._list.element(n)||(this._ignoreFocusEvents=!0,this._list.splice(n,1,[i]),this._list.setFocus([n]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Me(n)}))})).catch(a.dL)),this._onDidFocus.fire({item:i,index:n,model:this._completionModel})}_setState(t){if(this._state!==t)switch(this._state=t,this.element.domNode.classList.toggle("frozen",4===t),this.element.domNode.classList.remove("message"),t){case 0:q.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.LOADING_MESSAGE,q.Cp(this._listElement,this._status.element),q.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.NO_SUGGESTIONS_MESSAGE,q.Cp(this._listElement,this._status.element),q.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:q.Cp(this._messageElement),q.$Z(this._listElement,this._status.element),this._show();break;case 5:q.Cp(this._messageElement),q.$Z(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet((()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)}),100)}showTriggered(e,t){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=(0,s.Vg)((()=>this._setState(1)),t)))}showSuggestions(e,t,i,n){var o,s;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(o=this._loadingTimeout)||void 0===o||o.dispose(),null===(s=this._currentSuggestionDetails)||void 0===s||s.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),i&&2!==this._state&&0!==this._state)return void this._setState(4);const r=this._completionModel.items.length,a=0===r;if(this._ctxSuggestWidgetMultipleSuggestions.set(r>1),a)return this._setState(n?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),t>=0&&(this._list.reveal(t,0),this._list.setFocus([t])),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):!me(this._list.getFocusedElements()[0])&&!this._explainMode||3!==this._state&&5!==this._state&&4!==this._state||(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const t=this._persistedSize.restore(),i=Math.ceil(4.3*this.getLayoutInfo().itemHeight);t&&t.height<i&&this._persistedSize.store(t.with(void 0,i))}isFrozen(){return 4===this._state}_afterRender(e){null!==e?2!==this._state&&1!==this._state&&(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(e){var t,i,n;if(!this.editor.hasModel())return;if(!this.editor.getDomNode())return;const o=q.D6(document.body),s=this.getLayoutInfo();e||(e=s.defaultSize);let r=e.height,a=e.width;if(this._status.element.style.lineHeight=`${s.itemHeight}px`,2===this._state||1===this._state)r=s.itemHeight+s.borderHeight,a=s.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new q.Ro(a,r),this._contentWidget.setPreference(2);else{const l=o.width-s.borderHeight-2*s.horizontalPadding;a>l&&(a=l);const d=this._completionModel?this._completionModel.stats.pLabelLen*s.typicalHalfwidthCharacterWidth:a,c=s.statusBarHeight+this._list.contentHeight+s.borderHeight,h=s.itemHeight+s.statusBarHeight,u=q.i(this.editor.getDomNode()),g=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),p=u.top+g.top+g.height,m=Math.min(o.height-p-s.verticalPadding,c),f=u.top+g.top-s.verticalPadding,v=Math.min(f,c);let _=Math.min(Math.max(v,m)+s.borderHeight,c);r===(null===(t=this._cappedHeight)||void 0===t?void 0:t.capped)&&(r=this._cappedHeight.wanted),r<h&&(r=h),r>_&&(r=_);const b=150;r>m||this._forceRenderingAbove&&f>b?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),_=v):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),_=m),this.element.preferredSize=new q.Ro(d,s.defaultSize.height),this.element.maxSize=new q.Ro(l,_),this.element.minSize=new q.Ro(220,h),this._cappedHeight=r===c?{wanted:null!==(n=null===(i=this._cappedHeight)||void 0===i?void 0:i.wanted)&&void 0!==n?n:e.height,capped:r}:void 0}this._resize(a,r)}_resize(e,t){const{width:i,height:n}=this.element.maxSize;e=Math.min(i,e),t=Math.min(n,t);const{statusBarHeight:o}=this.getLayoutInfo();this._list.layout(t-o,e),this._listElement.style.height=t-o+"px",this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,2===(null===(e=this._contentWidget.getPosition())||void 0===e?void 0:e.preference[0]))}getLayoutInfo(){const e=this.editor.getOption(46),t=(0,Q.uZ)(this.editor.getOption(110)||e.lineHeight,8,1e3),i=this.editor.getOption(108).showStatusBar&&2!==this._state&&1!==this._state?t:0,n=this._details.widget.borderWidth,o=2*n;return{itemHeight:t,statusBarHeight:i,borderWidth:n,borderHeight:o,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new q.Ro(430,i+12*t+o)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};Ue.LOADING_MESSAGE=I.NC("suggestWidget.loading","Loading..."),Ue.NO_SUGGESTIONS_MESSAGE=I.NC("suggestWidget.noSuggestions","No suggestions."),Ue=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Fe(1,oe.Uy),Fe(2,S.i6),Fe(3,le.XE),Fe(4,N.TG)],Ue);class He{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:i,horizontalPadding:n}=this._widget.getLayoutInfo();return new q.Ro(t+2*i+n,e+2*i)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}var Ge=i(9954),je=function(e,t){return function(i,n){t(i,n,e)}};class Ke{constructor(e,t){if(this._model=e,this._position=t,e.getLineMaxColumn(t.lineNumber)!==t.column){const i=e.getOffsetAt(t),n=e.getPositionAt(i+1);this._marker=e.deltaDecorations([],[{range:_.e.fromPositions(t,n),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let $e=class e{constructor(e,t,i,n,o,r,a){this._memoryService=t,this._commandService=i,this._contextKeyService=n,this._instantiationService=o,this._logService=r,this._telemetryService=a,this._lineSuffix=new c.XK,this._toDispose=new c.SL,this._selectors=new qe((e=>e.priority)),this._telemetryGate=0,this.editor=e,this.model=o.createInstance(K,this.editor);const l=A._y.InsertMode.bindTo(n);l.set(e.getOption(108).insertMode),this.model.onDidTrigger((()=>l.set(e.getOption(108).insertMode))),this.widget=this._toDispose.add(new s.Ue((()=>{const e=this._instantiationService.createInstance(Ue,this.editor);this._toDispose.add(e),this._toDispose.add(e.onDidSelect((e=>this._insertSuggestion(e,0)),this));const t=new R(this.editor,e,(e=>this._insertSuggestion(e,2)));this._toDispose.add(t),this._toDispose.add(this.model.onDidSuggest((e=>{0===e.completionModel.items.length&&t.reset()})));const i=A._y.MakesTextEdit.bindTo(this._contextKeyService),n=A._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),o=A._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,c.OF)((()=>{i.reset(),n.reset(),o.reset()}))),this._toDispose.add(e.onDidFocus((({item:e})=>{const t=this.editor.getPosition(),s=e.editStart.column,r=t.column;let a=!0;"smart"!==this.editor.getOption(1)||2!==this.model.state||e.completion.additionalTextEdits||4&e.completion.insertTextRules||r-s!==e.completion.insertText.length||(a=this.editor.getModel().getValueInRange({startLineNumber:t.lineNumber,startColumn:s,endLineNumber:t.lineNumber,endColumn:r})!==e.completion.insertText),i.set(a),n.set(!v.L.equals(e.editInsertEnd,e.editReplaceEnd)),o.set(Boolean(e.provider.resolveCompletionItem)||Boolean(e.completion.documentation)||e.completion.detail!==e.completion.label)}))),this._toDispose.add(e.onDetailsKeyDown((e=>{e.toKeybinding().equals(new d.QC(!0,!1,!1,!1,33))||h.dz&&e.toKeybinding().equals(new d.QC(!1,!1,!1,!0,33))?e.stopPropagation():e.toKeybinding().isModifierKey()||this.editor.focus()}))),e}))),this._overtypingCapturer=this._toDispose.add(new s.Ue((()=>this._toDispose.add(new $(this.editor,this.model))))),this._alternatives=this._toDispose.add(new s.Ue((()=>this._toDispose.add(new T(this.editor,this._contextKeyService))))),this._toDispose.add(o.createInstance(k,e)),this._toDispose.add(this.model.onDidTrigger((e=>{this.widget.value.showTriggered(e.auto,e.shy?250:50),this._lineSuffix.value=new Ke(this.editor.getModel(),e.position)}))),this._toDispose.add(this.model.onDidSuggest((e=>{if(e.shy)return;let t=-1;if(!e.noSelect){for(const i of this._selectors.itemsOrderedByPriorityDesc)if(t=i.select(this.editor.getModel(),this.editor.getPosition(),e.completionModel.items),-1!==t)break;-1===t&&(t=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),e.completionModel.items))}this.widget.value.showSuggestions(e.completionModel,t,e.isFrozen,e.auto)}))),this._toDispose.add(this.model.onDidCancel((e=>{e.retrigger||this.widget.value.hideWidget()}))),this._toDispose.add(this.editor.onDidBlurEditorWidget((()=>{this.model.cancel(),this.model.clear()})));const u=A._y.AcceptSuggestionsOnEnter.bindTo(n),g=()=>{const e=this.editor.getOption(1);u.set("on"===e||"smart"===e)};this._toDispose.add(this.editor.onDidChangeConfiguration((()=>g()))),g()}static get(t){return t.getContribution(e.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const i=C.SnippetController2.get(this.editor);if(!i)return;const n=this.editor.getModel(),o=n.getAlternativeVersionId(),{item:s}=e,l=[],d=new r.A;1&t||this.editor.pushUndoStop();const c=this.getOverwriteInfo(s,Boolean(8&t));if(this._memoryService.memorize(n,this.editor.getPosition(),s),Array.isArray(s.completion.additionalTextEdits)){const e=p.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",s.completion.additionalTextEdits.map((e=>f.h.replaceMove(_.e.lift(e.range),e.text)))),e.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!s.isResolved){const e=new u.G(!0);let i;const o=n.onDidChangeContent((e=>{if(e.isFlush)return d.cancel(),void o.dispose();for(const t of e.changes){const e=_.e.getEndPosition(t.range);i&&!v.L.isBefore(e,i)||(i=e)}})),r=t;t|=2;let a=!1;const c=this.editor.onWillType((()=>{c.dispose(),a=!0,2&r||this.editor.pushUndoStop()}));l.push(s.resolve(d.token).then((()=>{if(!s.completion.additionalTextEdits||d.token.isCancellationRequested)return!1;if(i&&s.completion.additionalTextEdits.some((e=>v.L.isBefore(i,_.e.getStartPosition(e.range)))))return!1;a&&this.editor.pushUndoStop();const e=p.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",s.completion.additionalTextEdits.map((e=>f.h.replaceMove(_.e.lift(e.range),e.text)))),e.restoreRelativeVerticalPositionOfCursor(this.editor),!a&&2&r||this.editor.pushUndoStop(),!0})).then((t=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",e.elapsed(),t),o.dispose(),c.dispose()})))}let{insertText:h}=s.completion;4&s.completion.insertTextRules||(h=y.Yj.escape(h)),i.insert(h,{overwriteBefore:c.overwriteBefore,overwriteAfter:c.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&s.completion.insertTextRules),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&t||this.editor.pushUndoStop(),s.completion.command?s.completion.command.id===Ye.id?this.model.trigger({auto:!0,shy:!1,noSelect:!1},!0):(l.push(this._commandService.executeCommand(s.completion.command.id,...s.completion.command.arguments?[...s.completion.command.arguments]:[]).catch(a.dL)),this.model.cancel()):this.model.cancel(),4&t&&this._alternatives.value.set(e,(e=>{for(d.cancel();n.canUndo();){o!==n.getAlternativeVersionId()&&n.undo(),this._insertSuggestion(e,3|(8&t?8:0));break}})),this._alertCompletionItem(s),Promise.all(l).finally((()=>{this._reportSuggestionAcceptedTelemetry(s,n,e),this.model.clear(),d.dispose()}))}_reportSuggestionAcceptedTelemetry(e,t,i){var n;if(this._telemetryGate++%100!=0)return;const o=e.extensionId?e.extensionId.value:(null!==(n=i.item.provider._debugDisplayName)&&void 0!==n?n:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:o,kind:e.completion.kind,basenameHash:(0,Ge.vp)((0,ke.EZ)(t.uri)).toString(16),languageId:t.getLanguageId(),fileExtension:(0,ke.DZ)(t.uri)})}getOverwriteInfo(e,t){(0,g.p_)(this.editor.hasModel());let i="replace"===this.editor.getOption(108).insertMode;t&&(i=!i);const n=e.position.column-e.editStart.column,o=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column;return{overwriteBefore:n+(this.editor.getPosition().column-e.position.column),overwriteAfter:o+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(e){if((0,o.Of)(e.completion.additionalTextEdits)){const t=I.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);(0,n.Z9)(t)}}triggerSuggest(e,t,i,n){this.editor.hasModel()&&(this.model.trigger({auto:null!=t&&t,shy:!1,noSelect:null!=n&&n},!1,e,void 0,i),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),i=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},n=e=>{if(4&e.completion.insertTextRules||e.completion.additionalTextEdits)return!0;const t=this.editor.getPosition(),i=e.editStart.column,n=t.column;return n-i!==e.completion.insertText.length||this.editor.getModel().getValueInRange({startLineNumber:t.lineNumber,startColumn:i,endLineNumber:t.lineNumber,endColumn:n})!==e.completion.insertText};l.ju.once(this.model.onDidTrigger)((e=>{const t=[];l.ju.any(this.model.onDidTrigger,this.model.onDidCancel)((()=>{(0,c.B9)(t),i()}),void 0,t),this.model.onDidSuggest((({completionModel:e})=>{if((0,c.B9)(t),0===e.items.length)return void i();const o=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),e.items),s=e.items[o];n(s)?(this.editor.pushUndoStop(),this._insertSuggestion({index:o,item:s,model:e},7)):i()}),void 0,t)})),this.model.trigger({auto:!1,shy:!0,noSelect:!1}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const i=this.widget.value.getFocusedItem();let n=0;e&&(n|=4),t&&(n|=8),this._insertSuggestion(i,n)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};$e.ID="editor.contrib.suggestController",$e=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([je(1,w.Fh),je(2,D.Hy),je(3,S.i6),je(4,N.TG),je(5,E.VZ),je(6,B.b)],$e);class qe{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(-1!==this._items.indexOf(e))throw new Error("Value is already registered");return this._items.push(e),this._items.sort(((e,t)=>this.prioritySelector(t)-this.prioritySelector(e))),{dispose:()=>{const t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class Ye extends m.R6{constructor(){super({id:Ye.id,label:I.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:S.Ao.and(b.u.writable,b.u.hasCompletionItemProvider),kbOpts:{kbExpr:b.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t,i){const n=$e.get(t);if(!n)return;let o,s;i&&"object"==typeof i&&(!0===i.auto&&(o=!0),!0===i.noSelection&&(s=!0)),n.triggerSuggest(void 0,o,void 0,s)}}Ye.id="editor.action.triggerSuggest",(0,m._K)($e.ID,$e),(0,m.Qr)(Ye);const Qe=190,Ze=m._l.bindToContribution($e.get);(0,m.fK)(new Ze({id:"acceptSelectedSuggestion",precondition:S.Ao.and(A._y.Visible,A._y.HasFocusedSuggestion),handler(e){e.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:S.Ao.and(A._y.Visible,b.u.textInputFocus),weight:Qe},{primary:3,kbExpr:S.Ao.and(A._y.Visible,b.u.textInputFocus,A._y.AcceptSuggestionsOnEnter,A._y.MakesTextEdit),weight:Qe}],menuOpts:[{menuId:A.GI,title:I.NC("accept.insert","Insert"),group:"left",order:1,when:A._y.HasInsertAndReplaceRange.toNegated()},{menuId:A.GI,title:I.NC("accept.insert","Insert"),group:"left",order:1,when:S.Ao.and(A._y.HasInsertAndReplaceRange,A._y.InsertMode.isEqualTo("insert"))},{menuId:A.GI,title:I.NC("accept.replace","Replace"),group:"left",order:1,when:S.Ao.and(A._y.HasInsertAndReplaceRange,A._y.InsertMode.isEqualTo("replace"))}]})),(0,m.fK)(new Ze({id:"acceptAlternativeSelectedSuggestion",precondition:S.Ao.and(A._y.Visible,b.u.textInputFocus,A._y.HasFocusedSuggestion),kbOpts:{weight:Qe,kbExpr:b.u.textInputFocus,primary:1027,secondary:[1026]},handler(e){e.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:A.GI,group:"left",order:2,when:S.Ao.and(A._y.HasInsertAndReplaceRange,A._y.InsertMode.isEqualTo("insert")),title:I.NC("accept.replace","Replace")},{menuId:A.GI,group:"left",order:2,when:S.Ao.and(A._y.HasInsertAndReplaceRange,A._y.InsertMode.isEqualTo("replace")),title:I.NC("accept.insert","Insert")}]})),D.P0.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,m.fK)(new Ze({id:"hideSuggestWidget",precondition:A._y.Visible,handler:e=>e.cancelSuggestWidget(),kbOpts:{weight:Qe,kbExpr:b.u.textInputFocus,primary:9,secondary:[1033]}})),(0,m.fK)(new Ze({id:"selectNextSuggestion",precondition:S.Ao.and(A._y.Visible,A._y.MultipleSuggestions),handler:e=>e.selectNextSuggestion(),kbOpts:{weight:Qe,kbExpr:b.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,m.fK)(new Ze({id:"selectNextPageSuggestion",precondition:S.Ao.and(A._y.Visible,A._y.MultipleSuggestions),handler:e=>e.selectNextPageSuggestion(),kbOpts:{weight:Qe,kbExpr:b.u.textInputFocus,primary:12,secondary:[2060]}})),(0,m.fK)(new Ze({id:"selectLastSuggestion",precondition:S.Ao.and(A._y.Visible,A._y.MultipleSuggestions),handler:e=>e.selectLastSuggestion()})),(0,m.fK)(new Ze({id:"selectPrevSuggestion",precondition:S.Ao.and(A._y.Visible,A._y.MultipleSuggestions),handler:e=>e.selectPrevSuggestion(),kbOpts:{weight:Qe,kbExpr:b.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,m.fK)(new Ze({id:"selectPrevPageSuggestion",precondition:S.Ao.and(A._y.Visible,A._y.MultipleSuggestions),handler:e=>e.selectPrevPageSuggestion(),kbOpts:{weight:Qe,kbExpr:b.u.textInputFocus,primary:11,secondary:[2059]}})),(0,m.fK)(new Ze({id:"selectFirstSuggestion",precondition:S.Ao.and(A._y.Visible,A._y.MultipleSuggestions),handler:e=>e.selectFirstSuggestion()})),(0,m.fK)(new Ze({id:"toggleSuggestionDetails",precondition:A._y.Visible,handler:e=>e.toggleSuggestionDetails(),kbOpts:{weight:Qe,kbExpr:b.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:A.GI,group:"right",order:1,when:S.Ao.and(A._y.DetailsVisible,A._y.CanResolve),title:I.NC("detail.more","show less")},{menuId:A.GI,group:"right",order:1,when:S.Ao.and(A._y.DetailsVisible.toNegated(),A._y.CanResolve),title:I.NC("detail.less","show more")}]})),(0,m.fK)(new Ze({id:"toggleExplainMode",precondition:A._y.Visible,handler:e=>e.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,m.fK)(new Ze({id:"toggleSuggestionFocus",precondition:A._y.Visible,handler:e=>e.toggleSuggestionFocus(),kbOpts:{weight:Qe,kbExpr:b.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,m.fK)(new Ze({id:"insertBestCompletion",precondition:S.Ao.and(b.u.textInputFocus,S.Ao.equals("config.editor.tabCompletion","on"),k.AtEnd,A._y.Visible.toNegated(),T.OtherSuggestions.toNegated(),C.SnippetController2.InSnippetMode.toNegated()),handler:(e,t)=>{e.triggerSuggestAndAcceptBest((0,g.Kn)(t)?Object.assign({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:Qe,primary:2}})),(0,m.fK)(new Ze({id:"insertNextSuggestion",precondition:S.Ao.and(b.u.textInputFocus,S.Ao.equals("config.editor.tabCompletion","on"),T.OtherSuggestions,A._y.Visible.toNegated(),C.SnippetController2.InSnippetMode.toNegated()),handler:e=>e.acceptNextSuggestion(),kbOpts:{weight:Qe,kbExpr:b.u.textInputFocus,primary:2}})),(0,m.fK)(new Ze({id:"insertPrevSuggestion",precondition:S.Ao.and(b.u.textInputFocus,S.Ao.equals("config.editor.tabCompletion","on"),T.OtherSuggestions,A._y.Visible.toNegated(),C.SnippetController2.InSnippetMode.toNegated()),handler:e=>e.acceptPrevSuggestion(),kbOpts:{weight:Qe,kbExpr:b.u.textInputFocus,primary:1026}})),(0,m.Qr)(class extends m.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:I.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(e,t){var i;null===(i=$e.get(t))||void 0===i||i.resetWidgetSize()}})},8088:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SuggestInlineCompletions:()=>w});var n=i(1050),o=i(5392),s=i(3725),r=i(5976),a=i(6830),l=i(1640),d=i(4314),c=i(1922),h=i(902),u=i(4961),g=i(5621),p=i(378),m=i(4477),f=i(4972),v=i(2065),_=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},b=function(e,t){return function(i,n){t(i,n,e)}};class C{constructor(e,t,i,n,o,s){this.range=e,this.insertText=t,this.filterText=i,this.additionalTextEdits=n,this.command=o,this.completion=s}}let y=class extends r.L6{constructor(e,t,i,n,o,s){super(o.disposable),this.model=e,this.line=t,this.word=i,this.completionModel=n,this._suggestMemoryService=s}canBeReused(e,t,i){return this.model===e&&this.line===t&&this.word.word.length>0&&this.word.startColumn===i.startColumn&&this.word.endColumn<i.endColumn&&0===this.completionModel.incomplete.size}get items(){var e;const t=[],{items:i}=this.completionModel,r=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},i),a=s.$.slice(i,r),l=s.$.slice(i,0,r);let c=5;for(const i of s.$.concat(a,l)){if(i.score===o.CL.Default)continue;const s=new d.e(i.editStart.lineNumber,i.editStart.column,i.editInsertEnd.lineNumber,i.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),r=i.completion.insertTextRules&&i.completion.insertTextRules&h.a7.InsertAsSnippet?{snippet:i.completion.insertText}:i.completion.insertText;t.push(new C(s,r,null!==(e=i.filterTextLow)&&void 0!==e?e:i.labelLow,i.completion.additionalTextEdits,i.completion.command,i)),c-- >=0&&i.resolve(n.T.None)}return t}};y=_([b(5,p.Fh)],y);let w=class{constructor(e,t,i,n){this._getEditorOption=e,this._languageFeatureService=t,this._clipboardService=i,this._suggestMemoryService=n}provideInlineCompletions(e,t,i,n){var o,s,r,a,l;return s=this,r=void 0,l=function*(){if(i.selectedSuggestionInfo)return;const s=this._getEditorOption(81,e);if(g.tG.isAllOff(s))return;e.tokenization.tokenizeIfCheap(t.lineNumber);const r=e.tokenization.getLineTokens(t.lineNumber),a=r.getStandardTokenType(r.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if("inline"!==g.tG.valueFor(s,a))return;let l,c,h=e.getWordAtPosition(t);if((null==h?void 0:h.word)||(l=this._getTriggerCharacterInfo(e,t)),!(null==h?void 0:h.word)&&!l)return;if(h||(h=e.getWordUntilPosition(t)),h.endColumn!==t.column)return;const p=e.getValueInRange(new d.e(t.lineNumber,1,t.lineNumber,t.column));if(!l&&(null===(o=this._lastResult)||void 0===o?void 0:o.canBeReused(e,t.lineNumber,h))){const e=new u.t(p,t.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=e,this._lastResult.acquire(),c=this._lastResult}else{const i=yield(0,g.kL)(this._languageFeatureService.completionProvider,e,t,new g.A9(void 0,void 0,null==l?void 0:l.providers),l&&{triggerKind:1,triggerCharacter:l.ch},n);let o;i.needsClipboard&&(o=yield this._clipboardService.readText());const s=new u._(i.items,t.column,new u.t(p,0),m.K.None,this._getEditorOption(108,e),this._getEditorOption(103,e),{boostFullMatch:!1,firstMatchCanBeWeak:!1},o);c=new y(e,t.lineNumber,h,s,i,this._suggestMemoryService)}return this._lastResult=c,c},new((a=void 0)||(a=Promise))((function(e,t){function i(e){try{o(l.next(e))}catch(e){t(e)}}function n(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a((function(e){e(o)}))).then(i,n)}o((l=l.apply(s,r||[])).next())}))}handleItemDidShow(e,t){t.completion.resolve(n.T.None)}freeInlineCompletions(e){e.release()}_getTriggerCharacterInfo(e,t){var i;const n=e.getValueInRange(d.e.fromPositions({lineNumber:t.lineNumber,column:t.column-1},t)),o=new Set;for(const t of this._languageFeatureService.completionProvider.all(e))(null===(i=t.triggerCharacters)||void 0===i?void 0:i.includes(n))&&o.add(t);if(0!==o.size)return{providers:o,ch:n}}};w=_([b(1,c.p),b(2,f.p),b(3,p.Fh)],w);let S=class e{constructor(t,i,n,o){if(1==++e._counter){const s=o.createInstance(w,((e,i)=>{var o;return(null!==(o=n.listCodeEditors().find((e=>e.getModel()===i)))&&void 0!==o?o:t).getOption(e)}));e._disposable=i.inlineCompletionsProvider.register("*",s)}}dispose(){var t;0==--e._counter&&(null===(t=e._disposable)||void 0===t||t.dispose(),e._disposable=void 0)}};S._counter=0,S=_([b(1,c.p),b(2,l.$),b(3,v.TG)],S),(0,a._K)("suggest.inlineCompletionsProvider",S)},378:(e,t,i)=>{"use strict";i.d(t,{Fh:()=>m});var n=i(5393),o=i(5976),s=i(3702),r=i(6887),a=i(3108),l=i(5026),d=i(2065),c=i(6904),h=function(e,t){return function(i,n){t(i,n,e)}};class u{constructor(e){this.name=e}select(e,t,i){if(0===i.length)return 0;const n=i[0].score[0];for(let e=0;e<i.length;e++){const{score:t,completion:o}=i[e];if(t[0]!==n)break;if(o.preselect)return e}return 0}}class g extends u{constructor(){super("first")}memorize(e,t,i){}toJSON(){}fromJSON(){}}let p=class e{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new o.SL,this._persistSoon=new n.pY((()=>this._saveState()),500),this._disposables.add(e.onWillSaveState((e=>{e.reason===c.fk.SHUTDOWN&&this._saveState()})))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,i){this._withStrategy(e,t).memorize(e,t,i),this._persistSoon.schedule()}select(e,t,i){return this._withStrategy(e,t).select(e,t,i)}_withStrategy(t,i){var n;const o=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:t.getLanguageIdAtPosition(i.lineNumber,i.column),resource:t.uri});if((null===(n=this._strategy)||void 0===n?void 0:n.name)!==o){this._saveState();const t=e._strategyCtors.get(o)||g;this._strategy=new t;try{const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=this._storageService.get(`${e._storagePrefix}/${o}`,t);i&&this._strategy.fromJSON(JSON.parse(i))}catch(e){}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store(`${e._storagePrefix}/${this._strategy.name}`,i,t,1)}}};p._strategyCtors=new Map([["recentlyUsedByPrefix",class extends u{constructor(){super("recentlyUsedByPrefix"),this._trie=s.Id.forStrings(),this._seq=0}memorize(e,t,i){const{word:n}=e.getWordUntilPosition(t),o=`${e.getLanguageId()}/${n}`;this._trie.set(o,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(e,t,i){const{word:n}=e.getWordUntilPosition(t);if(!n)return super.select(e,t,i);const o=`${e.getLanguageId()}/${n}`;let s=this._trie.get(o);if(s||(s=this._trie.findSubstr(o)),s)for(let e=0;e<i.length;e++){const{kind:t,insertText:n}=i[e].completion;if(t===s.type&&n===s.insertText)return e}return super.select(e,t,i)}toJSON(){const e=[];return this._trie.forEach(((t,i)=>e.push([i,t]))),e.sort(((e,t)=>-(e[1].touch-t[1].touch))).forEach(((e,t)=>e[1].touch=t)),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,i]of e)i.type="number"==typeof i.type?i.type:r.gX.fromString(i.type),this._trie.set(t,i)}}}],["recentlyUsed",class extends u{constructor(){super("recentlyUsed"),this._cache=new s.z6(300,.66),this._seq=0}memorize(e,t,i){const n=`${e.getLanguageId()}/${i.textLabel}`;this._cache.set(n,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(e,t,i){if(0===i.length)return 0;const n=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(n))return super.select(e,t,i);const o=i[0].score[0];let s=-1,r=-1;for(let t=0;t<i.length&&i[t].score[0]===o;t++){const n=`${e.getLanguageId()}/${i[t].textLabel}`,o=this._cache.peek(n);if(o&&o.touch>r&&o.type===i[t].completion.kind&&o.insertText===i[t].completion.insertText&&(r=o.touch,s=t),i[t].completion.preselect)return t}return-1!==s?s:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();for(const[t,i]of e)i.touch=0,i.type="number"==typeof i.type?i.type:r.gX.fromString(i.type),this._cache.set(t,i);this._seq=this._cache.size}}],["first",g]]),p._storagePrefix="suggest/memories",p=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([h(0,c.Uy),h(1,a.Ui)],p);const m=(0,d.yh)("ISuggestMemories");(0,l.z)(m,p,!0)},4477:(e,t,i)=>{"use strict";i.d(t,{K:()=>r});var n=i(9488),o=i(4314),s=i(9694);class r{static create(e,t){return i=this,a=void 0,d=function*(){if(!t.getOption(108).localityBonus)return r.None;if(!t.hasModel())return r.None;const i=t.getModel(),a=t.getPosition();if(!e.canComputeWordRanges(i.uri))return r.None;const[l]=yield(new s.x).provideSelectionRanges(i,[a]);if(0===l.length)return r.None;const d=yield e.computeWordRanges(i.uri,l[0].range);if(!d)return r.None;const c=i.getWordUntilPosition(a);return delete d[c.word],new class extends r{distance(e,i){if(!a.equals(t.getPosition()))return 0;if(17===i.kind)return 2<<20;const s="string"==typeof i.label?i.label:i.label.label,r=d[s];if((0,n.XY)(r))return 2<<20;const c=(0,n.ry)(r,o.e.fromPositions(e),o.e.compareRangesUsingStarts),h=c>=0?r[c]:r[Math.max(0,~c-1)];let u=l.length;for(const e of l){if(!o.e.containsRange(e.range,h))break;u-=1}return u}}},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{s(d.next(e))}catch(e){t(e)}}function o(e){try{s(d.throw(e))}catch(e){t(e)}}function s(t){var i;t.done?e(t.value):(i=t.value,i instanceof l?i:new l((function(e){e(i)}))).then(n,o)}s((d=d.apply(i,a||[])).next())}));var i,a,l,d}}r.None=new class extends r{distance(){return 0}}},1713:(e,t,i)=>{"use strict";var n=i(3046),o=i(3580),s=i(3910),r=i(7781);const a=(0,s.P6G)("symbolIcon.arrayForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),l=(0,s.P6G)("symbolIcon.booleanForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=(0,s.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,o.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c=(0,s.P6G)("symbolIcon.colorForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),h=(0,s.P6G)("symbolIcon.constantForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=(0,s.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,o.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=(0,s.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,o.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,s.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,o.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=(0,s.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,o.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),f=(0,s.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,o.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v=(0,s.P6G)("symbolIcon.fileForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,s.P6G)("symbolIcon.folderForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=(0,s.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,o.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=(0,s.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,o.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=(0,s.P6G)("symbolIcon.keyForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w=(0,s.P6G)("symbolIcon.keywordForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S=(0,s.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,o.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),k=(0,s.P6G)("symbolIcon.moduleForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=(0,s.P6G)("symbolIcon.namespaceForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),x=(0,s.P6G)("symbolIcon.nullForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=(0,s.P6G)("symbolIcon.numberForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D=(0,s.P6G)("symbolIcon.objectForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=(0,s.P6G)("symbolIcon.operatorForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,s.P6G)("symbolIcon.packageForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=(0,s.P6G)("symbolIcon.propertyForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T=(0,s.P6G)("symbolIcon.referenceForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M=(0,s.P6G)("symbolIcon.snippetForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=(0,s.P6G)("symbolIcon.stringForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=(0,s.P6G)("symbolIcon.structForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O=(0,s.P6G)("symbolIcon.textForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),V=(0,s.P6G)("symbolIcon.typeParameterForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F=(0,s.P6G)("symbolIcon.unitForeground",{dark:s.dRz,light:s.dRz,hcDark:s.dRz,hcLight:s.dRz},(0,o.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),W=(0,s.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,o.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,r.Ic)(((e,t)=>{const i=e.getColor(a);i&&t.addRule(`${n.lA.symbolArray.cssSelector} { color: ${i}; }`);const o=e.getColor(l);o&&t.addRule(`${n.lA.symbolBoolean.cssSelector} { color: ${o}; }`);const s=e.getColor(d);s&&t.addRule(`${n.lA.symbolClass.cssSelector} { color: ${s}; }`);const r=e.getColor(S);r&&t.addRule(`${n.lA.symbolMethod.cssSelector} { color: ${r}; }`);const z=e.getColor(c);z&&t.addRule(`${n.lA.symbolColor.cssSelector} { color: ${z}; }`);const B=e.getColor(h);B&&t.addRule(`${n.lA.symbolConstant.cssSelector} { color: ${B}; }`);const U=e.getColor(u);U&&t.addRule(`${n.lA.symbolConstructor.cssSelector} { color: ${U}; }`);const H=e.getColor(g);H&&t.addRule(`\n\t\t\t${n.lA.symbolValue.cssSelector},${n.lA.symbolEnum.cssSelector} { color: ${H}; }`);const G=e.getColor(p);G&&t.addRule(`${n.lA.symbolEnumMember.cssSelector} { color: ${G}; }`);const j=e.getColor(m);j&&t.addRule(`${n.lA.symbolEvent.cssSelector} { color: ${j}; }`);const K=e.getColor(f);K&&t.addRule(`${n.lA.symbolField.cssSelector} { color: ${K}; }`);const $=e.getColor(v);$&&t.addRule(`${n.lA.symbolFile.cssSelector} { color: ${$}; }`);const q=e.getColor(_);q&&t.addRule(`${n.lA.symbolFolder.cssSelector} { color: ${q}; }`);const Y=e.getColor(b);Y&&t.addRule(`${n.lA.symbolFunction.cssSelector} { color: ${Y}; }`);const Q=e.getColor(C);Q&&t.addRule(`${n.lA.symbolInterface.cssSelector} { color: ${Q}; }`);const Z=e.getColor(y);Z&&t.addRule(`${n.lA.symbolKey.cssSelector} { color: ${Z}; }`);const J=e.getColor(w);J&&t.addRule(`${n.lA.symbolKeyword.cssSelector} { color: ${J}; }`);const X=e.getColor(k);X&&t.addRule(`${n.lA.symbolModule.cssSelector} { color: ${X}; }`);const ee=e.getColor(L);ee&&t.addRule(`${n.lA.symbolNamespace.cssSelector} { color: ${ee}; }`);const te=e.getColor(x);te&&t.addRule(`${n.lA.symbolNull.cssSelector} { color: ${te}; }`);const ie=e.getColor(I);ie&&t.addRule(`${n.lA.symbolNumber.cssSelector} { color: ${ie}; }`);const ne=e.getColor(D);ne&&t.addRule(`${n.lA.symbolObject.cssSelector} { color: ${ne}; }`);const oe=e.getColor(N);oe&&t.addRule(`${n.lA.symbolOperator.cssSelector} { color: ${oe}; }`);const se=e.getColor(E);se&&t.addRule(`${n.lA.symbolPackage.cssSelector} { color: ${se}; }`);const re=e.getColor(A);re&&t.addRule(`${n.lA.symbolProperty.cssSelector} { color: ${re}; }`);const ae=e.getColor(T);ae&&t.addRule(`${n.lA.symbolReference.cssSelector} { color: ${ae}; }`);const le=e.getColor(M);le&&t.addRule(`${n.lA.symbolSnippet.cssSelector} { color: ${le}; }`);const de=e.getColor(R);de&&t.addRule(`${n.lA.symbolString.cssSelector} { color: ${de}; }`);const ce=e.getColor(P);ce&&t.addRule(`${n.lA.symbolStruct.cssSelector} { color: ${ce}; }`);const he=e.getColor(O);he&&t.addRule(`${n.lA.symbolText.cssSelector} { color: ${he}; }`);const ue=e.getColor(V);ue&&t.addRule(`${n.lA.symbolTypeParameter.cssSelector} { color: ${ue}; }`);const ge=e.getColor(F);ge&&t.addRule(`${n.lA.symbolUnit.cssSelector} { color: ${ge}; }`);const pe=e.getColor(W);pe&&t.addRule(`${n.lA.symbolVariable.cssSelector} { color: ${pe}; }`)}))},4662:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ToggleTabFocusModeAction:()=>a});var n=i(5152),o=i(7940),s=i(6830),r=i(3580);class a extends s.R6{constructor(){super({id:a.ID,label:r.NC({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(e,t){const i=!o.n.getTabFocusMode();o.n.setTabFocusMode(i),i?(0,n.Z9)(r.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):(0,n.Z9)(r.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}a.ID="editor.action.toggleTabFocusMode",(0,s.Qr)(a)},2614:(e,t,i)=>{"use strict";i.r(t);var n=i(4013),o=i(6830),s=i(3580);class r extends o.R6{constructor(){super({id:"editor.action.forceRetokenize",label:s.NC("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getModel();i.tokenization.resetTokenization();const o=new n.G(!0);i.tokenization.forceTokenization(i.getLineCount()),o.stop(),console.log(`tokenization took ${o.elapsed()}`)}}(0,o.Qr)(r)},2954:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DisableHighlightingInCommentsAction:()=>ee,DisableHighlightingInStringsAction:()=>te,DisableHighlightingOfAmbiguousCharactersAction:()=>ie,DisableHighlightingOfInvisibleCharactersAction:()=>ne,DisableHighlightingOfNonBasicAsciiCharactersAction:()=>oe,ShowExcludeOptions:()=>se,UnicodeHighlighter:()=>K,UnicodeHighlighterHoverParticipant:()=>Y,warningIcon:()=>j});var n=i(5393),o=i(3046),s=i(9365),r=i(5976),a=i(1432),l=i(7295),d=i(6830),c=i(4141),h=i(2035),u=i(1446),g=i(4319),p=i(2042),m=i(168),f=i(6520),v=i(2374),_=i(5321),b=i(317),C=i(4741),y=i(8598),w=i(2065),S=i(4850),k=i(9069),L=i(553),x=i(4669),I=i(988),D=i(3910),N=i(7781);let E=class extends r.JT{constructor(e,t,i={},n){var o;super(),this._link=t,this._enabled=!0,this.el=(0,_.R3)(e,(0,_.$)("a.monaco-link",{tabIndex:null!==(o=t.tabIndex)&&void 0!==o?o:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");const s=this._register(new S.Y(this.el,"click")),r=this._register(new S.Y(this.el,"keypress")),a=x.ju.chain(r.event).map((e=>new k.y(e))).filter((e=>3===e.keyCode)).event,l=this._register(new S.Y(this.el,L.t.Tap)).event;this._register(L.o.addTarget(this.el));const d=x.ju.any(s.event,a,l);this._register(d((e=>{this.enabled&&(_.zB.stop(e,!0),(null==i?void 0:i.opener)?i.opener(this._link.href):n.open(this._link.href,{allowCommands:!0}))}))),this.enabled=!0}get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}};var A,T;E=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(A=3,T=I.v4,function(e,t){T(e,t,A)})],E),(0,N.Ic)(((e,t)=>{const i=e.getColor(D.url);i&&t.addRule(`.monaco-link { color: ${i}; }`);const n=e.getColor(D.sgC);n&&t.addRule(`.monaco-link:hover { color: ${n}; }`)}));var M=i(9554),R=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},P=function(e,t){return function(i,n){t(i,n,e)}};let O=class extends r.JT{constructor(e,t){super(),this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(V))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show(Object.assign(Object.assign({},e),{onClose:()=>{var t;this.hide(),null===(t=e.onClose)||void 0===t||t.call(e)}})),this._editor.setBanner(this.banner.element,26)}};O=R([P(1,w.TG)],O);let V=class extends r.JT{constructor(e){super(),this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(y.$,{}),this.element=(0,_.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){return e.ariaLabel?e.ariaLabel:"string"==typeof e.message?e.message:void 0}getBannerMessage(e){if("string"==typeof e){const t=(0,_.$)("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){(0,_.PO)(this.element)}show(e){(0,_.PO)(this.element);const t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);const i=(0,_.R3)(this.element,(0,_.$)("div.icon-container"));i.setAttribute("aria-hidden","true"),e.icon&&i.appendChild((0,_.$)(`div${N.kS.asCSSSelector(e.icon)}`));const n=(0,_.R3)(this.element,(0,_.$)("div.message-container"));if(n.setAttribute("aria-hidden","true"),n.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=(0,_.R3)(this.element,(0,_.$)("div.message-actions-container")),e.actions)for(const t of e.actions)this._register(this.instantiationService.createInstance(E,this.messageActionsContainer,Object.assign(Object.assign({},t),{tabIndex:-1}),{}));const o=(0,_.R3)(this.element,(0,_.$)("div.action-container"));this.actionBar=this._register(new b.o(o)),this.actionBar.push(this._register(new C.aU("banner.close","Close Banner",N.kS.asClassName(M.s_),!0,(()=>{"function"==typeof e.onClose&&e.onClose()}))),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};V=R([P(0,w.TG)],V);var F=i(3580),W=i(3108),z=i(1157),B=i(3425),U=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},H=function(e,t){return function(i,n){t(i,n,e)}},G=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const j=(0,M.q5)("extensions-warning-message",o.lA.warning,F.NC("warningIcon","Icon shown with a warning message in the extensions editor."));let K=class extends r.JT{constructor(e,t,i,n){super(),this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=i,this._highlighter=null,this._bannerClosed=!1,this._updateState=e=>{if(e&&e.hasMore){if(this._bannerClosed)return;const t=Math.max(e.ambiguousCharacterCount,e.nonBasicAsciiCharacterCount,e.invisibleCharacterCount);let i;if(e.nonBasicAsciiCharacterCount>=t)i={message:F.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new oe};else if(e.ambiguousCharacterCount>=t)i={message:F.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new ie};else{if(!(e.invisibleCharacterCount>=t))throw new Error("Unreachable");i={message:F.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new ne}}this._bannerController.show({id:"unicodeHighlightBanner",message:i.message,icon:j,actions:[{label:i.command.shortLabel,href:`command:${i.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(n.createInstance(O,e)),this._register(this._editor.onDidChangeModel((()=>{this._bannerClosed=!1,this._updateHighlighter()}))),this._options=e.getOption(115),this._register(i.onDidChangeTrust((e=>{this._updateHighlighter()}))),this._register(e.onDidChangeConfiguration((t=>{t.hasChanged(115)&&(this._options=e.getOption(115),this._updateHighlighter())}))),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const e=function(e,t){return{nonBasicASCII:t.nonBasicASCII===c.Av?!e:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments===c.Av?!e:t.includeComments,includeStrings:t.includeStrings===c.Av?!e:t.includeStrings,allowedCharacters:t.allowedCharacters,allowedLocales:t.allowedLocales}}(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every((e=>!1===e)))return;const t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,includeStrings:e.includeStrings,allowedCodePoints:Object.keys(e.allowedCharacters).map((e=>e.codePointAt(0))),allowedLocales:Object.keys(e.allowedLocales).map((e=>"_os"===e?(new Intl.NumberFormat).resolvedOptions().locale:"_vscode"===e?a.dK:e))};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new $(this._editor,t,this._updateState,this._editorWorkerService):this._highlighter=new q(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};K.ID="editor.contrib.unicodeHighlighter",K=U([H(1,g.p),H(2,B.Y),H(3,w.TG)],K);let $=class extends r.JT{constructor(e,t,i,o){super(),this._editor=e,this._options=t,this._updateState=i,this._editorWorkerService=o,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new n.pY((()=>this._update()),250)),this._register(this._editor.onDidChangeModelContent((()=>{this._updateSoon.schedule()}))),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();const e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then((t=>{if(this._model.isDisposed())return;if(this._model.getVersionId()!==e)return;this._updateState(t);const i=[];if(!t.hasMore)for(const e of t.ranges)i.push({range:e,options:X.instance.getDecorationFromOptions(this._options)});this._decorations.set(i)}))}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel();return(0,m.Fd)(t,e)?{reason:J(t.getValueInRange(e.range),this._options),inComment:(0,m.$t)(t,e),inString:(0,m.zg)(t,e)}:null}};$=U([H(3,g.p)],$);class q extends r.JT{constructor(e,t,i){super(),this._editor=e,this._options=t,this._updateState=i,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new n.pY((()=>this._update()),250)),this._register(this._editor.onDidLayoutChange((()=>{this._updateSoon.schedule()}))),this._register(this._editor.onDidScrollChange((()=>{this._updateSoon.schedule()}))),this._register(this._editor.onDidChangeHiddenAreas((()=>{this._updateSoon.schedule()}))),this._register(this._editor.onDidChangeModelContent((()=>{this._updateSoon.schedule()}))),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();const e=this._editor.getVisibleRanges(),t=[],i={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const t of e){const e=u.a.computeUnicodeHighlights(this._model,this._options,t);for(const t of e.ranges)i.ranges.push(t);i.ambiguousCharacterCount+=i.ambiguousCharacterCount,i.invisibleCharacterCount+=i.invisibleCharacterCount,i.nonBasicAsciiCharacterCount+=i.nonBasicAsciiCharacterCount,i.hasMore=i.hasMore||e.hasMore}if(!i.hasMore)for(const e of i.ranges)t.push({range:e,options:X.instance.getDecorationFromOptions(this._options)});this._updateState(i),this._decorations.set(t)}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel(),i=t.getValueInRange(e.range);return(0,m.Fd)(t,e)?{reason:J(i,this._options),inComment:(0,m.$t)(t,e),inString:(0,m.zg)(t,e)}:null}}let Y=class{constructor(e,t,i){this._editor=e,this._languageService=t,this._openerService=i,this.hoverOrdinal=4}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const i=this._editor.getModel(),n=this._editor.getContribution(K.ID);if(!n)return[];const o=[];let r=300;for(const e of t){const t=n.getDecorationInfo(e);if(!t)continue;const a=i.getValueInRange(e.range).codePointAt(0),l=Z(a);let d;switch(t.reason.kind){case 0:d=F.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",l,Z(t.reason.confusableWith.codePointAt(0)));break;case 1:d=F.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",l);break;case 2:d=F.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",l)}const c={codePoint:a,reason:t.reason,inComment:t.inComment,inString:t.inString},h=F.NC("unicodeHighlight.adjustSettings","Adjust settings"),u=`command:${se.ID}?${encodeURIComponent(JSON.stringify(c))}`,g=new s.W5("",!0).appendMarkdown(d).appendText(" ").appendLink(u,h);o.push(new v.hU(this,e.range,[g],r++))}return o}renderHoverParts(e,t){return(0,v.c)(e,t,this._editor,this._languageService,this._openerService)}};function Q(e){return`U+${e.toString(16).padStart(4,"0")}`}function Z(e){let t=`\`${Q(e)}\``;return l.vU.isInvisibleCharacter(e)||(t+=` "${function(e){return 96===e?"`` ` ``":"`"+String.fromCodePoint(e)+"`"}(e)}"`),t}function J(e,t){return u.a.computeUnicodeHighlightReason(e,t)}Y=U([H(1,p.O),H(2,I.v4)],Y);class X{constructor(){this.map=new Map}getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){const i=`${e}${t}`;let n=this.map.get(i);return n||(n=h.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(i,n)),n}}X.instance=new X;class ee extends d.R6{constructor(){super({id:ie.ID,label:F.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=F.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(e,t,i){return G(this,void 0,void 0,(function*(){const t=null==e?void 0:e.get(W.Ui);t&&this.runAction(t)}))}runAction(e){return G(this,void 0,void 0,(function*(){yield e.updateValue(c.qt.includeComments,!1,2)}))}}class te extends d.R6{constructor(){super({id:ie.ID,label:F.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=F.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(e,t,i){return G(this,void 0,void 0,(function*(){const t=null==e?void 0:e.get(W.Ui);t&&this.runAction(t)}))}runAction(e){return G(this,void 0,void 0,(function*(){yield e.updateValue(c.qt.includeStrings,!1,2)}))}}class ie extends d.R6{constructor(){super({id:ie.ID,label:F.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=F.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(e,t,i){return G(this,void 0,void 0,(function*(){const t=null==e?void 0:e.get(W.Ui);t&&this.runAction(t)}))}runAction(e){return G(this,void 0,void 0,(function*(){yield e.updateValue(c.qt.ambiguousCharacters,!1,2)}))}}ie.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class ne extends d.R6{constructor(){super({id:ne.ID,label:F.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=F.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(e,t,i){return G(this,void 0,void 0,(function*(){const t=null==e?void 0:e.get(W.Ui);t&&this.runAction(t)}))}runAction(e){return G(this,void 0,void 0,(function*(){yield e.updateValue(c.qt.invisibleCharacters,!1,2)}))}}ne.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class oe extends d.R6{constructor(){super({id:oe.ID,label:F.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=F.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(e,t,i){return G(this,void 0,void 0,(function*(){const t=null==e?void 0:e.get(W.Ui);t&&this.runAction(t)}))}runAction(e){return G(this,void 0,void 0,(function*(){yield e.updateValue(c.qt.nonBasicASCII,!1,2)}))}}oe.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class se extends d.R6{constructor(){super({id:se.ID,label:F.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(e,t,i){return G(this,void 0,void 0,(function*(){const{codePoint:t,reason:n,inString:o,inComment:s}=i,r=String.fromCodePoint(t),a=e.get(z.eJ),d=e.get(W.Ui),h=[];if(0===n.kind)for(const e of n.notAmbiguousInLocales)h.push({label:F.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',e),run:()=>G(this,void 0,void 0,(function*(){re(d,[e])}))});if(h.push({label:function(e){return l.vU.isInvisibleCharacter(e)?F.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",Q(e)):F.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${Q(e)} "${r}"`)}(t),run:()=>function(e,t){return G(this,void 0,void 0,(function*(){const i=e.getValue(c.qt.allowedCharacters);let n;n="object"==typeof i&&i?i:{};for(const e of t)n[String.fromCodePoint(e)]=!0;yield e.updateValue(c.qt.allowedCharacters,n,2)}))}(d,[t])}),s){const e=new ee;h.push({label:e.label,run:()=>G(this,void 0,void 0,(function*(){return e.runAction(d)}))})}else if(o){const e=new te;h.push({label:e.label,run:()=>G(this,void 0,void 0,(function*(){return e.runAction(d)}))})}if(0===n.kind){const e=new ie;h.push({label:e.label,run:()=>G(this,void 0,void 0,(function*(){return e.runAction(d)}))})}else if(1===n.kind){const e=new ne;h.push({label:e.label,run:()=>G(this,void 0,void 0,(function*(){return e.runAction(d)}))})}else if(2===n.kind){const e=new oe;h.push({label:e.label,run:()=>G(this,void 0,void 0,(function*(){return e.runAction(d)}))})}else!function(e){throw new Error(`Unexpected value: ${e}`)}(n);const u=yield a.pick(h,{title:F.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});u&&(yield u.run())}))}}function re(e,t){var i;return G(this,void 0,void 0,(function*(){const n=null===(i=e.inspect(c.qt.allowedLocales).user)||void 0===i?void 0:i.value;let o;o="object"==typeof n&&n?Object.assign({},n):{};for(const e of t)o[e]=!0;yield e.updateValue(c.qt.allowedLocales,o,2)}))}se.ID="editor.action.unicodeHighlight.showExcludeOptions",(0,d.Qr)(ie),(0,d.Qr)(ne),(0,d.Qr)(oe),(0,d.Qr)(se),(0,d._K)(K.ID,K),f.Ae.register(Y)},9607:(e,t,i)=>{"use strict";i.r(t),i.d(t,{UnusualLineTerminatorsDetector:()=>h});var n=i(5976),o=i(5935),s=i(6830),r=i(1640),a=i(3580),l=i(8820),d=function(e,t){return function(i,n){t(i,n,e)}};const c="ignoreUnusualLineTerminators";let h=class extends n.JT{constructor(e,t,i){super(),this._editor=e,this._dialogService=t,this._codeEditorService=i,this._config=this._editor.getOption(116),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(116)&&(this._config=this._editor.getOption(116),this._checkForUnusualLineTerminators())}))),this._register(this._editor.onDidChangeModel((()=>{this._checkForUnusualLineTerminators()}))),this._register(this._editor.onDidChangeModelContent((e=>{e.isUndoing||this._checkForUnusualLineTerminators()})))}_checkForUnusualLineTerminators(){return e=this,t=void 0,n=function*(){if("off"===this._config)return;if(!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators())return;const t=function(e,t){return e.getModelProperty(t.uri,c)}(this._codeEditorService,e);!0!==t&&(this._editor.getOption(83)||("auto"!==this._config?(yield this._dialogService.confirm({title:a.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:a.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:a.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,o.EZ)(e.uri)),primaryButton:a.NC("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:a.NC("unusualLineTerminators.ignore","Ignore")})).confirmed?e.removeUnusualLineTerminators(this._editor.getSelections()):function(e,t,i){e.setModelProperty(t.uri,c,!0)}(this._codeEditorService,e):e.removeUnusualLineTerminators(this._editor.getSelections())))},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}};h.ID="editor.contrib.unusualLineTerminatorsDetector",h=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([d(1,l.S),d(2,r.$)],h),(0,s._K)(h.ID,h)},1271:(e,t,i)=>{"use strict";i.r(t);var n=i(5393),o=i(5976),s=i(6830),r=i(9510),a=i(3733),l=i(1200),d=i(8802),c=i(3108),h=i(7781),u=i(8191),g=i(4013),p=i(1922),m=function(e,t){return function(i,n){t(i,n,e)}};let f=class extends o.JT{constructor(e,t,i,o,s,r){super(),this._modelService=t,this._themeService=i,this._configurationService=o,this._editor=e,this._provider=r.documentRangeSemanticTokensProvider,this._debounceInformation=s.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new n.pY((()=>this._tokenizeViewportNow()),100)),this._outstandingRequests=[];const a=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange((()=>{a()}))),this._register(this._editor.onDidChangeModel((()=>{this._cancelAll(),a()}))),this._register(this._editor.onDidChangeModelContent((e=>{this._cancelAll(),a()}))),this._register(this._provider.onDidChange((()=>{this._cancelAll(),a()}))),this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration(l.e3)&&(this._cancelAll(),a())}))),this._register(this._themeService.onDidColorThemeChange((()=>{this._cancelAll(),a()})))}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e)return void this._outstandingRequests.splice(t,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.tokenization.hasCompleteSemanticTokens())return;if(!(0,l.tw)(e,this._themeService,this._configurationService))return void(e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1));if(!(0,r.KO)(this._provider,e))return void(e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1));const t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map((t=>this._requestRange(e,t))))}_requestRange(e,t){const i=e.getVersionId(),o=(0,n.PG)((i=>Promise.resolve((0,r.OG)(this._provider,e,t,i)))),s=new g.G(!1);return o.then((n=>{if(this._debounceInformation.update(e,s.elapsed()),!n||!n.tokens||e.isDisposed()||e.getVersionId()!==i)return;const{provider:o,tokens:r}=n,a=this._modelService.getSemanticTokensProviderStyling(o);e.tokenization.setPartialSemanticTokens(t,(0,d.h)(r,a,e.getLanguageId()))})).then((()=>this._removeOutstandingRequest(o)),(()=>this._removeOutstandingRequest(o))),o}};f.ID="editor.contrib.viewportSemanticTokens",f=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([m(1,a.q),m(2,h.XE),m(3,c.Ui),m(4,u.A),m(5,p.p)],f),(0,s._K)(f.ID,f)},943:(e,t,i)=>{"use strict";i.r(t),i.d(t,{getOccurrencesAtPosition:()=>N});var n=i(5152),o=i(9488),s=i(5393),r=i(1050),a=i(7301),l=i(5976),d=i(6830),c=i(4314),h=i(9102),u=i(4973),g=i(2035),p=i(6887),m=i(3580),f=i(8819),v=i(3910),_=i(7781),b=i(1922),C=i(2321),y=function(e,t){return function(i,n){t(i,n,e)}};const w=(0,v.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},m.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),S=(0,v.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},m.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),k=(0,v.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:v.xL1,hcLight:v.xL1},m.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),L=(0,v.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:v.xL1,hcLight:v.xL1},m.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),x=(0,v.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},m.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),I=(0,v.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},m.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),D=new f.uy("hasWordHighlights",!1);function N(e,t,i,n){const r=e.ordered(t);return(0,s.Ps)(r.map((e=>()=>Promise.resolve(e.provideDocumentHighlights(t,i,n)).then(void 0,a.Cp))),o.Of)}class E{constructor(e,t,i){this._model=e,this._selection=t,this._wordSeparators=i,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}get result(){return this._result||(this._result=(0,s.PG)((e=>this._compute(this._model,this._selection,this._wordSeparators,e)))),this._result}_getCurrentWordRange(e,t){const i=e.getWordAtPosition(t.getPosition());return i?new c.e(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){const n=t.startLineNumber,o=t.startColumn,s=t.endColumn,r=this._getCurrentWordRange(e,t);let a=Boolean(this._wordRange&&this._wordRange.equalsRange(r));for(let e=0,t=i.length;!a&&e<t;e++){const t=i.getRange(e);t&&t.startLineNumber===n&&t.startColumn<=o&&t.endColumn>=s&&(a=!0)}return a}cancel(){this.result.cancel()}}class A extends E{constructor(e,t,i,n){super(e,t,i),this._providers=n}_compute(e,t,i,n){return N(this._providers,e,t.getPosition(),n).then((e=>e||[]))}}class T extends E{constructor(e,t,i){super(e,t,i),this._selectionIsEmpty=t.isEmpty()}_compute(e,t,i,n){return(0,s.Vs)(250,n).then((()=>{if(!t.isEmpty())return[];const n=e.getWordAtPosition(t.getPosition());return!n||n.word.length>1e3?[]:e.findMatches(n.word,!0,!1,!0,i,!1).map((e=>({range:e.range,kind:p.MY.Text})))}))}isValid(e,t,i){const n=t.isEmpty();return this._selectionIsEmpty===n&&super.isValid(e,t,i)}}(0,d.sb)("_executeDocumentHighlights",((e,t,i)=>N(e.get(b.p).documentHighlightProvider,t,i,r.T.None)));class M{constructor(e,t,i){this.toUnhook=new l.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.providers=t,this._hasWordHighlights=D.bindTo(i),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(74),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition((e=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(e)}))),this.toUnhook.add(e.onDidChangeModelContent((e=>{this._stopAll()}))),this.toUnhook.add(e.onDidChangeConfiguration((e=>{const t=this.editor.getOption(74);this.occurrencesHighlight!==t&&(this.occurrencesHighlight=t,this._stopAll())}))),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(c.e.compareRangesUsingStarts)}moveNext(){const e=this._getSortedHighlights(),t=(e.findIndex((e=>e.containsPosition(this.editor.getPosition())))+1)%e.length,i=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i);const o=this._getWord();if(o){const s=this.editor.getModel().getLineContent(i.startLineNumber);(0,n.Z9)(`${s}, ${t+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const e=this._getSortedHighlights(),t=(e.findIndex((e=>e.containsPosition(this.editor.getPosition())))-1+e.length)%e.length,i=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i);const o=this._getWord();if(o){const s=this.editor.getModel().getLineContent(i.startLineNumber);(0,n.Z9)(`${s}, ${t+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){this.occurrencesHighlight&&3===e.reason?this._run():this._stopAll()}_getWord(){const e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:i})}_run(){const e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber)return void this._stopAll();const t=e.startColumn,i=e.endColumn,n=this._getWord();if(!n||n.startColumn>t||n.endColumn<i)return void this._stopAll();const o=this.workerRequest&&this.workerRequest.isValid(this.model,e,this.decorations);if(this.lastCursorPositionChangeTime=(new Date).getTime(),o)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const e=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=(s=this.providers,r=this.model,l=this.editor.getSelection(),d=this.editor.getOption(119),s.has(r)?new A(r,l,d,s):new T(r,l,d)),this.workerRequest.result.then((t=>{e===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=t||[],this._beginRenderDecorations())}),a.dL)}var s,r,l,d}_beginRenderDecorations(){const e=(new Date).getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout((()=>{this.renderDecorations()}),t-e)}renderDecorations(){this.renderDecorationsTimer=-1;const e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:M._getDecorationOptions(t.kind)});this.decorations.set(e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===p.MY.Write?this._WRITE_OPTIONS:e===p.MY.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}M._WRITE_OPTIONS=g.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,_.EN)(I),position:u.sh.Center},minimap:{color:(0,_.EN)(v.IYc),position:u.F5.Inline}}),M._TEXT_OPTIONS=g.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,_.EN)(v.SPM),position:u.sh.Center},minimap:{color:(0,_.EN)(v.IYc),position:u.F5.Inline}}),M._REGULAR_OPTIONS=g.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,_.EN)(x),position:u.sh.Center},minimap:{color:(0,_.EN)(v.IYc),position:u.F5.Inline}});let R=class e extends l.JT{constructor(e,t,i){super(),this.wordHighlighter=null;const n=()=>{e.hasModel()&&(this.wordHighlighter=new M(e,i.documentHighlightProvider,t))};this._register(e.onDidChangeModel((e=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),n()}))),n()}static get(t){return t.getContribution(e.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};R.ID="editor.contrib.wordHighlighter",R=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([y(1,f.i6),y(2,b.p)],R);class P extends d.R6{constructor(e,t){super(t),this._isNext=e}run(e,t){const i=R.get(t);i&&(this._isNext?i.moveNext():i.moveBack())}}class O extends d.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:m.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:D.toNegated(),kbOpts:{kbExpr:h.u.editorTextFocus,primary:0,weight:100}})}run(e,t,i){const n=R.get(t);n&&n.restoreViewState(!0)}}(0,d._K)(R.ID,R),(0,d.Qr)(class extends P{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:m.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:D,kbOpts:{kbExpr:h.u.editorTextFocus,primary:65,weight:100}})}}),(0,d.Qr)(class extends P{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:m.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:D,kbOpts:{kbExpr:h.u.editorTextFocus,primary:1089,weight:100}})}}),(0,d.Qr)(O),(0,_.Ic)(((e,t)=>{const i=e.getColor(v.Rzx);i&&(t.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${i}; }`),t.addRule(`.monaco-editor .selectionHighlight { background-color: ${i.transparent(.5)}; }`));const n=e.getColor(w);n&&t.addRule(`.monaco-editor .wordHighlight { background-color: ${n}; }`);const o=e.getColor(S);o&&t.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${o}; }`);const s=e.getColor(v.g_n);s&&t.addRule(`.monaco-editor .selectionHighlight { border: 1px ${(0,C.c3)(e.type)?"dotted":"solid"} ${s}; box-sizing: border-box; }`);const r=e.getColor(k);r&&t.addRule(`.monaco-editor .wordHighlight { border: 1px ${(0,C.c3)(e.type)?"dashed":"solid"} ${r}; box-sizing: border-box; }`);const a=e.getColor(L);a&&t.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${(0,C.c3)(e.type)?"dashed":"solid"} ${a}; box-sizing: border-box; }`)}))},7181:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CursorWordAccessibilityLeft:()=>I,CursorWordAccessibilityLeftSelect:()=>D,CursorWordAccessibilityRight:()=>P,CursorWordAccessibilityRightSelect:()=>O,CursorWordEndLeft:()=>w,CursorWordEndLeftSelect:()=>L,CursorWordEndRight:()=>E,CursorWordEndRightSelect:()=>M,CursorWordLeft:()=>S,CursorWordLeftSelect:()=>x,CursorWordRight:()=>A,CursorWordRightSelect:()=>R,CursorWordStartLeft:()=>y,CursorWordStartLeftSelect:()=>k,CursorWordStartRight:()=>N,CursorWordStartRightSelect:()=>T,DeleteInsideWord:()=>K,DeleteWordCommand:()=>V,DeleteWordEndLeft:()=>B,DeleteWordEndRight:()=>G,DeleteWordLeft:()=>U,DeleteWordLeftCommand:()=>F,DeleteWordRight:()=>j,DeleteWordRightCommand:()=>W,DeleteWordStartLeft:()=>z,DeleteWordStartRight:()=>H,MoveWordCommand:()=>_,WordLeftCommand:()=>b,WordRightCommand:()=>C});var n=i(6830),o=i(1329),s=i(4141),r=i(5343),a=i(2896),l=i(4929),d=i(187),c=i(4314),h=i(3860),u=i(9102),g=i(1381),p=i(3580),m=i(1106),f=i(8819),v=i(9282);class _ extends n._l{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;const n=(0,l.u)(t.getOption(119)),o=t.getModel(),s=t.getSelections().map((e=>{const t=new d.L(e.positionLineNumber,e.positionColumn),i=this._move(n,o,t,this._wordNavigationType);return this._moveTo(e,i,this._inSelectionMode)}));if(o.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,s.map((e=>r.Vi.fromModelSelection(e)))),1===s.length){const e=new d.L(s[0].positionLineNumber,s[0].positionColumn);t.revealPosition(e,0)}}_moveTo(e,t,i){return i?new h.Y(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new h.Y(t.lineNumber,t.column,t.lineNumber,t.column)}}class b extends _{_move(e,t,i,n){return a.w.moveWordLeft(e,t,i,n)}}class C extends _{_move(e,t,i,n){return a.w.moveWordRight(e,t,i,n)}}class y extends b{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class w extends b{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class S extends b{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:f.Ao.and(u.u.textInputFocus,null===(e=f.Ao.and(m.U,v.cv))||void 0===e?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}class k extends b{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class L extends b{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class x extends b{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:f.Ao.and(u.u.textInputFocus,null===(e=f.Ao.and(m.U,v.cv))||void 0===e?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class I extends b{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,i,n){return super._move((0,l.u)(s.BH.wordSeparators.defaultValue),t,i,n)}}class D extends b{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,i,n){return super._move((0,l.u)(s.BH.wordSeparators.defaultValue),t,i,n)}}class N extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class E extends C{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:f.Ao.and(u.u.textInputFocus,null===(e=f.Ao.and(m.U,v.cv))||void 0===e?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}class A extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class T extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class M extends C{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:f.Ao.and(u.u.textInputFocus,null===(e=f.Ao.and(m.U,v.cv))||void 0===e?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class R extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class P extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,i,n){return super._move((0,l.u)(s.BH.wordSeparators.defaultValue),t,i,n)}}class O extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,i,n){return super._move((0,l.u)(s.BH.wordSeparators.defaultValue),t,i,n)}}class V extends n._l{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){const n=e.get(g.c_);if(!t.hasModel())return;const s=(0,l.u)(t.getOption(119)),r=t.getModel(),a=t.getSelections(),d=t.getOption(5),c=t.getOption(8),h=n.getLanguageConfiguration(r.getLanguageId()).getAutoClosingPairs(),u=t._getViewModel(),p=a.map((e=>{const i=this._delete({wordSeparators:s,model:r,selection:e,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:d,autoClosingQuotes:c,autoClosingPairs:h,autoClosedCharacters:u.getCursorAutoClosedCharacters()},this._wordNavigationType);return new o.T4(i,"")}));t.pushUndoStop(),t.executeCommands(this.id,p),t.pushUndoStop()}}class F extends V{_delete(e,t){return a.w.deleteWordLeft(e,t)||new c.e(1,1,1,1)}}class W extends V{_delete(e,t){const i=a.w.deleteWordRight(e,t);if(i)return i;const n=e.model.getLineCount(),o=e.model.getLineMaxColumn(n);return new c.e(n,o,n,o)}}class z extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:u.u.writable})}}class B extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:u.u.writable})}}class U extends F{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:u.u.writable,kbOpts:{kbExpr:u.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class H extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:u.u.writable})}}class G extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:u.u.writable})}}class j extends W{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:u.u.writable,kbOpts:{kbExpr:u.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class K extends n.R6{constructor(){super({id:"deleteInsideWord",precondition:u.u.writable,label:p.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,i){if(!t.hasModel())return;const n=(0,l.u)(t.getOption(119)),s=t.getModel(),r=t.getSelections().map((e=>{const t=a.w.deleteInsideWord(n,s,e);return new o.T4(t,"")}));t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}(0,n.fK)(new y),(0,n.fK)(new w),(0,n.fK)(new S),(0,n.fK)(new k),(0,n.fK)(new L),(0,n.fK)(new x),(0,n.fK)(new N),(0,n.fK)(new E),(0,n.fK)(new A),(0,n.fK)(new T),(0,n.fK)(new M),(0,n.fK)(new R),(0,n.fK)(new I),(0,n.fK)(new D),(0,n.fK)(new P),(0,n.fK)(new O),(0,n.fK)(new z),(0,n.fK)(new B),(0,n.fK)(new U),(0,n.fK)(new H),(0,n.fK)(new G),(0,n.fK)(new j),(0,n.Qr)(K)},6709:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CursorWordPartLeft:()=>u,CursorWordPartLeftSelect:()=>g,CursorWordPartRight:()=>m,CursorWordPartRightSelect:()=>f,DeleteWordPartLeft:()=>d,DeleteWordPartRight:()=>c,WordPartLeftCommand:()=>h,WordPartRightCommand:()=>p});var n=i(6830),o=i(2896),s=i(4314),r=i(9102),a=i(7181),l=i(4565);class d extends a.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:r.u.writable,kbOpts:{kbExpr:r.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){return o.L.deleteWordPartLeft(e)||new s.e(1,1,1,1)}}class c extends a.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:r.u.writable,kbOpts:{kbExpr:r.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){const i=o.L.deleteWordPartRight(e);if(i)return i;const n=e.model.getLineCount(),r=e.model.getLineMaxColumn(n);return new s.e(n,r,n,r)}}class h extends a.MoveWordCommand{_move(e,t,i,n){return o.L.moveWordPartLeft(e,t,i)}}class u extends h{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:r.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}l.P0.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class g extends h{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:r.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}l.P0.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class p extends a.MoveWordCommand{_move(e,t,i,n){return o.L.moveWordPartRight(e,t,i)}}class m extends p{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:r.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class f extends p{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:r.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,n.fK)(new d),(0,n.fK)(new c),(0,n.fK)(new u),(0,n.fK)(new g),(0,n.fK)(new m),(0,n.fK)(new f)},6857:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CancellationTokenSource:()=>Fr,Emitter:()=>Wr,KeyCode:()=>zr,KeyMod:()=>Br,MarkerSeverity:()=>Kr,MarkerTag:()=>$r,Position:()=>Ur,Range:()=>Hr,Selection:()=>Gr,SelectionDirection:()=>jr,Token:()=>Yr,Uri:()=>qr,editor:()=>Qr,languages:()=>Zr});var n=i(4141),o=i(1050),s=i(4669),r=i(2258),a=i(666),l=i(187),d=i(4314),c=i(3860),h=i(6887),u=i(902);class g{static chord(e,t){return(0,r.gx)(e,t)}}function p(){return{editor:void 0,languages:void 0,CancellationTokenSource:o.A,Emitter:s.Q5,KeyCode:u.VD,KeyMod:g,Position:l.L,Range:d.e,Selection:c.Y,SelectionDirection:u.a$,MarkerSeverity:u.ZL,MarkerTag:u.eB,Uri:a.o,Token:h.WU}}g.CtrlCmd=2048,g.Shift=1024,g.Alt=512,g.WinCtrl=256;var m=i(5976),f=i(7295),v=i(7231),_=i(1640),b=i(5623),C=i(7374),y=i(6518),w=i(4973),S=i(1381),k=i(276),L=i(2042),x=i(3733),I=i(5393),D=i(7301),N=i(1432),E=i(8401);let A=!1;function T(e){N.$L&&(A||(A=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(e.message))}class M{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.method=i,this.args=n,this.type=0}}class R{constructor(e,t,i,n){this.vsWorker=e,this.seq=t,this.res=i,this.err=n,this.type=1}}class P{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.eventName=i,this.arg=n,this.type=2}}class O{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}}class V{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class F{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t){const i=String(++this._lastSentReq);return new Promise(((n,o)=>{this._pendingReplies[i]={resolve:n,reject:o},this._send(new M(this._workerId,i,e,t))}))}listen(e,t){let i=null;const n=new s.Q5({onFirstListenerAdd:()=>{i=String(++this._lastSentReq),this._pendingEmitters.set(i,n),this._send(new P(this._workerId,i,e,t))},onLastListenerRemove:()=>{this._pendingEmitters.delete(i),this._send(new V(this._workerId,i)),i=null}});return n.event}handleMessage(e){e&&e.vsWorker&&(-1!==this._workerId&&e.vsWorker!==this._workerId||this._handleMessage(e))}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq])return void console.warn("Got reply to unknown seq");const t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;return e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),void t.reject(i)}t.resolve(e.res)}_handleRequestMessage(e){const t=e.req;this._handler.handleMessage(e.method,e.args).then((e=>{this._send(new R(this._workerId,t,e,void 0))}),(e=>{e.detail instanceof Error&&(e.detail=(0,D.ri)(e.detail)),this._send(new R(this._workerId,t,void 0,(0,D.ri)(e)))}))}_handleSubscribeEventMessage(e){const t=e.req,i=this._handler.handleEvent(e.eventName,e.arg)((e=>{this._send(new O(this._workerId,t,e))}));this._pendingEvents.set(t,i)}_handleEventMessage(e){this._pendingEmitters.has(e.req)?this._pendingEmitters.get(e.req).fire(e.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(e){this._pendingEvents.has(e.req)?(this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)):console.warn("Got unsubscribe for unknown req")}_send(e){const t=[];if(0===e.type)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else 1===e.type&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class W extends m.JT{constructor(e,t,i){super();let n=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",(e=>{this._protocol.handleMessage(e)}),(e=>{null==n||n(e)}))),this._protocol=new F({sendMessage:(e,t)=>{this._worker.postMessage(e,t)},handleMessage:(e,t)=>{if("function"!=typeof i[e])return Promise.reject(new Error("Missing method "+e+" on main thread host."));try{return Promise.resolve(i[e].apply(i,t))}catch(e){return Promise.reject(e)}},handleEvent:(e,t)=>{if(B(e)){const n=i[e].call(i,t);if("function"!=typeof n)throw new Error(`Missing dynamic event ${e} on main thread host.`);return n}if(z(e)){const t=i[e];if("function"!=typeof t)throw new Error(`Missing event ${e} on main thread host.`);return t}throw new Error(`Malformed event name ${e}`)}}),this._protocol.setWorkerId(this._worker.getId());let o=null;void 0!==N.li.require&&"function"==typeof N.li.require.getConfig?o=N.li.require.getConfig():void 0!==N.li.requirejs&&(o=N.li.requirejs.s.contexts._.config);const s=E.$E(i);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(o)),t,s]);const r=(e,t)=>this._request(e,t),a=(e,t)=>this._protocol.listen(e,t);this._lazyProxy=new Promise(((e,i)=>{n=i,this._onModuleLoaded.then((t=>{e(function(e,t,i){const n=e=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)},o=e=>function(t){return i(e,t)},s={};for(const t of e)B(t)?s[t]=o(t):z(t)?s[t]=i(t,void 0):s[t]=n(t);return s}(t,r,a))}),(e=>{i(e),this._onError("Worker failed to load "+t,e)}))}))}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise(((i,n)=>{this._onModuleLoaded.then((()=>{this._protocol.sendMessage(e,t).then(i,n)}),n)}))}_onError(e,t){console.error(e),console.info(t)}}function z(e){return"o"===e[0]&&"n"===e[1]&&f.df(e.charCodeAt(2))}function B(e){return/^onDynamic/.test(e)&&f.df(e.charCodeAt(9))}var U;const H=null===(U=window.trustedTypes)||void 0===U?void 0:U.createPolicy("defaultWorkerFactory",{createScriptURL:e=>e});class G{constructor(e,t,i,n,o){this.id=t;const s=function(e){if(N.li.MonacoEnvironment){if("function"==typeof N.li.MonacoEnvironment.getWorker)return N.li.MonacoEnvironment.getWorker("workerMain.js",e);if("function"==typeof N.li.MonacoEnvironment.getWorkerUrl){const t=N.li.MonacoEnvironment.getWorkerUrl("workerMain.js",e);return new Worker(H?H.createScriptURL(t):t,{name:e})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(i);"function"==typeof s.then?this.worker=s:this.worker=Promise.resolve(s),this.postMessage(e,[]),this.worker.then((e=>{e.onmessage=function(e){n(e.data)},e.onmessageerror=o,"function"==typeof e.addEventListener&&e.addEventListener("error",o)}))}getId(){return this.id}postMessage(e,t){var i;null===(i=this.worker)||void 0===i||i.then((i=>i.postMessage(e,t)))}dispose(){var e;null===(e=this.worker)||void 0===e||e.then((e=>e.terminate())),this.worker=null}}class j{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){const n=++j.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new G(e,n,this._label||"anonymous"+n,t,(e=>{T(e),this._webWorkerFailedBeforeError=e,i(e)}))}}j.LAST_WORKER_ID=0;var K=i(2484);function $(e,t,i,n){return new K.Hs(e,t,i).ComputeDiff(n)}class q{constructor(e){const t=[],i=[];for(let n=0,o=e.length;n<o;n++)t[n]=X(e[n],1),i[n]=ee(e[n],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const n=[],o=[],s=[];let r=0;for(let a=t;a<=i;a++){const t=this.lines[a],l=e?this._startColumns[a]:1,d=e?this._endColumns[a]:t.length+1;for(let e=l;e<d;e++)n[r]=t.charCodeAt(e-1),o[r]=a+1,s[r]=e,r++;!e&&a<i&&(n[r]=10,o[r]=a+1,s[r]=t.length+1,r++)}return new Y(n,o,s)}}class Y{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}toString(){return"["+this._charCodes.map(((e,t)=>(10===e?"\\n":String.fromCharCode(e))+`-(${this._lineNumbers[t]},${this._columns[t]})`)).join(", ")+"]"}_assertIndex(e,t){if(e<0||e>=t.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(e){return e>0&&e===this._lineNumbers.length?this.getEndLineNumber(e-1):(this._assertIndex(e,this._lineNumbers),this._lineNumbers[e])}getEndLineNumber(e){return-1===e?this.getStartLineNumber(e+1):(this._assertIndex(e,this._lineNumbers),10===this._charCodes[e]?this._lineNumbers[e]+1:this._lineNumbers[e])}getStartColumn(e){return e>0&&e===this._columns.length?this.getEndColumn(e-1):(this._assertIndex(e,this._columns),this._columns[e])}getEndColumn(e){return-1===e?this.getStartColumn(e+1):(this._assertIndex(e,this._columns),10===this._charCodes[e]?1:this._columns[e]+1)}}class Q{constructor(e,t,i,n,o,s,r,a){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=n,this.modifiedStartLineNumber=o,this.modifiedStartColumn=s,this.modifiedEndLineNumber=r,this.modifiedEndColumn=a}static createFromDiffChange(e,t,i){const n=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),s=t.getEndLineNumber(e.originalStart+e.originalLength-1),r=t.getEndColumn(e.originalStart+e.originalLength-1),a=i.getStartLineNumber(e.modifiedStart),l=i.getStartColumn(e.modifiedStart),d=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),c=i.getEndColumn(e.modifiedStart+e.modifiedLength-1);return new Q(n,o,s,r,a,l,d,c)}}class Z{constructor(e,t,i,n,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=n,this.charChanges=o}static createFromDiffResult(e,t,i,n,o,s,r){let a,l,d,c,h;if(0===t.originalLength?(a=i.getStartLineNumber(t.originalStart)-1,l=0):(a=i.getStartLineNumber(t.originalStart),l=i.getEndLineNumber(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(d=n.getStartLineNumber(t.modifiedStart)-1,c=0):(d=n.getStartLineNumber(t.modifiedStart),c=n.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),s&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&o()){const s=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),a=n.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);if(s.getElements().length>0&&a.getElements().length>0){let e=$(s,a,o,!0).changes;r&&(e=function(e){if(e.length<=1)return e;const t=[e[0]];let i=t[0];for(let n=1,o=e.length;n<o;n++){const o=e[n],s=o.originalStart-(i.originalStart+i.originalLength),r=o.modifiedStart-(i.modifiedStart+i.modifiedLength);Math.min(s,r)<3?(i.originalLength=o.originalStart+o.originalLength-i.originalStart,i.modifiedLength=o.modifiedStart+o.modifiedLength-i.modifiedStart):(t.push(o),i=o)}return t}(e)),h=[];for(let t=0,i=e.length;t<i;t++)h.push(Q.createFromDiffChange(e[t],s,a))}}return new Z(a,l,d,c,h)}}class J{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new q(e),this.modified=new q(t),this.continueLineDiff=te(i.maxComputationTime),this.continueCharDiff=te(0===i.maxComputationTime?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const e=$(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const e=[];for(let i=0,n=t.length;i<n;i++)e.push(Z.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[i],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:e}}const n=[];let o=0,s=0;for(let e=-1,i=t.length;e<i;e++){const r=e+1<i?t[e+1]:null,a=r?r.originalStart:this.originalLines.length,l=r?r.modifiedStart:this.modifiedLines.length;for(;o<a&&s<l;){const e=this.originalLines[o],t=this.modifiedLines[s];if(e!==t){{let i=X(e,1),r=X(t,1);for(;i>1&&r>1&&e.charCodeAt(i-2)===t.charCodeAt(r-2);)i--,r--;(i>1||r>1)&&this._pushTrimWhitespaceCharChange(n,o+1,1,i,s+1,1,r)}{let i=ee(e,1),r=ee(t,1);const a=e.length+1,l=t.length+1;for(;i<a&&r<l&&e.charCodeAt(i-1)===e.charCodeAt(r-1);)i++,r++;(i<a||r<l)&&this._pushTrimWhitespaceCharChange(n,o+1,i,a,s+1,r,l)}}o++,s++}r&&(n.push(Z.createFromDiffResult(this.shouldIgnoreTrimWhitespace,r,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=r.originalLength,s+=r.modifiedLength)}return{quitEarly:i,changes:n}}_pushTrimWhitespaceCharChange(e,t,i,n,o,s,r){if(this._mergeTrimWhitespaceCharChange(e,t,i,n,o,s,r))return;let a;this.shouldComputeCharChanges&&(a=[new Q(t,i,t,n,o,s,o,r)]),e.push(new Z(t,t,o,o,a))}_mergeTrimWhitespaceCharChange(e,t,i,n,o,s,r){const a=e.length;if(0===a)return!1;const l=e[a-1];return 0!==l.originalEndLineNumber&&0!==l.modifiedEndLineNumber&&l.originalEndLineNumber+1===t&&l.modifiedEndLineNumber+1===o&&(l.originalEndLineNumber=t,l.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&l.charChanges&&l.charChanges.push(new Q(t,i,t,n,o,s,o,r)),!0)}}function X(e,t){const i=f.LC(e);return-1===i?t:i+1}function ee(e,t){const i=f.ow(e);return-1===i?t:i+2}function te(e){if(0===e)return()=>!0;const t=Date.now();return()=>Date.now()-t<e}var ie=i(310);class ne{constructor(e,t,i,n){this._uri=e,this._lines=t,this._eol=i,this._versionId=n,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const e of t)this._acceptDeleteRange(e.range),this._acceptInsertText(new l.L(e.range.startLineNumber,e.range.startColumn),e.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let n=0;n<t;n++)i[n]=this._lines[n].length+e;this._lineStarts=new ie.oQ(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}}_acceptInsertText(e,t){if(0===t.length)return;const i=(0,f.uq)(t);if(1===i.length)return void this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);const n=new Uint32Array(i.length-1);for(let t=1;t<i.length;t++)this._lines.splice(e.lineNumber+t-1,0,i[t]),n[t-1]=i[t].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,n)}}var oe=i(270),se=i(4906);class re{constructor(e,t,i){const n=new Uint8Array(e*t);for(let o=0,s=e*t;o<s;o++)n[o]=i;this._data=n,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class ae{constructor(e){let t=0,i=0;for(let n=0,o=e.length;n<o;n++){const[o,s,r]=e[n];s>t&&(t=s),o>i&&(i=o),r>i&&(i=r)}t++,i++;const n=new re(i,t,0);for(let t=0,i=e.length;t<i;t++){const[i,o,s]=e[t];n.set(i,o,s)}this._states=n,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let le=null,de=null;class ce{static _createLink(e,t,i,n,o){let s=o-1;do{const i=t.charCodeAt(s);if(2!==e.get(i))break;s--}while(s>n);if(n>0){const e=t.charCodeAt(n-1),i=t.charCodeAt(s);(40===e&&41===i||91===e&&93===i||123===e&&125===i)&&s--}return{range:{startLineNumber:i,startColumn:n+1,endLineNumber:i,endColumn:s+2},url:t.substring(n,s+1)}}static computeLinks(e,t=function(){return null===le&&(le=new ae([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),le}()){const i=function(){if(null===de){de=new se.N(0);const e=" \t<>'\"";for(let t=0;t<e.length;t++)de.set(e.charCodeAt(t),1);const t=".,;:";for(let e=0;e<t.length;e++)de.set(t.charCodeAt(e),2)}return de}(),n=[];for(let o=1,s=e.getLineCount();o<=s;o++){const s=e.getLineContent(o),r=s.length;let a=0,l=0,d=0,c=1,h=!1,u=!1,g=!1,p=!1;for(;a<r;){let e=!1;const r=s.charCodeAt(a);if(13===c){let t;switch(r){case 40:h=!0,t=0;break;case 41:t=h?0:1;break;case 91:g=!0,u=!0,t=0;break;case 93:g=!1,t=u?0:1;break;case 123:p=!0,t=0;break;case 125:t=p?0:1;break;case 39:t=39===d?1:0;break;case 34:t=34===d?1:0;break;case 96:t=96===d?1:0;break;case 42:t=42===d?1:0;break;case 124:t=124===d?1:0;break;case 32:t=g?0:1;break;default:t=i.get(r)}1===t&&(n.push(ce._createLink(i,s,o,l,a)),e=!0)}else if(12===c){let t;91===r?(u=!0,t=0):t=i.get(r),1===t?e=!0:c=13}else c=t.nextState(c,r),0===c&&(e=!0);e&&(c=1,h=!1,u=!1,p=!1,l=a+1,d=r),a++}13===c&&n.push(ce._createLink(i,s,o,l,r))}return n}}class he{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,n,o){if(e&&t){const i=this.doNavigateValueSet(t,o);if(i)return{range:e,value:i}}if(i&&n){const e=this.doNavigateValueSet(n,o);if(e)return{range:i,value:e}}return null}doNavigateValueSet(e,t){const i=this.numberReplace(e,t);return null!==i?i:this.textReplace(e,t)}numberReplace(e,t){const i=Math.pow(10,e.length-(e.lastIndexOf(".")+1));let n=Number(e);const o=parseFloat(e);return isNaN(n)||isNaN(o)||n!==o?null:0!==n||t?(n=Math.floor(n*i),n+=t?i:-i,String(n/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let n=null;for(let o=0,s=e.length;null===n&&o<s;o++)n=this.valueSetReplace(e[o],t,i);return n}valueSetReplace(e,t,i){let n=e.indexOf(t);return n>=0?(n+=i?1:-1,n<0?n=e.length-1:n%=e.length,e[n]):null}}he.INSTANCE=new he;var ue=i(4013),ge=i(1446),pe=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class me extends ne{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){const i=(0,oe.t2)(e.column,(0,oe.eq)(t),this._lines[e.lineNumber-1],0);return i?new d.e(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let n=0,o="",s=0,r=[];return{*[Symbol.iterator](){for(;;)if(s<r.length){const e=o.substring(r[s].start,r[s].end);s+=1,yield e}else{if(!(n<t.length))break;o=t[n],r=i(o,e),s=0,n+=1}}}}getLineWords(e,t){const i=this._lines[e-1],n=this._wordenize(i,t),o=[];for(const e of n)o.push({word:i.substring(e.start,e.end),startColumn:e.start+1,endColumn:e.end+1});return o}_wordenize(e,t){const i=[];let n;for(t.lastIndex=0;(n=t.exec(e))&&0!==n[0].length;)i.push({start:n.index,end:n.index+n[0].length});return i}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);const t=this._eol,i=e.startLineNumber-1,n=e.endLineNumber-1,o=[];o.push(this._lines[i].substring(e.startColumn-1));for(let e=i+1;e<n;e++)o.push(this._lines[e]);return o.push(this._lines[n].substring(0,e.endColumn-1)),o.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();const t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!l.L.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,n=!1;if(t<1)t=1,i=1,n=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,n=!0;else{const e=this._lines[t-1].length+1;i<1?(i=1,n=!0):i>e&&(i=e,n=!0)}return n?{lineNumber:t,column:i}:e}}class fe{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){const e=[];return Object.keys(this._models).forEach((t=>e.push(this._models[t]))),e}acceptNewModel(e){this._models[e.url]=new me(a.o.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){this._models[e]&&this._models[e].onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}computeUnicodeHighlights(e,t,i){return pe(this,void 0,void 0,(function*(){const n=this._getModel(e);return n?ge.a.computeUnicodeHighlights(n,t,i):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}))}computeDiff(e,t,i,n){return pe(this,void 0,void 0,(function*(){const o=this._getModel(e),s=this._getModel(t);return o&&s?fe.computeDiff(o,s,i,n):null}))}static computeDiff(e,t,i,n){const o=e.getLinesContent(),s=t.getLinesContent(),r=new J(o,s,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:!0,maxComputationTime:n}).computeDiff(),a=!(r.changes.length>0)&&this._modelsAreIdentical(e,t);return{quitEarly:r.quitEarly,identical:a,changes:r.changes}}static _modelsAreIdentical(e,t){const i=e.getLineCount();if(i!==t.getLineCount())return!1;for(let n=1;n<=i;n++)if(e.getLineContent(n)!==t.getLineContent(n))return!1;return!0}computeMoreMinimalEdits(e,t){return pe(this,void 0,void 0,(function*(){const i=this._getModel(e);if(!i)return t;const n=[];let o;t=t.slice(0).sort(((e,t)=>e.range&&t.range?d.e.compareRangesUsingStarts(e.range,t.range):(e.range?0:1)-(t.range?0:1)));for(let{range:e,text:s,eol:r}of t){if("number"==typeof r&&(o=r),d.e.isEmpty(e)&&!s)continue;const t=i.getValueInRange(e);if(s=s.replace(/\r\n|\n|\r/g,i.eol),t===s)continue;if(Math.max(s.length,t.length)>fe._diffLimit){n.push({range:e,text:s});continue}const a=(0,K.a$)(t,s,!1),l=i.offsetAt(d.e.lift(e).getStartPosition());for(const e of a){const t=i.positionAt(l+e.originalStart),o=i.positionAt(l+e.originalStart+e.originalLength),r={text:s.substr(e.modifiedStart,e.modifiedLength),range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:o.lineNumber,endColumn:o.column}};i.getValueInRange(r.range)!==r.text&&n.push(r)}}return"number"==typeof o&&n.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),n}))}computeLinks(e){return pe(this,void 0,void 0,(function*(){const t=this._getModel(e);return t?function(e){return e&&"function"==typeof e.getLineCount&&"function"==typeof e.getLineContent?ce.computeLinks(e):[]}(t):null}))}textualSuggest(e,t,i,n){return pe(this,void 0,void 0,(function*(){const o=new ue.G(!0),s=new RegExp(i,n),r=new Set;e:for(const i of e){const e=this._getModel(i);if(e)for(const i of e.words(s))if(i!==t&&isNaN(Number(i))&&(r.add(i),r.size>fe._suggestionsLimit))break e}return{words:Array.from(r),duration:o.elapsed()}}))}computeWordRanges(e,t,i,n){return pe(this,void 0,void 0,(function*(){const o=this._getModel(e);if(!o)return Object.create(null);const s=new RegExp(i,n),r=Object.create(null);for(let e=t.startLineNumber;e<t.endLineNumber;e++){const t=o.getLineWords(e,s);for(const i of t){if(!isNaN(Number(i.word)))continue;let t=r[i.word];t||(t=[],r[i.word]=t),t.push({startLineNumber:e,startColumn:i.startColumn,endLineNumber:e,endColumn:i.endColumn})}}return r}))}navigateValueSet(e,t,i,n,o){return pe(this,void 0,void 0,(function*(){const s=this._getModel(e);if(!s)return null;const r=new RegExp(n,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});const a=s.getValueInRange(t),l=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},r);if(!l)return null;const d=s.getValueInRange(l);return he.INSTANCE.navigateValueSet(t,a,l,d,i)}))}loadForeignModule(e,t,i){const n={host:E.IU(i,((e,t)=>this._host.fhr(e,t))),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(n,t),Promise.resolve(E.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(e){return Promise.reject(e)}}}fe._diffLimit=1e5,fe._suggestionsLimit=1e4,"function"==typeof importScripts&&(N.li.monaco=p());var ve=i(1765),_e=i(9488),be=i(3557),Ce=i(1922),ye=function(e,t){return function(i,n){t(i,n,e)}},we=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function Se(e,t){const i=e.getModel(t);return!!i&&!i.isTooLargeForSyncing()}let ke=class extends m.JT{constructor(e,t,i,n,o){super(),this._modelService=e,this._workerManager=this._register(new xe(this._modelService,n)),this._logService=i,this._register(o.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(e,t)=>Se(this._modelService,e.uri)?this._workerManager.withWorker().then((t=>t.computeLinks(e.uri))).then((e=>e&&{links:e})):Promise.resolve({links:[]})})),this._register(o.completionProvider.register("*",new Le(this._workerManager,t,this._modelService,n)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return Se(this._modelService,e)}computedUnicodeHighlights(e,t,i){return this._workerManager.withWorker().then((n=>n.computedUnicodeHighlights(e,t,i)))}computeDiff(e,t,i,n){return this._workerManager.withWorker().then((o=>o.computeDiff(e,t,i,n)))}computeMoreMinimalEdits(e,t){if((0,_e.Of)(t)){if(!Se(this._modelService,e))return Promise.resolve(t);const i=ue.G.create(!0),n=this._workerManager.withWorker().then((i=>i.computeMoreMinimalEdits(e,t)));return n.finally((()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),i.elapsed()))),Promise.race([n,(0,I.Vs)(1e3).then((()=>t))])}return Promise.resolve(void 0)}canNavigateValueSet(e){return Se(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then((n=>n.navigateValueSet(e,t,i)))}canComputeWordRanges(e){return Se(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then((i=>i.computeWordRanges(e,t)))}};ke=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([ye(0,x.q),ye(1,ve.V),ye(2,be.VZ),ye(3,S.c_),ye(4,Ce.p)],ke);class Le{constructor(e,t,i,n){this.languageConfigurationService=n,this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}provideCompletionItems(e,t){return we(this,void 0,void 0,(function*(){const i=this._configurationService.getValue(e.uri,t,"editor");if(!i.wordBasedSuggestions)return;const n=[];if("currentDocument"===i.wordBasedSuggestionsMode)Se(this._modelService,e.uri)&&n.push(e.uri);else for(const t of this._modelService.getModels())Se(this._modelService,t.uri)&&(t===e?n.unshift(t.uri):"allDocuments"!==i.wordBasedSuggestionsMode&&t.getLanguageId()!==e.getLanguageId()||n.push(t.uri));if(0===n.length)return;const o=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),s=e.getWordAtPosition(t),r=s?new d.e(t.lineNumber,s.startColumn,t.lineNumber,s.endColumn):d.e.fromPositions(t),a=r.setEndPosition(t.lineNumber,t.column),l=yield this._workerManager.withWorker(),c=yield l.textualSuggest(n,null==s?void 0:s.word,o);return c?{duration:c.duration,suggestions:c.words.map((e=>({kind:18,label:e,insertText:e,range:{insert:a,replace:r}})))}:void 0}))}}class xe extends m.JT{constructor(e,t){super(),this.languageConfigurationService=t,this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new I.zh).cancelAndSet((()=>this._checkStopIdleWorker()),Math.round(15e4)),this._register(this._modelService.onModelRemoved((e=>this._checkStopEmptyWorker())))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){this._editorWorkerClient&&(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Ee(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class Ie extends m.JT{constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){const e=new I.zh;e.cancelAndSet((()=>this._checkStopModelSync()),Math.round(3e4)),this._register(e)}}dispose(){for(const e in this._syncedModels)(0,m.B9)(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const i of e){const e=i.toString();this._syncedModels[e]||this._beginModelSync(i,t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=(new Date).getTime())}}_checkStopModelSync(){const e=(new Date).getTime(),t=[];for(const i in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[i]>6e4&&t.push(i);for(const e of t)this._stopModelSync(e)}_beginModelSync(e,t){const i=this._modelService.getModel(e);if(!i)return;if(!t&&i.isTooLargeForSyncing())return;const n=e.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});const o=new m.SL;o.add(i.onDidChangeContent((e=>{this._proxy.acceptModelChanged(n.toString(),e)}))),o.add(i.onWillDispose((()=>{this._stopModelSync(n)}))),o.add((0,m.OF)((()=>{this._proxy.acceptRemovedModel(n)}))),this._syncedModels[n]=o}_stopModelSync(e){const t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],(0,m.B9)(t)}}class De{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class Ne{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class Ee extends m.JT{constructor(e,t,i,n){super(),this.languageConfigurationService=n,this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new j(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new W(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Ne(this)))}catch(e){T(e),this._worker=new De(new fe(new Ne(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,(e=>(T(e),this._worker=new De(new fe(new Ne(this),null)),this._getOrCreateWorker().getProxyObject())))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new Ie(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e,t=!1){return we(this,void 0,void 0,(function*(){return this._disposed?Promise.reject((0,D.F0)()):this._getProxy().then((i=>(this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i)))}))}computedUnicodeHighlights(e,t,i){return this._withSyncedResources([e]).then((n=>n.computeUnicodeHighlights(e.toString(),t,i)))}computeDiff(e,t,i,n){return this._withSyncedResources([e,t],!0).then((o=>o.computeDiff(e.toString(),t.toString(),i,n)))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then((i=>i.computeMoreMinimalEdits(e.toString(),t)))}computeLinks(e){return this._withSyncedResources([e]).then((t=>t.computeLinks(e.toString())))}textualSuggest(e,t,i){return we(this,void 0,void 0,(function*(){const n=yield this._withSyncedResources(e),o=i.source,s=(0,f.mr)(i);return n.textualSuggest(e.map((e=>e.toString())),t,o,s)}))}computeWordRanges(e,t){return this._withSyncedResources([e]).then((i=>{const n=this._modelService.getModel(e);if(!n)return Promise.resolve(null);const o=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId()).getWordDefinition(),s=o.source,r=(0,f.mr)(o);return i.computeWordRanges(e.toString(),t,s,r)}))}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then((n=>{const o=this._modelService.getModel(e);if(!o)return null;const s=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId()).getWordDefinition(),r=s.source,a=(0,f.mr)(s);return n.navigateValueSet(e.toString(),t,i,r,a)}))}dispose(){super.dispose(),this._disposed=!0}}class Ae extends Ee{constructor(e,t,i){super(e,i.keepIdleModels||!1,i.label,t),this._foreignModuleId=i.moduleId,this._foreignModuleCreateData=i.createData||null,this._foreignModuleHost=i.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(e){return Promise.reject(e)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then((e=>{const t=this._foreignModuleHost?E.$E(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then((t=>{this._foreignModuleCreateData=null;const i=(t,i)=>e.fmr(t,i),n=(e,t)=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)},o={};for(const e of t)o[e]=n(e,i);return o}))}))),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then((e=>this.getProxy()))}}var Te=i(7378),Me=i(1557),Re=i(1118);function Pe(e){return"string"==typeof e}function Oe(e){return!Pe(e)}function Ve(e){return!e}function Fe(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function We(e){return e.replace(/[&<>'"_]/g,"-")}function ze(e,t){return new Error(`${e.languageId}: ${t}`)}function Be(e,t,i,n,o){let s=null;return t.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,(function(t,r,a,l,d,c,h,u,g){return Ve(a)?Ve(l)?!Ve(d)&&d<n.length?Fe(e,n[d]):!Ve(h)&&e&&"string"==typeof e[h]?e[h]:(null===s&&(s=o.split("."),s.unshift(o)),!Ve(c)&&c<s.length?Fe(e,s[c]):""):Fe(e,i):"$"}))}function Ue(e,t){let i=t;for(;i&&i.length>0;){const t=e.tokenizer[i];if(t)return t;const n=i.lastIndexOf(".");i=n<0?null:i.substr(0,n)}return null}var He=i(3108);class Ge{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new je(e,t);let i=je.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let n=this._entries[i];return n||(n=new je(e,t),this._entries[i]=n,n)}}Ge._INSTANCE=new Ge(5);class je{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;null!==e;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;null!==e&&null!==t;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t}equals(e){return je._equals(this,e)}push(e){return Ge.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return Ge.create(this.parent,e)}}class Ke{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new Ke(this.languageId,this.state)}}class $e{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==t)return new qe(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new qe(e,t);const i=je.getStackElementId(e);let n=this._entries[i];return n||(n=new qe(e,null),this._entries[i]=n,n)}}$e._INSTANCE=new $e(5);class qe{constructor(e,t){this.stack=e,this.embeddedLanguageData=t}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:$e.create(this.stack,this.embeddedLanguageData)}equals(e){return e instanceof qe&&!!this.stack.equals(e.stack)&&(null===this.embeddedLanguageData&&null===e.embeddedLanguageData||null!==this.embeddedLanguageData&&null!==e.embeddedLanguageData&&this.embeddedLanguageData.equals(e.embeddedLanguageData))}}class Ye{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(e){this._languageId=e}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new h.WU(e,t,this._languageId)))}nestedLanguageTokenize(e,t,i,n){const o=i.languageId,s=i.state,r=h.RW.get(o);if(!r)return this.enterLanguage(o),this.emit(n,""),s;const a=r.tokenize(e,t,s);if(0!==n)for(const e of a.tokens)this._tokens.push(new h.WU(e.offset+n,e.type,e.language));else this._tokens=this._tokens.concat(a.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,a.endState}finalize(e){return new h.hG(this._tokens,e)}}class Qe{constructor(e,t){this._languageService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(e){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(e)}emit(e,t){const i=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){const n=null!==e?e.length:0,o=t.length,s=null!==i?i.length:0;if(0===n&&0===o&&0===s)return new Uint32Array(0);if(0===n&&0===o)return i;if(0===o&&0===s)return e;const r=new Uint32Array(n+o+s);null!==e&&r.set(e);for(let e=0;e<o;e++)r[n+e]=t[e];return null!==i&&r.set(i,n+o),r}nestedLanguageTokenize(e,t,i,n){const o=i.languageId,s=i.state,r=h.RW.get(o);if(!r)return this.enterLanguage(o),this.emit(n,""),s;const a=r.tokenizeEncoded(e,t,s);if(0!==n)for(let e=0,t=a.tokens.length;e<t;e+=2)a.tokens[e]+=n;return this._prependTokens=Qe._merge(this._prependTokens,this._tokens,a.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,a.endState}finalize(e){return new h.DI(Qe._merge(this._prependTokens,this._tokens,null),e)}}let Ze=class e{constructor(e,t,i,n,o){this._configurationService=o,this._languageService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=n,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let s=!1;this._tokenizationRegistryListener=h.RW.onDidChange((e=>{if(s)return;let t=!1;for(let i=0,n=e.changedLanguages.length;i<n;i++){const n=e.changedLanguages[i];if(this._embeddedLanguages[n]){t=!0;break}}t&&(s=!0,h.RW.fire([this._languageId]),s=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const t=[];for(const i in this._embeddedLanguages){const n=h.RW.get(i);if(n){if(n instanceof e){const e=n.getLoadStatus();!1===e.loaded&&t.push(e.promise)}}else h.RW.isResolved(i)||t.push(h.RW.getOrCreate(i))}return 0===t.length?{loaded:!0}:{loaded:!1,promise:Promise.all(t).then((e=>{}))}}getInitialState(){const e=Ge.create(null,this._lexer.start);return $e.create(e,null)}tokenize(e,t,i){if(e.length>=this._maxTokenizationLineLength)return(0,k.Ri)(this._languageId,i);const n=new Ye,o=this._tokenize(e,t,i,n);return n.finalize(o)}tokenizeEncoded(e,t,i){if(e.length>=this._maxTokenizationLineLength)return(0,k.Dy)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),i);const n=new Qe(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),o=this._tokenize(e,t,i,n);return n.finalize(o)}_tokenize(e,t,i,n){return i.embeddedLanguageData?this._nestedTokenize(e,t,i,0,n):this._myTokenize(e,t,i,0,n)}_findLeavingNestedLanguageOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=Ue(this._lexer,t.stack.state),!i))throw ze(this._lexer,"tokenizer state is not defined: "+t.stack.state);let n=-1,o=!1;for(const t of i){if(!Oe(t.action)||"@pop"!==t.action.nextEmbedded)continue;o=!0;let i=t.regex;const s=t.regex.source;if("^(?:"===s.substr(0,4)&&")"===s.substr(s.length-1,1)){const e=(i.ignoreCase?"i":"")+(i.unicode?"u":"");i=new RegExp(s.substr(4,s.length-5),e)}const r=e.search(i);-1===r||0!==r&&t.matchOnlyAtLineStart||(-1===n||r<n)&&(n=r)}if(!o)throw ze(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return n}_nestedTokenize(e,t,i,n,o){const s=this._findLeavingNestedLanguageOffset(e,i);if(-1===s){const s=o.nestedLanguageTokenize(e,t,i.embeddedLanguageData,n);return $e.create(i.stack,new Ke(i.embeddedLanguageData.languageId,s))}const r=e.substring(0,s);r.length>0&&o.nestedLanguageTokenize(r,!1,i.embeddedLanguageData,n);const a=e.substring(s);return this._myTokenize(a,t,i,n+s,o)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,n,o){o.enterLanguage(this._languageId);const s=e.length,r=t&&this._lexer.includeLF?e+"\n":e,a=r.length;let l=i.embeddedLanguageData,d=i.stack,c=0,h=null,u=!0;for(;u||c<a;){const i=c,m=d.depth,f=h?h.groups.length:0,v=d.state;let _=null,b=null,C=null,y=null,w=null;if(h){_=h.matches;const e=h.groups.shift();b=e.matched,C=e.action,y=h.rule,0===h.groups.length&&(h=null)}else{if(!u&&c>=a)break;u=!1;let e=this._lexer.tokenizer[v];if(!e&&(e=Ue(this._lexer,v),!e))throw ze(this._lexer,"tokenizer state is not defined: "+v);const t=r.substr(c);for(const i of e)if((0===c||!i.matchOnlyAtLineStart)&&(_=t.match(i.regex),_)){b=_[0],C=i.action;break}}if(_||(_=[""],b=""),C||(c<a&&(_=[r.charAt(c)],b=_[0]),C=this._lexer.defaultToken),null===b)break;for(c+=b.length;!function(e){return Array.isArray(e)}(C)&&Oe(C)&&C.test;)C=C.test(b,_,v,c===a);let S=null;if("string"==typeof C||Array.isArray(C))S=C;else if(C.group)S=C.group;else if(null!==C.token&&void 0!==C.token){if(S=C.tokenSubst?Be(this._lexer,C.token,b,_,v):C.token,C.nextEmbedded)if("@pop"===C.nextEmbedded){if(!l)throw ze(this._lexer,"cannot pop embedded language if not inside one");l=null}else{if(l)throw ze(this._lexer,"cannot enter embedded language from within an embedded language");w=Be(this._lexer,C.nextEmbedded,b,_,v)}if(C.goBack&&(c=Math.max(0,c-C.goBack)),C.switchTo&&"string"==typeof C.switchTo){let e=Be(this._lexer,C.switchTo,b,_,v);if("@"===e[0]&&(e=e.substr(1)),!Ue(this._lexer,e))throw ze(this._lexer,"trying to switch to a state '"+e+"' that is undefined in rule: "+this._safeRuleName(y));d=d.switchTo(e)}else{if(C.transform&&"function"==typeof C.transform)throw ze(this._lexer,"action.transform not supported");if(C.next)if("@push"===C.next){if(d.depth>=this._lexer.maxStack)throw ze(this._lexer,"maximum tokenizer stack size reached: ["+d.state+","+d.parent.state+",...]");d=d.push(v)}else if("@pop"===C.next){if(d.depth<=1)throw ze(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(y));d=d.pop()}else if("@popall"===C.next)d=d.popall();else{let e=Be(this._lexer,C.next,b,_,v);if("@"===e[0]&&(e=e.substr(1)),!Ue(this._lexer,e))throw ze(this._lexer,"trying to set a next state '"+e+"' that is undefined in rule: "+this._safeRuleName(y));d=d.push(e)}}C.log&&"string"==typeof C.log&&(g=this._lexer,p=this._lexer.languageId+": "+Be(this._lexer,C.log,b,_,v),console.log(`${g.languageId}: ${p}`))}if(null===S)throw ze(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(y));const k=i=>{const s=this._languageService.getLanguageIdByLanguageName(i)||this._languageService.getLanguageIdByMimeType(i)||i,r=this._getNestedEmbeddedLanguageData(s);if(c<a){const i=e.substr(c);return this._nestedTokenize(i,t,$e.create(d,r),n+c,o)}return $e.create(d,r)};if(Array.isArray(S)){if(h&&h.groups.length>0)throw ze(this._lexer,"groups cannot be nested: "+this._safeRuleName(y));if(_.length!==S.length+1)throw ze(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(y));let e=0;for(let t=1;t<_.length;t++)e+=_[t].length;if(e!==b.length)throw ze(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(y));h={rule:y,matches:_,groups:[]};for(let e=0;e<S.length;e++)h.groups[e]={action:S[e],matched:_[e+1]};c-=b.length}else{{if("@rematch"===S&&(c-=b.length,b="",_=null,S="",null!==w))return k(w);if(0===b.length){if(0===a||m!==d.depth||v!==d.state||(h?h.groups.length:0)!==f)continue;throw ze(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(y))}let e=null;if(Pe(S)&&0===S.indexOf("@brackets")){const t=S.substr("@brackets".length),i=Je(this._lexer,b);if(!i)throw ze(this._lexer,"@brackets token returned but no bracket defined as: "+b);e=We(i.token+t)}else e=We(""===S?"":S+this._lexer.tokenPostfix);i<s&&o.emit(i+n,e)}if(null!==w)return k(w)}}var g,p;return $e.create(d,l)}_getNestedEmbeddedLanguageData(e){if(!this._languageService.isRegisteredLanguageId(e))return new Ke(e,k.TJ);e!==this._languageId&&(h.RW.getOrCreate(e),this._embeddedLanguages[e]=!0);const t=h.RW.get(e);return new Ke(e,t?t.getInitialState():k.TJ)}};function Je(e,t){if(!t)return null;t=Fe(e,t);const i=e.brackets;for(const e of i){if(e.open===t)return{token:e.token,bracketType:1};if(e.close===t)return{token:e.token,bracketType:-1}}return null}var Xe,et;Ze=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(Xe=4,et=He.Ui,function(e,t){et(e,t,Xe)})],Ze);var tt;const it=null===(tt=window.trustedTypes)||void 0===tt?void 0:tt.createPolicy("standaloneColorizer",{createHTML:e=>e});class nt{static colorizeElement(e,t,i,n){const o=(n=n||{}).theme||"vs",s=n.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!s)return console.error("Mode not detected"),Promise.resolve();const r=t.getLanguageIdByMimeType(s)||s;e.setTheme(o);const a=i.firstChild?i.firstChild.nodeValue:"";return i.className+=" "+o,this.colorize(t,a||"",r,n).then((e=>{var t;const n=null!==(t=null==it?void 0:it.createHTML(e))&&void 0!==t?t:e;i.innerHTML=n}),(e=>console.error(e)))}static colorize(e,t,i,n){return o=this,s=void 0,a=function*(){const o=e.languageIdCodec;let s=4;n&&"number"==typeof n.tabSize&&(s=n.tabSize),f.uS(t)&&(t=t.substr(1));const r=f.uq(t);if(!e.isRegisteredLanguageId(i))return ot(r,s,o);const a=yield h.RW.getOrCreate(i);return a?function(e,t,i,n){return new Promise(((o,s)=>{const r=()=>{const a=function(e,t,i,n){let o=[],s=i.getInitialState();for(let r=0,a=e.length;r<a;r++){const a=e[r],l=i.tokenizeEncoded(a,!0,s);Te.A.convertToEndOffset(l.tokens,a.length);const d=new Te.A(l.tokens,a,n),c=Re.wA.isBasicASCII(a,!0),h=Re.wA.containsRTL(a,c,!0),u=(0,Me.tF)(new Me.IJ(!1,!0,a,!1,c,h,0,d.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));o=o.concat(u.html),o.push("<br/>"),s=l.endState}return o.join("")}(e,t,i,n);if(i instanceof Ze){const e=i.getLoadStatus();if(!1===e.loaded)return void e.promise.then(r,s)}o(a)};r()}))}(r,s,a,o):ot(r,s,o)},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{l(a.next(e))}catch(e){t(e)}}function n(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof r?o:new r((function(e){e(o)}))).then(i,n)}l((a=a.apply(o,s||[])).next())}));var o,s,r,a}static colorizeLine(e,t,i,n,o=4){const s=Re.wA.isBasicASCII(e,t),r=Re.wA.containsRTL(e,s,i);return(0,Me.tF)(new Me.IJ(!1,!0,e,!1,s,r,0,n,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){const n=e.getLineContent(t);e.tokenization.forceTokenization(t);const o=e.tokenization.getLineTokens(t).inflate();return this.colorizeLine(n,e.mightContainNonBasicASCII(),e.mightContainRTL(),o,i)}}function ot(e,t,i){let n=[];const o=new Uint32Array(2);o[0]=0,o[1]=33587200;for(let s=0,r=e.length;s<r;s++){const r=e[s];o[0]=r.length;const a=new Te.A(o,r,i),l=Re.wA.isBasicASCII(r,!0),d=Re.wA.containsRTL(r,l,!0),c=(0,Me.tF)(new Me.IJ(!1,!0,r,!1,l,d,0,a,[],t,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(c.html),n.push("<br/>")}return n.join("")}var st=i(5152),rt=i(6180),at=i(8143),lt=i(653),dt=i(4319),ct=i(5321),ht=i(6663),ut=i(1741),gt=i(7781);let pt=class extends m.JT{constructor(e){super(),this._themeService=e,this._onCodeEditorAdd=this._register(new s.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new s.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new s.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new s.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new ut.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map((e=>this._codeEditors[e]))}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map((e=>this._diffEditors[e]))}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach((t=>t.removeDecorationsByType(e)))))}setModelProperty(e,t,i){const n=e.toString();let o;this._modelProperties.has(n)?o=this._modelProperties.get(n):(o=new Map,this._modelProperties.set(n,o)),o.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i))return this._modelProperties.get(i).get(t)}openCodeEditor(e,t,i){return n=this,o=void 0,r=function*(){for(const n of this._codeEditorOpenHandlers){const o=yield n(e,t,i);if(null!==o)return o}return null},new((s=void 0)||(s=Promise))((function(e,t){function i(e){try{l(r.next(e))}catch(e){t(e)}}function a(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(i,a)}l((r=r.apply(n,o||[])).next())}));var n,o,s,r}registerCodeEditorOpenHandler(e){const t=this._codeEditorOpenHandlers.unshift(e);return(0,m.OF)(t)}};pt=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(0,gt.XE)],pt);var mt=i(8819),ft=i(5026),vt=function(e,t){return function(i,n){t(i,n,e)}};let _t=class extends pt{constructor(e,t){super(t),this.onCodeEditorAdd((()=>this._checkContextKey())),this.onCodeEditorRemove((()=>this._checkContextKey())),this._editorIsOpen=e.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler(((e,t,i)=>{return n=this,o=void 0,r=function*(){return t?this.doOpenEditor(t,e):null},new((s=void 0)||(s=Promise))((function(e,t){function i(e){try{l(r.next(e))}catch(e){t(e)}}function a(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(i,a)}l((r=r.apply(n,o||[])).next())}));var n,o,s,r}))}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const i=t.resource.scheme;if(i===ht.lg.http||i===ht.lg.https)return(0,ct.V3)(t.resource.toString()),e}return null}const i=t.options?t.options.selection:null;if(i)if("number"==typeof i.endLineNumber&&"number"==typeof i.endColumn)e.setSelection(i),e.revealRangeInCenter(i,1);else{const t={lineNumber:i.startLineNumber,column:i.startColumn};e.setPosition(t),e.revealPositionInCenter(t,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};_t=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([vt(0,mt.i6),vt(1,gt.XE)],_t),(0,ft.z)(_.$,_t);var bt=i(2065);const Ct=(0,bt.yh)("layoutService");var yt=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},wt=function(e,t){return function(i,n){t(i,n,e)}};let St=class{constructor(e){this._codeEditorService=e,this.onDidLayout=s.ju.None,this.offset={top:0,quickPickTop:0}}get dimension(){return this._dimension||(this._dimension=ct.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var e;null===(e=this._codeEditorService.getFocusedCodeEditor())||void 0===e||e.focus()}};St=yt([wt(0,_.$)],St);let kt=class extends St{constructor(e,t){super(t),this._container=e}get hasContainer(){return!1}get container(){return this._container}};kt=yt([wt(1,_.$)],kt),(0,ft.z)(Ct,St);var Lt=i(4603),xt=i(3580),It=i(8820),Dt=i(9422),Nt=i(4862),Et=function(e,t){return function(i,n){t(i,n,e)}},At=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function Tt(e){return e.scheme===ht.lg.file?e.fsPath:e.path}let Mt=0;class Rt{constructor(e,t,i,n,o,s,r){this.id=++Mt,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=n,this.groupOrder=o,this.sourceId=s,this.sourceOrder=r,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Pt{constructor(e,t){this.resourceLabel=e,this.reason=t}}class Ot{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,i]of this.elements)(0===i.reason?e:t).push(i.resourceLabel);const i=[];return e.length>0&&i.push(xt.NC({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(xt.NC({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join("\n")}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class Vt{constructor(e,t,i,n,o,s,r){this.id=++Mt,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=n,this.groupOrder=o,this.sourceId=s,this.sourceOrder=r,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(e,t,i){this.removedResources||(this.removedResources=new Ot),this.removedResources.has(t)||this.removedResources.set(t,new Pt(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new Ot),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new Pt(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Ft{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){1===e.type?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const e of this._future)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let e=0,i=this._past.length;e<i;e++)t.push(this._past[e].id);for(let e=this._future.length-1;e>=0;e--)t.push(this._future[e].id);return new Nt.YO(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,n=0,o=-1;for(let s=0,r=this._past.length;s<r;s++,n++){const r=this._past[s];i&&(n>=t||r.id!==e.elements[n])&&(i=!1,o=0),i||1!==r.type||r.removeResource(this.resourceLabel,this.strResource,0)}let s=-1;for(let o=this._future.length-1;o>=0;o--,n++){const r=this._future[o];i&&(n>=t||r.id!==e.elements[n])&&(i=!1,s=o),i||1!==r.type||r.removeResource(this.resourceLabel,this.strResource,0)}-1!==o&&(this._past=this._past.slice(0,o)),-1!==s&&(this._future=this._future.slice(s+1)),this.versionId++}getElements(){const e=[],t=[];for(const t of this._past)e.push(t.actual);for(const e of this._future)t.push(e.actual);return{past:e,future:t}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class Wt{constructor(e){this.editStacks=e,this._versionIds=[];for(let e=0,t=this.editStacks.length;e<t;e++)this._versionIds[e]=this.editStacks[e].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const zt=new Ft("","");zt.locked=!0;let Bt=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);const t=[];for(const e of this._editStacks)t.push(e[1].toString());console.log(t.join("\n"))}pushElement(e,t=Nt.Xt.None,i=Nt.gJ.None){if(0===e.type){const n=Tt(e.resource),o=this.getUriComparisonKey(e.resource);this._pushElement(new Rt(e,n,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const n=new Set,o=[],s=[];for(const t of e.resources){const e=Tt(t),i=this.getUriComparisonKey(t);n.has(i)||(n.add(i),o.push(e),s.push(i))}1===o.length?this._pushElement(new Rt(e,o[0],s[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new Vt(e,o,s,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const i=e.resourceLabels[t],n=e.strResources[t];let o;this._editStacks.has(n)?o=this._editStacks.get(n):(o=new Ft(i,n),this._editStacks.set(n,o)),o.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const e=this._editStacks.get(t);if(e.hasFutureElements())return null;const i=e.getClosestPastElement();return i?i.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const e of i){const t=Tt(e.resource),i=this.getUriComparisonKey(e.resource),o=new Rt(e,t,i,0,0,0,0);n.set(o.strResource,o)}for(const i of e.strResources)t&&t.has(i)||this._editStacks.get(i).splitPastWorkspaceElement(e,n)}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const e of i){const t=Tt(e.resource),i=this.getUriComparisonKey(e.resource),o=new Rt(e,t,i,0,0,0,0);n.set(o.strResource,o)}for(const i of e.strResources)t&&t.has(i)||this._editStacks.get(i).splitFutureWorkspaceElement(e,n)}removeElements(e){const t="string"==typeof e?e:this.getUriComparisonKey(e);this._editStacks.has(t)&&(this._editStacks.get(t).dispose(),this._editStacks.delete(t))}setElementsValidFlag(e,t,i){const n=this.getUriComparisonKey(e);this._editStacks.has(n)&&this._editStacks.get(n).setElementsValidFlag(t,i)}createSnapshot(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).createSnapshot(e):new Nt.YO(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),i.hasPastElements()||i.hasFutureElements()||(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const s=o.getClosestPastElement();s&&s.sourceId===e&&(!t||s.sourceOrder>t.sourceOrder)&&(t=s,i=n)}return[t,i]}canUndo(e){if(e instanceof Nt.gJ){const[,t]=this._findClosestUndoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);return!!this._editStacks.has(t)&&this._editStacks.get(t).hasPastElements()}_onError(e,t){(0,D.dL)(e);for(const e of t.strResources)this.removeElements(e);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,n,o){const s=this._acquireLocks(i);let r;try{r=t()}catch(t){return s(),n.dispose(),this._onError(t,e)}return r?r.then((()=>(s(),n.dispose(),o())),(t=>(s(),n.dispose(),this._onError(t,e)))):(s(),n.dispose(),o())}_invokeWorkspacePrepare(e){return At(this,void 0,void 0,(function*(){if(void 0===e.actual.prepareUndoRedo)return m.JT.None;const t=e.actual.prepareUndoRedo();return void 0===t?m.JT.None:t}))}_invokeResourcePrepare(e,t){if(1!==e.actual.type||void 0===e.actual.prepareUndoRedo)return t(m.JT.None);const i=e.actual.prepareUndoRedo();return i?(0,m.Wf)(i)?t(i):i.then((e=>t(e))):t(m.JT.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||zt);return new Wt(t)}_tryToSplitAndUndo(e,t,i,n){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(n),new Ut(this._undo(e,0,!0));for(const e of t.strResources)this.removeElements(e);return this._notificationService.warn(n),new Ut}_checkWorkspaceUndo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,xt.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,xt.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const e of i.editStacks)e.getClosestPastElement()!==t&&o.push(e.resourceLabel);if(o.length>0)return this._tryToSplitAndUndo(e,t,null,xt.NC({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const s=[];for(const e of i.editStacks)e.locked&&s.push(e.resourceLabel);return s.length>0?this._tryToSplitAndUndo(e,t,null,xt.NC({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,xt.NC({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){const n=this._getAffectedEditStacks(t),o=this._checkWorkspaceUndo(e,t,n,!1);return o?o.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,n,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const i=t.getClosestPastElement();if(i){if(i===e){const i=t.getSecondClosestPastElement();if(i&&i.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,t,i,n){return At(this,void 0,void 0,(function*(){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){const o=yield this._dialogService.show(Lt.Z.Info,xt.NC("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),[xt.NC({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",i.editStacks.length),xt.NC("nok","Undo this File"),xt.NC("cancel","Cancel")],{cancelId:2});if(2===o.choice)return;if(1===o.choice)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const s=this._checkWorkspaceUndo(e,t,i,!1);if(s)return s.returnValue;n=!0}let o;try{o=yield this._invokeWorkspacePrepare(t)}catch(e){return this._onError(e,t)}const s=this._checkWorkspaceUndo(e,t,i,!0);if(s)return o.dispose(),s.returnValue;for(const e of i.editStacks)e.moveBackward(t);return this._safeInvokeWithLocks(t,(()=>t.actual.undo()),i,o,(()=>this._continueUndoInGroup(t.groupId,n)))}))}_resourceUndo(e,t,i){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,(n=>(e.moveBackward(t),this._safeInvokeWithLocks(t,(()=>t.actual.undo()),new Wt([e]),n,(()=>this._continueUndoInGroup(t.groupId,i))))));{const e=xt.NC({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const s=o.getClosestPastElement();s&&s.groupId===e&&(!t||s.groupOrder>t.groupOrder)&&(t=s,i=n)}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;const[,i]=this._findClosestUndoElementInGroup(e);return i?this._undo(i,0,t):void 0}undo(e){if(e instanceof Nt.gJ){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return"string"==typeof e?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;const n=this._editStacks.get(e),o=n.getClosestPastElement();if(o){if(o.groupId){const[e,n]=this._findClosestUndoElementInGroup(o.groupId);if(o!==e&&n)return this._undo(n,t,i)}if((o.sourceId!==t||o.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,o);try{return 1===o.type?this._workspaceUndo(e,o,i):this._resourceUndo(n,o,i)}finally{}}}_confirmAndContinueUndo(e,t,i){return At(this,void 0,void 0,(function*(){if(1!==(yield this._dialogService.show(Lt.Z.Info,xt.NC("confirmDifferentSource","Would you like to undo '{0}'?",i.label),[xt.NC("confirmDifferentSource.yes","Yes"),xt.NC("confirmDifferentSource.no","No")],{cancelId:1})).choice)return this._undo(e,t,!0)}))}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const s=o.getClosestFutureElement();s&&s.sourceId===e&&(!t||s.sourceOrder<t.sourceOrder)&&(t=s,i=n)}return[t,i]}canRedo(e){if(e instanceof Nt.gJ){const[,t]=this._findClosestRedoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);return!!this._editStacks.has(t)&&this._editStacks.get(t).hasFutureElements()}_tryToSplitAndRedo(e,t,i,n){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(n),new Ut(this._redo(e));for(const e of t.strResources)this.removeElements(e);return this._notificationService.warn(n),new Ut}_checkWorkspaceRedo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,xt.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,xt.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const e of i.editStacks)e.getClosestFutureElement()!==t&&o.push(e.resourceLabel);if(o.length>0)return this._tryToSplitAndRedo(e,t,null,xt.NC({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const s=[];for(const e of i.editStacks)e.locked&&s.push(e.resourceLabel);return s.length>0?this._tryToSplitAndRedo(e,t,null,xt.NC({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,xt.NC({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),n=this._checkWorkspaceRedo(e,t,i,!1);return n?n.returnValue:this._executeWorkspaceRedo(e,t,i)}_executeWorkspaceRedo(e,t,i){return At(this,void 0,void 0,(function*(){let n;try{n=yield this._invokeWorkspacePrepare(t)}catch(e){return this._onError(e,t)}const o=this._checkWorkspaceRedo(e,t,i,!0);if(o)return n.dispose(),o.returnValue;for(const e of i.editStacks)e.moveForward(t);return this._safeInvokeWithLocks(t,(()=>t.actual.redo()),i,n,(()=>this._continueRedoInGroup(t.groupId)))}))}_resourceRedo(e,t){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,(i=>(e.moveForward(t),this._safeInvokeWithLocks(t,(()=>t.actual.redo()),new Wt([e]),i,(()=>this._continueRedoInGroup(t.groupId))))));{const e=xt.NC({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const s=o.getClosestFutureElement();s&&s.groupId===e&&(!t||s.groupOrder<t.groupOrder)&&(t=s,i=n)}return[t,i]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);return t?this._redo(t):void 0}redo(e){if(e instanceof Nt.gJ){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return"string"==typeof e?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),i=t.getClosestFutureElement();if(i){if(i.groupId){const[e,t]=this._findClosestRedoElementInGroup(i.groupId);if(i!==e&&t)return this._redo(t)}try{return 1===i.type?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{}}}};Bt=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Et(0,It.S),Et(1,Dt.lT)],Bt);class Ut{constructor(e){this.returnValue=e}}(0,ft.z)(Nt.tJ,Bt),i(8191);var Ht=i(9069),Gt=i(8313),jt=i(6007),Kt=i(800),$t=i(9386),qt=i(8216),Yt=i(4565),Qt=i(3702),Zt=i(6248);class Jt{constructor(e={},t=[],i=[]){this._contents=e,this._keys=t,this._overrides=i,this.frozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(e){return e?(0,He.Mt)(this.contents,e):this.contents}getOverrideValue(e,t){const i=this.getContentsForOverrideIdentifer(t);return i?e?(0,He.Mt)(i,e):i:void 0}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){const t=Zt.I8(this.contents),i=Zt.I8(this.overrides),n=[...this.keys];for(const o of e)if(!o.isEmpty()){this.mergeContents(t,o.contents);for(const e of o.overrides){const[t]=i.filter((t=>_e.fS(t.identifiers,e.identifiers)));t?(this.mergeContents(t.contents,e.contents),t.keys.push(...e.keys),t.keys=_e.EB(t.keys)):i.push(Zt.I8(e))}for(const e of o.keys)-1===n.indexOf(e)&&n.push(e)}return new Jt(t,n,i)}freeze(){return this.frozen=!0,this}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||"object"!=typeof t||!Object.keys(t).length)return this;const i={};for(const e of _e.EB([...Object.keys(this.contents),...Object.keys(t)])){let n=this.contents[e];const o=t[e];o&&("object"==typeof n&&"object"==typeof o?(n=Zt.I8(n),this.mergeContents(n,o)):n=o),i[e]=n}return new Jt(i,this.keys,this.overrides)}mergeContents(e,t){for(const i of Object.keys(t))i in e&&E.Kn(e[i])&&E.Kn(t[i])?this.mergeContents(e[i],t[i]):e[i]=Zt.I8(t[i])}checkAndFreeze(e){return this.frozen&&!Object.isFrozen(e)?Zt._A(e):e}getContentsForOverrideIdentifer(e){let t=null,i=null;const n=e=>{e&&(i?this.mergeContents(i,e):i=Zt.I8(e))};for(const i of this.overrides)_e.fS(i.identifiers,[e])?t=i.contents:i.identifiers.includes(e)&&n(i.contents);return n(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),(0,He.KV)(this.contents,e,t,(e=>{throw new Error(e)}))}removeValue(e){this.removeKey(e)&&(0,He.xL)(this.contents,e)}addKey(e){let t=this.keys.length;for(let i=0;i<t;i++)0===e.indexOf(this.keys[i])&&(t=i);this.keys.splice(t,1,e)}removeKey(e){const t=this.keys.indexOf(e);return-1!==t&&(this.keys.splice(t,1),!0)}}class Xt{constructor(e,t,i,n,o=new Jt,s=new Jt,r=new Qt.Y9,a=new Jt,l=new Qt.Y9,d=!0){this._defaultConfiguration=e,this._policyConfiguration=t,this._applicationConfiguration=i,this._localUserConfiguration=n,this._remoteUserConfiguration=o,this._workspaceConfiguration=s,this._folderConfigurations=r,this._memoryConfiguration=a,this._memoryConfigurationByResource=l,this._freeze=d,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Qt.Y9,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidatedConfigurationModel(e,t,i).getValue(e)}updateValue(e,t,i={}){let n;i.resource?(n=this._memoryConfigurationByResource.get(i.resource),n||(n=new Jt,this._memoryConfigurationByResource.set(i.resource,n))):n=this._memoryConfiguration,void 0===t?n.removeValue(e):n.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,i){const n=this.getConsolidatedConfigurationModel(e,t,i),o=this.getFolderConfigurationModelForResource(t.resource,i),s=t.resource&&this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration,r=t.overrideIdentifier?this._defaultConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._defaultConfiguration.freeze().getValue(e),a=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().getValue(e),l=this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze().getValue(e),d=t.overrideIdentifier?this.userConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.userConfiguration.freeze().getValue(e),c=t.overrideIdentifier?this.localUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.localUserConfiguration.freeze().getValue(e),h=t.overrideIdentifier?this.remoteUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.remoteUserConfiguration.freeze().getValue(e),u=i?t.overrideIdentifier?this._workspaceConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._workspaceConfiguration.freeze().getValue(e):void 0,g=o?t.overrideIdentifier?o.freeze().override(t.overrideIdentifier).getValue(e):o.freeze().getValue(e):void 0,p=t.overrideIdentifier?s.override(t.overrideIdentifier).getValue(e):s.getValue(e),m=n.getValue(e),f=_e.EB(n.overrides.map((e=>e.identifiers)).flat()).filter((t=>void 0!==n.getOverrideValue(e,t)));return{defaultValue:r,policyValue:a,applicationValue:l,userValue:d,userLocalValue:c,userRemoteValue:h,workspaceValue:u,workspaceFolderValue:g,memoryValue:p,value:m,default:void 0!==r?{value:this._defaultConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,policy:void 0!==a?{value:a}:void 0,application:void 0!==l?{value:l,override:t.overrideIdentifier?this.applicationConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,user:void 0!==d?{value:this.userConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,userLocal:void 0!==c?{value:this.localUserConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,userRemote:void 0!==h?{value:this.remoteUserConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,workspace:void 0!==u?{value:this._workspaceConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,workspaceFolder:void 0!==g?{value:null==o?void 0:o.freeze().getValue(e),override:t.overrideIdentifier?null==o?void 0:o.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,memory:void 0!==p?{value:s.getValue(e),override:t.overrideIdentifier?s.getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,overrideIdentifiers:f.length?f:void 0}}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(e,t,i){let n=this.getConsolidatedConfigurationModelForResource(t,i);return t.overrideIdentifier&&(n=n.override(t.overrideIdentifier)),this._policyConfiguration.isEmpty()||void 0===this._policyConfiguration.getValue(e)||(n=n.merge(this._policyConfiguration)),n}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const n=t.getFolder(e);n&&(i=this.getFolderConsolidatedConfiguration(n.uri)||i);const o=this._memoryConfigurationByResource.get(e);o&&(i=i.merge(o))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(e);n?(t=i.merge(n),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){const i=t.getFolder(e);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce(((e,t)=>{const{contents:i,overrides:n,keys:o}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:n,keys:o}]),e}),[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.policy),n=this.parseConfigurationModel(e.application),o=this.parseConfigurationModel(e.user),s=this.parseConfigurationModel(e.workspace),r=e.folders.reduce(((e,t)=>(e.set(a.o.revive(t[0]),this.parseConfigurationModel(t[1])),e)),new Qt.Y9);return new Xt(t,i,n,o,new Jt,s,r,new Jt,new Qt.Y9,!1)}static parseConfigurationModel(e){return new Jt(e.contents,e.keys,e.overrides).freeze()}}class ei{constructor(e,t,i,n){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=n,this._previousConfiguration=void 0;const o=new Set;e.keys.forEach((e=>o.add(e))),e.overrides.forEach((([,e])=>e.forEach((e=>o.add(e))))),this.affectedKeys=[...o.values()];const s=new Jt;this.affectedKeys.forEach((e=>s.setValue(e,{}))),this.affectedKeysTree=s.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Xt.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){const n=this.previousConfiguration?this.previousConfiguration.getValue(e,t,null===(i=this.previous)||void 0===i?void 0:i.workspace):void 0,o=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!Zt.fS(n,o)}return!0}return!1}doesAffectedKeysTreeContains(e,t){let i,n=(0,He.Od)({[t]:!0},(()=>{}));for(;"object"==typeof n&&(i=Object.keys(n)[0]);){if(!(e=e[i]))return!1;n=n[i]}return!0}}const ti=/^(cursor|delete)/;class ii extends m.JT{constructor(e,t,i,n,o){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=o,this._onDidUpdateKeybindings=this._register(new s.Q5),this._currentChord=null,this._currentChordChecker=new I.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=ni.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new I._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:s.ju.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){this._log("/ Soft dispatching keyboard event");const i=this.resolveKeyboardEvent(e);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[n]=i.getDispatchParts();if(null===n)return this._log("\\ Keyboard event cannot be dispatched"),null;const o=this._contextKeyService.getContext(t),s=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(o,s,n)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(xt.NC("first.chord","({0}) was pressed. Waiting for second key of chord...",t));const i=Date.now();this._currentChordChecker.cancelAndSet((()=>{this._documentHasFocus()?Date.now()-i>5e3&&this._leaveChordMode():this._leaveChordMode()}),500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[n]=i.getSingleModifierDispatchParts();if(n)return this._ignoreSingleModifiers.has(n)?(this._log(`+ Ignoring single modifier ${n} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=ni.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=ni.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${n}.`),this._currentSingleModifier=n,this._currentSingleModifierClearTimeout.cancelAndSet((()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null}),300),!1):n===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${n} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[o]=i.getParts();return this._ignoreSingleModifiers=new ni(o),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){let n=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let o=null,s=null;if(i){const[t]=e.getSingleModifierDispatchParts();o=t,s=t}else[o]=e.getDispatchParts(),s=this._currentChord?this._currentChord.keypress:null;if(null===o)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),n;const r=this._contextKeyService.getContext(t),a=e.getLabel(),l=this._getResolver().resolve(r,s,o);return this._logService.trace("KeybindingService#dispatch",a,null==l?void 0:l.commandId),l&&l.enterChord?(n=!0,this._enterChordMode(o,a),this._log("+ Entering chord mode..."),n):(this._currentChord&&(l&&l.commandId||(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${a}".`),this._notificationService.status(xt.NC("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,a),{hideAfter:1e4}),n=!0)),this._leaveChordMode(),l&&l.commandId&&(l.bubble||(n=!0),this._log(`+ Invoking command ${l.commandId}.`),void 0===l.commandArgs?this._commandService.executeCommand(l.commandId).then(void 0,(e=>this._notificationService.warn(e))):this._commandService.executeCommand(l.commandId,l.commandArgs).then(void 0,(e=>this._notificationService.warn(e))),ti.test(l.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:l.commandId,from:"keybinding"})),n)}mightProducePrintableCharacter(e){return!e.ctrlKey&&!e.metaKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30)}}class ni{constructor(e){this._ctrlKey=!!e&&e.ctrlKey,this._shiftKey=!!e&&e.shiftKey,this._altKey=!!e&&e.altKey,this._metaKey=!!e&&e.metaKey}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}ni.EMPTY=new ni(null);var oi=i(1847);class si{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(const t of e){const e=t.command;e&&"-"!==e.charAt(0)&&this._defaultBoundCommands.set(e,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=si.handleRemovals([].concat(e).concat(t));for(let e=0,t=this._keybindings.length;e<t;e++){const t=this._keybindings[e];0!==t.keypressParts.length&&(t.when&&0===t.when.type||this._addKeyPress(t.keypressParts[0],t))}}static _isTargetedForRemoval(e,t,i,n){if(t&&e.keypressParts[0]!==t)return!1;if(i&&e.keypressParts[1]!==i)return!1;if(n){if(!e.when)return!1;if(!(0,mt.Fb)(n,e.when))return!1}return!0}static handleRemovals(e){const t=new Map;for(let i=0,n=e.length;i<n;i++){const n=e[i];if(n.command&&"-"===n.command.charAt(0)){const e=n.command.substring(1);t.has(e)?t.get(e).push(n):t.set(e,[n])}}if(0===t.size)return e;const i=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];if(!o.command||0===o.command.length){i.push(o);continue}if("-"===o.command.charAt(0))continue;const s=t.get(o.command);if(!s||!o.isDefault){i.push(o);continue}let r=!1;for(const e of s){const t=e.keypressParts[0],i=e.keypressParts[1],n=e.when;if(this._isTargetedForRemoval(o,t,i,n)){r=!0;break}}r||i.push(o)}return i}_addKeyPress(e,t){const i=this._map.get(e);if(void 0===i)return this._map.set(e,[t]),void this._addToLookupMap(t);for(let e=i.length-1;e>=0;e--){const n=i[e];if(n.command===t.command)continue;const o=n.keypressParts.length>1,s=t.keypressParts.length>1;o&&s&&n.keypressParts[1]!==t.keypressParts[1]||si.whenIsEntirelyIncluded(n.when,t.when)&&this._removeFromLookupMap(n)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);void 0===t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;const t=this._lookupMap.get(e.command);if(void 0!==t)for(let i=0,n=t.length;i<n;i++)if(t[i]===e)return void t.splice(i,1)}static whenIsEntirelyIncluded(e,t){return!t||1===t.type||!(!e||1===e.type)&&(0,mt.K8)(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if(void 0===i||0===i.length)return null;if(1===i.length)return i[0];for(let e=i.length-1;e>=0;e--){const n=i[e];if(t.contextMatchesRules(n.when))return n}return i[i.length-1]}resolve(e,t,i){this._log(`| Resolving ${i}${t?` chorded from ${t}`:""}`);let n=null;if(null!==t){const e=this._map.get(t);if(void 0===e)return this._log("\\ No keybinding entries."),null;n=[];for(let t=0,o=e.length;t<o;t++){const o=e[t];o.keypressParts[1]===i&&n.push(o)}}else{const e=this._map.get(i);if(void 0===e)return this._log("\\ No keybinding entries."),null;n=e}const o=this._findCommand(e,n);return o?null===t&&o.keypressParts.length>1&&null!==o.keypressParts[1]?(this._log(`\\ From ${n.length} keybinding entries, matched chord, when: ${ri(o.when)}, source: ${ai(o)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${n.length} keybinding entries, matched ${o.command}, when: ${ri(o.when)}, source: ${ai(o)}.`),{enterChord:!1,leaveChord:o.keypressParts.length>1,commandId:o.command,commandArgs:o.commandArgs,bubble:o.bubble}):(this._log(`\\ From ${n.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){const n=t[i];if(si._contextMatchesRules(e,n.when))return n}return null}static _contextMatchesRules(e,t){return!t||t.evaluate(e)}}function ri(e){return e?`${e.serialize()}`:"no when condition"}function ai(e){return e.extensionId?e.isBuiltinExtension?`built-in extension ${e.extensionId}`:`user extension ${e.extensionId}`:e.isDefault?"built-in":"user"}var li=i(9989);class di{constructor(e,t,i,n,o,s,r){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.keypressParts=e?ci(e.getDispatchParts()):[],e&&0===this.keypressParts.length&&(this.keypressParts=ci(e.getSingleModifierDispatchParts())),this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=n,this.isDefault=o,this.extensionId=s,this.isBuiltinExtension=r}}function ci(e){const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n)return t;t.push(n)}return t}var hi=i(8030);class ui extends Gt.f1{constructor(e,t){if(super(),0===t.length)throw(0,D.b1)("parts");this._os=e,this._parts=t}getLabel(){return hi.xo.toLabel(this._os,this._parts,(e=>this._getLabel(e)))}getAriaLabel(){return hi.X4.toLabel(this._os,this._parts,(e=>this._getAriaLabel(e)))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:hi.jC.toLabel(this._os,this._parts,(e=>this._getElectronAccelerator(e)))}isChord(){return this._parts.length>1}getParts(){return this._parts.map((e=>this._getPart(e)))}_getPart(e){return new Gt.BQ(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map((e=>this._getDispatchPart(e)))}getSingleModifierDispatchParts(){return this._parts.map((e=>this._getSingleModifierDispatchPart(e)))}}class gi extends ui{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(2===this._os)switch(e){case 15:return"";case 16:return"";case 17:return"";case 18:return""}return r.kL.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":r.kL.toString(e.keyCode)}_getElectronAccelerator(e){return r.kL.toElectronAccelerator(e.keyCode)}_getDispatchPart(e){return gi.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=r.kL.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return 5!==e.keyCode||e.shiftKey||e.altKey||e.metaKey?4!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey?6!==e.keyCode||e.ctrlKey||e.shiftKey||e.metaKey?57!==e.keyCode||e.ctrlKey||e.shiftKey||e.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(e){const t=r.Vd[e];if(-1!==t)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(e){if(!e)return null;if(e instanceof Gt.QC)return e;const t=this._scanCodeToKeyCode(e.scanCode);return 0===t?null:new Gt.QC(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveUserBinding(e,t){const i=ci(e.map((e=>this._resolveSimpleUserBinding(e))));return i.length>0?[new gi(new Gt.X_(i),t)]:[]}}var pi,mi=i(4349),fi=i(535),vi=i(829),_i=i(382),bi=i(913),Ci=i(5935),yi=i(3425),wi=i(5606),Si=i(161),ki=i(1134);function Li(e,t,i){const n=i.mode===pi.ALIGN?i.offset:i.offset+i.size,o=i.mode===pi.ALIGN?i.offset+i.size:i.offset;return 0===i.position?t<=e-n?n:t<=o?o-t:Math.max(e-t,0):t<=o?o-t:t<=e-n?n:0}!function(e){e[e.AVOID=0]="AVOID",e[e.ALIGN=1]="ALIGN"}(pi||(pi={}));class xi extends m.JT{constructor(e,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=m.JT.None,this.toDisposeOnSetContainer=m.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=ct.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,ct.Cp(this.view),this.setContainer(e,t),this._register((0,m.OF)((()=>this.setContainer(null,1))))}setContainer(e,t){var i;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(i=this.shadowRootHostElement)||void 0===i||i.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){if(this.container=e,this.useFixedPosition=1!==t,this.useShadowDOM=3===t,this.useShadowDOM){this.shadowRootHostElement=ct.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const e=document.createElement("style");e.textContent=Ii,this.shadowRoot.appendChild(e),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(ct.$("slot"))}else this.container.appendChild(this.view);const i=new m.SL;xi.BUBBLE_UP_EVENTS.forEach((e=>{i.add(ct.mu(this.container,e,(e=>{this.onDOMEvent(e,!1)})))})),xi.BUBBLE_DOWN_EVENTS.forEach((e=>{i.add(ct.mu(this.container,e,(e=>{this.onDOMEvent(e,!0)}),!0))})),this.toDisposeOnSetContainer=i}}show(e){var t,i;this.isVisible()&&this.hide(),ct.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",ct.$Z(this.view),this.toDisposeOnClean=e.render(this.view)||m.JT.None,this.delegate=e,this.doLayout(),null===(i=(t=this.delegate).focus)||void 0===i||i.call(t)}getViewElement(){return this.view}layout(){this.isVisible()&&(!1!==this.delegate.canRelayout||N.gn&&Si.D.pointerEvents?(this.delegate.layout&&this.delegate.layout(),this.doLayout()):this.hide())}doLayout(){if(!this.isVisible())return;const e=this.delegate.getAnchor();let t;if(ct.Re(e)){const i=ct.i(e),n=ct.I8(e);t={top:i.top*n,left:i.left*n,width:i.width*n,height:i.height*n}}else t={top:e.y,left:e.x,width:e.width||1,height:e.height||2};const i=ct.w(this.view),n=ct.wn(this.view),o=this.delegate.anchorPosition||0,s=this.delegate.anchorAlignment||0;let r,a;if(0===(this.delegate.anchorAxisAlignment||0)){const e={offset:t.top-window.pageYOffset,size:t.height,position:0===o?0:1},l={offset:t.left,size:t.width,position:0===s?0:1,mode:pi.ALIGN};r=Li(window.innerHeight,n,e)+window.pageYOffset,ki.e.intersects({start:r,end:r+n},{start:e.offset,end:e.offset+e.size})&&(l.mode=pi.AVOID),a=Li(window.innerWidth,i,l)}else{const e={offset:t.left,size:t.width,position:0===s?0:1},l={offset:t.top,size:t.height,position:0===o?0:1,mode:pi.ALIGN};a=Li(window.innerWidth,i,e),ki.e.intersects({start:a,end:a+i},{start:e.offset,end:e.offset+e.size})&&(l.mode=pi.AVOID),r=Li(window.innerHeight,n,l)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===o?"bottom":"top"),this.view.classList.add(0===s?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const l=ct.i(this.container);this.view.style.top=r-(this.useFixedPosition?ct.i(this.view).top:l.top)+"px",this.view.style.left=a-(this.useFixedPosition?ct.i(this.view).left:l.left)+"px",this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,(null==t?void 0:t.onHide)&&t.onHide(e),this.toDisposeOnClean.dispose(),ct.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!ct.jg(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}xi.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],xi.BUBBLE_DOWN_EVENTS=["click"];const Ii='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tfont-display: block;\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';let Di=class extends m.JT{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=m.JT.None,this.container=e.hasContainer?e.container:null,this.contextView=this._register(new xi(this.container,1)),this.layout(),this._register(e.onDidLayout((()=>this.layout())))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?t===this.container&&this.shadowRoot===i||(this.container=t,this.setContainer(t,i?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=i,this.contextView.show(e);const n=(0,m.OF)((()=>{this.currentViewDisposable===n&&this.hideContextView()}));return this.currentViewDisposable=n,n}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};Di=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(0,Ct)],Di);var Ni=i(5527),Ei=i(8721),Ai=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const Ti="**",Mi="[/\\\\]",Ri="[^/\\\\]",Pi=/\//g;function Oi(e,t){switch(e){case 0:return"";case 1:return`${Ri}*?`;default:return`(?:${Mi}|${Ri}+${Mi}${t?`|${Mi}${Ri}+`:""})*?`}}function Vi(e,t){if(!e)return[];const i=[];let n=!1,o=!1,s="";for(const r of e){switch(r){case t:if(!n&&!o){i.push(s),s="";continue}break;case"{":n=!0;break;case"}":n=!1;break;case"[":o=!0;break;case"]":o=!1}s+=r}return s&&i.push(s),i}function Fi(e){if(!e)return"";let t="";const i=Vi(e,"/");if(i.every((e=>e===Ti)))t=".*";else{let e=!1;i.forEach(((n,o)=>{if(n===Ti){if(e)return;t+=Oi(2,o===i.length-1)}else{let e=!1,s="",r=!1,a="";for(const i of n)if("}"!==i&&e)s+=i;else if(!r||"]"===i&&a)switch(i){case"{":e=!0;continue;case"[":r=!0;continue;case"}":{const i=`(?:${Vi(s,",").map((e=>Fi(e))).join("|")})`;t+=i,e=!1,s="";break}case"]":t+="["+a+"]",r=!1,a="";break;case"?":t+=Ri;continue;case"*":t+=Oi(1);continue;default:t+=(0,f.ec)(i)}else{let e;e="-"===i?i:"^"!==i&&"!"!==i||a?"/"===i?"":(0,f.ec)(i):"^",a+=e}o<i.length-1&&(i[o+1]!==Ti||o+2<i.length)&&(t+=Mi)}e=n===Ti}))}return t}const Wi=/^\*\*\/\*\.[\w\.-]+$/,zi=/^\*\*\/([\w\.-]+)\/?$/,Bi=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,Ui=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,Hi=/^\*\*((\/[\w\.-]+)+)\/?$/,Gi=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,ji=new Qt.z6(1e4),Ki=function(){return!1},$i=function(){return null};function qi(e,t){if(!e)return $i;let i;i="string"!=typeof e?e.pattern:e,i=i.trim();const n=`${i}_${!!t.trimForExclusions}`;let o,s=ji.get(n);return s||(s=Wi.test(i)?function(e,t){return function(i,n){return"string"==typeof i&&i.endsWith(e)?t:null}}(i.substr(4),i):(o=zi.exec(Yi(i,t)))?function(e,t){const i=`/${e}`,n=`\\${e}`,o=function(o,s){return"string"!=typeof o?null:s?s===e?t:null:o===e||o.endsWith(i)||o.endsWith(n)?t:null},s=[e];return o.basenames=s,o.patterns=[t],o.allBasenames=s,o}(o[1],i):(t.trimForExclusions?Ui:Bi).test(i)?function(e,t){const i=Ji(e.slice(1,-1).split(",").map((e=>qi(e,t))).filter((e=>e!==$i)),e),n=i.length;if(!n)return $i;if(1===n)return i[0];const o=function(t,n){for(let o=0,s=i.length;o<s;o++)if(i[o](t,n))return e;return null},s=i.find((e=>!!e.allBasenames));s&&(o.allBasenames=s.allBasenames);const r=i.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);return r.length&&(o.allPaths=r),o}(i,t):(o=Hi.exec(Yi(i,t)))?Qi(o[1].substr(1),i,!0):(o=Gi.exec(Yi(i,t)))?Qi(o[1],i,!1):function(e){try{const t=new RegExp(`^${Fi(e)}$`);return function(i){return t.lastIndex=0,"string"==typeof i&&t.test(i)?e:null}}catch(e){return $i}}(i),ji.set(n,s)),function(e,t){if("string"==typeof t)return e;const i=function(i,n){return(0,Ni.KM)(i,t.base,!N.IJ)?e(i.substr(t.base.length+1),n):null};return i.allBasenames=e.allBasenames,i.allPaths=e.allPaths,i.basenames=e.basenames,i.patterns=e.patterns,i}(s,e)}function Yi(e,t){return t.trimForExclusions&&e.endsWith("/**")?e.substr(0,e.length-2):e}function Qi(e,t,i){const n=Ei.ir===Ei.KR.sep,o=n?e:e.replace(Pi,Ei.ir),s=Ei.ir+o,r=Ei.KR.sep+e;let a;return a=i?function(i,a){return"string"!=typeof i||i!==o&&!i.endsWith(s)&&(n||i!==e&&!i.endsWith(r))?null:t}:function(i,s){return"string"!=typeof i||i!==o&&(n||i!==e)?null:t},a.allPaths=[(i?"*/":"./")+e],a}function Zi(e,t={}){if(!e)return Ki;if("string"==typeof e||function(e){const t=e;return!!t&&("string"==typeof t.base&&"string"==typeof t.pattern)}(e)){const i=qi(e,t);if(i===$i)return Ki;const n=function(e,t){return!!i(e,t)};return i.allBasenames&&(n.allBasenames=i.allBasenames),i.allPaths&&(n.allPaths=i.allPaths),n}return function(e,t){const i=Ji(Object.getOwnPropertyNames(e).map((i=>function(e,t,i){if(!1===t)return $i;const n=qi(e,i);if(n===$i)return $i;if("boolean"==typeof t)return n;if(t){const i=t.when;if("string"==typeof i){const t=(t,o,s,r)=>{if(!r||!n(t,o))return null;const a=r(i.replace("$(basename)",s));return(0,I.J8)(a)?a.then((t=>t?e:null)):a?e:null};return t.requiresSiblings=!0,t}}return n}(i,e[i],t))).filter((e=>e!==$i))),n=i.length;if(!n)return $i;if(!i.some((e=>!!e.requiresSiblings))){if(1===n)return i[0];const e=function(e,t){let n;for(let o=0,s=i.length;o<s;o++){const s=i[o](e,t);if("string"==typeof s)return s;(0,I.J8)(s)&&(n||(n=[]),n.push(s))}return n?(()=>Ai(this,void 0,void 0,(function*(){for(const e of n){const t=yield e;if("string"==typeof t)return t}return null})))():null},t=i.find((e=>!!e.allBasenames));t&&(e.allBasenames=t.allBasenames);const o=i.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);return o.length&&(e.allPaths=o),e}const o=function(e,t,n){let o,s;for(let r=0,a=i.length;r<a;r++){const a=i[r];a.requiresSiblings&&n&&(t||(t=(0,Ei.EZ)(e)),o||(o=t.substr(0,t.length-(0,Ei.DZ)(e).length)));const l=a(e,t,o,n);if("string"==typeof l)return l;(0,I.J8)(l)&&(s||(s=[]),s.push(l))}return s?(()=>Ai(this,void 0,void 0,(function*(){for(const e of s){const t=yield e;if("string"==typeof t)return t}return null})))():null},s=i.find((e=>!!e.allBasenames));s&&(o.allBasenames=s.allBasenames);const r=i.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);return r.length&&(o.allPaths=r),o}(e,t)}function Ji(e,t){const i=e.filter((e=>!!e.basenames));if(i.length<2)return e;const n=i.reduce(((e,t)=>{const i=t.basenames;return i?e.concat(i):e}),[]);let o;if(t){o=[];for(let e=0,i=n.length;e<i;e++)o.push(t)}else o=i.reduce(((e,t)=>{const i=t.patterns;return i?e.concat(i):e}),[]);const s=function(e,t){if("string"!=typeof e)return null;if(!t){let i;for(i=e.length;i>0;i--){const t=e.charCodeAt(i-1);if(47===t||92===t)break}t=e.substr(i)}const i=n.indexOf(t);return-1!==i?o[i]:null};s.basenames=n,s.patterns=o,s.allBasenames=n;const r=e.filter((e=>!e.basenames));return r.push(s),r}var Xi=i(1170),en=i(8801);let tn=[],nn=[],on=[];function sn(e,t=!1){!function(e,t,i){const n=function(e,t){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:false,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?Zi(e.filepattern.toLowerCase()):void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(Ei.KR.sep)>=0}}(e);tn.push(n),n.userConfigured?on.push(n):nn.push(n),i&&!n.userConfigured&&tn.forEach((e=>{e.mime===n.mime||e.userConfigured||(n.extension&&e.extension===n.extension&&console.warn(`Overwriting extension <<${n.extension}>> to now point to mime <<${n.mime}>>`),n.filename&&e.filename===n.filename&&console.warn(`Overwriting filename <<${n.filename}>> to now point to mime <<${n.mime}>>`),n.filepattern&&e.filepattern===n.filepattern&&console.warn(`Overwriting filepattern <<${n.filepattern}>> to now point to mime <<${n.mime}>>`),n.firstline&&e.firstline===n.firstline&&console.warn(`Overwriting firstline <<${n.firstline}>> to now point to mime <<${n.mime}>>`))}))}(e,0,t)}function rn(e,t,i){var n;let o,s,r;for(let a=i.length-1;a>=0;a--){const l=i[a];if(t===l.filenameLowercase){o=l;break}if(l.filepattern&&(!s||l.filepattern.length>s.filepattern.length)){const i=l.filepatternOnPath?e:t;(null===(n=l.filepatternLowercase)||void 0===n?void 0:n.call(l,i))&&(s=l)}l.extension&&(!r||l.extension.length>r.extension.length)&&t.endsWith(l.extensionLowercase)&&(r=l)}return o||s||r||void 0}var an=i(3193),ln=i(9872);const dn=Object.prototype.hasOwnProperty,cn="vs.editor.nullLanguage";class hn{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(cn,0),this._register(en.bd,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||cn}}class un extends m.JT{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new s.Q5),this.onDidChange=this._onDidChange.event,un.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new hn,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(en.dQ.onDidChangeLanguages((e=>{this._initializeFromRegistry()}))))}dispose(){un.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},tn=tn.filter((e=>e.userConfigured)),nn=[];const e=[].concat(en.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((e=>{const t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach((e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier})),t.mimetypes.forEach((e=>{this._mimeTypesMap[e]=t.identifier}))})),ln.B.as(an.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let i;dn.call(this._languages,t)?i=this._languages[t]:(this.languageIdCodec.register(t),i={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[t]=i),this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let n=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),n=t.mimetypes[0]),n||(n=`text/x-${i}`,e.mimetypes.push(n)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(const e of t.extensions)sn({id:i,mime:n,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(const o of t.filenames)sn({id:i,mime:n,filename:o},this._warnOnOverwrite),e.filenames.push(o);if(Array.isArray(t.filenamePatterns))for(const e of t.filenamePatterns)sn({id:i,mime:n,filepattern:e},this._warnOnOverwrite);if("string"==typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{const t=new RegExp(e);(0,f.IO)(t)||sn({id:i,mime:n,firstline:t},this._warnOnOverwrite)}catch(e){(0,D.dL)(e)}}e.aliases.push(i);let o=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(o=0===t.aliases.length?[null]:t.aliases),null!==o)for(const t of o)t&&0!==t.length&&e.aliases.push(t);const s=null!==o&&o.length>0;if(s&&null===o[0]);else{const t=(s?o[0]:null)||i;!s&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return!!e&&dn.call(this._languages,e)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const t=e.toLowerCase();return dn.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&dn.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){return e||t?function(e,t){return function(e,t){let i;if(e)switch(e.scheme){case ht.lg.file:i=e.fsPath;break;case ht.lg.data:i=Ci.Vb.parseMetaData(e).get(Ci.Vb.META_DATA_LABEL);break;case ht.lg.vscodeNotebookCell:i=void 0;break;default:i=e.path}if(!i)return[{id:"unknown",mime:Xi.v.unknown}];i=i.toLowerCase();const n=(0,Ei.EZ)(i),o=rn(i,n,on);if(o)return[o,{id:en.bd,mime:Xi.v.text}];const s=rn(i,n,nn);if(s)return[s,{id:en.bd,mime:Xi.v.text}];if(t){const e=function(e){if((0,f.uS)(e)&&(e=e.substr(1)),e.length>0)for(let t=tn.length-1;t>=0;t--){const i=tn[t];if(!i.firstline)continue;const n=e.match(i.firstline);if(n&&n.length>0)return i}}(t);if(e)return[e,{id:en.bd,mime:Xi.v.text}]}return[{id:"unknown",mime:Xi.v.unknown}]}(e,t).map((e=>e.id))}(e,t):[]}}un.instanceCount=0;class gn extends m.JT{constructor(e=!1){super(),this._onDidEncounterLanguage=this._register(new s.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new s.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,gn.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new un(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange((()=>this._onDidChange.fire())))}dispose(){gn.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){const i=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return(0,_e.Xh)(i,null)}createById(e){return new pn(this.onDidChange,(()=>this._createAndGetLanguageIdentifier(e)))}createByFilepathOrFirstLine(e,t){return new pn(this.onDidChange,(()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(i)}))}_createAndGetLanguageIdentifier(e){return e&&this.isRegisteredLanguageId(e)||(e=en.bd),this._encounteredLanguages.has(e)||(this._encounteredLanguages.add(e),h.RW.getOrCreate(e),this._onDidEncounterLanguage.fire(e)),e}}gn.instanceCount=0;class pn{constructor(e,t){this._onDidChangeLanguages=e,this._selector=t,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages((()=>this._evaluate()))),this._emitter||(this._emitter=new s.Q5({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var e;const t=this._selector();t!==this.languageId&&(this.languageId=t,null===(e=this._emitter)||void 0===e||e.fire(this.languageId))}}var mn=i(7448),fn=i(6268),vn=i(553),_n=i(317),bn=i(6033),Cn=i(8609),yn=i(9802),wn=i(4741),Sn=i(3046),kn=i(1212);const Ln=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,xn=/(&amp;)?(&amp;)([^\s&])/g;var In;!function(e){e[e.Right=0]="Right",e[e.Left=1]="Left"}(In||(In={}));class Dn extends _n.o{constructor(e,t,i={}){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const n=document.createElement("div");n.classList.add("monaco-menu"),n.setAttribute("role","presentation"),super(n,{orientation:1,actionViewItemProvider:e=>this.doGetActionViewItem(e,i,o),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...N.dz||N.IJ?[10]:[]],keyDown:!0}}),this.menuElement=n,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new m.SL),this.initializeOrUpdateStyleSheet(e,{}),this._register(vn.o.addTarget(n)),(0,ct.nm)(n,ct.tw.KEY_DOWN,(e=>{new Ht.y(e).equals(2)&&e.preventDefault()})),i.enableMnemonics&&this.menuDisposables.add((0,ct.nm)(n,ct.tw.KEY_DOWN,(e=>{const t=e.key.toLocaleLowerCase();if(this.mnemonics.has(t)){ct.zB.stop(e,!0);const i=this.mnemonics.get(t);if(1===i.length&&(i[0]instanceof En&&i[0].container&&this.focusItemByElement(i[0].container),i[0].onClick(e)),i.length>1){const e=i.shift();e&&e.container&&(this.focusItemByElement(e.container),i.push(e)),this.mnemonics.set(t,i)}}}))),N.IJ&&this._register((0,ct.nm)(n,ct.tw.KEY_DOWN,(e=>{const t=new Ht.y(e);t.equals(14)||t.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),ct.zB.stop(e,!0)):(t.equals(13)||t.equals(12))&&(this.focusedItem=0,this.focusPrevious(),ct.zB.stop(e,!0))}))),this._register((0,ct.nm)(this.domNode,ct.tw.MOUSE_OUT,(e=>{const t=e.relatedTarget;(0,ct.jg)(t,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),e.stopPropagation())}))),this._register((0,ct.nm)(this.actionsList,ct.tw.MOUSE_OVER,(e=>{let t=e.target;if(t&&(0,ct.jg)(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;if(t.classList.contains("action-item")){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}}}))),this._register(vn.o.addTarget(this.actionsList)),this._register((0,ct.nm)(this.actionsList,vn.t.Tap,(e=>{let t=e.initialTarget;if(t&&(0,ct.jg)(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;if(t.classList.contains("action-item")){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}}})));const o={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new yn.s$(n,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const s=this.scrollableElement.getDomNode();s.style.position="",this._register((0,ct.nm)(n,vn.t.Change,(e=>{ct.zB.stop(e,!0);const t=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:t-e.translationY})}))),this._register((0,ct.nm)(s,ct.tw.MOUSE_UP,(e=>{e.preventDefault()}))),n.style.maxHeight=`${Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter((e=>{var t;return!(null===(t=i.submenuIds)||void 0===t?void 0:t.has(e.id))||(console.warn(`Found submenu cycle: ${e.id}`),!1)})),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter((e=>!(e instanceof An))).forEach(((e,t,i)=>{e.updatePositionInSet(t+1,i.length)}))}initializeOrUpdateStyleSheet(e,t){this.styleSheet||((0,ct.OO)(e)?this.styleSheet=(0,ct.dS)(e):(Dn.globalStyleSheet||(Dn.globalStyleSheet=(0,ct.dS)()),this.styleSheet=Dn.globalStyleSheet)),this.styleSheet.textContent=function(e,t){let i=`\n.monaco-menu {\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n}\n\n${(0,Cn.a)(Sn.lA.menuSelection)}\n${(0,Cn.a)(Sn.lA.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 =  */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 1px;\n\tpadding: 30px;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {\n\topacity: unset;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.hc-black .context-view.monaco-menu-container,\n.hc-light .context-view.monaco-menu-container,\n:host-context(.hc-black) .context-view.monaco-menu-container,\n:host-context(.hc-light) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .6em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tpadding: 0;\n\tborder-radius: 0;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;if(t){i+="\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t";const t=e.scrollbarShadow;t&&(i+=`\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${t} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${t} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${t} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`);const n=e.scrollbarSliderBackground;n&&(i+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${n};\n\t\t\t\t}\n\t\t\t`);const o=e.scrollbarSliderHoverBackground;o&&(i+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${o};\n\t\t\t\t}\n\t\t\t`);const s=e.scrollbarSliderActiveBackground;s&&(i+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${s};\n\t\t\t\t}\n\t\t\t`)}return i}(t,(0,ct.OO)(e))}style(e){const t=this.getContainer();this.initializeOrUpdateStyleSheet(t,e);const i=e.foregroundColor?`${e.foregroundColor}`:"",n=e.backgroundColor?`${e.backgroundColor}`:"",o=e.borderColor?`1px solid ${e.borderColor}`:"",s=e.shadowColor?`0 2px 8px ${e.shadowColor}`:"";t.style.outline=o,t.style.borderRadius="5px",t.style.color=i,t.style.backgroundColor=n,t.style.boxShadow=s,this.viewItems&&this.viewItems.forEach((t=>{(t instanceof Nn||t instanceof An)&&t.style(e)}))}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++)if(e===this.actionsList.children[t]){this.focusedItem=t;break}}updateFocus(e){super.updateFocus(e,!0,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof wn.Z0)return new An(t.context,e,{icon:!0});if(e instanceof wn.wY){const n=new En(e,e.actions,i,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}));if(t.enableMnemonics){const e=n.getMnemonic();if(e&&n.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(n),this.mnemonics.set(e,t)}}return n}{const i={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const n=t.getKeyBinding(e);if(n){const e=n.getLabel();e&&(i.keybinding=e)}}const n=new Nn(t.context,e,i);if(t.enableMnemonics){const e=n.getMnemonic();if(e&&n.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(n),this.mnemonics.set(e,t)}}return n}}}class Nn extends bn.Y{constructor(e,t,i={}){if(i.isMenu=!0,super(t,t,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass="",this.options.label&&i.enableMnemonics){const e=this.getAction().label;if(e){const t=Ln.exec(e);t&&(this.mnemonic=(t[1]?t[1]:t[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new I.pY((()=>{this.element&&(this._register((0,ct.nm)(this.element,ct.tw.MOUSE_UP,(e=>{if(ct.zB.stop(e,!0),fn.isFirefox){if(new mn.n(e).rightButton)return;this.onClick(e)}else setTimeout((()=>{this.onClick(e)}),0)}))),this._register((0,ct.nm)(this.element,ct.tw.CONTEXT_MENU,(e=>{ct.zB.stop(e,!0)}))))}),100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=(0,ct.R3)(this.element,(0,ct.$)("a.action-menu-item")),this._action.id===wn.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,ct.R3)(this.item,(0,ct.$)("span.menu-item-check"+Sn.lA.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,ct.R3)(this.item,(0,ct.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,ct.R3)(this.item,(0,ct.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){var e;if(this.label&&this.options.label){(0,ct.PO)(this.label);let t=(0,kn.x$)(this.getAction().label);if(t){const i=function(e){const t=Ln,i=t.exec(e);if(!i)return e;const n=!i[1];return e.replace(t,n?"$2$3":"").trim()}(t);this.options.enableMnemonics||(t=i),this.label.setAttribute("aria-label",i.replace(/&&/g,"&"));const n=Ln.exec(t);if(n){t=f.YU(t),xn.lastIndex=0;let i=xn.exec(t);for(;i&&i[1];)i=xn.exec(t);const o=e=>e.replace(/&amp;&amp;/g,"&amp;");i?this.label.append(f.j3(o(t.substr(0,i.index))," "),(0,ct.$)("u",{"aria-hidden":"true"},i[3]),f.oL(o(t.substr(i.index+i[0].length))," ")):this.label.innerText=o(t).trim(),null===(e=this.item)||void 0===e||e.setAttribute("aria-keyshortcuts",(n[1]?n[1]:n[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.getAction().checked;this.item.classList.toggle("checked",!!e),void 0!==e?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,n=e&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",o=e&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=i?i.toString():"",this.item.style.outline=n,this.item.style.outlineOffset=o),this.check&&(this.check.style.color=t?t.toString():"")}style(e){this.menuStyle=e,this.applyStyle()}}class En extends Nn{constructor(e,t,i,n){super(e,e,n),this.submenuActions=t,this.parentData=i,this.submenuOptions=n,this.mysubmenu=null,this.submenuDisposables=this._register(new m.SL),this.mouseOver=!1,this.expandDirection=n&&void 0!==n.expandDirection?n.expandDirection:In.Right,this.showScheduler=new I.pY((()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))}),250),this.hideScheduler=new I.pY((()=>{this.element&&!(0,ct.jg)((0,ct.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))}),750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,ct.R3)(this.item,(0,ct.$)("span.submenu-indicator"+Sn.lA.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,ct.nm)(this.element,ct.tw.KEY_UP,(e=>{const t=new Ht.y(e);(t.equals(17)||t.equals(3))&&(ct.zB.stop(e,!0),this.createSubmenu(!0))}))),this._register((0,ct.nm)(this.element,ct.tw.KEY_DOWN,(e=>{const t=new Ht.y(e);(0,ct.vY)()===this.item&&(t.equals(17)||t.equals(3))&&ct.zB.stop(e,!0)}))),this._register((0,ct.nm)(this.element,ct.tw.MOUSE_OVER,(e=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())}))),this._register((0,ct.nm)(this.element,ct.tw.MOUSE_LEAVE,(e=>{this.mouseOver=!1}))),this._register((0,ct.nm)(this.element,ct.tw.FOCUS_OUT,(e=>{this.element&&!(0,ct.jg)((0,ct.vY)(),this.element)&&this.hideScheduler.schedule()}))),this._register(this.parentData.parent.onScroll((()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))}))))}updateEnabled(){}onClick(e){ct.zB.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(e){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,n){const o={top:0,left:0};return o.left=Li(e.width,t.width,{position:n===In.Right?0:1,offset:i.left,size:i.width}),o.left>=i.left&&o.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(o.left=i.left+10),i.top+=10,i.height=0),o.top=Li(e.height,t.height,{position:0,offset:i.top,size:0}),o.top+t.height===i.top&&o.top+i.height+t.height<=e.height&&(o.top+=i.height),o}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,ct.R3)(this.element,(0,ct.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Dn(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new wn.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const n=this.element.getBoundingClientRect(),o={top:n.top-i,left:n.left,height:n.height+2*i,width:n.width},s=this.submenuContainer.getBoundingClientRect(),{top:r,left:a}=this.calculateSubmenuMenuLayout(new ct.Ro(window.innerWidth,window.innerHeight),ct.Ro.lift(s),o,this.expandDirection);this.submenuContainer.style.left=a-s.left+"px",this.submenuContainer.style.top=r-s.top+"px",this.submenuDisposables.add((0,ct.nm)(this.submenuContainer,ct.tw.KEY_UP,(e=>{new Ht.y(e).equals(15)&&(ct.zB.stop(e,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))}))),this.submenuDisposables.add((0,ct.nm)(this.submenuContainer,ct.tw.KEY_DOWN,(e=>{new Ht.y(e).equals(15)&&ct.zB.stop(e,!0)}))),this.submenuDisposables.add(this.parentData.submenu.onDidCancel((()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)}))),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&(null===(t=this.item)||void 0===t||t.setAttribute("aria-expanded",e))}applyStyle(){var e;if(super.applyStyle(),!this.menuStyle)return;const t=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=t?`${t}`:""),null===(e=this.parentData.submenu)||void 0===e||e.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class An extends bn.g{style(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?`${e.separatorColor}`:"")}}var Tn=i(8810);class Mn{constructor(e,t,i,n,o){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.themeService=o,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;let i;this.focusToReturn=document.activeElement;const n=(0,ct.Re)(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:n=>{const o=e.getMenuClassName?e.getMenuClassName():"";o&&(n.className+=" "+o),this.options.blockMouse&&(this.block=n.appendChild((0,ct.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,ct.nm)(this.block,ct.tw.MOUSE_DOWN,(e=>e.stopPropagation())));const s=new m.SL,r=e.actionRunner||new wn.Wi;return r.onBeforeRun(this.onActionRun,this,s),r.onDidRun(this.onDidActionRun,this,s),i=new Dn(n,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:r,getKeyBinding:e.getKeyBinding?e.getKeyBinding:e=>this.keybindingService.lookupKeybinding(e.id)}),s.add((0,Tn.tj)(i,this.themeService)),i.onDidCancel((()=>this.contextViewService.hideContextView(!0)),null,s),i.onDidBlur((()=>this.contextViewService.hideContextView(!0)),null,s),s.add((0,ct.nm)(window,ct.tw.BLUR,(()=>this.contextViewService.hideContextView(!0)))),s.add((0,ct.nm)(window,ct.tw.MOUSE_DOWN,(e=>{if(e.defaultPrevented)return;const t=new mn.n(e);let i=t.target;if(!t.rightButton){for(;i;){if(i===n)return;i=i.parentElement}this.contextViewService.hideContextView(!0)}}))),(0,m.F8)(s,i)},focus:()=>{null==i||i.focus(!!e.autoSelectFirstItem)},onHide:t=>{var i;null===(i=e.onHide)||void 0===i||i.call(e,!!t),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},n,!!n)}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!(0,D.n2)(e.error)&&this.notificationService.error(e.error)}}var Rn=function(e,t){return function(i,n){t(i,n,e)}};let Pn=class extends m.JT{constructor(e,t,i,n,o){super(),this._onDidShowContextMenu=new s.Q5,this._onDidHideContextMenu=new s.Q5,this.contextMenuHandler=new Mn(i,e,t,n,o)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},e),{onHide:t=>{var i;null===(i=e.onHide)||void 0===i||i.call(e,t),this._onDidHideContextMenu.fire()}})),ct._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};Pn=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Rn(0,vi.b),Rn(1,Dt.lT),Rn(2,wi.u),Rn(3,oi.d),Rn(4,gt.XE)],Pn);var On,Vn=i(3897);!function(e){e[e.API=0]="API",e[e.USER=1]="USER"}(On||(On={}));var Fn=i(988),Wn=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},zn=function(e,t){return function(i,n){t(i,n,e)}},Bn=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let Un=class{constructor(e){this._commandService=e}open(e,t){return Bn(this,void 0,void 0,(function*(){if(!(0,Fn.xn)(e,ht.lg.command))return!1;if(!(null==t?void 0:t.allowCommands))return!0;"string"==typeof e&&(e=a.o.parse(e));let i=[];try{i=(0,Vn.Q)(decodeURIComponent(e.query))}catch(t){try{i=(0,Vn.Q)(e.query)}catch(e){}}return Array.isArray(i)||(i=[i]),yield this._commandService.executeCommand(e.path,...i),!0}))}};Un=Wn([zn(0,Yt.Hy)],Un);let Hn=class{constructor(e){this._editorService=e}open(e,t){return Bn(this,void 0,void 0,(function*(){"string"==typeof e&&(e=a.o.parse(e));const{selection:i,uri:n}=(0,Fn.xI)(e);return(e=n).scheme===ht.lg.file&&(e=(0,Ci.AH)(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:i,source:(null==t?void 0:t.fromUserGesture)?On.USER:On.API},null==t?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),null==t?void 0:t.openToSide),!0}))}};Hn=Wn([zn(0,_.$)],Hn);let Gn=class{constructor(e,t){this._openers=new ut.S,this._validators=new ut.S,this._resolvers=new ut.S,this._resolvedUriTargets=new Qt.Y9((e=>e.with({path:null,fragment:null,query:null}).toString())),this._externalOpeners=new ut.S,this._defaultExternalOpener={openExternal:e=>Bn(this,void 0,void 0,(function*(){return(0,Fn.Gs)(e,ht.lg.http,ht.lg.https)?ct.V3(e):window.location.href=e,!0}))},this._openers.push({open:(e,t)=>Bn(this,void 0,void 0,(function*(){return!(!(null==t?void 0:t.openExternal)&&!(0,Fn.Gs)(e,ht.lg.mailto,ht.lg.http,ht.lg.https,ht.lg.vsls)||(yield this._doOpenExternal(e,t),0))}))}),this._openers.push(new Un(t)),this._openers.push(new Hn(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}registerValidator(e){return{dispose:this._validators.push(e)}}registerExternalUriResolver(e){return{dispose:this._resolvers.push(e)}}setDefaultExternalOpener(e){this._defaultExternalOpener=e}registerExternalOpener(e){return{dispose:this._externalOpeners.push(e)}}open(e,t){var i;return Bn(this,void 0,void 0,(function*(){const n="string"==typeof e?a.o.parse(e):e,o=null!==(i=this._resolvedUriTargets.get(n))&&void 0!==i?i:e;for(const e of this._validators)if(!(yield e.shouldOpen(o,t)))return!1;for(const i of this._openers)if(yield i.open(e,t))return!0;return!1}))}resolveExternalUri(e,t){return Bn(this,void 0,void 0,(function*(){for(const i of this._resolvers)try{const n=yield i.resolveExternalUri(e,t);if(n)return this._resolvedUriTargets.has(n.resolved)||this._resolvedUriTargets.set(n.resolved,e),n}catch(e){}throw new Error("Could not resolve external URI: "+e.toString())}))}_doOpenExternal(e,t){return Bn(this,void 0,void 0,(function*(){const i="string"==typeof e?a.o.parse(e):e;let n,s;try{n=(yield this.resolveExternalUri(i,t)).resolved}catch(e){n=i}if(s="string"==typeof e&&i.toString()===n.toString()?e:encodeURI(n.toString(!0)),null==t?void 0:t.allowContributedOpeners){const e="string"==typeof(null==t?void 0:t.allowContributedOpeners)?null==t?void 0:t.allowContributedOpeners:void 0;for(const t of this._externalOpeners)if(yield t.openExternal(s,{sourceUri:i,preferredOpenerId:e},o.T.None))return!0}return this._defaultExternalOpener.openExternal(s,{sourceUri:i},o.T.None)}))}dispose(){this._validators.clear()}};Gn=Wn([zn(0,_.$),zn(1,Yt.Hy)],Gn);var jn=i(8674),Kn=i(8625),$n=i(3910),qn=function(e,t){return function(i,n){t(i,n,e)}};class Yn extends m.JT{constructor(e){super(),this.model=e,this._markersData=new Map,this._register((0,m.OF)((()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()})))}update(e,t){const i=[...this._markersData.keys()];this._markersData.clear();const n=this.model.deltaDecorations(i,t);for(let t=0;t<n.length;t++)this._markersData.set(n[t],e[t]);return 0!==i.length||0!==n.length}getMarker(e){return this._markersData.get(e.id)}}let Qn=class extends m.JT{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new s.Q5),this._markerDecorations=new Qt.Y9,e.getModels().forEach((e=>this._onModelAdded(e))),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach((e=>e.dispose())),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach((e=>{const t=this._markerDecorations.get(e);t&&this._updateDecorations(t)}))}_onModelAdded(e){const t=new Yn(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){var t;const i=this._markerDecorations.get(e.uri);i&&(i.dispose(),this._markerDecorations.delete(e.uri)),e.uri.scheme!==ht.lg.inMemory&&e.uri.scheme!==ht.lg.internal&&e.uri.scheme!==ht.lg.vscode||null===(t=this._markerService)||void 0===t||t.read({resource:e.uri}).map((e=>e.owner)).forEach((t=>this._markerService.remove(t,[e.uri])))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500}),i=t.map((t=>({range:this._createDecorationRange(e.model,t),options:this._createDecorationOption(t)})));e.update(t,i)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let i=d.e.lift(t);if(t.severity!==jn.ZL.Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=e.validateRange(i),i.isEmpty()){const t=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);if(1===t||i.endColumn>=t)return i;const n=e.getWordAtPosition(i.getStartPosition());n&&(i=new d.e(i.startLineNumber,n.startColumn,i.endLineNumber,n.endColumn))}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&i.startLineNumber===i.endLineNumber){const n=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);n<i.endColumn&&(i=new d.e(i.startLineNumber,n,i.endLineNumber,i.endColumn),t.startColumn=n)}return i}_createDecorationOption(e){let t,i,n,o,s;switch(e.severity){case jn.ZL.Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",n=0;break;case jn.ZL.Warning:t="squiggly-warning",i=(0,gt.EN)(Kn.Re),n=20,s={color:(0,gt.EN)($n.Ivo),position:w.F5.Inline};break;case jn.ZL.Info:t="squiggly-info",i=(0,gt.EN)(Kn.eS),n=10;break;case jn.ZL.Error:default:t="squiggly-error",i=(0,gt.EN)(Kn.lK),n=30,s={color:(0,gt.EN)($n.Gj_),position:w.F5.Inline}}return e.tags&&(-1!==e.tags.indexOf(1)&&(o="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(o="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:w.sh.Right},minimap:s,zIndex:n,inlineClassName:o}}_hasMarkerTag(e,t){return!!e.tags&&e.tags.indexOf(t)>=0}};Qn=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([qn(0,x.q),qn(1,jn.lT)],Qn);var Zn=i(6357),Jn=i(1200),Xn=i(6830),eo=i(1106),to=i(6811),io=i(1264);const no={buttonBackground:io.Il.fromHex("#0E639C"),buttonHoverBackground:io.Il.fromHex("#006BB3"),buttonSeparator:io.Il.white,buttonForeground:io.Il.white};class oo extends m.JT{constructor(e,t){super(),this._onDidClick=this._register(new s.Q5),this.options=t||Object.create(null),(0,Zt.jB)(this.options,no,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),e.appendChild(this._element),this._register(vn.o.addTarget(this._element)),[ct.tw.CLICK,vn.t.Tap].forEach((e=>{this._register((0,ct.nm)(this._element,e,(e=>{this.enabled?this._onDidClick.fire(e):ct.zB.stop(e)})))})),this._register((0,ct.nm)(this._element,ct.tw.KEY_DOWN,(e=>{const t=new Ht.y(e);let i=!1;this.enabled&&(t.equals(3)||t.equals(10))?(this._onDidClick.fire(e),i=!0):t.equals(9)&&(this._element.blur(),i=!0),i&&ct.zB.stop(t,!0)}))),this._register((0,ct.nm)(this._element,ct.tw.MOUSE_OVER,(e=>{this._element.classList.contains("disabled")||this.setHoverBackground()}))),this._register((0,ct.nm)(this._element,ct.tw.MOUSE_OUT,(e=>{this.applyStyles()}))),this.focusTracker=this._register((0,ct.go)(this._element)),this._register(this.focusTracker.onDidFocus((()=>{this.enabled&&this.setHoverBackground()}))),this._register(this.focusTracker.onDidBlur((()=>{this.enabled&&this.applyStyles()}))),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let e;e=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,e&&(this._element.style.backgroundColor=e)}style(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonSecondaryForeground=e.buttonSecondaryForeground,this.buttonSecondaryBackground=e.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=e.buttonSecondaryHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let e,t;this.options.secondary?(t=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",e=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(t=this.buttonForeground?this.buttonForeground.toString():"",e=this.buttonBackground?this.buttonBackground.toString():"");const i=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=i?"1px":"",this._element.style.borderStyle=i?"solid":"",this._element.style.borderColor=i}}get element(){return this._element}set label(e){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,ct.mc)(this._element,...(0,to.T)(e)):this._element.textContent=e,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=e)}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var so=i(7488);const ro="done",ao="active",lo="infinite",co="infinite-long-running",ho="discrete",uo={progressBarBackground:io.Il.fromHex("#0E70C0")};class go extends m.JT{constructor(e,t){super(),this.options=t||Object.create(null),(0,Zt.jB)(this.options,uo,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new I.pY((()=>(0,ct.$Z)(this.element)),0)),this.longRunningScheduler=this._register(new I.pY((()=>this.infiniteLongRunning()),go.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(e)}create(e){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(ao,lo,co,ho),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(ro),this.element.classList.contains(lo)?(this.bit.style.opacity="0",e?setTimeout((()=>this.off()),200):this.off()):(this.bit.style.width="inherit",e?setTimeout((()=>this.off()),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(ho,ro,co),this.element.classList.add(ao,lo),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(co)}getContainer(){return this.element}style(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}}go.LONG_RUNNING_INFINITE_THRESHOLD=1e4;var po=i(4742);const mo={},fo=new po.R("quick-input-button-icon-");function vo(e){if(!e)return;let t;const i=e.dark.toString();return mo[i]?t=mo[i]:(t=fo.nextId(),ct.fk(`.${t}, .hc-light .${t}`,`background-image: ${ct.wY(e.light||e.dark)}`),ct.fk(`.vs-dark .${t}, .hc-black .${t}`,`background-image: ${ct.wY(e.dark)}`),mo[i]=t),t}var _o=i(7746),bo=i(7927);const Co=ct.$;class yo extends m.JT{constructor(e){super(),this.parent=e,this.onKeyDown=e=>ct.nm(this.inputBox.inputElement,ct.tw.KEY_DOWN,(t=>{e(new Ht.y(t))})),this.onMouseDown=e=>ct.nm(this.inputBox.inputElement,ct.tw.MOUSE_DOWN,(t=>{e(new mn.n(t))})),this.onDidChange=e=>this.inputBox.onDidChange(e),this.container=ct.R3(this.parent,Co(".quick-input-box")),this.inputBox=this._register(new bo.W(this.container,void 0))}get value(){return this.inputBox.value}set value(e){this.inputBox.value=e}select(e=null){this.inputBox.select(e)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.inputBox.setPlaceHolder(e)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(e){this.inputBox.setAriaLabel(e)}get password(){return"password"===this.inputBox.inputElement.type}set password(e){this.inputBox.inputElement.type=e?"password":"text"}setAttribute(e,t){this.inputBox.inputElement.setAttribute(e,t)}removeAttribute(e){this.inputBox.inputElement.removeAttribute(e)}showDecoration(e){e===Lt.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===Lt.Z.Info?1:e===Lt.Z.Warning?2:3,content:""})}stylesForType(e){return this.inputBox.stylesForType(e===Lt.Z.Info?1:e===Lt.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(e){this.inputBox.style(e)}}var wo=i(9834);const So=ct.$;class ko{constructor(e,t,i){this.os=t,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=ct.R3(e,So(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&ko.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){const[e,t]=this.keybinding.getParts();e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(ct.R3(this.domNode,So("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){ct.PO(this.domNode),this.keyElements.clear()}renderPart(e,t,i){const n=hi.xo.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,n.ctrlKey,Boolean(null==i?void 0:i.ctrlKey),n.separator),t.shiftKey&&this.renderKey(e,n.shiftKey,Boolean(null==i?void 0:i.shiftKey),n.separator),t.altKey&&this.renderKey(e,n.altKey,Boolean(null==i?void 0:i.altKey),n.separator),t.metaKey&&this.renderKey(e,n.metaKey,Boolean(null==i?void 0:i.metaKey),n.separator);const o=t.keyLabel;o&&this.renderKey(e,o,Boolean(null==i?void 0:i.keyCode),"")}renderKey(e,t,i,n){ct.R3(e,this.createKeyElement(t,i?".highlight":"")),n&&ct.R3(e,So("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(e){ct.R3(e,this.createKeyElement((0,xt.NC)("unbound","Unbound")))}createKeyElement(e,t=""){const i=So("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),i}style(e){this.labelBackground=e.keybindingLabelBackground,this.labelForeground=e.keybindingLabelForeground,this.labelBorder=e.keybindingLabelBorder,this.labelBottomBorder=e.keybindingLabelBottomBorder,this.labelShadow=e.keybindingLabelShadow,this.applyStyles()}applyStyles(){var e;if(this.element){for(const t of this.keyElements)this.labelBackground&&(t.style.backgroundColor=null===(e=this.labelBackground)||void 0===e?void 0:e.toString()),this.labelBorder&&(t.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(t.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(t.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(e,t){return e===t||!e&&!t||!!e&&!!t&&(0,Zt.fS)(e.firstPart,t.firstPart)&&(0,Zt.fS)(e.chordPart,t.chordPart)}}const Lo=new I.Ue((()=>{const e=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:e,collatorIsNumeric:e.resolvedOptions().numeric}}));new I.Ue((()=>({collator:new Intl.Collator(void 0,{numeric:!0})}))),new I.Ue((()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})})));var xo=i(9898),Io=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r};const Do=ct.$;class No{constructor(e){this.hidden=!1,this._onChecked=new s.Q5,this.onChecked=this._onChecked.event,Object.assign(this,e)}get checked(){return!!this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}dispose(){this._onChecked.dispose()}}class Eo{get templateId(){return Eo.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=ct.R3(e,Do(".quick-input-list-entry"));const i=ct.R3(t.entry,Do("label.quick-input-list-label"));t.toDisposeTemplate.push(ct.mu(i,ct.tw.CLICK,(e=>{t.checkbox.offsetParent||e.preventDefault()}))),t.checkbox=ct.R3(i,Do("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(ct.mu(t.checkbox,ct.tw.CHANGE,(e=>{t.element.checked=t.checkbox.checked})));const n=ct.R3(i,Do(".quick-input-list-rows")),o=ct.R3(n,Do(".quick-input-list-row")),s=ct.R3(n,Do(".quick-input-list-row"));t.label=new wo.g(o,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const r=ct.R3(o,Do(".quick-input-list-entry-keybinding"));t.keybinding=new ko(r,N.OS);const a=ct.R3(s,Do(".quick-input-list-label-meta"));return t.detail=new wo.g(a,{supportHighlights:!0,supportIcons:!0}),t.separator=ct.R3(t.entry,Do(".quick-input-list-separator")),t.actionBar=new _n.o(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,i){i.toDisposeElement=(0,m.B9)(i.toDisposeElement),i.element=e,i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked((e=>i.checkbox.checked=e)));const{labelHighlights:n,descriptionHighlights:o,detailHighlights:s}=e,r=Object.create(null);r.matches=n||[],r.descriptionTitle=e.saneDescription,r.descriptionMatches=o||[],r.extraClasses=e.item.iconClasses,r.italic=e.item.italic,r.strikethrough=e.item.strikethrough,i.label.setLabel(e.saneLabel,e.saneDescription,r),i.keybinding.set(e.item.keybinding),e.saneDetail&&i.detail.setLabel(e.saneDetail,void 0,{matches:s,title:e.saneDetail}),e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!e.separator),i.actionBar.clear();const a=e.item.buttons;a&&a.length?(i.actionBar.push(a.map(((t,i)=>{let n=t.iconClass||(t.iconPath?vo(t.iconPath):void 0);t.alwaysVisible&&(n=n?`${n} always-visible`:"always-visible");const o=new wn.aU(`id-${i}`,"",n,!0,(()=>{return i=this,n=void 0,s=function*(){e.fireButtonTriggered({button:t,item:e.item})},new((o=void 0)||(o=Promise))((function(e,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(r,a)}l((s=s.apply(i,n||[])).next())}));var i,n,o,s}));return o.tooltip=t.tooltip||"",o})),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){i.toDisposeElement=(0,m.B9)(i.toDisposeElement)}disposeTemplate(e){e.toDisposeElement=(0,m.B9)(e.toDisposeElement),e.toDisposeTemplate=(0,m.B9)(e.toDisposeTemplate)}}Eo.ID="listelement";class Ao{getHeight(e){return e.saneDetail?44:22}getTemplateId(e){return Eo.ID}}var To;!function(e){e[e.First=1]="First",e[e.Second=2]="Second",e[e.Last=3]="Last",e[e.Next=4]="Next",e[e.Previous=5]="Previous",e[e.NextPage=6]="NextPage",e[e.PreviousPage=7]="PreviousPage"}(To||(To={}));class Mo{constructor(e,t,i){this.parent=e,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new s.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new s.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new s.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new s.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new s.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new s.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new s.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=ct.R3(this.parent,Do(".quick-input-list"));const n=new Ao,o=new Po;this.list=i.createList("QuickInput",this.container,n,[new Eo],{identityProvider:{getId:e=>e.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:o}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown((e=>{const t=new Ht.y(e);switch(t.keyCode){case 10:this.toggleCheckbox();break;case 31:(N.dz?e.metaKey:e.ctrlKey)&&this.list.setFocus((0,_e.w6)(this.list.length));break;case 16:{const e=this.list.getFocus();1===e.length&&0===e[0]&&this._onLeave.fire();break}case 18:{const e=this.list.getFocus();1===e.length&&e[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(t)}))),this.disposables.push(this.list.onMouseDown((e=>{2!==e.browserEvent.button&&e.browserEvent.preventDefault()}))),this.disposables.push(ct.nm(this.container,ct.tw.CLICK,(e=>{(e.x||e.y)&&this._onLeave.fire()}))),this.disposables.push(this.list.onMouseMiddleClick((e=>{this._onLeave.fire()}))),this.disposables.push(this.list.onContextMenu((e=>{"number"==typeof e.index&&(e.browserEvent.preventDefault(),this.list.setSelection([e.index]))}))),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return s.ju.map(this.list.onDidChangeFocus,(e=>e.elements.map((e=>e.item))))}get onDidChangeSelection(){return s.ju.map(this.list.onDidChangeSelection,(e=>({items:e.elements.map((e=>e.item)),event:e.browserEvent})))}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n.hidden){if(!n.checked)return!1;t=!0}}return t}getCheckedCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach((t=>{t.hidden||(t.checked=e)}))}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=(0,m.B9)(this.elementDisposables);const t=e=>this.fireButtonTriggered(e);this.inputElements=e,this.elements=e.reduce(((i,n,o)=>{var s,r,a;if("separator"!==n.type){const l=o&&e[o-1],d=n.label&&n.label.replace(/\r?\n/g," "),c=(0,kn.Ho)(d).text.trim(),h=n.meta&&n.meta.replace(/\r?\n/g," "),u=n.description&&n.description.replace(/\r?\n/g," "),g=n.detail&&n.detail.replace(/\r?\n/g," "),p=n.ariaLabel||[d,u,g].map((e=>(0,Sn.JL)(e))).filter((e=>!!e)).join(", "),m=this.parent.classList.contains("show-checkboxes");i.push(new No({hasCheckbox:m,index:o,item:n,saneLabel:d,saneSortLabel:c,saneMeta:h,saneAriaLabel:p,saneDescription:u,saneDetail:g,labelHighlights:null===(s=n.highlights)||void 0===s?void 0:s.label,descriptionHighlights:null===(r=n.highlights)||void 0===r?void 0:r.description,detailHighlights:null===(a=n.highlights)||void 0===a?void 0:a.detail,checked:!1,separator:l&&"separator"===l.type?l:void 0,fireButtonTriggered:t}))}return i}),[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map((e=>e.onChecked((()=>this.fireCheckedEvents()))))),this.elementsToIndexes=this.elements.reduce(((e,t,i)=>(e.set(t.item,i),e)),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map((e=>e.item))}setFocusedElements(e){if(this.list.setFocus(e.filter((e=>this.elementsToIndexes.has(e))).map((e=>this.elementsToIndexes.get(e)))),e.length>0){const e=this.list.getFocus()[0];"number"==typeof e&&this.list.reveal(e)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter((e=>this.elementsToIndexes.has(e))).map((e=>this.elementsToIndexes.get(e))))}getCheckedElements(){return this.elements.filter((e=>e.checked)).map((e=>e.item))}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const i of e)t.add(i);for(const e of this.elements)e.checked=t.has(e.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===To.Next&&this.list.getFocus()[0]===this.list.length-1&&(e=To.First),e===To.Previous&&0===this.list.getFocus()[0]&&(e=To.Last),e===To.Second&&this.list.length<2&&(e=To.First),e){case To.First:this.list.focusFirst();break;case To.Second:this.list.focusNth(1);break;case To.Last:this.list.focusLast();break;case To.Next:this.list.focusNext();break;case To.Previous:this.list.focusPrevious();break;case To.NextPage:this.list.focusNextPage();break;case To.PreviousPage:this.list.focusPreviousPage()}const t=this.list.getFocus()[0];"number"==typeof t&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(e){this.list.getHTMLElement().style.maxHeight=e?`calc(${44*Math.floor(e/44)}px)`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const t=e;if((e=e.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let i;this.elements.forEach((n=>{let o;o="fuzzy"===this.matchOnLabelMode?this.matchOnLabel?(0,E.f6)((0,kn.Gt)(e,(0,kn.Ho)(n.saneLabel))):void 0:this.matchOnLabel?(0,E.f6)(function(e,t){const{text:i,iconOffsets:n}=t;if(!n||0===n.length)return Ro(e,i);const o=(0,f.j3)(i," "),s=i.length-o.length,r=Ro(e,o);if(r)for(const e of r){const t=n[e.start+s]+s;e.start+=t,e.end+=t}return r}(t,(0,kn.Ho)(n.saneLabel))):void 0;const s=this.matchOnDescription?(0,E.f6)((0,kn.Gt)(e,(0,kn.Ho)(n.saneDescription||""))):void 0,r=this.matchOnDetail?(0,E.f6)((0,kn.Gt)(e,(0,kn.Ho)(n.saneDetail||""))):void 0,a=this.matchOnMeta?(0,E.f6)((0,kn.Gt)(e,(0,kn.Ho)(n.saneMeta||""))):void 0;if(o||s||r||a?(n.labelHighlights=o,n.descriptionHighlights=s,n.detailHighlights=r,n.hidden=!1):(n.labelHighlights=void 0,n.descriptionHighlights=void 0,n.detailHighlights=void 0,n.hidden=!n.item.alwaysShow),n.separator=void 0,!this.sortByLabel){const e=n.index&&this.inputElements[n.index-1];i=e&&"separator"===e.type?e:i,i&&!n.hidden&&(n.separator=i,i=void 0)}}))}else this.elements.forEach((e=>{e.labelHighlights=void 0,e.descriptionHighlights=void 0,e.detailHighlights=void 0,e.hidden=!1;const t=e.index&&this.inputElements[e.index-1];e.separator=t&&"separator"===t.type?t:void 0}));const i=this.elements.filter((e=>!e.hidden));if(this.sortByLabel&&e){const t=e.toLowerCase();i.sort(((e,i)=>function(e,t,i){const n=e.labelHighlights||[],o=t.labelHighlights||[];return n.length&&!o.length?-1:!n.length&&o.length?1:0===n.length&&0===o.length?0:function(e,t,i){const n=e.toLowerCase(),o=t.toLowerCase(),s=function(e,t,i){const n=e.toLowerCase(),o=t.toLowerCase(),s=n.startsWith(i),r=o.startsWith(i);if(s!==r)return s?-1:1;if(s&&r){if(n.length<o.length)return-1;if(n.length>o.length)return 1}return 0}(e,t,i);if(s)return s;const r=n.endsWith(i);if(r!==o.endsWith(i))return r?-1:1;const a=function(e,t,i=!1){const n=e||"",o=t||"",s=Lo.value.collator.compare(n,o);return Lo.value.collatorIsNumeric&&0===s&&n!==o?n<o?-1:1:s}(n,o);return 0!==a?a:n.localeCompare(o)}(e.saneSortLabel,t.saneSortLabel,i)}(e,i,t)))}return this.elementsToIndexes=i.reduce(((e,t,i)=>(e.set(t.item,i),e)),new Map),this.list.splice(0,this.list.length,i),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(i.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=(0,m.B9)(this.elementDisposables),this.disposables=(0,m.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}style(e){this.list.style(e)}}function Ro(e,t){const i=t.toLowerCase().indexOf(e.toLowerCase());return-1!==i?[{start:i,end:i+e.length}]:null}Io([xo.H],Mo.prototype,"onDidChangeFocus",null),Io([xo.H],Mo.prototype,"onDidChangeSelection",null);class Po{getWidgetAriaLabel(){return(0,xt.NC)("quickInput","Quick Input")}getAriaLabel(e){var t;return(null===(t=e.separator)||void 0===t?void 0:t.label)?`${e.saneAriaLabel}, ${e.separator.label}`:e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(e){return e.hasCheckbox?"checkbox":"option"}isChecked(e){if(e.hasCheckbox)return{value:e.checked,onDidChange:e.onChecked}}}var Oo=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const Vo=ct.$,Fo={iconClass:Sn.lA.quickInputBack.classNames,tooltip:(0,xt.NC)("quickInput.back","Back"),handle:-1};class Wo extends m.JT{constructor(e){super(),this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=Wo.noPromptMessage,this._severity=Lt.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new s.Q5),this.onDidHideEmitter=this._register(new s.Q5),this.onDisposeEmitter=this._register(new s.Q5),this.visibleDisposables=this._register(new m.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!N.gn;this._ignoreFocusOut=e&&!N.gn,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton((e=>{-1!==this.buttons.indexOf(e)&&this.onDidTriggerButtonEmitter.fire(e)}))),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=_o.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){if(!this.visible)return;const e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:e||"&nbsp;"===this.ui.title.innerHTML||(this.ui.title.innerText="");const t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new I._F,this.busyDelay.setIfNotSet((()=>{this.visible&&this.ui.progressBar.infinite()}),800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const e=this.buttons.filter((e=>e===Fo));this.ui.leftActionBar.push(e.map(((e,t)=>{const i=new wn.aU(`id-${t}`,"",e.iconClass||vo(e.iconPath),!0,(()=>Oo(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)}))));return i.tooltip=e.tooltip||"",i})),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const t=this.buttons.filter((e=>e!==Fo));this.ui.rightActionBar.push(t.map(((e,t)=>{const i=new wn.aU(`id-${t}`,"",e.iconClass||vo(e.iconPath),!0,(()=>Oo(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)}))));return i.tooltip=e.tooltip||"",i})),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const i=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==i&&(this._lastValidationMessage=i,ct.mc(this.ui.message,...(0,to.T)(i))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,xt.NC)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==Lt.Z.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}Wo.noPromptMessage=(0,xt.NC)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class zo extends Wo{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new s.Q5),this.onWillAcceptEmitter=this._register(new s.Q5),this.onDidAcceptEmitter=this._register(new s.Q5),this.onDidCustomEmitter=this._register(new s.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?_o.jG.NONE:_o.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new s.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new s.Q5),this.onDidTriggerItemButtonEmitter=this._register(new s.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){this._value!==e&&(this._value=e,t||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?_o.X5:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(To.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((e=>{this.doSetValue(e,!0)}))),this.visibleDisposables.add(this.ui.inputBox.onMouseDown((e=>{this.autoFocusOnList||this.ui.list.clearFocus()}))),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown((e=>{switch(e.keyCode){case 18:this.ui.list.focus(To.Next),this.canSelectMany&&this.ui.list.domFocus(),ct.zB.stop(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(To.Previous):this.ui.list.focus(To.Last),this.canSelectMany&&this.ui.list.domFocus(),ct.zB.stop(e,!0);break;case 12:this.ui.list.focus(To.NextPage),this.canSelectMany&&this.ui.list.domFocus(),ct.zB.stop(e,!0);break;case 11:this.ui.list.focus(To.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),ct.zB.stop(e,!0);break;case 17:if(!this._canAcceptInBackground)return;if(!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(To.First),ct.zB.stop(e,!0));break;case 13:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(To.Last),ct.zB.stop(e,!0))}}))),this.visibleDisposables.add(this.ui.onDidAccept((()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)}))),this.visibleDisposables.add(this.ui.onDidCustom((()=>{this.onDidCustomEmitter.fire()}))),this.visibleDisposables.add(this.ui.list.onDidChangeFocus((e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,_e.fS)(e,this._activeItems,((e,t)=>e===t))||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))}))),this.visibleDisposables.add(this.ui.list.onDidChangeSelection((({items:e,event:t})=>{this.canSelectMany?e.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&(0,_e.fS)(e,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(t instanceof MouseEvent&&1===t.button))}))),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements((e=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,_e.fS)(e,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e)))}))),this.visibleDisposables.add(this.ui.list.onButtonTriggered((e=>this.onDidTriggerItemButtonEmitter.fire(e)))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return ct.nm(this.ui.container,ct.tw.KEY_UP,(e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new Ht.y(e),i=t.keyCode;this._quickNavigate.keybindings.some((e=>{const[n,o]=e.getParts();return!(o||(n.shiftKey&&4===i?t.ctrlKey||t.altKey||t.metaKey:!(n.altKey&&6===i||n.ctrlKey&&5===i||n.metaKey&&57===i)))}))&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)}))}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",t&&!this.description);const i={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!t,progressBar:!t,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let n=this.ariaLabel;if(n||(n=this.placeholder||zo.DEFAULT_ARIA_LABEL,this.title&&(n+=` - ${this.title}`)),this.ui.inputBox.ariaLabel!==n&&(this.ui.inputBox.ariaLabel=n),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case _o.jG.NONE:this._itemActivation=_o.jG.FIRST;break;case _o.jG.SECOND:this.ui.list.focus(To.Second),this._itemActivation=_o.jG.FIRST;break;case _o.jG.LAST:this.ui.list.focus(To.Last),this._itemActivation=_o.jG.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(To.First)),this.keepScrollPosition&&(this.scrollTop=e)}}zo.DEFAULT_ARIA_LABEL=(0,xt.NC)("quickInputBox.ariaLabel","Type to narrow down results.");class Bo extends m.JT{constructor(e){super(),this.options=e,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new s.Q5),this.onDidCustomEmitter=this._register(new s.Q5),this.onDidTriggerButtonEmitter=this._register(new s.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new s.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new s.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const e=e=>{this.keyMods.ctrlCmd=e.ctrlKey||e.metaKey,this.keyMods.alt=e.altKey};this._register(ct.nm(window,ct.tw.KEY_DOWN,e,!0)),this._register(ct.nm(window,ct.tw.KEY_UP,e,!0)),this._register(ct.nm(window,ct.tw.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;const e=ct.R3(this.parentElement,Vo(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";const t=ct.dS(e),i=ct.R3(e,Vo(".quick-input-titlebar")),n=this._register(new _n.o(i));n.domNode.classList.add("quick-input-left-action-bar");const o=ct.R3(i,Vo(".quick-input-title")),s=this._register(new _n.o(i));s.domNode.classList.add("quick-input-right-action-bar");const r=ct.R3(e,Vo(".quick-input-description")),a=ct.R3(e,Vo(".quick-input-header")),l=ct.R3(a,Vo("input.quick-input-check-all"));l.type="checkbox",l.setAttribute("aria-label",(0,xt.NC)("quickInput.checkAll","Toggle all checkboxes")),this._register(ct.mu(l,ct.tw.CHANGE,(e=>{const t=l.checked;w.setAllVisibleChecked(t)}))),this._register(ct.nm(l,ct.tw.CLICK,(e=>{(e.x||e.y)&&u.setFocus()})));const d=ct.R3(a,Vo(".quick-input-description")),c=ct.R3(a,Vo(".quick-input-and-message")),h=ct.R3(c,Vo(".quick-input-filter")),u=this._register(new yo(h));u.setAttribute("aria-describedby",`${this.idPrefix}message`);const g=ct.R3(h,Vo(".quick-input-visible-count"));g.setAttribute("aria-live","polite"),g.setAttribute("aria-atomic","true");const p=new so.Z(g,{countFormat:(0,xt.NC)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),m=ct.R3(h,Vo(".quick-input-count"));m.setAttribute("aria-live","polite");const f=new so.Z(m,{countFormat:(0,xt.NC)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),v=ct.R3(a,Vo(".quick-input-action")),_=new oo(v);_.label=(0,xt.NC)("ok","OK"),this._register(_.onDidClick((e=>{this.onDidAcceptEmitter.fire()})));const b=ct.R3(a,Vo(".quick-input-action")),C=new oo(b);C.label=(0,xt.NC)("custom","Custom"),this._register(C.onDidClick((e=>{this.onDidCustomEmitter.fire()})));const y=ct.R3(c,Vo(`#${this.idPrefix}message.quick-input-message`)),w=this._register(new Mo(e,this.idPrefix+"list",this.options));this._register(w.onChangedAllVisibleChecked((e=>{l.checked=e}))),this._register(w.onChangedVisibleCount((e=>{p.setCount(e)}))),this._register(w.onChangedCheckedCount((e=>{f.setCount(e)}))),this._register(w.onLeave((()=>{setTimeout((()=>{u.setFocus(),this.controller instanceof zo&&this.controller.canSelectMany&&w.clearFocus()}),0)}))),this._register(w.onDidChangeFocus((()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")})));const S=new go(e);S.getContainer().classList.add("quick-input-progress");const k=ct.go(e);return this._register(k),this._register(ct.nm(e,ct.tw.FOCUS,(e=>{this.previousFocusElement=e.relatedTarget instanceof HTMLElement?e.relatedTarget:void 0}),!0)),this._register(k.onDidBlur((()=>{this.getUI().ignoreFocusOut||this.options.ignoreFocusOut()||this.hide(_o.Jq.Blur),this.previousFocusElement=void 0}))),this._register(ct.nm(e,ct.tw.FOCUS,(e=>{u.setFocus()}))),this._register(ct.nm(e,ct.tw.KEY_DOWN,(t=>{const i=new Ht.y(t);switch(i.keyCode){case 3:ct.zB.stop(t,!0),this.onDidAcceptEmitter.fire();break;case 9:ct.zB.stop(t,!0),this.hide(_o.Jq.Gesture);break;case 2:if(!i.altKey&&!i.ctrlKey&&!i.metaKey){const n=[".action-label.codicon"];e.classList.contains("show-checkboxes")?n.push("input"):n.push("input[type=text]"),this.getUI().list.isDisplayed()&&n.push(".monaco-list");const o=e.querySelectorAll(n.join(", "));i.shiftKey&&i.target===o[0]?(ct.zB.stop(t,!0),o[o.length-1].focus()):i.shiftKey||i.target!==o[o.length-1]||(ct.zB.stop(t,!0),o[0].focus())}}}))),this.ui={container:e,styleSheet:t,leftActionBar:n,titleBar:i,title:o,description1:r,description2:d,rightActionBar:s,checkAll:l,filterContainer:h,inputBox:u,visibleCountContainer:g,visibleCount:p,countContainer:m,count:f,okContainer:v,ok:_,message:y,customButtonContainer:b,customButton:C,list:w,progressBar:S,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:e=>this.show(e),hide:()=>this.hide(),setVisibilities:e=>this.setVisibilities(e),setComboboxAccessibility:e=>this.setComboboxAccessibility(e),setEnabled:e=>this.setEnabled(e),setContextKey:e=>this.options.setContextKey(e)},this.updateStyles(),this.ui}pick(e,t={},i=o.T.None){return new Promise(((n,o)=>{let s=e=>{var i;s=n,null===(i=t.onKeyMods)||void 0===i||i.call(t,r.keyMods),n(e)};if(i.isCancellationRequested)return void s(void 0);const r=this.createQuickPick();let a;const l=[r,r.onDidAccept((()=>{if(r.canSelectMany)s(r.selectedItems.slice()),r.hide();else{const e=r.activeItems[0];e&&(s(e),r.hide())}})),r.onDidChangeActive((e=>{const i=e[0];i&&t.onDidFocus&&t.onDidFocus(i)})),r.onDidChangeSelection((e=>{if(!r.canSelectMany){const t=e[0];t&&(s(t),r.hide())}})),r.onDidTriggerItemButton((e=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},e),{removeItem:()=>{const t=r.items.indexOf(e.item);if(-1!==t){const e=r.items.slice(),i=e.splice(t,1),n=r.activeItems.filter((e=>e!==i[0])),o=r.keepScrollPosition;r.keepScrollPosition=!0,r.items=e,n&&(r.activeItems=n),r.keepScrollPosition=o}}})))),r.onDidChangeValue((e=>{!a||e||1===r.activeItems.length&&r.activeItems[0]===a||(r.activeItems=[a])})),i.onCancellationRequested((()=>{r.hide()})),r.onDidHide((()=>{(0,m.B9)(l),s(void 0)}))];r.title=t.title,r.canSelectMany=!!t.canPickMany,r.placeholder=t.placeHolder,r.ignoreFocusOut=!!t.ignoreFocusLost,r.matchOnDescription=!!t.matchOnDescription,r.matchOnDetail=!!t.matchOnDetail,r.matchOnLabel=void 0===t.matchOnLabel||t.matchOnLabel,r.autoFocusOnList=void 0===t.autoFocusOnList||t.autoFocusOnList,r.quickNavigate=t.quickNavigate,r.hideInput=!!t.hideInput,r.contextKey=t.contextKey,r.busy=!0,Promise.all([e,t.activeItem]).then((([e,t])=>{a=t,r.busy=!1,r.items=e,r.canSelectMany&&(r.selectedItems=e.filter((e=>"separator"!==e.type&&e.picked))),a&&(r.activeItems=[a])})),r.show(),Promise.resolve(e).then(void 0,(e=>{o(e),r.hide()}))}))}createQuickPick(){const e=this.getUI();return new zo(e)}show(e){const t=this.getUI();this.onShowEmitter.fire();const i=this.controller;this.controller=e,i&&i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(Lt.Z.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),ct.mc(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),t.inputBox.ariaLabel="";const n=this.options.backKeybindingLabel();Fo.tooltip=n?(0,xt.NC)("quickInput.backWithKeybinding","Back ({0})",n):(0,xt.NC)("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=!e.description||e.inputBox||e.checkAll?"none":"",t.checkAll.style.display=e.checkAll?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList[e.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(e){if(e!==this.comboboxAccessibility){const t=this.getUI();this.comboboxAccessibility=e,this.comboboxAccessibility?(t.inputBox.setAttribute("role","combobox"),t.inputBox.setAttribute("aria-haspopup","true"),t.inputBox.setAttribute("aria-autocomplete","list"),t.inputBox.setAttribute("aria-activedescendant",t.list.getActiveDescendant()||"")):(t.inputBox.removeAttribute("role"),t.inputBox.removeAttribute("aria-haspopup"),t.inputBox.removeAttribute("aria-autocomplete"),t.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.getAction().enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.getAction().enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t;const i=this.controller;if(i){const n=!(null===(t=this.ui)||void 0===t?void 0:t.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!n){let e=this.previousFocusElement;for(;e&&!e.offsetParent;)e=(0,E.f6)(e.parentElement);(null==e?void 0:e.offsetParent)?(e.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}i.didHide(e)}}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(.62*this.dimension.width,Bo.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,contrastBorder:n,widgetShadow:o}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e?e.toString():"",this.ui.container.style.backgroundColor=t?t.toString():"",this.ui.container.style.color=i?i.toString():"",this.ui.container.style.border=n?`1px solid ${n}`:"",this.ui.container.style.boxShadow=o?`0 0 8px 2px ${o}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const s=[];this.styles.list.pickerGroupBorder&&s.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&s.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(s.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&s.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&s.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&s.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&s.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&s.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),s.push("}"));const r=s.join("\n");r!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=r)}}}Bo.MAX_WIDTH=600;var Uo=i(6763),Ho=i(8289),Go=i(725),jo=i(1157),Ko=function(e,t){return function(i,n){t(i,n,e)}};let $o=class extends m.JT{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=ln.B.as(Go.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var n;const[s,r]=this.getOrInstantiateProvider(e),a=this.visibleQuickAccess,l=null==a?void 0:a.descriptor;if(a&&r&&l===r)return e===r.prefix||(null==i?void 0:i.preserveValue)||(a.picker.value=e),void this.adjustValueSelection(a.picker,r,i);if(r&&!(null==i?void 0:i.preserveValue)){let t;if(a&&l&&l!==r){const e=a.value.substr(l.prefix.length);e&&(t=`${r.prefix}${e}`)}if(!t){const e=null==s?void 0:s.defaultFilterValue;e===Go.Ry.LAST?t=this.lastAcceptedPickerValues.get(r):"string"==typeof e&&(t=`${r.prefix}${e}`)}"string"==typeof t&&(e=t)}const d=new m.SL,c=d.add(this.quickInputService.createQuickPick());let h;c.value=e,this.adjustValueSelection(c,r,i),c.placeholder=null==r?void 0:r.placeholder,c.quickNavigate=null==i?void 0:i.quickNavigateConfiguration,c.hideInput=!!c.quickNavigate&&!a,("number"==typeof(null==i?void 0:i.itemActivation)||(null==i?void 0:i.quickNavigateConfiguration))&&(c.itemActivation=null!==(n=null==i?void 0:i.itemActivation)&&void 0!==n?n:jo.jG.SECOND),c.contextKey=null==r?void 0:r.contextKey,c.filterValue=e=>e.substring(r?r.prefix.length:0),(null==r?void 0:r.placeholder)&&(c.ariaLabel=null==r?void 0:r.placeholder),t&&(h=new I.CR,d.add((0,Ho.I)(c.onWillAccept)((e=>{e.veto(),c.hide()})))),d.add(this.registerPickerListeners(c,s,r,e));const u=d.add(new o.A);return s&&d.add(s.provide(c,u.token)),(0,Ho.I)(c.onDidHide)((()=>{0===c.selectedItems.length&&u.cancel(),d.dispose(),null==h||h.complete(c.selectedItems.slice(0))})),c.show(),t?null==h?void 0:h.p:void 0}adjustValueSelection(e,t,i){var n;let o;o=(null==i?void 0:i.preserveValue)?[e.value.length,e.value.length]:[null!==(n=null==t?void 0:t.prefix.length)&&void 0!==n?n:0,e.value.length],e.valueSelection=o}registerPickerListeners(e,t,i,n){const o=new m.SL,s=this.visibleQuickAccess={picker:e,descriptor:i,value:n};return o.add((0,m.OF)((()=>{s===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)}))),o.add(e.onDidChangeValue((e=>{const[i]=this.getOrInstantiateProvider(e);i!==t?this.show(e,{preserveValue:!0}):s.value=e}))),i&&o.add(e.onDidAccept((()=>{this.lastAcceptedPickerValues.set(i,e.value)}))),o}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};$o=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Ko(0,jo.eJ),Ko(1,bt.TG)],$o);var qo=function(e,t){return function(i,n){t(i,n,e)}};let Yo=class extends gt.bB{constructor(e,t,i,n,o){super(i),this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=n,this.layoutService=o,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance($o))),this._quickAccess}createController(e=this.layoutService,t){const i={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:e=>this.setContextKey(e),returnFocus:()=>e.focus(),createList:(e,t,i,n,o)=>this.instantiationService.createInstance(Uo.ev,e,t,i,n,o),styles:this.computeStyles()},n=this._register(new Bo(Object.assign(Object.assign({},i),t)));return n.layout(e.dimension,e.offset.quickPickTop),this._register(e.onDidLayout((t=>n.layout(t,e.offset.quickPickTop)))),this._register(n.onShow((()=>this.resetContextKeys()))),this._register(n.onHide((()=>this.resetContextKeys()))),n}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new mt.uy(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),t&&t.get()||(this.resetContextKeys(),null==t||t.set(!0))}resetContextKeys(){this.contexts.forEach((e=>{e.get()&&e.reset()}))}pick(e,t={},i=o.T.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,Tn.o)(this.theme,{quickInputBackground:$n.zKr,quickInputForeground:$n.tZ6,quickInputTitleBackground:$n.loF,contrastBorder:$n.lRK,widgetShadow:$n.rh})),inputBox:(0,Tn.o)(this.theme,{inputForeground:$n.zJb,inputBackground:$n.sEe,inputBorder:$n.dt_,inputValidationInfoBackground:$n._lC,inputValidationInfoForeground:$n.YI3,inputValidationInfoBorder:$n.EPQ,inputValidationWarningBackground:$n.RV_,inputValidationWarningForeground:$n.SUG,inputValidationWarningBorder:$n.C3g,inputValidationErrorBackground:$n.paE,inputValidationErrorForeground:$n._t9,inputValidationErrorBorder:$n.OZR}),countBadge:(0,Tn.o)(this.theme,{badgeBackground:$n.g8u,badgeForeground:$n.qeD,badgeBorder:$n.lRK}),button:(0,Tn.o)(this.theme,{buttonForeground:$n.j5u,buttonBackground:$n.b7$,buttonHoverBackground:$n.GO4,buttonBorder:$n.lRK}),progressBar:(0,Tn.o)(this.theme,{progressBarBackground:$n.zRJ}),keybindingLabel:(0,Tn.o)(this.theme,{keybindingLabelBackground:$n.oQ$,keybindingLabelForeground:$n.lWp,keybindingLabelBorder:$n.AWI,keybindingLabelBottomBorder:$n.K19,keybindingLabelShadow:$n.rh}),list:(0,Tn.o)(this.theme,{listBackground:$n.zKr,listInactiveFocusForeground:$n.NPS,listInactiveSelectionIconForeground:$n.cbQ,listInactiveFocusBackground:$n.Vqd,listFocusOutline:$n.xL1,listInactiveFocusOutline:$n.xL1,pickerGroupBorder:$n.opG,pickerGroupForeground:$n.kJk})}}};Yo=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([qo(0,bt.TG),qo(1,mt.i6),qo(2,gt.XE),qo(3,eo.F),qo(4,Ct)],Yo);var Qo=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},Zo=function(e,t){return function(i,n){t(i,n,e)}};let Jo=class extends Yo{constructor(e,t,i,n,o,s){super(t,i,n,o,new kt(e.getContainerDomNode(),s)),this.host=void 0;const r=es.get(e);if(r){const t=r.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return t.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};Jo=Qo([Zo(1,bt.TG),Zo(2,mt.i6),Zo(3,gt.XE),Zo(4,eo.F),Zo(5,_.$)],Jo);let Xo=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(Jo,e);this.mapEditorToService.set(e,t),(0,Ho.I)(e.onDidDispose)((()=>{i.dispose(),this.mapEditorToService.delete(e)}))}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},i=o.T.None){return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}};Xo=Qo([Zo(0,bt.TG),Zo(1,_.$)],Xo);class es{constructor(e){this.editor=e,this.widget=new ts(this.editor)}static get(e){return e.getContribution(es.ID)}dispose(){this.widget.dispose()}}es.ID="editor.controller.quickInput";class ts{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return ts.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}ts.ID="editor.contrib.quickInputWidget",(0,Xn._K)(es.ID,es);var is=i(8763),ns=i(4156),os=function(e,t){return function(i,n){t(i,n,e)}};let ss=class extends m.JT{constructor(e,t,i){super(),this._contextKeyService=e,this._layoutService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new s.Q5,this._onDidChangeReducedMotion=new s.Q5,this._accessibilityModeEnabledContext=eo.U.bindTo(this._contextKeyService);const n=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.accessibilitySupport")&&(n(),this._onDidChangeScreenReaderOptimized.fire()),e.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())}))),n(),this._register(this.onDidChangeScreenReaderOptimized((()=>n())));const o=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=o.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(o)}initReducedMotionListeners(e){if(!this._layoutService.hasContainer)return;this._register((0,ct.nm)(e,"change",(()=>{this._systemMotionReduced=e.matches,"auto"===this._configMotionReduced&&this._onDidChangeReducedMotion.fire()})));const t=()=>{const e=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",e),this._layoutService.container.classList.toggle("enable-motion",!e)};t(),this._register(this.onDidChangeReducedMotion((()=>t())))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const e=this._configMotionReduced;return"on"===e||"auto"===e&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};ss=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([os(0,mt.i6),os(1,Ct),os(2,He.Ui)],ss);var rs=i(4144),as=i(6904),ls=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},ds=function(e,t){return function(i,n){t(i,n,e)}};let cs=class{constructor(e,t){this._commandService=e,this._hiddenStates=new hs(t)}createMenu(e,t,i){return new us(e,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},i),this._commandService,t,this)}};cs=ls([ds(0,Yt.Hy),ds(1,as.Uy)],cs);let hs=class e{constructor(t){this._storageService=t,this._disposables=new m.SL,this._onDidChange=new s.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1;try{const i=t.get(e._key,0,"{}");this._data=JSON.parse(i)}catch(e){this._data=Object.create(null)}this._disposables.add(t.onDidChangeValue((i=>{if(i.key===e._key){if(!this._ignoreChangeEvent)try{const i=t.get(e._key,0,"{}");this._data=JSON.parse(i)}catch(e){console.log("FAILED to read storage after UPDATE",e)}this._onDidChange.fire()}})))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}isHidden(e,t){var i,n;return null!==(n=null===(i=this._data[e.id])||void 0===i?void 0:i.includes(t))&&void 0!==n&&n}updateHidden(e,t,i){const n=this._data[e.id];if(i)n?n.indexOf(t)<0&&n.push(t):this._data[e.id]=[t];else if(n){const i=n.indexOf(t);i>=0&&(0,_e.LS)(n,i),0===n.length&&delete this._data[e.id]}this._persist()}_persist(){try{this._ignoreChangeEvent=!0;const t=JSON.stringify(this._data);this._storageService.store(e._key,t,0,0)}finally{this._ignoreChangeEvent=!1}}};hs._key="menu.hiddenCommands",hs=ls([ds(0,as.Uy)],hs);let us=class e{constructor(e,t,i,n,o,r){this._id=e,this._hiddenStates=t,this._options=i,this._commandService=n,this._contextKeyService=o,this._menuService=r,this._disposables=new m.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const a=new I.pY((()=>{this._build(),this._onDidChange.fire(this)}),i.eventDebounceDelay);this._disposables.add(a),this._disposables.add(rs.BH.onDidChangeMenu((t=>{t.has(e)&&a.schedule()})));const l=this._disposables.add(new m.SL);this._onDidChange=new s.Q5({onFirstListenerAdd:()=>{const e=new I.pY((()=>this._onDidChange.fire(this)),i.eventDebounceDelay);l.add(e),l.add(o.onDidChangeContext((t=>{t.affectsSome(this._contextKeys)&&e.schedule()}))),l.add(t.onDidChange((()=>{e.schedule()})))},onLastListenerRemove:l.clear.bind(l)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=rs.BH.getMenuItems(this._id);let i;t.sort(e._compareMenuItems);for(const e of t){const t=e.group||"";i&&i[0]===t||(i=[t,[]],this._menuGroups.push(i)),i[1].push(e),this._collectContextKeys(e)}}_collectContextKeys(t){if(e._fillInKbExprKeys(t.when,this._contextKeys),(0,rs.vr)(t)){if(t.command.precondition&&e._fillInKbExprKeys(t.command.precondition,this._contextKeys),t.command.toggled){const i=t.command.toggled.condition||t.command.toggled;e._fillInKbExprKeys(i,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&rs.BH.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}getActions(e){const t=[],i=[];for(const n of this._menuGroups){const[o,s]=n,r=[],a=[];for(const t of s)if(this._contextKeyService.contextMatchesRules(t.when)){let i;if((0,rs.vr)(t)){const n=gs(this._id,t.command,this._hiddenStates);i=new rs.U8(t.command,t.alt,e,n,this._contextKeyService,this._commandService)}else i=new rs.NZ(t,this._menuService,this._contextKeyService,e),0===i.actions.length&&(i.dispose(),i=void 0);i&&a.push(i)}a.length>0&&t.push([o,a]),r.length>0&&i.push(r)}return t}static _fillInKbExprKeys(e,t){if(e)for(const i of e.keys())t.add(i)}static _compareMenuItems(t,i){const n=t.group,o=i.group;if(n!==o){if(!n)return 1;if(!o)return-1;if("navigation"===n)return-1;if("navigation"===o)return 1;const e=n.localeCompare(o);if(0!==e)return e}const s=t.order||0,r=i.order||0;return s<r?-1:s>r?1:e._compareTitles((0,rs.vr)(t)?t.command.title:t.title,(0,rs.vr)(i)?i.command.title:i.title)}static _compareTitles(e,t){const i="string"==typeof e?e:e.original,n="string"==typeof t?t:t.original;return i.localeCompare(n)}};function gs(e,t,i){const n=`${e.id}/${t.id}`,o="string"==typeof t.title?t.title:t.title.value,s=(0,wn.xw)({id:n,label:(0,xt.NC)("hide.label","Hide '{0}'",o),run(){i.updateHidden(e,t.id,!0)}}),r=(0,wn.xw)({id:n,label:o,get checked(){return!i.isHidden(e,t.id)},run(){const n=!i.isHidden(e,t.id);i.updateHidden(e,t.id,n)}});return{hide:s,toggle:r,get isHidden(){return!r.checked}}}us=ls([ds(3,Yt.Hy),ds(4,mt.i6),ds(5,rs.co)],us);var ps=function(e,t){return function(i,n){t(i,n,e)}},ms=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let fs=class extends m.JT{constructor(e,t){super(),this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",this.resources=[],(fn.isSafari||fn.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const e=()=>{const e=new I.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=e,navigator.clipboard.write([new ClipboardItem({"text/plain":e.p})]).catch((t=>ms(this,void 0,void 0,(function*(){t instanceof Error&&"NotAllowedError"===t.name&&e.isRejected||this.logService.error(t)}))))};this.layoutService.hasContainer&&(this._register((0,ct.nm)(this.layoutService.container,"click",e)),this._register((0,ct.nm)(this.layoutService.container,"keydown",e)))}writeText(e,t){return ms(this,void 0,void 0,(function*(){if(t)return void this.mapTextToType.set(t,e);if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return yield navigator.clipboard.writeText(e)}catch(e){console.error(e)}const i=document.activeElement,n=document.body.appendChild((0,ct.$)("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=e,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)}))}readText(e){return ms(this,void 0,void 0,(function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(e){return console.error(e),""}}))}readFindText(){return ms(this,void 0,void 0,(function*(){return this.findText}))}writeFindText(e){return ms(this,void 0,void 0,(function*(){this.findText=e}))}readResources(){return ms(this,void 0,void 0,(function*(){return this.resources}))}};fs=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([ps(0,Ct),ps(1,be.VZ)],fs);var vs=i(4972),_s=i(3725);const bs="data-keybinding-context";class Cs{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}get value(){return Object.assign({},this._value)}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){const t=this._value[e];return void 0===t&&this._parent?this._parent.getValue(e):t}}class ys extends Cs{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}ys.INSTANCE=new ys;class ws extends Cs{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=Qt.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((e=>{if(7===e.source){const e=Array.from(_s.$.map(this._values,(([e])=>e)));this._values.clear(),i.fire(new Ls(e))}else{const t=[];for(const i of e.affectedKeys){const e=`config.${i}`,n=this._values.findSuperstr(e);void 0!==n&&(t.push(..._s.$.map(n,(([e])=>e))),this._values.deleteSuperstr(e)),this._values.has(e)&&(t.push(e),this._values.delete(e))}i.fire(new Ls(t))}}))}dispose(){this._listener.dispose()}getValue(e){if(0!==e.indexOf(ws._keyPrefix))return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(ws._keyPrefix.length),i=this._configurationService.getValue(t);let n;switch(typeof i){case"number":case"boolean":case"string":n=i;break;default:n=Array.isArray(i)?JSON.stringify(i):i}return this._values.set(e,n),n}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}ws._keyPrefix="config.";class Ss{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class ks{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}allKeysContainedIn(e){return this.affectsSome(e)}}class Ls{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}allKeysContainedIn(e){return this.keys.every((t=>e.has(t)))}}class xs{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}allKeysContainedIn(e){return this.events.every((t=>t.allKeysContainedIn(e)))}}class Is{constructor(e){this._onDidChangeContext=new s.K3({merge:e=>new xs(e)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Ss(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Ns(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return!e||e.evaluate(t)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new ks(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new ks(e))}getContext(e){return this._isDisposed?ys.INSTANCE:this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute(bs)){const t=e.getAttribute(bs);return t?parseInt(t,10):NaN}e=e.parentElement}return 0}(e))}}let Ds=class extends Is{constructor(e){super(0),this._contexts=new Map,this._toDispose=new m.SL,this._lastContextId=0;const t=new ws(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?ys.INSTANCE:this._contexts.get(e)||ys.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const t=++this._lastContextId;return this._contexts.set(t,new Cs(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};Ds=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(0,He.Ui)],Ds);class Ns extends Is{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=new m.XK,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(bs)){let e="";this._domNode.classList&&(e=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(e?": "+e:""))}this._domNode.setAttribute(bs,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext((e=>{var t;t=this._parent.getContextValuesContainer(this._myContextId).value,e.allKeysContainedIn(new Set(Object.keys(t)))||this._onDidChangeContext.fire(e)}))}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(bs),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?ys.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}Yt.P0.registerCommand(mt.Eq,(function(e,t,i){e.get(mt.i6).createKey(String(t),function(e){return(0,Zt.rs)(e,(e=>"object"==typeof e&&1===e.$mid?a.o.revive(e).toString():e instanceof a.o?e.toString():void 0))}(i))})),Yt.P0.registerCommand({id:"getContextKeyInfo",handler:()=>[...mt.uy.all()].sort(((e,t)=>e.key.localeCompare(t.key))),description:{description:(0,xt.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),Yt.P0.registerCommand("_generateContextKeyInfo",(function(){const e=[],t=new Set;for(const i of mt.uy.all())t.has(i.key)||(t.add(i.key),e.push(i));e.sort(((e,t)=>e.key.localeCompare(t.key))),console.log(JSON.stringify(e,void 0,2))}));var Es=i(7108);class As{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}}class Ts{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(const t of this._nodes.values())0===t.outgoing.size&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing.set(this._hashFn(t),n),n.incoming.set(this._hashFn(e),i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(const e of this._nodes.values())e.outgoing.delete(t),e.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new As(e),this._nodes.set(t,i)),i}isEmpty(){return 0===this._nodes.size}toString(){const e=[];for(const[t,i]of this._nodes)e.push(`${t}, (incoming)[${[...i.incoming.keys()].join(", ")}], (outgoing)[${[...i.outgoing.keys()].join(",")}]`);return e.join("\n")}findCycleSlow(){for(const[e,t]of this._nodes){const i=new Set([e]),n=this._findCycle(t,i);if(n)return n}}_findCycle(e,t){for(const[i,n]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const e=this._findCycle(n,t);if(e)return e;t.delete(i)}}}var Ms=i(972);class Rs extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=null!==(t=e.findCycleSlow())&&void 0!==t?t:`UNABLE to detect cycle, dumping graph: \n${e.toString()}`}}class Ps{constructor(e=new Ms.y,t=!1,i){this._activeInstantiations=new Set,this._services=e,this._strict=t,this._parent=i,this._services.set(bt.TG,this)}createChild(e){return new Ps(e,this._strict,this)}invokeFunction(e,...t){const i=Os.traceInvocation(e);let n=!1;try{return e({get:e=>{if(n)throw(0,D.L6)("service accessor is only valid during the invocation of its target method");const t=this._getOrCreateServiceInstance(e,i);if(!t)throw new Error(`[invokeFunction] unknown service '${e}'`);return t}},...t)}finally{n=!0,i.stop()}}createInstance(e,...t){let i,n;return e instanceof Es.M?(i=Os.traceCreation(e.ctor),n=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=Os.traceCreation(e),n=this._createInstance(e,t,i)),i.stop(),n}_createInstance(e,t=[],i){const n=bt.I8.getServiceDependencies(e).sort(((e,t)=>e.index-t.index)),o=[];for(const t of n){const n=this._getOrCreateServiceInstance(t.id,i);n||this._throwIfStrict(`[createInstance] ${e.name} depends on UNKNOWN service ${t.id}.`,!1),o.push(n)}const s=n.length>0?n[0].index:t.length;if(t.length!==s){console.trace(`[createInstance] First service dependency of ${e.name} at position ${s+1} conflicts with ${t.length} static arguments`);const i=s-t.length;t=i>0?t.concat(new Array(i)):t.slice(0,s)}return new e(...[...t,...o])}_setServiceInstance(e,t){if(this._services.get(e)instanceof Es.M)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}}_getServiceInstanceOrDescriptor(e){const t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){const i=this._getServiceInstanceOrDescriptor(e);return i instanceof Es.M?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){const n=new Ts((e=>e.id.toString()));let o=0;const s=[{id:e,desc:t,_trace:i}];for(;s.length;){const t=s.pop();if(n.lookupOrInsertNode(t),o++>1e3)throw new Rs(n);for(const i of bt.I8.getServiceDependencies(t.desc.ctor)){const o=this._getServiceInstanceOrDescriptor(i.id);if(o||this._throwIfStrict(`[createInstance] ${e} depends on ${i.id} which is NOT registered.`,!0),o instanceof Es.M){const e={id:i.id,desc:o,_trace:t._trace.branch(i.id,!0)};n.insertEdge(t,e),s.push(e)}}}for(;;){const e=n.roots();if(0===e.length){if(!n.isEmpty())throw new Rs(n);break}for(const{data:t}of e){if(this._getServiceInstanceOrDescriptor(t.id)instanceof Es.M){const e=this._createServiceInstanceWithOwner(t.id,t.desc.ctor,t.desc.staticArguments,t.desc.supportsDelayedInstantiation,t._trace);this._setServiceInstance(t.id,e)}n.removeNode(t)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],n,o){if(this._services.get(e)instanceof Es.M)return this._createServiceInstance(t,i,n,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,n,o);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t=[],i,n){if(i){const i=new I.Ue((()=>this._createInstance(e,t,n)));return new Proxy(Object.create(null),{get(e,t){if(t in e)return e[t];const n=i.value;let o=n[t];return"function"!=typeof o||(o=o.bind(n),e[t]=o),o},set:(e,t,n)=>(i.value[t]=n,!0)})}return this._createInstance(e,t,n)}_throwIfStrict(e,t){if(t&&console.warn(e),this._strict)throw new Error(e)}}class Os{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return Os._None}static traceCreation(e){return Os._None}branch(e,t){const i=new Os(2,e.toString());return this._dep.push([e,t,i]),i}stop(){const e=Date.now()-this._start;Os._totals+=e;let t=!1;const i=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function e(i,n){const o=[],s=new Array(i+1).join("\t");for(const[r,a,l]of n._dep)if(a&&l){t=!0,o.push(`${s}CREATES -> ${r}`);const n=e(i+1,l);n&&o.push(n)}else o.push(`${s}uses -> ${r}`);return o.join("\n")}(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${Os._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(i.join("\n"))}}Os._None=new class extends Os{constructor(){super(-1,null)}stop(){}branch(){return this}},Os._totals=0;class Vs{constructor(){this._byResource=new Qt.Y9,this._byOwner=new Map}set(e,t,i){let n=this._byResource.get(e);n||(n=new Map,this._byResource.set(e,n)),n.set(t,i);let o=this._byOwner.get(t);o||(o=new Qt.Y9,this._byOwner.set(t,o)),o.set(e,i)}get(e,t){const i=this._byResource.get(e);return null==i?void 0:i.get(t)}delete(e,t){let i=!1,n=!1;const o=this._byResource.get(e);o&&(i=o.delete(t));const s=this._byOwner.get(t);if(s&&(n=s.delete(e)),i!==n)throw new Error("illegal state");return i&&n}values(e){var t,i,n,o;return"string"==typeof e?null!==(i=null===(t=this._byOwner.get(e))||void 0===t?void 0:t.values())&&void 0!==i?i:_s.$.empty():a.o.isUri(e)?null!==(o=null===(n=this._byResource.get(e))||void 0===n?void 0:n.values())&&void 0!==o?o:_s.$.empty():_s.$.map(_s.$.concat(...this._byOwner.values()),(e=>e[1]))}}class Fs{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Qt.Y9,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const e=this._data.get(t);e&&this._substract(e);const i=this._resourceStats(t);this._add(i),this._data.set(t,i)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===ht.lg.inMemory||e.scheme===ht.lg.walkThrough||e.scheme===ht.lg.walkThroughSnippet||e.scheme===ht.lg.vscodeSourceControl)return t;for(const{severity:i}of this._service.read({resource:e}))i===jn.ZL.Error?t.errors+=1:i===jn.ZL.Warning?t.warnings+=1:i===jn.ZL.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class Ws{constructor(){this._onMarkerChanged=new s.D0({delay:0,merge:Ws._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new Vs,this._stats=new Fs(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if((0,_e.XY)(i))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{const n=[];for(const o of i){const i=Ws._toMarker(e,t,o);i&&n.push(i)}this._data.set(t,e,n),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:n,severity:o,message:s,source:r,startLineNumber:a,startColumn:l,endLineNumber:d,endColumn:c,relatedInformation:h,tags:u}=i;if(s)return a=a>0?a:1,l=l>0?l:1,d=d>=a?d:a,c=c>0?c:l,{resource:t,owner:e,code:n,severity:o,message:s,source:r,startLineNumber:a,startColumn:l,endLineNumber:d,endColumn:c,relatedInformation:h,tags:u}}changeAll(e,t){const i=[],n=this._data.values(e);if(n)for(const t of n){const n=_s.$.first(t);n&&(i.push(n.resource),this._data.delete(n.resource,e))}if((0,_e.Of)(t)){const n=new Qt.Y9;for(const{resource:o,marker:s}of t){const t=Ws._toMarker(e,o,s);if(!t)continue;const r=n.get(o);r?r.push(t):(n.set(o,[t]),i.push(o))}for(const[t,i]of n)this._data.set(t,e,i)}i.length>0&&this._onMarkerChanged.fire(i)}read(e=Object.create(null)){let{owner:t,resource:i,severities:n,take:o}=e;if((!o||o<0)&&(o=-1),t&&i){const e=this._data.get(i,t);if(e){const t=[];for(const i of e)if(Ws._accept(i,n)){const e=t.push(i);if(o>0&&e===o)break}return t}return[]}if(t||i){const e=this._data.values(null!=i?i:t),s=[];for(const t of e)for(const e of t)if(Ws._accept(e,n)){const t=s.push(e);if(o>0&&t===o)return s}return s}{const e=[];for(const t of this._data.values())for(const i of t)if(Ws._accept(i,n)){const t=e.push(i);if(o>0&&t===o)return e}return e}}static _accept(e,t){return void 0===t||(t&e.severity)===e.severity}static _merge(e){const t=new Qt.Y9;for(const i of e)for(const e of i)t.set(e,!0);return Array.from(t.keys())}}function zs(e,t,i,n,o,s){if(Array.isArray(e)){let r=0;for(const a of e){const e=zs(a,t,i,n,o,s);if(10===e)return e;e>r&&(r=e)}return r}if("string"==typeof e)return n?"*"===e?5:e===i?10:0:0;if(e){const{language:l,pattern:d,scheme:c,hasAccessToAllModels:h,notebookType:u}=e;if(!n&&!h)return 0;u&&o&&(t=o);let g=0;if(c)if(c===t.scheme)g=10;else{if("*"!==c)return 0;g=5}if(l)if(l===i)g=10;else{if("*"!==l)return 0;g=Math.max(g,5)}if(u)if(u===s)g=10;else{if("*"!==u||void 0===s)return 0;g=Math.max(g,5)}if(d){let e;if(e="string"==typeof d?d:Object.assign(Object.assign({},d),{base:(0,Ei.Fv)(d.base)}),e!==t.fsPath&&(r=e,a=t.fsPath,!r||"string"!=typeof a||!Zi(r)(a,void 0,undefined)))return 0;g=10}return g}return 0;var r,a}function Bs(e){return"string"!=typeof e&&(Array.isArray(e)?e.every(Bs):!!e.exclusive)}class Us{constructor(e,t,i,n){this.uri=e,this.languageId=t,this.notebookUri=i,this.notebookType=n}equals(e){var t,i;return this.notebookType===e.notebookType&&this.languageId===e.languageId&&this.uri.toString()===e.uri.toString()&&(null===(t=this.notebookUri)||void 0===t?void 0:t.toString())===(null===(i=e.notebookUri)||void 0===i?void 0:i.toString())}}class Hs{constructor(e){this._notebookInfoResolver=e,this._clock=0,this._entries=[],this._onDidChange=new s.Q5,this.onDidChange=this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,m.OF)((()=>{if(i){const e=this._entries.indexOf(i);e>=0&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}}))}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(const e of this._entries)e._score>0&&t.push(e.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,(e=>t.push(e.provider))),t}orderedGroups(e){const t=[];let i,n;return this._orderedForEach(e,(e=>{i&&n===e._score?i.push(e.provider):(n=e._score,i=[e.provider],t.push(i))})),t}_orderedForEach(e,t){this._updateScores(e);for(const e of this._entries)e._score>0&&t(e)}_updateScores(e){var t,i;const n=null===(t=this._notebookInfoResolver)||void 0===t?void 0:t.call(this,e.uri),o=n?new Us(e.uri,e.getLanguageId(),n.uri,n.type):new Us(e.uri,e.getLanguageId(),void 0,void 0);if(!(null===(i=this._lastCandidate)||void 0===i?void 0:i.equals(o))){this._lastCandidate=o;for(const t of this._entries)if(t._score=zs(t.selector,o.uri,o.languageId,(0,w.pt)(e),o.notebookUri,o.notebookType),Bs(t.selector)&&t._score>0){for(const e of this._entries)e._score=0;t._score=1e3;break}this._entries.sort(Hs._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}(0,ft.z)(Ce.p,class{constructor(){this.referenceProvider=new Hs(this._score.bind(this)),this.renameProvider=new Hs(this._score.bind(this)),this.codeActionProvider=new Hs(this._score.bind(this)),this.definitionProvider=new Hs(this._score.bind(this)),this.typeDefinitionProvider=new Hs(this._score.bind(this)),this.declarationProvider=new Hs(this._score.bind(this)),this.implementationProvider=new Hs(this._score.bind(this)),this.documentSymbolProvider=new Hs(this._score.bind(this)),this.inlayHintsProvider=new Hs(this._score.bind(this)),this.colorProvider=new Hs(this._score.bind(this)),this.codeLensProvider=new Hs(this._score.bind(this)),this.documentFormattingEditProvider=new Hs(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Hs(this._score.bind(this)),this.onTypeFormattingEditProvider=new Hs(this._score.bind(this)),this.signatureHelpProvider=new Hs(this._score.bind(this)),this.hoverProvider=new Hs(this._score.bind(this)),this.documentHighlightProvider=new Hs(this._score.bind(this)),this.selectionRangeProvider=new Hs(this._score.bind(this)),this.foldingRangeProvider=new Hs(this._score.bind(this)),this.linkProvider=new Hs(this._score.bind(this)),this.inlineCompletionsProvider=new Hs(this._score.bind(this)),this.completionProvider=new Hs(this._score.bind(this)),this.linkedEditingRangeProvider=new Hs(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Hs(this._score.bind(this)),this.documentSemanticTokensProvider=new Hs(this._score.bind(this)),this.documentOnDropEditProvider=new Hs(this._score.bind(this)),this.documentPasteEditProvider=new Hs(this._score.bind(this))}_score(e){var t;return null===(t=this._notebookTypeResolver)||void 0===t?void 0:t.call(this,e)}},!0);class Gs extends Jt{constructor(e={}){const t=ln.B.as(an.IP.Configuration).getConfigurationProperties(),i=Object.keys(t),n=Object.create(null),o=[];for(const i in t){const o=e[i],s=void 0!==o?o:t[i].default;(0,He.KV)(n,i,s,(e=>console.error(`Conflict in default settings: ${e}`)))}for(const e of Object.keys(n))an.eU.test(e)&&o.push({identifiers:(0,an.ny)(e),keys:Object.keys(n[e]),contents:(0,He.Od)(n[e],(e=>console.error(`Conflict in default settings file: ${e}`)))});super(n,i,o)}}var js=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},Ks=function(e,t){return function(i,n){t(i,n,e)}},$s=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class qs{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new s.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Ys=class{constructor(e){this.modelService=e}createModelReference(e){const t=this.modelService.getModel(e);return t?Promise.resolve(new m.Jz(new qs(t))):Promise.reject(new Error("Model not found"))}};Ys=js([Ks(0,x.q)],Ys);class Qs{show(){return Qs.NULL_PROGRESS_RUNNER}showWhile(e,t){return $s(this,void 0,void 0,(function*(){yield e}))}}Qs.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Zs{info(e){return this.notify({severity:Lt.Z.Info,message:e})}warn(e){return this.notify({severity:Lt.Z.Warning,message:e})}error(e){return this.notify({severity:Lt.Z.Error,message:e})}notify(e){switch(e.severity){case Lt.Z.Error:console.error(e.message);break;case Lt.Z.Warning:console.warn(e.message);break;default:console.log(e.message)}return Zs.NO_OP}status(e,t){return m.JT.None}}Zs.NO_OP=new Dt.EO;let Js=class{constructor(e){this._onWillExecuteCommand=new s.Q5,this._onDidExecuteCommand=new s.Q5,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const i=Yt.P0.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const n=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(n)}catch(e){return Promise.reject(e)}}};Js=js([Ks(0,bt.TG)],Js);let Xs=class extends ii{constructor(e,t,i,n,o,s){super(e,t,i,n,o),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const r=e=>{const t=new m.SL;t.add(ct.nm(e,ct.tw.KEY_DOWN,(e=>{const t=new Ht.y(e);this._dispatch(t,t.target)&&(t.preventDefault(),t.stopPropagation())}))),t.add(ct.nm(e,ct.tw.KEY_UP,(e=>{const t=new Ht.y(e);this._singleModifierDispatch(t,t.target)&&t.preventDefault()}))),this._domNodeListeners.push(new er(e,t))},a=e=>{for(let t=0;t<this._domNodeListeners.length;t++){const i=this._domNodeListeners[t];i.domNode===e&&(this._domNodeListeners.splice(t,1),i.dispose())}},l=e=>{e.getOption(56)||r(e.getContainerDomNode())};this._register(s.onCodeEditorAdd(l)),this._register(s.onCodeEditorRemove((e=>{e.getOption(56)||a(e.getContainerDomNode())}))),s.listCodeEditors().forEach(l);const d=e=>{r(e.getContainerDomNode())};this._register(s.onDiffEditorAdd(d)),this._register(s.onDiffEditorRemove((e=>{a(e.getContainerDomNode())}))),s.listDiffEditors().forEach(d)}addDynamicKeybinding(e,t,i,n){return(0,m.F8)(Yt.P0.registerCommand(e,i),this.addDynamicKeybindings([{keybinding:t,command:e,when:n}]))}addDynamicKeybindings(e){const t=e.map((e=>{var t,i;const n=(0,Gt.gm)(e.keybinding,N.OS);return{keybinding:null!==(t=null==n?void 0:n.parts)&&void 0!==t?t:null,command:null!==(i=e.command)&&void 0!==i?i:null,commandArgs:e.commandArgs,when:e.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}}));return this._dynamicKeybindings=this._dynamicKeybindings.concat(t),this.updateResolver(),(0,m.OF)((()=>{for(let e=0;e<this._dynamicKeybindings.length;e++)if(this._dynamicKeybindings[e]===t[0])return this._dynamicKeybindings.splice(e,t.length),void this.updateResolver()}))}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(li.W.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new si(e,t,(e=>this._log(e)))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){const i=[];let n=0;for(const o of e){const e=o.when||void 0,s=o.keybinding;if(s){const r=gi.resolveUserBinding(s,N.OS);for(const s of r)i[n++]=new di(s,o.command,o.commandArgs,e,t,null,!1)}else i[n++]=new di(void 0,o.command,o.commandArgs,e,t,null,!1)}return i}resolveKeyboardEvent(e){const t=new Gt.QC(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new gi(t,N.OS)}};Xs=js([Ks(0,mt.i6),Ks(1,Yt.Hy),Ks(2,vi.b),Ks(3,Dt.lT),Ks(4,be.VZ),Ks(5,_.$)],Xs);class er extends m.JT{constructor(e,t){super(),this.domNode=e,this._register(t)}}function tr(e){return e&&"object"==typeof e&&(!e.overrideIdentifier||"string"==typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof a.o)}class ir{constructor(){this._onDidChangeConfiguration=new s.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new Xt(new Gs,new Jt,new Jt,new Jt)}getValue(e,t){const i="string"==typeof e?e:void 0,n=tr(e)?e:tr(t)?t:{};return this._configuration.getValue(i,n,void 0)}updateValues(e){const t={data:this._configuration.toData()},i=[];for(const t of e){const[e,n]=t;this.getValue(e)!==n&&(this._configuration.updateValue(e,n),i.push(e))}if(i.length>0){const e=new ei({keys:i,overrides:[]},t,this._configuration);e.source=8,e.sourceConfig=null,this._onDidChangeConfiguration.fire(e)}return Promise.resolve()}updateValue(e,t,i,n){return this.updateValues([[e,t]])}inspect(e,t={}){return this._configuration.inspect(e,t,void 0)}}let nr=class{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new s.Q5,this.configurationService.onDidChangeConfiguration((e=>{this._onDidChangeConfiguration.fire({affectedKeys:e.affectedKeys,affectsConfiguration:(t,i)=>e.affectsConfiguration(i)})}))}getValue(e,t,i){const n=l.L.isIPosition(t)&&t?"string"==typeof i?i:void 0:"string"==typeof t?t:void 0;return void 0===n?this.configurationService.getValue():this.configurationService.getValue(n)}};nr=js([Ks(0,He.Ui)],nr);let or=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&"string"==typeof i&&"auto"!==i?i:N.IJ||N.dz?"\n":"\r\n"}};or=js([Ks(0,He.Ui)],or);class sr{constructor(){const e=a.o.from({scheme:sr.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new _i.md({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(e){return e&&e.scheme===sr.SCHEME?this.workspace.folders[0]:null}}function rr(e,t,i){if(!t)return;if(!(e instanceof ir))return;const n=[];Object.keys(t).forEach((e=>{(0,Kt.ei)(e)&&n.push([`editor.${e}`,t[e]]),i&&(0,Kt.Pe)(e)&&n.push([`diffEditor.${e}`,t[e]])})),n.length>0&&e.updateValues(n)}sr.SCHEME="inmemory";let ar=class{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return $s(this,void 0,void 0,(function*(){const t=new Map;for(const i of e){if(!(i instanceof jt.Gl))throw new Error("bad edit - only text edits are supported");const e=this._modelService.getModel(i.resource);if(!e)throw new Error("bad edit - model not found");if("number"==typeof i.versionId&&e.getVersionId()!==i.versionId)throw new Error("bad state - model changed in the meantime");let n=t.get(e);n||(n=[],t.set(e,n)),n.push($t.h.replaceMove(d.e.lift(i.textEdit.range),i.textEdit.text))}let i=0,n=0;for(const[e,o]of t)e.pushStackElement(),e.pushEditOperations([],o,(()=>[])),e.pushStackElement(),n+=1,i+=o.length;return{ariaSummary:f.WU(bi.iN.bulkEditServiceSummary,i,n)}}))}};ar=js([Ks(0,x.q)],ar);let lr=class extends Di{constructor(e,t){super(e),this._codeEditorService=t}showContextView(e,t,i){if(!t){const e=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();e&&(t=e.getContainerDomNode())}return super.showContextView(e,t,i)}};lr=js([Ks(0,Ct),Ks(1,_.$)],lr);class dr extends be.$V{constructor(){super(new be.kw)}}let cr=class extends Pn{constructor(e,t,i,n,o){super(e,t,i,n,o),this.configure({blockMouse:!1})}};var hr;cr=js([Ks(0,vi.b),Ks(1,Dt.lT),Ks(2,wi.u),Ks(3,oi.d),Ks(4,gt.XE)],cr),(0,ft.z)(He.Ui,ir),(0,ft.z)(ve.V,nr),(0,ft.z)(ve.y,or),(0,ft.z)(_i.ec,sr),(0,ft.z)(mi.e,class{getUriLabel(e,t){return"file"===e.scheme?e.fsPath:e.path}getUriBasenameLabel(e){return(0,Ci.EZ)(e)}}),(0,ft.z)(vi.b,class{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}}),(0,ft.z)(It.S,class{confirm(e){return this.doConfirm(e).then((e=>({confirmed:e,checkboxChecked:!1})))}doConfirm(e){let t=e.message;return e.detail&&(t=t+"\n\n"+e.detail),Promise.resolve(window.confirm(t))}show(e,t,i,n){return Promise.resolve({choice:0})}}),(0,ft.z)(Dt.lT,Zs),(0,ft.z)(jn.lT,Ws),(0,ft.z)(L.O,class extends gn{constructor(){super()}}),(0,ft.z)(ns.Z,is.nI),(0,ft.z)(be.VZ,dr),(0,ft.z)(x.q,Jn.b$),(0,ft.z)(Zn.i,Qn),(0,ft.z)(mt.i6,Ds),(0,ft.z)(fi.R9,class{withProgress(e,t,i){return t({report:()=>{}})}}),(0,ft.z)(fi.ek,Qs),(0,ft.z)(as.Uy,as.vm),(0,ft.z)(dt.p,ke),(0,ft.z)(jt.vu,ar),(0,ft.z)(yi.Y,class{constructor(){this._neverEmitter=new s.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}),(0,ft.z)(qt.S,Ys),(0,ft.z)(eo.F,ss),(0,ft.z)(Uo.Lw,Uo.XN),(0,ft.z)(Yt.Hy,Js),(0,ft.z)(oi.d,Xs),(0,ft.z)(jo.eJ,Xo),(0,ft.z)(wi.u,lr),(0,ft.z)(Fn.v4,Gn),(0,ft.z)(vs.p,fs),(0,ft.z)(wi.i,cr),(0,ft.z)(rs.co,cs),function(e){const t=new Ms.y;for(const[e,i]of(0,ft.d)())t.set(e,i);const i=new Ps(t,!0);t.set(bt.TG,i),e.get=function(e){const n=t.get(e);if(!n)throw new Error("Missing service "+e);return n instanceof Es.M?i.invokeFunction((t=>t.get(e))):n};let n=!1;e.initialize=function(e){if(n)return i;n=!0;for(const[e,i]of(0,ft.d)())t.get(e)||t.set(e,i);for(const i in e)if(e.hasOwnProperty(i)){const n=(0,bt.yh)(i);t.get(n)instanceof Es.M&&t.set(n,e[i])}return i}}(hr||(hr={}));var ur=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},gr=function(e,t){return function(i,n){t(i,n,e)}};let pr=0,mr=!1,fr=class extends rt.Gm{constructor(e,t,i,n,o,s,r,a,l,d,c,h){const u=Object.assign({},t);u.ariaLabel=u.ariaLabel||bi.B8.editorViewAccessibleLabel,u.ariaLabel=u.ariaLabel+";"+bi.B8.accessibilityHelpMessage,super(e,u,{},i,n,o,s,a,l,d,c,h),this._standaloneKeybindingService=r instanceof Xs?r:null,function(e){if(!e){if(mr)return;mr=!0}st.wW(e||document.body)}(u.ariaContainerElement)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const n="DYNAMIC_"+ ++pr,o=mt.Ao.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(n,e,t,o),n}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),m.JT.None;const t=e.id,i=e.label,n=mt.Ao.and(mt.Ao.equals("editorId",this.getId()),mt.Ao.deserialize(e.precondition)),o=e.keybindings,s=mt.Ao.and(n,mt.Ao.deserialize(e.keybindingContext)),r=e.contextMenuGroupId||null,a=e.contextMenuOrder||0,l=(t,...i)=>Promise.resolve(e.run(this,...i)),d=new m.SL,c=this.getId()+":"+t;if(d.add(Yt.P0.registerCommand(c,l)),r){const e={command:{id:c,title:i},when:n,group:r,order:a};d.add(rs.BH.appendMenuItem(rs.eH.EditorContext,e))}if(Array.isArray(o))for(const e of o)d.add(this._standaloneKeybindingService.addDynamicKeybinding(c,e,l,s));const h=new lt.p(c,i,i,n,l,this._contextKeyService);return this._actions[t]=h,d.add((0,m.OF)((()=>{delete this._actions[t]}))),d}_triggerCommand(e,t){if(this._codeEditorService instanceof _t)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};fr=ur([gr(2,bt.TG),gr(3,_.$),gr(4,Yt.Hy),gr(5,mt.i6),gr(6,oi.d),gr(7,gt.XE),gr(8,Dt.lT),gr(9,eo.F),gr(10,S.c_),gr(11,Ce.p)],fr);let vr=class extends fr{constructor(e,t,i,n,o,s,r,a,l,d,c,h,u,g,p){const m=Object.assign({},t);rr(d,m,!1);const f=a.registerEditorContainer(e);"string"==typeof m.theme&&a.setTheme(m.theme),void 0!==m.autoDetectHighContrast&&a.setAutoDetectHighContrast(Boolean(m.autoDetectHighContrast));const v=m.model;let _;if(delete m.model,super(e,m,i,n,o,s,r,a,l,c,g,p),this._configurationService=d,this._standaloneThemeService=a,this._register(f),void 0===v){const e=u.getLanguageIdByMimeType(m.language)||m.language||en.bd;_=br(h,u,m.value||"",e,void 0),this._ownsModel=!0}else _=v,this._ownsModel=!1;if(this._attachModel(_),_){const e={oldModelUrl:null,newModelUrl:_.uri};this._onDidChangeModel.fire(e)}}dispose(){super.dispose()}updateOptions(e){rr(this._configurationService,e,!1),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};vr=ur([gr(2,bt.TG),gr(3,_.$),gr(4,Yt.Hy),gr(5,mt.i6),gr(6,oi.d),gr(7,ns.Z),gr(8,Dt.lT),gr(9,He.Ui),gr(10,eo.F),gr(11,x.q),gr(12,L.O),gr(13,S.c_),gr(14,Ce.p)],vr);let _r=class extends at.p{constructor(e,t,i,n,o,s,r,a,l,d,c,h){const u=Object.assign({},t);rr(l,u,!0);const g=r.registerEditorContainer(e);"string"==typeof u.theme&&r.setTheme(u.theme),void 0!==u.autoDetectHighContrast&&r.setAutoDetectHighContrast(Boolean(u.autoDetectHighContrast)),super(e,u,{},h,o,n,i,s,r,a,d,c),this._configurationService=l,this._standaloneThemeService=r,this._register(g)}dispose(){super.dispose()}updateOptions(e){rr(this._configurationService,e,!0),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(fr,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};function br(e,t,i,n,o){if(i=i||"",!n){const n=i.indexOf("\n");let s=i;return-1!==n&&(s=i.substring(0,n)),Cr(e,i,t.createByFilepathOrFirstLine(o||null,s),o)}return Cr(e,i,t.createById(n),o)}function Cr(e,t,i,n){return e.createModel(t,i,n)}function yr(e){const t=hr.get(oi.d);return t instanceof Xs?t.addDynamicKeybindings(e.map((e=>({keybinding:e.keybinding,command:e.command,commandArgs:e.commandArgs,when:mt.Ao.deserialize(e.when)})))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),m.JT.None)}function wr(e,t){return"boolean"==typeof e?e:t}function Sr(e,t){return"string"==typeof e?e:t}function kr(e,t=!1){t&&(e=e.map((function(e){return e.toLowerCase()})));const i=function(e){const t={};for(const i of e)t[i]=!0;return t}(e);return t?function(e){return void 0!==i[e.toLowerCase()]&&i.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==i[e]&&i.hasOwnProperty(e)}}function Lr(e,t){t=t.replace(/@@/g,"");let i,n=0;do{i=!1,t=t.replace(/@(\w+)/g,(function(n,o){i=!0;let s="";if("string"==typeof e[o])s=e[o];else{if(!(e[o]&&e[o]instanceof RegExp))throw void 0===e[o]?ze(e,"language definition does not contain attribute '"+o+"', used at: "+t):ze(e,"attribute reference '"+o+"' must be a string, used at: "+t);s=e[o].source}return Ve(s)?"":"(?:"+s+")"})),n++}while(i&&n<5);t=t.replace(/\x01/g,"@");const o=(e.ignoreCase?"i":"")+(e.unicode?"u":"");return new RegExp(t,o)}function xr(e,t,i,n){let o=-1,s=i,r=i.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);r&&(r[3]&&(o=parseInt(r[3]),r[2]&&(o+=100)),s=r[4]);let a,l="~",d=s;if(s&&0!==s.length?/^\w*$/.test(d)?l="==":(r=s.match(/^(@|!@|~|!~|==|!=)(.*)$/),r&&(l=r[1],d=r[2])):(l="!=",d=""),"~"!==l&&"!~"!==l||!/^(\w|\|)*$/.test(d))if("@"===l||"!@"===l){const i=e[d];if(!i)throw ze(e,"the @ match target '"+d+"' is not defined, in rule: "+t);if(!function(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;for(const e of t)if("string"!=typeof e)return!1;return!0}(0,i))throw ze(e,"the @ match target '"+d+"' must be an array of strings, in rule: "+t);const n=kr(i,e.ignoreCase);a=function(e){return"@"===l?n(e):!n(e)}}else if("~"===l||"!~"===l)if(d.indexOf("$")<0){const t=Lr(e,"^"+d+"$");a=function(e){return"~"===l?t.test(e):!t.test(e)}}else a=function(t,i,n,o){return Lr(e,"^"+Be(e,d,i,n,o)+"$").test(t)};else if(d.indexOf("$")<0){const t=Fe(e,d);a=function(e){return"=="===l?e===t:e!==t}}else{const t=Fe(e,d);a=function(i,n,o,s,r){const a=Be(e,t,n,o,s);return"=="===l?i===a:i!==a}}else{const t=kr(d.split("|"),e.ignoreCase);a=function(e){return"~"===l?t(e):!t(e)}}return-1===o?{name:i,value:n,test:function(e,t,i,n){return a(e,e,t,i,n)}}:{name:i,value:n,test:function(e,t,i,n){const s=function(e,t,i,n){if(n<0)return e;if(n<t.length)return t[n];if(n>=100){n-=100;const e=i.split(".");if(e.unshift(i),n<e.length)return e[n]}return null}(e,t,i,o);return a(s||"",e,t,i,n)}}}function Ir(e,t,i){if(i){if("string"==typeof i)return i;if(i.token||""===i.token){if("string"!=typeof i.token)throw ze(e,"a 'token' attribute must be of type string, in rule: "+t);{const n={token:i.token};if(i.token.indexOf("$")>=0&&(n.tokenSubst=!0),"string"==typeof i.bracket)if("@open"===i.bracket)n.bracket=1;else{if("@close"!==i.bracket)throw ze(e,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);n.bracket=-1}if(i.next){if("string"!=typeof i.next)throw ze(e,"the next state must be a string value in rule: "+t);{let o=i.next;if(!/^(@pop|@push|@popall)$/.test(o)&&("@"===o[0]&&(o=o.substr(1)),o.indexOf("$")<0&&!function(e,t){let i=t;for(;i&&i.length>0;){if(e.stateNames[i])return!0;const t=i.lastIndexOf(".");i=t<0?null:i.substr(0,t)}return!1}(e,Be(e,o,"",[],""))))throw ze(e,"the next state '"+i.next+"' is not defined in rule: "+t);n.next=o}}return"number"==typeof i.goBack&&(n.goBack=i.goBack),"string"==typeof i.switchTo&&(n.switchTo=i.switchTo),"string"==typeof i.log&&(n.log=i.log),"string"==typeof i.nextEmbedded&&(n.nextEmbedded=i.nextEmbedded,e.usesEmbedded=!0),n}}if(Array.isArray(i)){const n=[];for(let o=0,s=i.length;o<s;o++)n[o]=Ir(e,t,i[o]);return{group:n}}if(i.cases){const n=[];for(const o in i.cases)if(i.cases.hasOwnProperty(o)){const s=Ir(e,t,i.cases[o]);"@default"===o||"@"===o||""===o?n.push({test:void 0,value:s,name:o}):"@eos"===o?n.push({test:function(e,t,i,n){return n},value:s,name:o}):n.push(xr(e,t,o,s))}const o=e.defaultToken;return{test:function(e,t,i,s){for(const o of n)if(!o.test||o.test(e,t,i,s))return o.value;return o}}}throw ze(e,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}return{token:""}}_r=ur([gr(2,bt.TG),gr(3,mt.i6),gr(4,dt.p),gr(5,_.$),gr(6,ns.Z),gr(7,Dt.lT),gr(8,He.Ui),gr(9,wi.i),gr(10,fi.ek),gr(11,vs.p)],_r);class Dr{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if("string"==typeof t)i=t;else{if(!(t instanceof RegExp))throw ze(e,"rules must start with a match string or regular expression: "+this.name);i=t.source}this.matchOnlyAtLineStart=i.length>0&&"^"===i[0],this.name=this.name+": "+i,this.regex=Lr(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=Ir(e,this.name,t)}}function Nr(e,t){if(!t||"object"!=typeof t)throw new Error("Monarch: expecting a language definition object");const i={};i.languageId=e,i.includeLF=wr(t.includeLF,!1),i.noThrow=!1,i.maxStack=100,i.start="string"==typeof t.start?t.start:null,i.ignoreCase=wr(t.ignoreCase,!1),i.unicode=wr(t.unicode,!1),i.tokenPostfix=Sr(t.tokenPostfix,"."+i.languageId),i.defaultToken=Sr(t.defaultToken,"source"),i.usesEmbedded=!1;const n=t;function o(e,s,r){for(const a of r){let r=a.include;if(r){if("string"!=typeof r)throw ze(i,"an 'include' attribute must be a string at: "+e);if("@"===r[0]&&(r=r.substr(1)),!t.tokenizer[r])throw ze(i,"include target '"+r+"' is not defined at: "+e);o(e+"."+r,s,t.tokenizer[r])}else{const t=new Dr(e);if(Array.isArray(a)&&a.length>=1&&a.length<=3)if(t.setRegex(n,a[0]),a.length>=3)if("string"==typeof a[1])t.setAction(n,{token:a[1],next:a[2]});else{if("object"!=typeof a[1])throw ze(i,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+e);{const e=a[1];e.next=a[2],t.setAction(n,e)}}else t.setAction(n,a[1]);else{if(!a.regex)throw ze(i,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+e);a.name&&"string"==typeof a.name&&(t.name=a.name),a.matchOnlyAtStart&&(t.matchOnlyAtLineStart=wr(a.matchOnlyAtLineStart,!1)),t.setRegex(n,a.regex),t.setAction(n,a.action)}s.push(t)}}}if(n.languageId=e,n.includeLF=i.includeLF,n.ignoreCase=i.ignoreCase,n.unicode=i.unicode,n.noThrow=i.noThrow,n.usesEmbedded=i.usesEmbedded,n.stateNames=t.tokenizer,n.defaultToken=i.defaultToken,!t.tokenizer||"object"!=typeof t.tokenizer)throw ze(i,"a language definition must define the 'tokenizer' attribute as an object");i.tokenizer=[];for(const e in t.tokenizer)if(t.tokenizer.hasOwnProperty(e)){i.start||(i.start=e);const n=t.tokenizer[e];i.tokenizer[e]=new Array,o("tokenizer."+e,i.tokenizer[e],n)}if(i.usesEmbedded=n.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw ze(i,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const s=[];for(const e of t.brackets){let t=e;if(t&&Array.isArray(t)&&3===t.length&&(t={token:t[2],open:t[0],close:t[1]}),t.open===t.close)throw ze(i,"open and close brackets in a 'brackets' attribute must be different: "+t.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof t.open||"string"!=typeof t.token||"string"!=typeof t.close)throw ze(i,"every element in the 'brackets' array must be a '{open,close,token}' object or array");s.push({token:t.token+i.tokenPostfix,open:Fe(i,t.open),close:Fe(i,t.close)})}return i.brackets=s,i.noThrow=!0,i}class Er{constructor(e,t){this._languageId=e,this._actual=t}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i){if("function"==typeof this._actual.tokenize)return Ar.adaptTokenize(this._languageId,this._actual,e,i);throw new Error("Not supported!")}tokenizeEncoded(e,t,i){const n=this._actual.tokenizeEncoded(e,i);return new h.DI(n.tokens,n.endState)}}class Ar{constructor(e,t,i,n){this._languageId=e,this._actual=t,this._languageService=i,this._standaloneThemeService=n}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t){const i=[];let n=0;for(let o=0,s=e.length;o<s;o++){const s=e[o];let r=s.startIndex;0===o?r=0:r<n&&(r=n),i[o]=new h.WU(r,s.scopes,t),n=r}return i}static adaptTokenize(e,t,i,n){const o=t.tokenize(i,n),s=Ar._toClassicTokens(o.tokens,e);let r;return r=o.endState.equals(n)?n:o.endState,new h.hG(s,r)}tokenize(e,t,i){return Ar.adaptTokenize(this._languageId,this._actual,e,i)}_toBinaryTokens(e,t){const i=e.encodeLanguageId(this._languageId),n=this._standaloneThemeService.getColorTheme().tokenTheme,o=[];let s=0,r=0;for(let e=0,a=t.length;e<a;e++){const a=t[e],l=n.match(i,a.scopes);if(s>0&&o[s-1]===l)continue;let d=a.startIndex;0===e?d=0:d<r&&(d=r),o[s++]=d,o[s++]=l,r=d}const a=new Uint32Array(s);for(let e=0;e<s;e++)a[e]=o[e];return a}tokenizeEncoded(e,t,i){const n=this._actual.tokenize(e,i),o=this._toBinaryTokens(this._languageService.languageIdCodec,n.tokens);let s;return s=n.endState.equals(i)?i:n.endState,new h.DI(o,s)}}function Tr(e){return e&&"function"==typeof e.then}function Mr(e,t){return function(e){return"tokenizeEncoded"in e}(t)?new Er(e,t):new Ar(e,t,hr.get(L.O),hr.get(ns.Z))}function Rr(e,t){const i={createTokenizationSupport:()=>{return i=this,n=void 0,s=function*(){const i=yield Promise.resolve(t.create());return i?"function"==typeof i.getInitialState?Mr(e,i):new Ze(hr.get(L.O),hr.get(ns.Z),e,Nr(e,i),hr.get(He.Ui)):null},new((o=void 0)||(o=Promise))((function(e,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(r,a)}l((s=s.apply(i,n||[])).next())}));var i,n,o,s}};return h.RW.registerFactory(e,i)}var Pr,Or=i(8823);n.BH.wrappingIndent.defaultValue=0,n.BH.glyphMargin.defaultValue=!1,n.BH.autoIndent.defaultValue=3,n.BH.overviewRulerLanes.defaultValue=2,Or.xC.setFormatterSelector(((e,t,i)=>Promise.resolve(e[0])));const Vr=p();Vr.editor={create:function(e,t,i){return hr.initialize(i||{}).createInstance(vr,e,t)},getEditors:function(){return hr.get(_.$).listCodeEditors()},getDiffEditors:function(){return hr.get(_.$).listDiffEditors()},onDidCreateEditor:function(e){return hr.get(_.$).onCodeEditorAdd((t=>{e(t)}))},onDidCreateDiffEditor:function(e){return hr.get(_.$).onDiffEditorAdd((t=>{e(t)}))},createDiffEditor:function(e,t,i){return hr.initialize(i||{}).createInstance(_r,e,t)},createDiffNavigator:function(e,t){return new b.F(e,t)},addCommand:function(e){if("string"!=typeof e.id||"function"!=typeof e.run)throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return Yt.P0.registerCommand(e.id,e.run)},addEditorAction:function(e){if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const t=mt.Ao.deserialize(e.precondition),i=new m.SL;if(i.add(Yt.P0.registerCommand(e.id,((i,...n)=>Xn._l.runEditorCommand(i,n,t,((t,i,n)=>Promise.resolve(e.run(i,...n))))))),e.contextMenuGroupId){const n={command:{id:e.id,title:e.label},when:t,group:e.contextMenuGroupId,order:e.contextMenuOrder||0};i.add(rs.BH.appendMenuItem(rs.eH.EditorContext,n))}if(Array.isArray(e.keybindings)){const n=hr.get(oi.d);if(n instanceof Xs){const o=mt.Ao.and(t,mt.Ao.deserialize(e.keybindingContext));i.add(n.addDynamicKeybindings(e.keybindings.map((t=>({keybinding:t,command:e.id,when:o})))))}else console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService")}return i},addKeybindingRule:function(e){return yr([e])},addKeybindingRules:yr,createModel:function(e,t,i){const n=hr.get(L.O),o=n.getLanguageIdByMimeType(t)||t;return br(hr.get(x.q),n,e,o,i)},setModelLanguage:function(e,t){const i=hr.get(L.O);hr.get(x.q).setMode(e,i.createById(t))},setModelMarkers:function(e,t,i){e&&hr.get(jn.lT).changeOne(t,e.uri,i)},getModelMarkers:function(e){return hr.get(jn.lT).read(e)},removeAllMarkers:function(e){hr.get(jn.lT).changeAll(e,[])},onDidChangeMarkers:function(e){return hr.get(jn.lT).onMarkerChanged(e)},getModels:function(){return hr.get(x.q).getModels()},getModel:function(e){return hr.get(x.q).getModel(e)},onDidCreateModel:function(e){return hr.get(x.q).onModelAdded(e)},onWillDisposeModel:function(e){return hr.get(x.q).onModelRemoved(e)},onDidChangeModelLanguage:function(e){return hr.get(x.q).onModelLanguageChanged((t=>{e({model:t.model,oldLanguage:t.oldLanguageId})}))},createWebWorker:function(e){return function(e,t,i){return new Ae(e,t,i)}(hr.get(x.q),hr.get(S.c_),e)},colorizeElement:function(e,t){const i=hr.get(L.O),n=hr.get(ns.Z);return n.registerEditorContainer(e),nt.colorizeElement(n,i,e,t)},colorize:function(e,t,i){const n=hr.get(L.O);return hr.get(ns.Z).registerEditorContainer(document.body),nt.colorize(n,e,t,i)},colorizeModelLine:function(e,t,i=4){return hr.get(ns.Z).registerEditorContainer(document.body),nt.colorizeModelLine(e,t,i)},tokenize:function(e,t){h.RW.getOrCreate(t);const i=(s=t,h.RW.get(s)||{getInitialState:()=>k.TJ,tokenize:(e,t,i)=>(0,k.Ri)(s,i)}),n=(0,f.uq)(e),o=[];var s;let r=i.getInitialState();for(let e=0,t=n.length;e<t;e++){const t=n[e],s=i.tokenize(t,!0,r);o[e]=s.tokens,r=s.endState}return o},defineTheme:function(e,t){hr.get(ns.Z).defineTheme(e,t)},setTheme:function(e){hr.get(ns.Z).setTheme(e)},remeasureFonts:function(){v.g.clearAllFontInfos()},registerCommand:function(e,t){return Yt.P0.registerCommand({id:e,handler:t})},AccessibilitySupport:u.ao,ContentWidgetPositionPreference:u.r3,CursorChangeReason:u.Vi,DefaultEndOfLine:u._x,EditorAutoIndentStrategy:u.rf,EditorOption:u.wT,EndOfLinePreference:u.gm,EndOfLineSequence:u.jl,MinimapPosition:u.F5,MouseTargetType:u.MG,OverlayWidgetPositionPreference:u.E$,OverviewRulerLane:u.sh,RenderLineNumbersType:u.Lu,RenderMinimap:u.vQ,ScrollbarVisibility:u.g_,ScrollType:u.g4,TextEditorCursorBlinkingStyle:u.In,TextEditorCursorStyle:u.d2,TrackedRangeStickiness:u.OI,WrappingIndent:u.up,InjectedTextCursorStops:u.RM,PositionAffinity:u.py,ConfigurationChangedEvent:n.Bb,BareFontInfo:C.E4,FontInfo:C.pR,TextModelResolvedOptions:w.dJ,FindMatch:w.tk,ApplyUpdateResult:n.rk,EditorType:y.g,EditorOptions:n.BH},Vr.languages={register:function(e){en.dQ.registerLanguage(e)},getLanguages:function(){let e=[];return e=e.concat(en.dQ.getLanguages()),e},onLanguage:function(e,t){const i=hr.get(L.O).onDidEncounterLanguage((n=>{n===e&&(i.dispose(),t())}));return i},getEncodedLanguageId:function(e){return hr.get(L.O).languageIdCodec.encodeLanguageId(e)},setLanguageConfiguration:function(e,t){if(!hr.get(L.O).isRegisteredLanguageId(e))throw new Error(`Cannot set configuration for unknown language ${e}`);return hr.get(S.c_).register(e,t,100)},setColorMap:function(e){const t=hr.get(ns.Z);if(e){const i=[null];for(let t=1,n=e.length;t<n;t++)i[t]=io.Il.fromHex(e[t]);t.setColorMapOverride(i)}else t.setColorMapOverride(null)},registerTokensProviderFactory:Rr,setTokensProvider:function(e,t){if(!hr.get(L.O).isRegisteredLanguageId(e))throw new Error(`Cannot set tokens provider for unknown language ${e}`);return Tr(t)?Rr(e,{create:()=>t}):h.RW.register(e,Mr(e,t))},setMonarchTokensProvider:function(e,t){return Tr(t)?Rr(e,{create:()=>t}):h.RW.register(e,(t=>new Ze(hr.get(L.O),hr.get(ns.Z),e,Nr(e,t),hr.get(He.Ui)))(t))},registerReferenceProvider:function(e,t){return hr.get(Ce.p).referenceProvider.register(e,t)},registerRenameProvider:function(e,t){return hr.get(Ce.p).renameProvider.register(e,t)},registerCompletionItemProvider:function(e,t){return hr.get(Ce.p).completionProvider.register(e,t)},registerSignatureHelpProvider:function(e,t){return hr.get(Ce.p).signatureHelpProvider.register(e,t)},registerHoverProvider:function(e,t){return hr.get(Ce.p).hoverProvider.register(e,{provideHover:(e,i,n)=>{const o=e.getWordAtPosition(i);return Promise.resolve(t.provideHover(e,i,n)).then((e=>{if(e)return!e.range&&o&&(e.range=new d.e(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn)),e.range||(e.range=new d.e(i.lineNumber,i.column,i.lineNumber,i.column)),e}))}})},registerDocumentSymbolProvider:function(e,t){return hr.get(Ce.p).documentSymbolProvider.register(e,t)},registerDocumentHighlightProvider:function(e,t){return hr.get(Ce.p).documentHighlightProvider.register(e,t)},registerLinkedEditingRangeProvider:function(e,t){return hr.get(Ce.p).linkedEditingRangeProvider.register(e,t)},registerDefinitionProvider:function(e,t){return hr.get(Ce.p).definitionProvider.register(e,t)},registerImplementationProvider:function(e,t){return hr.get(Ce.p).implementationProvider.register(e,t)},registerTypeDefinitionProvider:function(e,t){return hr.get(Ce.p).typeDefinitionProvider.register(e,t)},registerCodeLensProvider:function(e,t){return hr.get(Ce.p).codeLensProvider.register(e,t)},registerCodeActionProvider:function(e,t,i){return hr.get(Ce.p).codeActionProvider.register(e,{providedCodeActionKinds:null==i?void 0:i.providedCodeActionKinds,documentation:null==i?void 0:i.documentation,provideCodeActions:(e,i,n,o)=>{const s=hr.get(jn.lT).read({resource:e.uri}).filter((e=>d.e.areIntersectingOrTouching(e,i)));return t.provideCodeActions(e,i,{markers:s,only:n.only,trigger:n.trigger},o)},resolveCodeAction:t.resolveCodeAction})},registerDocumentFormattingEditProvider:function(e,t){return hr.get(Ce.p).documentFormattingEditProvider.register(e,t)},registerDocumentRangeFormattingEditProvider:function(e,t){return hr.get(Ce.p).documentRangeFormattingEditProvider.register(e,t)},registerOnTypeFormattingEditProvider:function(e,t){return hr.get(Ce.p).onTypeFormattingEditProvider.register(e,t)},registerLinkProvider:function(e,t){return hr.get(Ce.p).linkProvider.register(e,t)},registerColorProvider:function(e,t){return hr.get(Ce.p).colorProvider.register(e,t)},registerFoldingRangeProvider:function(e,t){return hr.get(Ce.p).foldingRangeProvider.register(e,t)},registerDeclarationProvider:function(e,t){return hr.get(Ce.p).declarationProvider.register(e,t)},registerSelectionRangeProvider:function(e,t){return hr.get(Ce.p).selectionRangeProvider.register(e,t)},registerDocumentSemanticTokensProvider:function(e,t){return hr.get(Ce.p).documentSemanticTokensProvider.register(e,t)},registerDocumentRangeSemanticTokensProvider:function(e,t){return hr.get(Ce.p).documentRangeSemanticTokensProvider.register(e,t)},registerInlineCompletionsProvider:function(e,t){return hr.get(Ce.p).inlineCompletionsProvider.register(e,t)},registerInlayHintsProvider:function(e,t){return hr.get(Ce.p).inlayHintsProvider.register(e,t)},DocumentHighlightKind:u.MY,CompletionItemKind:u.cm,CompletionItemTag:u.we,CompletionItemInsertTextRule:u.a7,SymbolKind:u.cR,SymbolTag:u.r4,IndentAction:u.wU,CompletionTriggerKind:u.Ij,SignatureHelpTriggerKind:u.WW,InlayHintKind:u.gl,InlineCompletionTriggerKind:u.bw,CodeActionTriggerType:u.np,FoldingRangeKind:h.AD};const Fr=Vr.CancellationTokenSource,Wr=Vr.Emitter,zr=Vr.KeyCode,Br=Vr.KeyMod,Ur=Vr.Position,Hr=Vr.Range,Gr=Vr.Selection,jr=Vr.SelectionDirection,Kr=Vr.MarkerSeverity,$r=Vr.MarkerTag,qr=Vr.Uri,Yr=Vr.Token,Qr=Vr.editor,Zr=Vr.languages;((null===(Pr=N.li.MonacoEnvironment)||void 0===Pr?void 0:Pr.globalAPI)||"function"==typeof define&&i.amdO)&&(self.monaco=Vr),void 0!==self.require&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},4775:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CancellationTokenSource:()=>n.CancellationTokenSource,Emitter:()=>n.Emitter,KeyCode:()=>n.KeyCode,KeyMod:()=>n.KeyMod,MarkerSeverity:()=>n.MarkerSeverity,MarkerTag:()=>n.MarkerTag,Position:()=>n.Position,Range:()=>n.Range,Selection:()=>n.Selection,SelectionDirection:()=>n.SelectionDirection,Token:()=>n.Token,Uri:()=>n.Uri,__esModule:()=>n.__esModule,editor:()=>n.editor,languages:()=>n.languages});var n=i(7453);i(9126),i(9808),i(3598),i(2508),i(497),i(2094),i(6334),i(253),i(9540),i(8162),i(9556),i(6292),i(282),i(2429),i(4129),i(8765),i(3814),i(5067),i(7820),i(1589),i(927),i(6220),i(1526),i(4091),i(201),i(7476),i(6745),i(3763),i(6595),i(6831),i(6079),i(158),i(2665),i(8698),i(1944),i(7365),i(9796),i(5769),i(1714),i(6935),i(2893),i(7616),i(3335),i(6266),i(9723),i(5788),i(8746),i(4992),i(6563),i(7296),i(5098),i(3187),i(2026),i(6194),i(5566),i(6254),i(5734),i(191),i(3127),i(4483),i(840),i(7266),i(2375),i(6461),i(6628),i(185),i(7776),i(8118),i(6337),i(7530),i(5929),i(7918),i(6205),i(6837),i(8307),i(8203),i(1905),i(4199),i(605),i(8423),i(2323),i(9585),i(9317),i(6180),i(8143),i(5623),i(236),i(1387),i(4367),i(2102),i(5833),i(7885),i(5729),i(5125),i(4907),i(3365),i(3740),i(1895),i(6022),i(2482),i(1633),i(8370),i(4125),i(1097),i(6917),i(7813),i(628),i(2470),i(874),i(9427),i(4602),i(8782),i(6353),i(7615),i(5766),i(76),i(7253),i(7061),i(5313),i(2894),i(1984),i(102),i(8762),i(4804),i(8088),i(2614),i(4662),i(2954),i(9607),i(1271),i(943),i(7181),i(6709),i(3945),i(913),i(8609),i(9477),i(9646),i(7830),i(8944),i(3588),i(8766),i(8956),i(5048),i(5662)},9477:(e,t,i)=>{"use strict";i.r(t);var n=i(5321),o=i(8626),s=i(8764),r=i(5152),a=i(3794),l=i(5976),d=i(1432),c=i(7295),h=i(666),u=i(6830),g=i(9102),p=i(4662),m=i(8819),f=i(2065),v=i(1847),_=i(988),b=i(3910),C=i(7781),y=i(913),w=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},S=function(e,t){return function(i,n){t(i,n,e)}};const k=new m.uy("accessibilityHelpWidgetVisible",!1);let L=class e extends l.JT{constructor(e,t){super(),this._editor=e,this._widget=this._register(t.createInstance(x,this._editor))}static get(t){return t.getContribution(e.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};L.ID="editor.contrib.accessibilityHelpController",L=w([S(1,f.TG)],L);let x=class e extends a.${constructor(e,t,i,s){super(),this._contextKeyService=t,this._keybindingService=i,this._openerService=s,this._editor=e,this._isVisibleKey=k.bindTo(this._contextKeyService),this._domNode=(0,o.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,o.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange((()=>{this._isVisible&&this._layout()}))),this._register(n.mu(this._contentDomNode.domNode,"keydown",(e=>{if(this._isVisible&&(e.equals(2083)&&((0,r.Z9)(y.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),n.PO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),e.preventDefault(),e.stopPropagation()),e.equals(2086))){(0,r.Z9)(y.Oe.openingDocs);let t=this._editor.getRawOptions().accessibilityHelpUrl;void 0===t&&(t="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(h.o.parse(t)),e.preventDefault(),e.stopPropagation()}}))),this.onblur(this._contentDomNode.domNode,(()=>{this.hide()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return e.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(e,t,i){const n=this._keybindingService.lookupKeybinding(e);return n?c.WU(t,n.getAriaLabel()):c.WU(i,e)}_buildContent(){const e=this._editor.getOptions(),t=this._editor.getSelections();let i=0;if(t){const e=this._editor.getModel();e&&t.forEach((t=>{i+=e.getValueLengthInRange(t)}))}let n=function(e,t){return e&&0!==e.length?1===e.length?t?c.WU(y.Oe.singleSelectionRange,e[0].positionLineNumber,e[0].positionColumn,t):c.WU(y.Oe.singleSelection,e[0].positionLineNumber,e[0].positionColumn):t?c.WU(y.Oe.multiSelectionRange,e.length,t):e.length>0?c.WU(y.Oe.multiSelection,e.length):"":y.Oe.noSelection}(t,i);e.get(56)?e.get(83)?n+=y.Oe.readonlyDiffEditor:n+=y.Oe.editableDiffEditor:e.get(83)?n+=y.Oe.readonlyEditor:n+=y.Oe.editableEditor;const o=d.dz?y.Oe.changeConfigToOnMac:y.Oe.changeConfigToOnWinLinux;switch(e.get(2)){case 0:n+="\n\n - "+o;break;case 2:n+="\n\n - "+y.Oe.auto_on;break;case 1:n+="\n\n - "+y.Oe.auto_off,n+=" "+o}e.get(132)?n+="\n\n - "+this._descriptionForCommand(p.ToggleTabFocusModeAction.ID,y.Oe.tabFocusModeOnMsg,y.Oe.tabFocusModeOnMsgNoKb):n+="\n\n - "+this._descriptionForCommand(p.ToggleTabFocusModeAction.ID,y.Oe.tabFocusModeOffMsg,y.Oe.tabFocusModeOffMsgNoKb),n+="\n\n - "+(d.dz?y.Oe.openDocMac:y.Oe.openDocWinLinux),n+="\n\n"+y.Oe.outroMsg,this._contentDomNode.domNode.appendChild((0,s.BO)(n)),this._contentDomNode.domNode.setAttribute("aria-label",n)}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,n.PO(this._contentDomNode.domNode),this._editor.focus())}_layout(){const t=this._editor.getLayoutInfo(),i=Math.max(5,Math.min(e.WIDTH,t.width-40)),n=Math.max(5,Math.min(e.HEIGHT,t.height-40));this._domNode.setWidth(i),this._domNode.setHeight(n);const o=Math.round((t.height-n)/2);this._domNode.setTop(o);const s=Math.round((t.width-i)/2);this._domNode.setLeft(s)}};x.ID="editor.contrib.accessibilityHelpWidget",x.WIDTH=500,x.HEIGHT=300,x=w([S(1,m.i6),S(2,v.d),S(3,_.v4)],x);class I extends u.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:y.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(e,t){const i=L.get(t);i&&i.show()}}(0,u._K)(L.ID,L),(0,u.Qr)(I);const D=u._l.bindToContribution(L.get);(0,u.fK)(new D({id:"closeAccessibilityHelp",precondition:k,handler:e=>e.hide(),kbOpts:{weight:200,kbExpr:g.u.focus,primary:9,secondary:[1033]}})),(0,C.Ic)(((e,t)=>{const i=e.getColor(b.D0T);i&&t.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${i}; }`);const n=e.getColor(b.Hfx);n&&t.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${n}; }`);const o=e.getColor(b.rh);o&&t.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${o}; }`);const s=e.getColor(b.lRK);s&&t.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${s}; }`)}))},9646:(e,t,i)=>{"use strict";i.r(t),i.d(t,{IPadShowKeyboard:()=>a});var n=i(5321),o=i(5976),s=i(6830),r=i(1432);class a extends o.JT{constructor(e){super(),this.editor=e,this.widget=null,r.gn&&(this._register(e.onDidChangeConfiguration((()=>this.update()))),this.update())}update(){const e=!this.editor.getOption(83);!this.widget&&e?this.widget=new l(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}a.ID="editor.contrib.iPadShowKeyboard";class l extends o.JT{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(n.nm(this._domNode,"touchstart",(e=>{this.editor.focus()}))),this._register(n.nm(this._domNode,"focus",(e=>{this.editor.focus()}))),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return l.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}l.ID="editor.contrib.ShowKeyboardWidget",(0,s._K)(a.ID,a)},7830:(e,t,i)=>{"use strict";i.r(t);var n=i(5321),o=i(1264),s=i(5976),r=i(6830),a=i(6887),l=i(5797),d=i(276),c=i(2042),h=i(4156),u=i(3910),g=i(7781),p=i(913),m=i(2321),f=function(e,t){return function(i,n){t(i,n,e)}};let v=class e extends s.JT{constructor(e,t,i){super(),this._editor=e,this._languageService=i,this._widget=null,this._register(this._editor.onDidChangeModel((e=>this.stop()))),this._register(this._editor.onDidChangeModelLanguage((e=>this.stop()))),this._register(a.RW.onDidChange((e=>this.stop()))),this._register(this._editor.onKeyUp((e=>9===e.keyCode&&this.stop())))}static get(t){return t.getContribution(e.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new b(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};v.ID="editor.contrib.inspectTokens",v=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([f(1,h.Z),f(2,c.O)],v);class _ extends r.R6{constructor(){super({id:"editor.action.inspectTokens",label:p.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){const i=v.get(t);i&&i.launch()}}class b extends s.JT{constructor(e,t){super(),this.allowEditorOverflow=!0,this._editor=e,this._languageService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function(e,t){const i=a.RW.get(t);if(i)return i;const n=e.encodeLanguageId(t);return{getInitialState:()=>d.TJ,tokenize:(e,i,n)=>(0,d.Ri)(t,n),tokenizeEncoded:(e,t,i)=>(0,d.Dy)(n,i)}}(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition((e=>this._compute(this._editor.getPosition())))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return b._ID}_compute(e){const t=this._getTokensAtLine(e.lineNumber);let i=0;for(let n=t.tokens1.length-1;n>=0;n--){const o=t.tokens1[n];if(e.column-1>=o.offset){i=n;break}}let s=0;for(let i=t.tokens2.length>>>1;i>=0;i--)if(e.column-1>=t.tokens2[i<<1]){s=i;break}const r=this._model.getLineContent(e.lineNumber);let a="";if(i<t.tokens1.length){const e=t.tokens1[i].offset,n=i+1<t.tokens1.length?t.tokens1[i+1].offset:r.length;a=r.substring(e,n)}(0,n.mc)(this._domNode,(0,n.$)("h2.tm-token",void 0,function(e){let t="";for(let i=0,n=e.length;i<n;i++){const n=e.charCodeAt(i);switch(n){case 9:t+="";break;case 32:t+="";break;default:t+=String.fromCharCode(n)}}return t}(a),(0,n.$)("span.tm-token-length",void 0,`${a.length} ${1===a.length?"char":"chars"}`))),(0,n.R3)(this._domNode,(0,n.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const l=1+(s<<1)<t.tokens2.length?this._decodeMetadata(t.tokens2[1+(s<<1)]):null;(0,n.R3)(this._domNode,(0,n.$)("table.tm-metadata-table",void 0,(0,n.$)("tbody",void 0,(0,n.$)("tr",void 0,(0,n.$)("td.tm-metadata-key",void 0,"language"),(0,n.$)("td.tm-metadata-value",void 0,`${l?l.languageId:"-?-"}`)),(0,n.$)("tr",void 0,(0,n.$)("td.tm-metadata-key",void 0,"token type"),(0,n.$)("td.tm-metadata-value",void 0,`${l?this._tokenTypeToString(l.tokenType):"-?-"}`)),(0,n.$)("tr",void 0,(0,n.$)("td.tm-metadata-key",void 0,"font style"),(0,n.$)("td.tm-metadata-value",void 0,`${l?this._fontStyleToString(l.fontStyle):"-?-"}`)),(0,n.$)("tr",void 0,(0,n.$)("td.tm-metadata-key",void 0,"foreground"),(0,n.$)("td.tm-metadata-value",void 0,`${l?o.Il.Format.CSS.formatHex(l.foreground):"-?-"}`)),(0,n.$)("tr",void 0,(0,n.$)("td.tm-metadata-key",void 0,"background"),(0,n.$)("td.tm-metadata-value",void 0,`${l?o.Il.Format.CSS.formatHex(l.background):"-?-"}`))))),(0,n.R3)(this._domNode,(0,n.$)("hr.tokens-inspect-separator")),i<t.tokens1.length&&(0,n.R3)(this._domNode,(0,n.$)("span.tm-token-type",void 0,t.tokens1[i].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){const t=a.RW.getColorMap(),i=l.N.getLanguageId(e),n=l.N.getTokenType(e),o=l.N.getFontStyle(e),s=l.N.getForeground(e),r=l.N.getBackground(e);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(i),tokenType:n,fontStyle:o,foreground:t[s],background:t[r]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return 1&e&&(t+="italic "),2&e&&(t+="bold "),4&e&&(t+="underline "),8&e&&(t+="strikethrough "),0===t.length&&(t="---"),t}_getTokensAtLine(e){const t=this._getStateBeforeLine(e),i=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t),n=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(e),!0,t);return{startState:t,tokens1:i.tokens,tokens2:n.tokens,endState:i.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let i=1;i<e;i++)t=this._tokenizationSupport.tokenize(this._model.getLineContent(i),!0,t).endState;return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}b._ID="editor.contrib.inspectTokensWidget",(0,r._K)(v.ID,v),(0,r.Qr)(_),(0,g.Ic)(((e,t)=>{const i=e.getColor(u.CNo);if(i){const n=(0,m.c3)(e.type)?2:1;t.addRule(`.monaco-editor .tokens-inspect-widget { border: ${n}px solid ${i}; }`),t.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${i}; }`)}const n=e.getColor(u.yJx);n&&t.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${n}; }`);const o=e.getColor(u.Sbf);o&&t.addRule(`.monaco-editor .tokens-inspect-widget { color: ${o}; }`)}))},8956:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GotoLineAction:()=>G,StandaloneCommandsQuickAccessProvider:()=>H});var n=i(9872),o=i(725),s=i(913),r=i(1640),a=i(1212),l=i(9488),d=i(8401),c=i(3580);function h(e,t){return t&&(e.stack||e.stacktrace)?c.NC("stackTrace.format","{0}: {1}",g(e),u(e.stack)||u(e.stacktrace)):g(e)}function u(e){return Array.isArray(e)?e.join("\n"):e}function g(e){return"string"==typeof e.code&&"number"==typeof e.errno&&"string"==typeof e.syscall?c.NC("nodeExceptionMessage","A system error occurred ({0})",e.message):e.message||c.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function p(e=null,t=!1){if(!e)return c.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(e)){const i=l.kX(e),n=p(i[0],t);return i.length>1?c.NC("error.moreErrors","{0} ({1} errors in total)",n,i.length):n}if(d.HD(e))return e;if(e.detail){const i=e.detail;if(i.error)return h(i.error,t);if(i.exception)return h(i.exception,t)}return e.stack?h(e,t):e.message?e.message:c.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var m,f=i(7301),v=i(5392),_=i(5976),b=i(3702),C=i(4603),y=i(4565),w=i(3108),S=i(8820),k=i(2065),L=i(1847),x=i(5393),I=i(1050),D=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function N(e){const t=e;return Array.isArray(t.items)}!function(e){e[e.NO_ACTION=0]="NO_ACTION",e[e.CLOSE_PICKER=1]="CLOSE_PICKER",e[e.REFRESH_PICKER=2]="REFRESH_PICKER",e[e.REMOVE_ITEM=3]="REMOVE_ITEM"}(m||(m={}));class E extends _.JT{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t){var i;const n=new _.SL;let o;e.canAcceptInBackground=!!(null===(i=this.options)||void 0===i?void 0:i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const s=n.add(new _.XK),r=()=>D(this,void 0,void 0,(function*(){const i=s.value=new _.SL;null==o||o.dispose(!0),e.busy=!1,o=new I.A(t);const n=o.token,r=e.value.substr(this.prefix.length).trim(),a=this._getPicks(r,i,n),l=(t,i)=>{var n;let o,s;if(N(t)?(o=t.items,s=t.active):o=t,0===o.length){if(i)return!1;r.length>0&&(null===(n=this.options)||void 0===n?void 0:n.noResultsPick)&&(o=[this.options.noResultsPick])}return e.items=o,s&&(e.activeItems=[s]),!0};if(null===a);else if(function(e){const t=e;return!!t.picks&&t.additionalPicks instanceof Promise}(a)){let t=!1,i=!1;yield Promise.all([(()=>D(this,void 0,void 0,(function*(){yield(0,x.Vs)(E.FAST_PICKS_RACE_DELAY),n.isCancellationRequested||i||(t=l(a.picks,!0))})))(),(()=>D(this,void 0,void 0,(function*(){e.busy=!0;try{const o=yield a.additionalPicks;if(n.isCancellationRequested)return;let s,r,d,c;if(N(a.picks)?(s=a.picks.items,r=a.picks.active):s=a.picks,N(o)?(d=o.items,c=o.active):d=o,d.length>0||!t){let t;if(!r&&!c){const i=e.activeItems[0];i&&-1!==s.indexOf(i)&&(t=i)}l({items:[...s,...d],active:r||c||t})}}finally{n.isCancellationRequested||(e.busy=!1),i=!0}})))()])}else if(a instanceof Promise){e.busy=!0;try{const t=yield a;if(n.isCancellationRequested)return;l(t)}finally{n.isCancellationRequested||(e.busy=!1)}}else l(a)}));return n.add(e.onDidChangeValue((()=>r()))),r(),n.add(e.onDidAccept((t=>{const[i]=e.selectedItems;"function"==typeof(null==i?void 0:i.accept)&&(t.inBackground||e.hide(),i.accept(e.keyMods,t))}))),n.add(e.onDidTriggerItemButton((({button:i,item:n})=>D(this,void 0,void 0,(function*(){var o,s;if("function"==typeof n.trigger){const a=null!==(s=null===(o=n.buttons)||void 0===o?void 0:o.indexOf(i))&&void 0!==s?s:-1;if(a>=0){const i=n.trigger(a,e.keyMods),o="number"==typeof i?i:yield i;if(t.isCancellationRequested)return;switch(o){case m.NO_ACTION:break;case m.CLOSE_PICKER:e.hide();break;case m.REFRESH_PICKER:r();break;case m.REMOVE_ITEM:{const t=e.items.indexOf(n);if(-1!==t){const i=e.items.slice(),n=i.splice(t,1),o=e.activeItems.filter((e=>e!==n[0])),s=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=i,o&&(e.activeItems=o),e.keepScrollPosition=s}break}}}}}))))),n}}E.FAST_PICKS_RACE_DELAY=200;var A=i(6904),T=i(829),M=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},R=function(e,t){return function(i,n){t(i,n,e)}},P=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let O=class e extends E{constructor(t,i,n,o,s,r){super(e.PREFIX,t),this.instantiationService=i,this.keybindingService=n,this.commandService=o,this.telemetryService=s,this.dialogService=r,this.commandsHistory=this._register(this.instantiationService.createInstance(V)),this.options=t}_getPicks(t,i,n){return P(this,void 0,void 0,(function*(){const o=yield this.getCommandPicks(i,n);if(n.isCancellationRequested)return[];const s=[];for(const i of o){const n=(0,d.f6)(e.WORD_FILTER(t,i.label)),o=i.commandAlias?(0,d.f6)(e.WORD_FILTER(t,i.commandAlias)):void 0;n||o?(i.highlights={label:n,detail:this.options.showAlias?o:void 0},s.push(i)):t===i.commandId&&s.push(i)}const r=new Map;for(const e of s){const t=r.get(e.label);t?(e.description=e.commandId,t.description=t.commandId):r.set(e.label,e)}s.sort(((e,t)=>{const i=this.commandsHistory.peek(e.commandId),n=this.commandsHistory.peek(t.commandId);return i&&n?i>n?-1:1:i?-1:n?1:e.label.localeCompare(t.label)}));const a=[];let l=!1;for(let e=0;e<s.length;e++){const t=s[e],i=this.keybindingService.lookupKeybinding(t.commandId),n=i?(0,c.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",t.label,i.getAriaLabel()):t.label;0===e&&this.commandsHistory.peek(t.commandId)&&(a.push({type:"separator",label:(0,c.NC)("recentlyUsed","recently used")}),l=!0),0!==e&&l&&!this.commandsHistory.peek(t.commandId)&&(a.push({type:"separator",label:(0,c.NC)("morecCommands","other commands")}),l=!1),a.push(Object.assign(Object.assign({},t),{ariaLabel:n,detail:this.options.showAlias&&t.commandAlias!==t.label?t.commandAlias:void 0,keybinding:i,accept:()=>P(this,void 0,void 0,(function*(){this.commandsHistory.push(t.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.commandId,from:"quick open"});try{yield this.commandService.executeCommand(t.commandId)}catch(e){(0,f.n2)(e)||this.dialogService.show(C.Z.Error,(0,c.NC)("canNotRun","Command '{0}' resulted in an error ({1})",t.label,p(e)))}}))}))}return a}))}};O.PREFIX=">",O.WORD_FILTER=(0,v.or)(v.Ji,v.KZ,v.ir),O=M([R(1,k.TG),R(2,L.d),R(3,y.Hy),R(4,T.b),R(5,S.S)],O);let V=class e extends _.JT{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((()=>this.updateConfiguration())))}updateConfiguration(){this.configuredCommandsHistoryLength=e.getConfiguredCommandHistoryLength(this.configurationService),e.cache&&e.cache.limit!==this.configuredCommandsHistoryLength&&(e.cache.limit=this.configuredCommandsHistoryLength,e.saveState(this.storageService))}load(){const t=this.storageService.get(e.PREF_KEY_CACHE,0);let i;if(t)try{i=JSON.parse(t)}catch(e){}const n=e.cache=new b.z6(this.configuredCommandsHistoryLength,1);if(i){let e;e=i.usesLRU?i.entries:i.entries.sort(((e,t)=>e.value-t.value)),e.forEach((e=>n.set(e.key,e.value)))}e.counter=this.storageService.getNumber(e.PREF_KEY_COUNTER,0,e.counter)}push(t){e.cache&&(e.cache.set(t,e.counter++),e.saveState(this.storageService))}peek(t){var i;return null===(i=e.cache)||void 0===i?void 0:i.peek(t)}static saveState(t){if(!e.cache)return;const i={usesLRU:!0,entries:[]};e.cache.forEach(((e,t)=>i.entries.push({key:t,value:e}))),t.store(e.PREF_KEY_CACHE,JSON.stringify(i),0,0),t.store(e.PREF_KEY_COUNTER,e.counter,0,0)}static getConfiguredCommandHistoryLength(t){var i,n;const o=null===(n=null===(i=t.getValue().workbench)||void 0===i?void 0:i.commandPalette)||void 0===n?void 0:n.history;return"number"==typeof o?o:e.DEFAULT_COMMANDS_HISTORY_LENGTH}};V.DEFAULT_COMMANDS_HISTORY_LENGTH=50,V.PREF_KEY_CACHE="commandPalette.mru.cache",V.PREF_KEY_COUNTER="commandPalette.mru.counter",V.counter=1,V=M([R(0,A.Uy),R(1,w.Ui)],V);class F extends O{constructor(e,t,i,n,o,s){super(e,t,i,n,o,s)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const i of e.getSupportedActions())t.push({commandId:i.id,commandAlias:i.alias,label:(0,a.x$)(i.label)||i.id});return t}}var W=i(6830),z=i(9102),B=i(1157),U=function(e,t){return function(i,n){t(i,n,e)}};let H=class extends F{constructor(e,t,i,n,o,s){super({showAlias:!1},e,i,n,o,s),this.codeEditorService=t}get activeTextEditorControl(){return(0,d.f6)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return e=this,t=void 0,n=function*(){return this.getCodeEditorCommandPicks()},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}};H=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([U(0,k.TG),U(1,r.$),U(2,L.d),U(3,y.Hy),U(4,T.b),U(5,S.S)],H);class G extends W.R6{constructor(){super({id:G.ID,label:s.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:z.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(B.eJ).quickAccess.show(H.PREFIX)}}G.ID="editor.action.quickCommand",(0,W.Qr)(G),n.B.as(o.IP.Quickaccess).registerQuickAccessProvider({ctor:H,prefix:H.PREFIX,helpEntries:[{description:s.UX.quickCommandHelp,commandId:G.ID}]})},3588:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GotoLineAction:()=>C,StandaloneGotoLineQuickAccessProvider:()=>v});var n=i(5976),o=i(5520),s=i(3943),r=i(3580);class a extends s.X{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=(0,r.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,n.JT.None}provideWithTextEditor(e,t,i){const s=e.editor,r=new n.SL;r.add(t.onDidAccept((i=>{const[n]=t.selectedItems;if(n){if(!this.isValidLineNumber(s,n.lineNumber))return;this.gotoLocation(e,{range:this.toRange(n.lineNumber,n.column),keyMods:t.keyMods,preserveFocus:i.inBackground}),i.inBackground||t.hide()}})));const l=()=>{const e=this.parsePosition(s,t.value.trim().substr(a.PREFIX.length)),i=this.getPickLabel(s,e.lineNumber,e.column);if(t.items=[{lineNumber:e.lineNumber,column:e.column,label:i}],t.ariaLabel=i,!this.isValidLineNumber(s,e.lineNumber))return void this.clearDecorations(s);const n=this.toRange(e.lineNumber,e.column);s.revealRangeInCenter(n,0),this.addDecorations(s,n)};l(),r.add(t.onDidChangeValue((()=>l())));const d=(0,o.Pi)(s);return d&&2===d.getOptions().get(62).renderType&&(d.updateOptions({lineNumbers:"on"}),r.add((0,n.OF)((()=>d.updateOptions({lineNumbers:"relative"}))))),r}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const i=t.split(/,|:|#/).map((e=>parseInt(e,10))).filter((e=>!isNaN(e))),n=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:n+i[0],column:i[1]}}getPickLabel(e,t,i){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,i)?(0,r.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",t,i):(0,r.NC)("gotoLineLabel","Go to line {0}.",t);const n=e.getPosition()||{lineNumber:1,column:1},o=this.lineCount(e);return o>1?(0,r.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",n.lineNumber,n.column,o):(0,r.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",n.lineNumber,n.column)}isValidLineNumber(e,t){return!(!t||"number"!=typeof t)&&t>0&&t<=this.lineCount(e)}isValidColumn(e,t,i){if(!i||"number"!=typeof i)return!1;const n=this.getModel(e);if(!n)return!1;const o={lineNumber:t,column:i};return n.validatePosition(o).equals(o)}lineCount(e){var t,i;return null!==(i=null===(t=this.getModel(e))||void 0===t?void 0:t.getLineCount())&&void 0!==i?i:0}}a.PREFIX=":";var l=i(9872),d=i(725),c=i(1640),h=i(8401),u=i(913),g=i(4669),p=i(6830),m=i(9102),f=i(1157);let v=class extends a{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=g.ju.None}get activeTextEditorControl(){return(0,h.f6)(this.editorService.getFocusedCodeEditor())}};var _,b;v=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(_=0,b=c.$,function(e,t){b(e,t,_)})],v);class C extends p.R6{constructor(){super({id:C.ID,label:u.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:m.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(f.eJ).quickAccess.show(v.PREFIX)}}C.ID="editor.action.gotoLine",(0,p.Qr)(C),l.B.as(d.IP.Quickaccess).registerQuickAccessProvider({ctor:v,prefix:v.PREFIX,helpEntries:[{description:u.qq.gotoLineActionLabel,commandId:C.ID}]})},8766:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GotoSymbolAction:()=>U,StandaloneGotoSymbolQuickAccessProvider:()=>B}),i(8609),i(1713);var n=i(5393),o=i(1050),s=i(3046),r=i(5392),a=i(8721),l=i(1432),d=i(7295);const c=[void 0,[]];function h(e,t,i=0,n=0){const o=t;return o.values&&o.values.length>1?function(e,t,i,n){let o=0;const s=[];for(const r of t){const[t,a]=u(e,r,i,n);if("number"!=typeof t)return c;o+=t,s.push(...a)}return[o,g(s)]}(e,o.values,i,n):u(e,t,i,n)}function u(e,t,i,n){const o=(0,r.EW)(t.original,t.originalLowercase,i,e,e.toLowerCase(),n,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return o?[o[0],(0,r.mB)(o)]:c}function g(e){const t=e.sort(((e,t)=>e.start-t.start)),i=[];let n;for(const e of t)!n||(s=e,(o=n).end<s.start||s.end<o.start)?(n=e,i.push(e)):(n.start=Math.min(n.start,e.start),n.end=Math.max(n.end,e.end));var o,s;return i}function p(e){return e.startsWith('"')&&e.endsWith('"')}function m(e){"string"!=typeof e&&(e="");const t=e.toLowerCase(),{pathNormalized:i,normalized:n,normalizedLowercase:o}=f(e),s=i.indexOf(a.ir)>=0,r=p(e);let l;const d=e.split(" ");if(d.length>1)for(const e of d){const t=p(e),{pathNormalized:i,normalized:n,normalizedLowercase:o}=f(e);n&&(l||(l=[]),l.push({original:e,originalLowercase:e.toLowerCase(),pathNormalized:i,normalized:n,normalizedLowercase:o,expectContiguousMatch:t}))}return{original:e,originalLowercase:t,pathNormalized:i,normalized:n,normalizedLowercase:o,values:l,containsPathSeparator:s,expectContiguousMatch:r}}function f(e){let t;t=l.ED?e.replace(/\//g,a.ir):e.replace(/\\/g,a.ir);const i=(0,d.R1)(t).replace(/\s|"/g,"");return{pathNormalized:t,normalized:i,normalizedLowercase:i.toLowerCase()}}function v(e){return Array.isArray(e)?m(e.map((e=>e.original)).join(" ")):m(e.original)}Object.freeze({score:0});var _=i(5976),b=i(4314),C=i(6887),y=i(335),w=i(3943),S=i(3580),k=i(1922),L=i(9488),x=function(e,t){return function(i,n){t(i,n,e)}},I=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let D=class e extends w.X{constructor(e,t,i=Object.create(null)){super(i),this._languageFeaturesService=e,this._outlineModelService=t,this.options=i,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,(0,S.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),_.JT.None}provideWithTextEditor(e,t,i){const n=e.editor,o=this.getModel(n);return o?this._languageFeaturesService.documentSymbolProvider.has(o)?this.doProvideWithEditorSymbols(e,o,t,i):this.doProvideWithoutEditorSymbols(e,o,t,i):_.JT.None}doProvideWithoutEditorSymbols(e,t,i,n){const o=new _.SL;return this.provideLabelPick(i,(0,S.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(()=>{I(this,void 0,void 0,(function*(){(yield this.waitForLanguageSymbolRegistry(t,o))&&!n.isCancellationRequested&&o.add(this.doProvideWithEditorSymbols(e,t,i,n))}))})(),o}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return I(this,void 0,void 0,(function*(){if(this._languageFeaturesService.documentSymbolProvider.has(e))return!0;const i=new n.CR,o=t.add(this._languageFeaturesService.documentSymbolProvider.onDidChange((()=>{this._languageFeaturesService.documentSymbolProvider.has(e)&&(o.dispose(),i.complete(!0))})));return t.add((0,_.OF)((()=>i.complete(!1)))),i.p}))}doProvideWithEditorSymbols(t,i,n,s){var r;const a=t.editor,l=new _.SL;l.add(n.onDidAccept((e=>{const[i]=n.selectedItems;i&&i.range&&(this.gotoLocation(t,{range:i.range.selection,keyMods:n.keyMods,preserveFocus:e.inBackground}),e.inBackground||n.hide())}))),l.add(n.onDidTriggerItemButton((({item:e})=>{e&&e.range&&(this.gotoLocation(t,{range:e.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())})));const d=this.getDocumentSymbols(i,s);let c;const h=t=>I(this,void 0,void 0,(function*(){null==c||c.dispose(!0),n.busy=!1,c=new o.A(s),n.busy=!0;try{const i=m(n.value.substr(e.PREFIX.length).trim()),o=yield this.doGetSymbolPicks(d,i,void 0,c.token);if(s.isCancellationRequested)return;if(o.length>0){if(n.items=o,t&&0===i.original.length){const e=(0,L.dF)(o,(e=>Boolean("separator"!==e.type&&e.range&&b.e.containsPosition(e.range.decoration,t))));e&&(n.activeItems=[e])}}else i.original.length>0?this.provideLabelPick(n,(0,S.NC)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(n,(0,S.NC)("noSymbolResults","No editor symbols"))}finally{s.isCancellationRequested||(n.busy=!1)}}));l.add(n.onDidChangeValue((()=>h(void 0)))),h(null===(r=a.getSelection())||void 0===r?void 0:r.getPosition());let u=2;return l.add(n.onDidChangeActive((()=>{const[e]=n.activeItems;if(e&&e.range){if(u-- >0)return;a.revealRangeInCenter(e.range.selection,0),this.addDecorations(a,e.range.decoration)}}))),l}doGetSymbolPicks(t,i,n,o){return I(this,void 0,void 0,(function*(){const r=yield t;if(o.isCancellationRequested)return[];const a=0===i.original.indexOf(e.SCOPE_PREFIX),l=a?1:0;let c,u;i.values&&i.values.length>1?(c=v(i.values[0]),u=v(i.values.slice(1))):c=i;const g=[];for(let f=0;f<r.length;f++){const _=r[f],y=(0,d.fy)(_.name),w=`$(${C.uZ.toIcon(_.kind).id}) ${y}`,k=w.length-y.length;let L,x,I,D,A=_.containerName;if((null==n?void 0:n.extraContainerLabel)&&(A=A?`${n.extraContainerLabel}  ${A}`:n.extraContainerLabel),i.original.length>l){let M=!1;if(c!==i&&([L,x]=h(w,Object.assign(Object.assign({},i),{values:void 0}),l,k),"number"==typeof L&&(M=!0)),"number"!=typeof L&&([L,x]=h(w,c,l,k),"number"!=typeof L))continue;if(!M&&u){if(A&&u.original.length>0&&([I,D]=h(A,u)),"number"!=typeof I)continue;"number"==typeof L&&(L+=I)}}const T=_.tags&&_.tags.indexOf(1)>=0;g.push({index:f,kind:_.kind,score:L,label:w,ariaLabel:y,description:A,highlights:T?void 0:{label:x,description:D},range:{selection:b.e.collapseToStart(_.selectionRange),decoration:_.range},strikethrough:T,buttons:(()=>{var e,t;const i=(null===(e=this.options)||void 0===e?void 0:e.openSideBySideDirection)?null===(t=this.options)||void 0===t?void 0:t.openSideBySideDirection():void 0;if(i)return[{iconClass:"right"===i?s.lA.splitHorizontal.classNames:s.lA.splitVertical.classNames,tooltip:"right"===i?(0,S.NC)("openToSide","Open to the Side"):(0,S.NC)("openToBottom","Open to the Bottom")}]})()})}const p=g.sort(((e,t)=>a?this.compareByKindAndScore(e,t):this.compareByScore(e,t)));let m=[];if(a){let R,P,O=0;function V(){P&&"number"==typeof R&&O>0&&(P.label=(0,d.WU)(E[R]||N,O))}for(const F of p)R!==F.kind?(V(),R=F.kind,O=1,P={type:"separator"},m.push(P)):O++,m.push(F);V()}else p.length>0&&(m=[{label:(0,S.NC)("symbols","symbols ({0})",g.length),type:"separator"},...p]);return m}))}compareByScore(e,t){if("number"!=typeof e.score&&"number"==typeof t.score)return 1;if("number"==typeof e.score&&"number"!=typeof t.score)return-1;if("number"==typeof e.score&&"number"==typeof t.score){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const i=E[e.kind]||N,n=E[t.kind]||N,o=i.localeCompare(n);return 0===o?this.compareByScore(e,t):o}getDocumentSymbols(e,t){return I(this,void 0,void 0,(function*(){const i=yield this._outlineModelService.getOrCreate(e,t);return t.isCancellationRequested?[]:i.asListOfDocumentSymbols()}))}};D.PREFIX="@",D.SCOPE_PREFIX=":",D.PREFIX_BY_CATEGORY=`${D.PREFIX}${D.SCOPE_PREFIX}`,D=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([x(0,k.p),x(1,y.Je)],D);const N=(0,S.NC)("property","properties ({0})"),E={5:(0,S.NC)("method","methods ({0})"),11:(0,S.NC)("function","functions ({0})"),8:(0,S.NC)("_constructor","constructors ({0})"),12:(0,S.NC)("variable","variables ({0})"),4:(0,S.NC)("class","classes ({0})"),22:(0,S.NC)("struct","structs ({0})"),23:(0,S.NC)("event","events ({0})"),24:(0,S.NC)("operator","operators ({0})"),10:(0,S.NC)("interface","interfaces ({0})"),2:(0,S.NC)("namespace","namespaces ({0})"),3:(0,S.NC)("package","packages ({0})"),25:(0,S.NC)("typeParameter","type parameters ({0})"),1:(0,S.NC)("modules","modules ({0})"),6:(0,S.NC)("property","properties ({0})"),9:(0,S.NC)("enum","enumerations ({0})"),21:(0,S.NC)("enumMember","enumeration members ({0})"),14:(0,S.NC)("string","strings ({0})"),0:(0,S.NC)("file","files ({0})"),17:(0,S.NC)("array","arrays ({0})"),15:(0,S.NC)("number","numbers ({0})"),16:(0,S.NC)("boolean","booleans ({0})"),18:(0,S.NC)("object","objects ({0})"),19:(0,S.NC)("key","keys ({0})"),7:(0,S.NC)("field","fields ({0})"),13:(0,S.NC)("constant","constants ({0})")};var A=i(9872),T=i(725),M=i(1640),R=i(8401),P=i(913),O=i(4669),V=i(6830),F=i(9102),W=i(1157),z=function(e,t){return function(i,n){t(i,n,e)}};let B=class extends D{constructor(e,t,i){super(t,i),this.editorService=e,this.onDidActiveTextEditorControlChange=O.ju.None}get activeTextEditorControl(){return(0,R.f6)(this.editorService.getFocusedCodeEditor())}};B=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([z(0,M.$),z(1,k.p),z(2,y.Je)],B);class U extends V.R6{constructor(){super({id:U.ID,label:P.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:F.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:F.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(W.eJ).quickAccess.show(D.PREFIX)}}U.ID="editor.action.quickOutline",(0,V.Qr)(U),A.B.as(T.IP.Quickaccess).registerQuickAccessProvider({ctor:B,prefix:D.PREFIX,helpEntries:[{description:P.aq.quickOutlineActionLabel,prefix:D.PREFIX,commandId:U.ID},{description:P.aq.quickOutlineByCategoryActionLabel,prefix:D.PREFIX_BY_CATEGORY}]})},8944:(e,t,i)=>{"use strict";i.r(t);var n=i(9872),o=i(725),s=i(913),r=i(3580),a=i(5976),l=i(1847),d=i(1157),c=function(e,t){return function(i,n){t(i,n,e)}};let h=class e{constructor(e,t){this.quickInputService=e,this.keybindingService=t,this.registry=n.B.as(o.IP.Quickaccess)}provide(t){const i=new a.SL;return i.add(t.onDidAccept((()=>{const[e]=t.selectedItems;e&&this.quickInputService.quickAccess.show(e.prefix,{preserveValue:!0})}))),i.add(t.onDidChangeValue((t=>{const i=this.registry.getQuickAccessProvider(t.substr(e.PREFIX.length));i&&i.prefix&&i.prefix!==e.PREFIX&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})}))),t.items=this.getQuickAccessProviders(),i}getQuickAccessProviders(){const t=[];for(const i of this.registry.getQuickAccessProviders().sort(((e,t)=>e.prefix.localeCompare(t.prefix))))if(i.prefix!==e.PREFIX)for(const e of i.helpEntries){const n=e.prefix||i.prefix,o=n||"";t.push({prefix:n,label:o,keybinding:e.commandId?this.keybindingService.lookupKeybinding(e.commandId):void 0,ariaLabel:(0,r.NC)("helpPickAriaLabel","{0}, {1}",o,e.description),description:e.description})}return t}};h.PREFIX="?",h=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([c(0,d.eJ),c(1,l.d)],h),n.B.as(o.IP.Quickaccess).registerQuickAccessProvider({ctor:h,prefix:"",helpEntries:[{description:s.ld.helpQuickAccessActionLabel}]})},5048:(e,t,i)=>{"use strict";i.r(t),i.d(t,{StandaloneReferencesController:()=>u});var n=i(6830),o=i(1640),s=i(7376),r=i(3108),a=i(8819),l=i(2065),d=i(9422),c=i(6904),h=function(e,t){return function(i,n){t(i,n,e)}};let u=class extends s.J{constructor(e,t,i,n,o,s,r){super(!0,e,t,i,n,o,s,r)}};u=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([h(1,a.i6),h(2,o.$),h(3,d.lT),h(4,l.TG),h(5,c.Uy),h(6,r.Ui)],u),(0,n._K)(s.J.ID,u)},8763:(e,t,i)=>{"use strict";i.d(t,{kR:()=>E,MU:()=>A,nI:()=>F,rW:()=>N,TG:()=>D});var n=i(5321),o=i(6268),s=i(1264),r=i(4669),a=i(6887),l=i(5797);class d{constructor(e,t,i,n,o){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=n,this.background=o}}const c=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class h{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(null===e)return 0;const t=e.match(c);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=s.Il.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class u{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(function(e){if(!e||!Array.isArray(e))return[];const t=[];let i=0;for(let n=0,o=e.length;n<o;n++){const o=e[n];let s=-1;if("string"==typeof o.fontStyle){s=0;const e=o.fontStyle.split(" ");for(let t=0,i=e.length;t<i;t++)switch(e[t]){case"italic":s|=1;break;case"bold":s|=2;break;case"underline":s|=4;break;case"strikethrough":s|=8}}let r=null;"string"==typeof o.foreground&&(r=o.foreground);let a=null;"string"==typeof o.background&&(a=o.background),t[i++]=new d(o.token||"",n,s,r,a)}return t}(e),t)}static createFromParsedTokenTheme(e,t){return function(e,t){e.sort(((e,t)=>{const i=function(e,t){return e<t?-1:e>t?1:0}(e.token,t.token);return 0!==i?i:e.index-t.index}));let i=0,n="000000",o="ffffff";for(;e.length>=1&&""===e[0].token;){const t=e.shift();-1!==t.fontStyle&&(i=t.fontStyle),null!==t.foreground&&(n=t.foreground),null!==t.background&&(o=t.background)}const s=new h;for(const e of t)s.getId(e);const r=s.getId(n),a=s.getId(o),l=new p(i,r,a),d=new m(l);for(let t=0,i=e.length;t<i;t++){const i=e[t];d.insert(i.token,i.fontStyle,s.getId(i.foreground),s.getId(i.background))}return new u(s,d)}(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(void 0===i){const e=this._match(t),n=function(e){const t=e.match(g);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(t);i=(e.metadata|n<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const g=/\b(comment|string|regex|regexp)\b/;class p{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new p(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==i&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class m{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(""===e)return this._mainRule;const t=e.indexOf(".");let i,n;-1===t?(i=e,n=""):(i=e.substring(0,t),n=e.substring(t+1));const o=this._children.get(i);return void 0!==o?o.match(n):this._mainRule}insert(e,t,i,n){if(""===e)return void this._mainRule.acceptOverwrite(t,i,n);const o=e.indexOf(".");let s,r;-1===o?(s=e,r=""):(s=e.substring(0,o),r=e.substring(o+1));let a=this._children.get(s);void 0===a&&(a=new m(this._mainRule.clone()),this._children.set(s,a)),a.insert(r,t,i,n)}}var f=i(8625),v=i(3910);const _={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[v.cvW]:"#FFFFFE",[v.NOs]:"#000000",[v.ES4]:"#E5EBF1",[f.tR]:"#D3D3D3",[f.Ym]:"#939393",[v.Rzx]:"#ADD6FF4D"}},b={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[v.cvW]:"#1E1E1E",[v.NOs]:"#D4D4D4",[v.ES4]:"#3A3D41",[f.tR]:"#404040",[f.Ym]:"#707070",[v.Rzx]:"#ADD6FF26"}},C={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[v.cvW]:"#000000",[v.NOs]:"#FFFFFF",[f.tR]:"#FFFFFF",[f.Ym]:"#FFFFFF"}},y={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[v.cvW]:"#FFFFFF",[v.NOs]:"#292929",[f.tR]:"#292929",[f.Ym]:"#292929"}};var w=i(9872),S=i(7781),k=i(5976),L=i(2321),x=i(9554);class I{getIcon(e){const t=(0,x.Ks)();let i=e.defaults;for(;S.kS.isThemeIcon(i);){const e=t.getIcon(i.id);if(!e)return;i=e.defaults}return i}}const D="vs",N="vs-dark",E="hc-black",A="hc-light",T=w.B.as(v.IPX.ColorContribution),M=w.B.as(S.IP.ThemingContribution);class R{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;const i=t.base;e.length>0?(P(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(const t in this.themeData.colors)e.set(t,s.Il.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){const t=O(this.themeData.base);for(const i in t.colors)e.has(i)||e.set(i,s.Il.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){return this.getColors().get(e)||(!1!==t?this.getDefault(e):void 0)}getDefault(e){let t=this.defaultColors[e];return t||(t=T.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case D:return L.eL.LIGHT;case E:return L.eL.HIGH_CONTRAST_DARK;case A:return L.eL.HIGH_CONTRAST_LIGHT;default:return L.eL.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){const i=O(this.themeData.base);e=i.rules,i.encodedTokensColors&&(t=i.encodedTokensColors)}const i=this.themeData.colors["editor.foreground"],n=this.themeData.colors["editor.background"];if(i||n){const t={token:""};i&&(t.foreground=i),n&&(t.background=n),e.push(t)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=u.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const n=this.tokenTheme._match([e].concat(t).join(".")).metadata,o=l.N.getForeground(n),s=l.N.getFontStyle(n);return{foreground:o,italic:Boolean(1&s),bold:Boolean(2&s),underline:Boolean(4&s),strikethrough:Boolean(8&s)}}}function P(e){return e===D||e===N||e===E||e===A}function O(e){switch(e){case D:return _;case N:return b;case E:return C;case A:return y}}function V(e){const t=O(e);return new R(e,t)}class F extends k.JT{constructor(){super(),this._onColorThemeChange=this._register(new r.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new r.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new I,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(D,V(D)),this._knownThemes.set(N,V(N)),this._knownThemes.set(E,V(E)),this._knownThemes.set(A,V(A));const e=function(e){const t=new r.Q5,i=(0,x.Ks)();return i.onDidChange((()=>t.fire())),null==e||e.onDidProductIconThemeChange((()=>t.fire())),{onDidChange:t.event,getCSS(){const t=e?e.getProductIconTheme():new I,o={},s=e=>{const i=t.getIcon(e);if(!i)return;const s=i.font;return s?(o[s.id]=s.definition,`.codicon-${e.id}:before { content: '${i.fontCharacter}'; font-family: ${(0,n._h)(s.id)}; }`):`.codicon-${e.id}:before { content: '${i.fontCharacter}'; }`},r=[];for(const e of i.getIcons()){const t=s(e);t&&r.push(t)}for(const e in o){const t=o[e],i=t.weight?`font-weight: ${t.weight};`:"",s=t.style?`font-style: ${t.style};`:"",a=t.src.map((e=>`${(0,n.wY)(e.location)} format('${e.format}')`)).join(", ");r.push(`@font-face { src: ${a}; font-family: ${(0,n._h)(e)};${i}${s} font-display: block; }`)}return r.join("\n")}}}(this);this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(D),this._onOSSchemeChanged(),e.onDidChange((()=>{this._codiconCSS=e.getCSS(),this._updateCSS()})),(0,o.addMatchMediaChangeListener)("(forced-colors: active)",(()=>{this._onOSSchemeChanged()}))}registerEditorContainer(e){return n.OO(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=n.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),k.JT.None}_registerShadowDomContainer(e){const t=n.dS(e);return t.className="monaco-colors",t.textContent=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let e=0;e<this._styleElements.length;e++)if(this._styleElements[e]===t)return void this._styleElements.splice(e,1)}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!P(t.base)&&!P(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new R(e,t)),P(e)&&this._knownThemes.forEach((t=>{t.base===e&&t.notifyBaseUpdated()})),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;t=this._knownThemes.has(e)?this._knownThemes.get(e):this._knownThemes.get(D),this._updateActualTheme(t)}_updateActualTheme(e){e&&this._theme!==e&&(this._theme=e,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const e=window.matchMedia("(forced-colors: active)").matches;if(e!==(0,L.c3)(this._theme.type)){let t;t=(0,L._T)(this._theme.type)?e?E:N:e?A:D,this._updateActualTheme(this._knownThemes.get(t))}}}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const e=[],t={},i={addRule:i=>{t[i]||(e.push(i),t[i]=!0)}};M.getThemingParticipants().forEach((e=>e(this._theme,i,this._environment)));const n=[];for(const e of T.getColors()){const t=this._theme.getColor(e.id,!0);t&&n.push(`${(0,v.QO2)(e.id)}: ${t.toString()};`)}i.addRule(`.monaco-editor { ${n.join("\n")} }`);const o=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(function(e){const t=[];for(let i=1,n=e.length;i<n;i++){const n=e[i];t[i]=`.mtk${i} { color: ${n}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.push(".mtks { text-decoration: line-through; }"),t.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),t.join("\n")}(o)),this._themeCSS=e.join("\n"),this._updateCSS(),a.RW.setColorMap(o),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach((e=>e.textContent=this._allCSS))}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},5662:(e,t,i)=>{"use strict";i.r(t);var n=i(6830),o=i(4156),s=i(913),r=i(2321),a=i(8763);class l extends n.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:s.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const i=e.get(o.Z),n=i.getColorTheme();(0,r.c3)(n.type)?(i.setTheme(this._originalThemeName||((0,r._T)(n.type)?a.rW:a.TG)),this._originalThemeName=null):(i.setTheme((0,r._T)(n.type)?a.kR:a.MU),this._originalThemeName=n.themeName)}}(0,n.Qr)(l)},4156:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n=(0,i(2065).yh)("themeService")},605:(e,t,i)=>{"use strict";i.r(t),i.d(t,{cssDefaults:()=>g,lessDefaults:()=>m,scssDefaults:()=>p});var n=i(7453),o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l=(e,t,i,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of r(t))a.call(e,l)||l===i||o(e,l,{get:()=>t[l],enumerable:!(n=s(t,l))||n.enumerable});return e},d={};l(d,n,"default");var c=class{_onDidChange=new d.Emitter;_options;_modeConfiguration;_languageId;constructor(e,t,i){this._languageId=e,this.setOptions(t),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(e){this.setOptions(e)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},h={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},g=new c("css",h,u),p=new c("scss",h,u),m=new c("less",h,u);function f(){return i.e(5288).then(i.bind(i,5288))}d.languages.css={cssDefaults:g,lessDefaults:m,scssDefaults:p},d.languages.onLanguage("less",(()=>{f().then((e=>e.setupMode(m)))})),d.languages.onLanguage("scss",(()=>{f().then((e=>e.setupMode(p)))})),d.languages.onLanguage("css",(()=>{f().then((e=>e.setupMode(g)))}))},8423:(e,t,i)=>{"use strict";i.r(t),i.d(t,{handlebarDefaults:()=>_,handlebarLanguageService:()=>v,htmlDefaults:()=>f,htmlLanguageService:()=>m,razorDefaults:()=>C,razorLanguageService:()=>b,registerHTMLLanguageService:()=>y});var n=i(7453),o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l=(e,t,i,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of r(t))a.call(e,l)||l===i||o(e,l,{get:()=>t[l],enumerable:!(n=s(t,l))||n.enumerable});return e},d={};l(d,n,"default");var c={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function h(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===u,documentFormattingEdits:e===u,documentRangeFormattingEdits:e===u}}var u="html",g="handlebars",p="razor",m=y(u,c,h(u)),f=m.defaults,v=y(g,c,h(g)),_=v.defaults,b=y(p,c,h(p)),C=b.defaults;function y(e,t=c,n=h(e)){const o=new class{_onDidChange=new d.Emitter;_options;_modeConfiguration;_languageId;constructor(e,t,i){this._languageId=e,this.setOptions(t),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}}(e,t,n);let s;const r=d.languages.onLanguage(e,(async()=>{s=(await i.e(5377).then(i.bind(i,5377))).setupMode(o)}));return{defaults:o,dispose(){r.dispose(),s?.dispose(),s=void 0}}}d.languages.html={htmlDefaults:f,razorDefaults:C,handlebarDefaults:_,htmlLanguageService:m,handlebarLanguageService:v,razorLanguageService:b,registerHTMLLanguageService:y}},2323:(e,t,i)=>{"use strict";i.r(t),i.d(t,{jsonDefaults:()=>c});var n=i(7453),o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l=(e,t,i,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of r(t))a.call(e,l)||l===i||o(e,l,{get:()=>t[l],enumerable:!(n=s(t,l))||n.enumerable});return e},d={};l(d,n,"default");var c=new class{_onDidChange=new d.Emitter;_diagnosticsOptions;_modeConfiguration;_languageId;constructor(e,t,i){this._languageId=e,this.setDiagnosticsOptions(t),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}}("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0});d.languages.json={jsonDefaults:c},d.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),d.languages.onLanguage("json",(()=>{i.e(665).then(i.bind(i,33)).then((e=>e.setupMode(c)))}))},9585:(e,t,i)=>{"use strict";i.r(t),i.d(t,{JsxEmit:()=>h,ModuleKind:()=>c,ModuleResolutionKind:()=>p,NewLineKind:()=>u,ScriptTarget:()=>g,getJavaScriptWorker:()=>C,getTypeScriptWorker:()=>b,javascriptDefaults:()=>_,typescriptDefaults:()=>v,typescriptVersion:()=>f});var n=i(7453),o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l=(e,t,i,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of r(t))a.call(e,l)||l===i||o(e,l,{get:()=>t[l],enumerable:!(n=s(t,l))||n.enumerable});return e},d={};l(d,n,"default");var c=(e=>(e[e.None=0]="None",e[e.CommonJS=1]="CommonJS",e[e.AMD=2]="AMD",e[e.UMD=3]="UMD",e[e.System=4]="System",e[e.ES2015=5]="ES2015",e[e.ESNext=99]="ESNext",e))(c||{}),h=(e=>(e[e.None=0]="None",e[e.Preserve=1]="Preserve",e[e.React=2]="React",e[e.ReactNative=3]="ReactNative",e[e.ReactJSX=4]="ReactJSX",e[e.ReactJSXDev=5]="ReactJSXDev",e))(h||{}),u=(e=>(e[e.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",e[e.LineFeed=1]="LineFeed",e))(u||{}),g=(e=>(e[e.ES3=0]="ES3",e[e.ES5=1]="ES5",e[e.ES2015=2]="ES2015",e[e.ES2016=3]="ES2016",e[e.ES2017=4]="ES2017",e[e.ES2018=5]="ES2018",e[e.ES2019=6]="ES2019",e[e.ES2020=7]="ES2020",e[e.ESNext=99]="ESNext",e[e.JSON=100]="JSON",e[e.Latest=99]="Latest",e))(g||{}),p=(e=>(e[e.Classic=1]="Classic",e[e.NodeJs=2]="NodeJs",e))(p||{}),m=class{_onDidChange=new d.Emitter;_onDidExtraLibsChange=new d.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;constructor(e,t,i,n){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(n),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let i;if(i=void 0===t?`ts:extralib-${Math.random().toString(36).substring(2,15)}`:t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:()=>{}};let n=1;return this._removedExtraLibs[i]&&(n=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(n=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:n},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let e=this._extraLibs[i];e&&e.version===n&&(delete this._extraLibs[i],this._removedExtraLibs[i]=n,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(const e in this._extraLibs)this._removedExtraLibs[e]=this._extraLibs[e].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(const t of e){const e=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,i=t.content;let n=1;this._removedExtraLibs[e]&&(n=this._removedExtraLibs[e]+1),this._extraLibs[e]={content:i,version:n}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=window.setTimeout((()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)}),0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}},f="4.5.5",v=new m({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),_=new m({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),b=()=>y().then((e=>e.getTypeScriptWorker())),C=()=>y().then((e=>e.getJavaScriptWorker()));function y(){return i.e(8401).then(i.bind(i,1653))}d.languages.typescript={ModuleKind:c,JsxEmit:h,NewLineKind:u,ScriptTarget:g,ModuleResolutionKind:p,typescriptVersion:f,typescriptDefaults:v,javascriptDefaults:_,getTypeScriptWorker:b,getJavaScriptWorker:C},d.languages.onLanguage("typescript",(()=>y().then((e=>e.setupTypeScript(v))))),d.languages.onLanguage("javascript",(()=>y().then((e=>e.setupJavaScript(_)))))},3580:(e,t,i)=>{"use strict";i.d(t,{NC:()=>o,aj:()=>s});let n="undefined"!=typeof document&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function o(e,t,...i){return function(e,t){let i;return i=0===t.length?e:e.replace(/\{(\d+)\}/g,((e,i)=>{const n=i[0],o=t[n];let s=e;return"string"==typeof o?s=o:"number"!=typeof o&&"boolean"!=typeof o&&null!=o||(s=String(o)),s})),n&&(i=""+i.replace(/[aouei]/g,"$&$&")+""),i}(t,i)}function s(e){}},1106:(e,t,i)=>{"use strict";i.d(t,{F:()=>o,U:()=>s});var n=i(8819);const o=(0,i(2065).yh)("accessibilityService"),s=new n.uy("accessibilityModeEnabled",!1)},8335:(e,t,i)=>{"use strict";i.d(t,{Mm:()=>E,Id:()=>M,vr:()=>N});var n=i(5321),o=i(9069),s=i(6033),r=i(553),a=i(4741),l=i(4669);class d extends a.Wi{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new l.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,n.R3)(e,(0,n.$)(".monaco-dropdown")),this._label=(0,n.R3)(this._element,(0,n.$)(".dropdown-label"));let i=t.labelRenderer;i||(i=e=>(e.textContent=t.label||"",null));for(const e of[n.tw.CLICK,n.tw.MOUSE_DOWN,r.t.Tap])this._register((0,n.nm)(this.element,e,(e=>n.zB.stop(e,!0))));for(const e of[n.tw.MOUSE_DOWN,r.t.Tap])this._register((0,n.nm)(this._label,e,(e=>{e instanceof MouseEvent&&(e.detail>1||0!==e.button)||(this.visible?this.hide():this.show())})));this._register((0,n.nm)(this._label,n.tw.KEY_UP,(e=>{const t=new o.y(e);(t.equals(3)||t.equals(10))&&(n.zB.stop(e,!0),this.visible?this.hide():this.show())})));const s=i(this._label);s&&this._register(s),this._register(r.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class c extends d{constructor(e,t){super(e,t),this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class h extends s.Y{constructor(e,t,i,n=Object.create(null)){super(null,e,n),this.actionItem=null,this._onDidChangeVisibility=this._register(new l.Q5),this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options=n,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=Array.isArray(this.menuActionsOrProvider),i={contextMenuProvider:this.contextMenuProvider,labelRenderer:e=>{this.element=(0,n.R3)(e,(0,n.$)("a.action-label"));let t=[];return"string"==typeof this.options.classNames?t=this.options.classNames.split(/\s+/g).filter((e=>!!e)):this.options.classNames&&(t=this.options.classNames),t.find((e=>"icon"===e))||t.push("codicon"),this.element.classList.add(...t),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:t?this.menuActionsOrProvider:void 0,actionProvider:t?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new c(e,i)),this._register(this.dropdownMenu.onDidChangeVisibility((e=>{var t;null===(t=this.element)||void 0===t||t.setAttribute("aria-expanded",`${e}`),this._onDidChangeVisibility.fire(e)}))),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const e=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return e.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let e=null;return this.getAction().tooltip?e=this.getAction().tooltip:this.getAction().label&&(e=this.getAction().label),null!=e?e:void 0}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}updateEnabled(){var e,t;const i=!this.getAction().enabled;null===(e=this.actionItem)||void 0===e||e.classList.toggle("disabled",i),null===(t=this.element)||void 0===t||t.classList.toggle("disabled",i)}}var u=i(8030),g=i(5976),p=i(1432),m=i(3580),f=i(4144),v=i(8819),_=i(5606),b=i(2065),C=i(1847),y=i(9422),w=i(6904),S=i(7781),k=i(2321),L=i(8401),x=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},I=function(e,t){return function(i,n){t(i,n,e)}},D=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function N(e,t,i,n,o,s,r){const l=e.getActions(t);return function(e,t,i,n=(e=>"navigation"===e),o=Number.MAX_SAFE_INTEGER,s=(()=>!1),r=!1){let l,d;Array.isArray(t)?(l=t,d=t):(l=t.primary,d=t.secondary);const c=new Set;for(const[t,o]of e){let e;n(t)?(e=l,e.length>0&&r&&e.push(new a.Z0)):(e=d,e.length>0&&e.push(new a.Z0));for(let n of o){i&&(n=n instanceof f.U8&&n.alt?n.alt:n);const o=e.push(n);n instanceof a.wY&&c.add({group:t,action:n,index:o-1})}}for(const{group:e,action:t,index:i}of c){const r=n(e)?l:d,a=t.actions;(a.length<=1||r.length+a.length-2<=o)&&s(t,e,r.length)&&r.splice(i,1,...a)}if(l!==d&&l.length>o){const e=l.splice(o,l.length-o);d.unshift(...e,new a.Z0)}}(l,i,!1,"string"==typeof n?e=>e===n:n,o,s,r),function(e){const t=new g.SL;for(const[,i]of e)for(const e of i)t.add(e);return t}(l)}let E=class extends s.g{constructor(e,t,i,o,s,r,a){super(void 0,e,{icon:!(!e.class&&!e.item.icon),label:!e.class&&!e.item.icon,draggable:null==t?void 0:t.draggable,keybinding:null==t?void 0:t.keybinding,hoverDelegate:null==t?void 0:t.hoverDelegate}),this._keybindingService=i,this._notificationService=o,this._contextKeyService=s,this._themeService=r,this._contextMenuService=a,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new g.XK),this._altKey=n._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return D(this,void 0,void 0,(function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(e){this._notificationService.error(e)}}))}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,i=this._altKey.keyStatus.altKey||(p.ED||p.IJ)&&this._altKey.keyStatus.shiftKey;const o=()=>{var e;const n=t&&i&&!!(null===(e=this._commandAction.alt)||void 0===e?void 0:e.enabled);n!==this._wantsAltCommand&&(this._wantsAltCommand=n,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event((e=>{i=e.altKey||(p.ED||p.IJ)&&e.shiftKey,o()}))),this._register((0,n.nm)(e,"mouseleave",(e=>{t=!1,o()}))),this._register((0,n.nm)(e,"mouseenter",(e=>{t=!0,o()})))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var e;const t=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),i=t&&t.getLabel(),n=this._commandAction.tooltip||this._commandAction.label;let o=i?(0,m.NC)("titleAndKb","{0} ({1})",n,i):n;if(!this._wantsAltCommand&&(null===(e=this._menuItemAction.alt)||void 0===e?void 0:e.enabled)){const e=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,t=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),i=t&&t.getLabel(),n=i?(0,m.NC)("titleAndKb","{0} ({1})",e,i):e;o=(0,m.NC)("titleAndKbAndAlt","{0}\n[{1}] {2}",o,u.xo.modifierLabels[p.OS].altKey,n)}return o}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;const{element:i,label:o}=this;if(!i||!o)return;const s=this._commandAction.checked&&(null===(t=e.toggled)||void 0===t?void 0:t.icon)?e.toggled.icon:e.icon;if(s)if(S.kS.isThemeIcon(s)){const e=S.kS.asClassNameArray(s);o.classList.add(...e),this._itemClassDispose.value=(0,g.OF)((()=>{o.classList.remove(...e)}))}else o.style.backgroundImage=(0,k._T)(this._themeService.getColorTheme().type)?(0,n.wY)(s.dark):(0,n.wY)(s.light),o.classList.add("icon"),this._itemClassDispose.value=(0,g.F8)((0,g.OF)((()=>{o.style.backgroundImage="",o.classList.remove("icon")})),this._themeService.onDidColorThemeChange((()=>{this.updateClass()})))}};E=x([I(2,C.d),I(3,y.lT),I(4,v.i6),I(5,S.XE),I(6,_.i)],E);let A=class extends h{constructor(e,t,i,n){var o,s;const r=Object.assign({},null!=t?t:Object.create(null),{menuAsChild:null!==(o=null==t?void 0:t.menuAsChild)&&void 0!==o&&o,classNames:null!==(s=null==t?void 0:t.classNames)&&void 0!==s?s:S.kS.isThemeIcon(e.item.icon)?S.kS.asClassName(e.item.icon):void 0});super(e,{getActions:()=>e.actions},i,r),this._contextMenuService=i,this._themeService=n}render(e){super.render(e),(0,L.p_)(this.element),e.classList.add("menu-entry");const t=this._action,{icon:i}=t.item;if(i&&!S.kS.isThemeIcon(i)){this.element.classList.add("icon");const e=()=>{this.element&&(this.element.style.backgroundImage=(0,k._T)(this._themeService.getColorTheme().type)?(0,n.wY)(i.dark):(0,n.wY)(i.light))};e(),this._register(this._themeService.onDidColorThemeChange((()=>{e()})))}}};A=x([I(2,_.i),I(3,S.XE)],A);let T=class extends s.Y{constructor(e,t,i,n,o,s,r,l){var d,c,u;let g;super(null,e),this._keybindingService=i,this._notificationService=n,this._contextMenuService=o,this._menuService=s,this._instaService=r,this._storageService=l,this._container=null,this._options=t,this._storageKey=`${e.item.submenu.id}_lastActionId`;const p=l.get(this._storageKey,1);p&&(g=e.actions.find((e=>p===e.id))),g||(g=e.actions[0]),this._defaultAction=this._instaService.createInstance(E,g,{keybinding:this._getDefaultActionKeybindingLabel(g)});const m=Object.assign({},null!=t?t:Object.create(null),{menuAsChild:null===(d=null==t?void 0:t.menuAsChild)||void 0===d||d,classNames:null!==(c=null==t?void 0:t.classNames)&&void 0!==c?c:["codicon","codicon-chevron-down"],actionRunner:null!==(u=null==t?void 0:t.actionRunner)&&void 0!==u?u:new a.Wi});this._dropdown=new h(e,e.actions,this._contextMenuService,m),this._dropdown.actionRunner.onDidRun((e=>{e.action instanceof f.U8&&this.update(e.action)}))}update(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(E,e,{keybinding:this._getDefaultActionKeybindingLabel(e)}),this._defaultAction.actionRunner=new class extends a.Wi{runAction(e,t){return D(this,void 0,void 0,(function*(){yield e.run(void 0)}))}},this._container&&this._defaultAction.render((0,n.Ce)(this._container,(0,n.$)(".action-container")))}_getDefaultActionKeybindingLabel(e){var t;let i;if(null===(t=this._options)||void 0===t?void 0:t.renderKeybindingWithDefaultActionLabel){const t=this._keybindingService.lookupKeybinding(e.id);t&&(i=`(${t.getLabel()})`)}return i}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=(0,n.$)(".action-container");this._defaultAction.render((0,n.R3)(this._container,t)),this._register((0,n.nm)(t,n.tw.KEY_DOWN,(e=>{const t=new o.y(e);t.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),t.stopPropagation())})));const i=(0,n.$)(".dropdown-action-container");this._dropdown.render((0,n.R3)(this._container,i)),this._register((0,n.nm)(i,n.tw.KEY_DOWN,(e=>{var t;const i=new o.y(e);i.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(t=this._defaultAction.element)||void 0===t||t.focus(),i.stopPropagation())})))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};function M(e,t,i){return t instanceof f.U8?e.createInstance(E,t,i):t instanceof f.NZ?t.item.rememberDefaultAction?e.createInstance(T,t,i):e.createInstance(A,t,i):void 0}T=x([I(2,C.d),I(3,y.lT),I(4,_.i),I(5,f.co),I(6,b.TG),I(7,w.Uy)],T)},4144:(e,t,i)=>{"use strict";i.d(t,{BH:()=>v,NZ:()=>_,U8:()=>b,co:()=>f,eH:()=>m,vr:()=>p});var n=i(4741),o=i(3046),s=i(4669),r=i(3725),a=i(5976),l=i(1741),d=i(4565),c=i(8819),h=i(2065),u=i(7781),g=function(e,t){return function(i,n){t(i,n,e)}};function p(e){return void 0!==e.command}class m{constructor(e){if(m._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);m._instances.set(e,this),this.id=e}}m._instances=new Map,m.CommandPalette=new m("CommandPalette"),m.DebugBreakpointsContext=new m("DebugBreakpointsContext"),m.DebugCallStackContext=new m("DebugCallStackContext"),m.DebugConsoleContext=new m("DebugConsoleContext"),m.DebugVariablesContext=new m("DebugVariablesContext"),m.DebugWatchContext=new m("DebugWatchContext"),m.DebugToolBar=new m("DebugToolBar"),m.DebugToolBarStop=new m("DebugToolBarStop"),m.EditorContext=new m("EditorContext"),m.SimpleEditorContext=new m("SimpleEditorContext"),m.EditorContextCopy=new m("EditorContextCopy"),m.EditorContextPeek=new m("EditorContextPeek"),m.EditorContextShare=new m("EditorContextShare"),m.EditorTitle=new m("EditorTitle"),m.EditorTitleRun=new m("EditorTitleRun"),m.EditorTitleContext=new m("EditorTitleContext"),m.EmptyEditorGroup=new m("EmptyEditorGroup"),m.EmptyEditorGroupContext=new m("EmptyEditorGroupContext"),m.ExplorerContext=new m("ExplorerContext"),m.ExtensionContext=new m("ExtensionContext"),m.GlobalActivity=new m("GlobalActivity"),m.CommandCenter=new m("CommandCenter"),m.LayoutControlMenuSubmenu=new m("LayoutControlMenuSubmenu"),m.LayoutControlMenu=new m("LayoutControlMenu"),m.MenubarMainMenu=new m("MenubarMainMenu"),m.MenubarAppearanceMenu=new m("MenubarAppearanceMenu"),m.MenubarDebugMenu=new m("MenubarDebugMenu"),m.MenubarEditMenu=new m("MenubarEditMenu"),m.MenubarCopy=new m("MenubarCopy"),m.MenubarFileMenu=new m("MenubarFileMenu"),m.MenubarGoMenu=new m("MenubarGoMenu"),m.MenubarHelpMenu=new m("MenubarHelpMenu"),m.MenubarLayoutMenu=new m("MenubarLayoutMenu"),m.MenubarNewBreakpointMenu=new m("MenubarNewBreakpointMenu"),m.MenubarPanelAlignmentMenu=new m("MenubarPanelAlignmentMenu"),m.MenubarPanelPositionMenu=new m("MenubarPanelPositionMenu"),m.MenubarPreferencesMenu=new m("MenubarPreferencesMenu"),m.MenubarRecentMenu=new m("MenubarRecentMenu"),m.MenubarSelectionMenu=new m("MenubarSelectionMenu"),m.MenubarShare=new m("MenubarShare"),m.MenubarSwitchEditorMenu=new m("MenubarSwitchEditorMenu"),m.MenubarSwitchGroupMenu=new m("MenubarSwitchGroupMenu"),m.MenubarTerminalMenu=new m("MenubarTerminalMenu"),m.MenubarViewMenu=new m("MenubarViewMenu"),m.MenubarHomeMenu=new m("MenubarHomeMenu"),m.OpenEditorsContext=new m("OpenEditorsContext"),m.ProblemsPanelContext=new m("ProblemsPanelContext"),m.SCMChangeContext=new m("SCMChangeContext"),m.SCMResourceContext=new m("SCMResourceContext"),m.SCMResourceFolderContext=new m("SCMResourceFolderContext"),m.SCMResourceGroupContext=new m("SCMResourceGroupContext"),m.SCMSourceControl=new m("SCMSourceControl"),m.SCMTitle=new m("SCMTitle"),m.SearchContext=new m("SearchContext"),m.StatusBarWindowIndicatorMenu=new m("StatusBarWindowIndicatorMenu"),m.StatusBarRemoteIndicatorMenu=new m("StatusBarRemoteIndicatorMenu"),m.TestItem=new m("TestItem"),m.TestItemGutter=new m("TestItemGutter"),m.TestPeekElement=new m("TestPeekElement"),m.TestPeekTitle=new m("TestPeekTitle"),m.TouchBarContext=new m("TouchBarContext"),m.TitleBarContext=new m("TitleBarContext"),m.TitleBarTitleContext=new m("TitleBarTitleContext"),m.TunnelContext=new m("TunnelContext"),m.TunnelPrivacy=new m("TunnelPrivacy"),m.TunnelProtocol=new m("TunnelProtocol"),m.TunnelPortInline=new m("TunnelInline"),m.TunnelTitle=new m("TunnelTitle"),m.TunnelLocalAddressInline=new m("TunnelLocalAddressInline"),m.TunnelOriginInline=new m("TunnelOriginInline"),m.ViewItemContext=new m("ViewItemContext"),m.ViewContainerTitle=new m("ViewContainerTitle"),m.ViewContainerTitleContext=new m("ViewContainerTitleContext"),m.ViewTitle=new m("ViewTitle"),m.ViewTitleContext=new m("ViewTitleContext"),m.CommentThreadTitle=new m("CommentThreadTitle"),m.CommentThreadActions=new m("CommentThreadActions"),m.CommentTitle=new m("CommentTitle"),m.CommentActions=new m("CommentActions"),m.InteractiveToolbar=new m("InteractiveToolbar"),m.InteractiveCellTitle=new m("InteractiveCellTitle"),m.InteractiveCellDelete=new m("InteractiveCellDelete"),m.InteractiveCellExecute=new m("InteractiveCellExecute"),m.InteractiveInputExecute=new m("InteractiveInputExecute"),m.NotebookToolbar=new m("NotebookToolbar"),m.NotebookCellTitle=new m("NotebookCellTitle"),m.NotebookCellDelete=new m("NotebookCellDelete"),m.NotebookCellInsert=new m("NotebookCellInsert"),m.NotebookCellBetween=new m("NotebookCellBetween"),m.NotebookCellListTop=new m("NotebookCellTop"),m.NotebookCellExecute=new m("NotebookCellExecute"),m.NotebookCellExecutePrimary=new m("NotebookCellExecutePrimary"),m.NotebookDiffCellInputTitle=new m("NotebookDiffCellInputTitle"),m.NotebookDiffCellMetadataTitle=new m("NotebookDiffCellMetadataTitle"),m.NotebookDiffCellOutputsTitle=new m("NotebookDiffCellOutputsTitle"),m.NotebookOutputToolbar=new m("NotebookOutputToolbar"),m.NotebookEditorLayoutConfigure=new m("NotebookEditorLayoutConfigure"),m.NotebookKernelSource=new m("NotebookKernelSource"),m.BulkEditTitle=new m("BulkEditTitle"),m.BulkEditContext=new m("BulkEditContext"),m.TimelineItemContext=new m("TimelineItemContext"),m.TimelineTitle=new m("TimelineTitle"),m.TimelineTitleContext=new m("TimelineTitleContext"),m.TimelineFilterSubMenu=new m("TimelineFilterSubMenu"),m.AccountsContext=new m("AccountsContext"),m.PanelTitle=new m("PanelTitle"),m.AuxiliaryBarTitle=new m("AuxiliaryBarTitle"),m.TerminalInstanceContext=new m("TerminalInstanceContext"),m.TerminalEditorInstanceContext=new m("TerminalEditorInstanceContext"),m.TerminalNewDropdownContext=new m("TerminalNewDropdownContext"),m.TerminalTabContext=new m("TerminalTabContext"),m.TerminalTabEmptyAreaContext=new m("TerminalTabEmptyAreaContext"),m.TerminalInlineTabContext=new m("TerminalInlineTabContext"),m.WebviewContext=new m("WebviewContext"),m.InlineCompletionsActions=new m("InlineCompletionsActions"),m.NewFile=new m("NewFile"),m.MergeToolbar=new m("MergeToolbar"),m.MergeInput1Toolbar=new m("MergeToolbar1Toolbar"),m.MergeInput2Toolbar=new m("MergeToolbar2Toolbar");const f=(0,h.yh)("menuService"),v=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new s.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:e=>e===m.CommandPalette}}addCommand(e){return this.addCommands(r.$.single(e))}addCommands(e){for(const t of e)this._commands.set(t.id,t);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,a.OF)((()=>{let t=!1;for(const i of e)t=this._commands.delete(i.id)||t;t&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)}))}getCommand(e){return this._commands.get(e)}getCommands(){const e=new Map;return this._commands.forEach(((t,i)=>e.set(i,t))),e}appendMenuItem(e,t){return this.appendMenuItems(r.$.single({id:e,item:t}))}appendMenuItems(e){const t=new Set,i=new l.S;for(const{id:n,item:o}of e){let e=this._menuItems.get(n);e||(e=new l.S,this._menuItems.set(n,e)),i.push(e.push(o)),t.add(n)}return this._onDidChangeMenu.fire(t),(0,a.OF)((()=>{if(i.size>0){for(const e of i)e();this._onDidChangeMenu.fire(t),i.clear()}}))}getMenuItems(e){let t;return t=this._menuItems.has(e)?[...this._menuItems.get(e)]:[],e===m.CommandPalette&&this._appendImplicitItems(t),t}_appendImplicitItems(e){const t=new Set;for(const i of e)p(i)&&(t.add(i.command.id),i.alt&&t.add(i.alt.id));this._commands.forEach(((i,n)=>{t.has(n)||e.push({command:i})}))}};class _ extends n.wY{constructor(e,t,i,n){super(`submenuitem.${e.submenu.id}`,"string"==typeof e.title?e.title:e.title.value,[],"submenu"),this.item=e,this._menuService=t,this._contextKeyService=i,this._options=n}get actions(){const e=[],t=this._menuService.createMenu(this.item.submenu,this._contextKeyService),i=t.getActions(this._options);t.dispose();for(const[,t]of i)t.length>0&&(e.push(...t),e.push(new n.Z0));return e.length&&e.pop(),e}}let b=class e{constructor(t,i,n,s,r,a){var l,d;if(this.hideActions=s,this._commandService=a,this.id=t.id,this.label=(null==n?void 0:n.renderShortTitle)&&t.shortTitle?"string"==typeof t.shortTitle?t.shortTitle:t.shortTitle.value:"string"==typeof t.title?t.title:t.title.value,this.tooltip=null!==(d="string"==typeof t.tooltip?t.tooltip:null===(l=t.tooltip)||void 0===l?void 0:l.value)&&void 0!==d?d:"",this.enabled=!t.precondition||r.contextMatchesRules(t.precondition),this.checked=void 0,t.toggled){const e=t.toggled.condition?t.toggled:{condition:t.toggled};this.checked=r.contextMatchesRules(e.condition),this.checked&&e.tooltip&&(this.tooltip="string"==typeof e.tooltip?e.tooltip:e.tooltip.value),e.title&&(this.label="string"==typeof e.title?e.title:e.title.value)}this.item=t,this.alt=i?new e(i,void 0,n,s,r,a):void 0,this._options=n,u.kS.isThemeIcon(t.icon)&&(this.class=o.dT.asClassName(t.icon))}dispose(){}run(...e){var t,i;let n=[];return(null===(t=this._options)||void 0===t?void 0:t.arg)&&(n=[...n,this._options.arg]),(null===(i=this._options)||void 0===i?void 0:i.shouldForwardArgs)&&(n=[...n,...e]),this._commandService.executeCommand(this.id,...n)}};b=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([g(4,c.i6),g(5,d.Hy)],b)},4972:(e,t,i)=>{"use strict";i.d(t,{p:()=>n});const n=(0,i(2065).yh)("clipboardService")},4565:(e,t,i)=>{"use strict";i.d(t,{Hy:()=>l,P0:()=>d});var n=i(4669),o=i(3725),s=i(5976),r=i(1741),a=i(8401);const l=(0,i(2065).yh)("commandService"),d=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new n.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(e,t){if(!e)throw new Error("invalid command");if("string"==typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){const t=[];for(const i of e.description.args)t.push(i.constraint);const i=e.handler;e.handler=function(e,...n){return(0,a.D8)(n,t),i(e,...n)}}const{id:i}=e;let n=this._commands.get(i);n||(n=new r.S,this._commands.set(i,n));const o=n.unshift(e),l=(0,s.OF)((()=>{o();const e=this._commands.get(i);(null==e?void 0:e.isEmpty())&&this._commands.delete(i)}));return this._onDidRegisterCommand.fire(i),l}registerCommandAlias(e,t){return d.registerCommand(e,((e,...i)=>e.get(l).executeCommand(t,...i)))}getCommand(e){const t=this._commands.get(e);if(t&&!t.isEmpty())return o.$.first(t)}getCommands(){const e=new Map;for(const t of this._commands.keys()){const i=this.getCommand(t);i&&e.set(t,i)}return e}};d.registerCommand("noop",(()=>{}))},3108:(e,t,i)=>{"use strict";i.d(t,{KV:()=>s,Mt:()=>l,Od:()=>o,UI:()=>d,Ui:()=>n,xL:()=>r});const n=(0,i(2065).yh)("configurationService");function o(e,t){const i=Object.create(null);for(const n in e)s(i,n,e[n],t);return i}function s(e,t,i,n){const o=t.split("."),s=o.pop();let r=e;for(let e=0;e<o.length;e++){const i=o[e];let s=r[i];switch(typeof s){case"undefined":s=r[i]=Object.create(null);break;case"object":break;default:return void n(`Ignoring ${t} as ${o.slice(0,e+1).join(".")} is ${JSON.stringify(s)}`)}r=s}if("object"==typeof r&&null!==r)try{r[s]=i}catch(e){n(`Ignoring ${t} as ${o.join(".")} is ${JSON.stringify(r)}`)}else n(`Ignoring ${t} as ${o.join(".")} is ${JSON.stringify(r)}`)}function r(e,t){a(e,t.split("."))}function a(e,t){const i=t.shift();if(0!==t.length){if(-1!==Object.keys(e).indexOf(i)){const n=e[i];"object"!=typeof n||Array.isArray(n)||(a(n,t),0===Object.keys(n).length&&delete e[i])}}else delete e[i]}function l(e,t,i){const n=function(e,t){let i=e;for(const e of t){if("object"!=typeof i||null===i)return;i=i[e]}return i}(e,t.split("."));return void 0===n?i:n}function d(e){return e.replace(/[\[\]]/g,"")}},3193:(e,t,i)=>{"use strict";i.d(t,{IP:()=>c,eU:()=>w,ny:()=>S});var n=i(9488),o=i(4669),s=i(8401),r=i(3580),a=i(3108),l=i(1294),d=i(9872);const c={Configuration:"base.contributions.configuration"},h={properties:{},patternProperties:{}},u={properties:{},patternProperties:{}},g={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},m={properties:{},patternProperties:{}},f={properties:{},patternProperties:{}},v="vscode://schemas/settings/resourceLanguage",_=d.B.as(l.I.JSONContribution),b="\\[([^\\]]+)\\]",C=new RegExp(b,"g"),y=`^(${b})+$`,w=new RegExp(y);function S(e){const t=[];if(w.test(e)){let i=C.exec(e);for(;null==i?void 0:i.length;){const n=i[1].trim();n&&t.push(n),i=C.exec(e)}}return(0,n.EB)(t)}const k=new class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new o.Q5,this._onDidUpdateConfiguration=new o.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:r.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},_.registerSchema(v,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=this.doRegisterConfigurations(e,t);_.registerSchema(v,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){var t;const i=[],n=[];for(const{overrides:o,source:l}of e)for(const e in o)if(i.push(e),w.test(e)){const i=this.configurationDefaultsOverrides.get(e),d=null!==(t=null==i?void 0:i.valuesSources)&&void 0!==t?t:new Map;if(l)for(const t of Object.keys(o[e]))d.set(t,l);const c=Object.assign(Object.assign({},(null==i?void 0:i.value)||{}),o[e]);this.configurationDefaultsOverrides.set(e,{source:l,value:c,valuesSources:d});const h=(0,a.UI)(e),u={type:"object",default:c,description:r.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",h),$ref:v,defaultDefaultValue:c,source:s.HD(l)?void 0:l,defaultValueSource:l};n.push(...S(e)),this.configurationProperties[e]=u,this.defaultLanguageConfigurationOverridesNode.properties[e]=u}else{this.configurationDefaultsOverrides.set(e,{value:o[e],source:l});const t=this.configurationProperties[e];t&&(this.updatePropertyDefaultValue(e,t),this.updateSchema(e,t))}this.registerOverrideIdentifiers(n),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i,defaultsOverrides:!0})}registerOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t){const i=[];return e.forEach((e=>{i.push(...this.validateAndRegisterProperties(e,t,e.extensionInfo,e.restrictedProperties)),this.configurationContributors.push(e),this.registerJSONConfiguration(e)})),i}validateAndRegisterProperties(e,t=!0,i,n,o=3){var r;o=s.Jp(e.scope)?o:e.scope;const a=[],l=e.properties;if(l)for(const e in l){const d=l[e];t&&L(e,d)?delete l[e]:(d.source=i,d.defaultDefaultValue=l[e].default,this.updatePropertyDefaultValue(e,d),w.test(e)?d.scope=void 0:(d.scope=s.Jp(d.scope)?o:d.scope,d.restricted=s.Jp(d.restricted)?!!(null==n?void 0:n.includes(e)):d.restricted),!l[e].hasOwnProperty("included")||l[e].included?(this.configurationProperties[e]=l[e],(null===(r=l[e].policy)||void 0===r?void 0:r.name)&&this.policyConfigurations.set(l[e].policy.name,e),!l[e].deprecationMessage&&l[e].markdownDeprecationMessage&&(l[e].deprecationMessage=l[e].markdownDeprecationMessage),a.push(e)):(this.excludedConfigurationProperties[e]=l[e],delete l[e]))}const d=e.allOf;if(d)for(const e of d)a.push(...this.validateAndRegisterProperties(e,t,i,n,o));return a}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){const t=e=>{const i=e.properties;if(i)for(const e in i)this.updateSchema(e,i[e]);const n=e.allOf;null==n||n.forEach(t)};t(e)}updateSchema(e,t){switch(h.properties[e]=t,t.scope){case 1:u.properties[e]=t;break;case 2:g.properties[e]=t;break;case 6:p.properties[e]=t;break;case 3:m.properties[e]=t;break;case 4:f.properties[e]=t;break;case 5:f.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:r.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:r.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:v};this.updatePropertyDefaultValue(t,i),h.properties[t]=i,u.properties[t]=i,g.properties[t]=i,p.properties[t]=i,m.properties[t]=i,f.properties[t]=i}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const e={type:"object",description:r.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:r.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:v};h.patternProperties[y]=e,u.patternProperties[y]=e,g.patternProperties[y]=e,p.patternProperties[y]=e,m.patternProperties[y]=e,f.patternProperties[y]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const i=this.configurationDefaultsOverrides.get(e);let n=null==i?void 0:i.value,o=null==i?void 0:i.source;s.o8(n)&&(n=t.defaultDefaultValue,o=void 0),s.o8(n)&&(n=function(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=n,t.defaultValueSource=o}};function L(e,t){var i,n,o,s;return e.trim()?w.test(e)?r.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==k.getConfigurationProperties()[e]?r.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):(null===(i=t.policy)||void 0===i?void 0:i.name)&&void 0!==k.getPolicyConfigurations().get(null===(n=t.policy)||void 0===n?void 0:n.name)?r.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",e,null===(o=t.policy)||void 0===o?void 0:o.name,k.getPolicyConfigurations().get(null===(s=t.policy)||void 0===s?void 0:s.name)):null:r.NC("config.property.empty","Cannot register an empty property")}d.B.add(c.Configuration,k)},8819:(e,t,i)=>{"use strict";i.d(t,{Ao:()=>l,Eq:()=>A,Fb:()=>d,K8:()=>R,i6:()=>E,uy:()=>N});var n=i(1432),o=i(7295),s=i(2065);const r=new Map;r.set("false",!1),r.set("true",!0),r.set("isMac",n.dz),r.set("isLinux",n.IJ),r.set("isWindows",n.ED),r.set("isWeb",n.$L),r.set("isMacNative",n.dz&&!n.$L),r.set("isEdge",n.un),r.set("isFirefox",n.vU),r.set("isChrome",n.i7),r.set("isSafari",n.G6);const a=Object.prototype.hasOwnProperty;class l{static has(e){return g.create(e)}static equals(e,t){return p.create(e,t)}static regex(e,t){return k.create(e,t)}static not(e){return _.create(e)}static and(...e){return I.create(e,null)}static or(...e){return D.create(e,null,!0)}static deserialize(e,t=!1){if(e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){const i=e.split("||");return D.create(i.map((e=>this._deserializeAndExpression(e,t))),null,!0)}static _deserializeAndExpression(e,t){const i=e.split("&&");return I.create(i.map((e=>this._deserializeOne(e,t))),null)}static _deserializeOne(e,t){if((e=e.trim()).indexOf("!=")>=0){const i=e.split("!=");return v.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("==")>=0){const i=e.split("==");return p.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("=~")>=0){const i=e.split("=~");return k.create(i[0].trim(),this._deserializeRegexValue(i[1],t))}if(e.indexOf(" not in ")>=0){const t=e.split(" not in ");return f.create(t[0].trim(),t[1].trim())}if(e.indexOf(" in ")>=0){const t=e.split(" in ");return m.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){const t=e.split(">=");return y.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){const t=e.split(">");return C.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){const t=e.split("<=");return S.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){const t=e.split("<");return w.create(t[0].trim(),t[1].trim())}return/^\!\s*/.test(e)?_.create(e.substr(1).trim()):g.create(e)}static _deserializeValue(e,t){if("true"===(e=e.trim()))return!0;if("false"===e)return!1;const i=/^'([^']*)'$/.exec(e);return i?i[1].trim():e}static _deserializeRegexValue(e,t){if((0,o.m5)(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}const i=e.indexOf("/"),n=e.lastIndexOf("/");if(i===n||i<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}const s=e.slice(i+1,n),r="i"===e[n+1]?"i":"";try{return new RegExp(s,r)}catch(i){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${i}`);return console.warn(`bad regexp-value '${e}', parse error: ${i}`),null}}}function d(e,t){const i=e?e.substituteConstants():void 0,n=t?t.substituteConstants():void 0;return!i&&!n||!(!i||!n)&&i.equals(n)}function c(e,t){return e.cmp(t)}class h{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return u.INSTANCE}}h.INSTANCE=new h;class u{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return h.INSTANCE}}u.INSTANCE=new u;class g{constructor(e,t){this.key=e,this.negated=t,this.type=2}static create(e,t=null){const i=r.get(e);return"boolean"==typeof i?i?u.INSTANCE:h.INSTANCE:new g(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=r.get(this.key);return"boolean"==typeof e?e?u.INSTANCE:h.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=_.create(this.key,this)),this.negated}}class p{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}static create(e,t,i=null){if("boolean"==typeof t)return t?g.create(e,i):_.create(e,i);const n=r.get(e);return"boolean"==typeof n?t===(n?"true":"false")?u.INSTANCE:h.INSTANCE:new p(e,t,i)}cmp(e){return e.type!==this.type?this.type-e.type:M(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){const e=r.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?u.INSTANCE:h.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=v.create(this.key,this.value,this)),this.negated}}class m{constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}static create(e,t){return new m(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:M(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type&&this.key===e.key&&this.valueKey===e.valueKey}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.includes(i):"string"==typeof i&&"object"==typeof t&&null!==t&&a.call(t,i)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=f.create(this.key,this.valueKey)),this.negated}}class f{constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=m.create(e,t)}static create(e,t){return new f(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type&&this._negated.equals(e._negated)}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class v{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}static create(e,t,i=null){if("boolean"==typeof t)return t?_.create(e,i):g.create(e,i);const n=r.get(e);return"boolean"==typeof n?t===(n?"true":"false")?h.INSTANCE:u.INSTANCE:new v(e,t,i)}cmp(e){return e.type!==this.type?this.type-e.type:M(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){const e=r.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?h.INSTANCE:u.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this.key,this.value,this)),this.negated}}class _{constructor(e,t){this.key=e,this.negated=t,this.type=3}static create(e,t=null){const i=r.get(e);return"boolean"==typeof i?i?h.INSTANCE:u.INSTANCE:new _(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=r.get(this.key);return"boolean"==typeof e?e?h.INSTANCE:u.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=g.create(this.key,this)),this.negated}}function b(e,t){if("string"==typeof e){const t=parseFloat(e);isNaN(t)||(e=t)}return"string"==typeof e||"number"==typeof e?t(e):h.INSTANCE}class C{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}static create(e,t,i=null){return b(t,(t=>new C(e,t,i)))}cmp(e){return e.type!==this.type?this.type-e.type:M(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=S.create(this.key,this.value,this)),this.negated}}class y{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}static create(e,t,i=null){return b(t,(t=>new y(e,t,i)))}cmp(e){return e.type!==this.type?this.type-e.type:M(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=w.create(this.key,this.value,this)),this.negated}}class w{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}static create(e,t,i=null){return b(t,(t=>new w(e,t,i)))}cmp(e){return e.type!==this.type?this.type-e.type:M(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=y.create(this.key,this.value,this)),this.negated}}class S{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}static create(e,t,i=null){return b(t,(t=>new S(e,t,i)))}cmp(e){return e.type!==this.type?this.type-e.type:M(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=C.create(this.key,this.value,this)),this.negated}}class k{constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}static create(e,t){return new k(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=L.create(this)),this.negated}}class L{constructor(e){this._actual=e,this.type=8}static create(e){return new L(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function x(e){let t=null;for(let i=0,n=e.length;i<n;i++){const n=e[i].substituteConstants();if(e[i]!==n&&null===t){t=[];for(let n=0;n<i;n++)t[n]=e[n]}null!==t&&(t[i]=n)}return null===t?e:t}class I{constructor(e,t){this.expr=e,this.negated=t,this.type=6}static create(e,t){return I._normalizeArr(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=c(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=x(this.expr);return e===this.expr?this:I.create(e,this.negated)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t){const i=[];let n=!1;for(const t of e)if(t)if(1!==t.type){if(0===t.type)return h.INSTANCE;6!==t.type?i.push(t):i.push(...t.expr)}else n=!0;if(0===i.length&&n)return u.INSTANCE;if(0!==i.length){if(1===i.length)return i[0];i.sort(c);for(let e=1;e<i.length;e++)i[e-1].equals(i[e])&&(i.splice(e,1),e--);if(1===i.length)return i[0];for(;i.length>1;){const e=i[i.length-1];if(9!==e.type)break;i.pop();const t=i.pop(),n=0===i.length,o=D.create(e.expr.map((e=>I.create([e,t],null))),null,n);o&&(i.push(o),i.sort(c))}return 1===i.length?i[0]:new I(i,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" && ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());this.negated=D.create(e,this,!0)}return this.negated}}class D{constructor(e,t){this.expr=e,this.negated=t,this.type=9}static create(e,t,i){return D._normalizeArr(e,t,i)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=c(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=x(this.expr);return e===this.expr?this:D.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let n=[],o=!1;if(e){for(let t=0,i=e.length;t<i;t++){const i=e[t];if(i)if(0!==i.type){if(1===i.type)return u.INSTANCE;9!==i.type?n.push(i):n=n.concat(i.expr)}else o=!0}if(0===n.length&&o)return h.INSTANCE;n.sort(c)}if(0!==n.length){if(1===n.length)return n[0];for(let e=1;e<n.length;e++)n[e-1].equals(n[e])&&(n.splice(e,1),e--);if(1===n.length)return n[0];if(i){for(let e=0;e<n.length;e++)for(let t=e+1;t<n.length;t++)R(n[e],n[t])&&(n.splice(t,1),t--);if(1===n.length)return n[0]}return new D(n,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" || ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),i=e.shift(),n=[];for(const e of P(t))for(const t of P(i))n.push(I.create([e,t],null));const o=0===e.length;e.unshift(D.create(n,null,o))}this.negated=e[0]}return this.negated}}class N extends g{constructor(e,t,i){super(e,null),this._defaultValue=t,"object"==typeof i?N._info.push(Object.assign(Object.assign({},i),{key:e})):!0!==i&&N._info.push({key:e,description:i,type:null!=t?typeof t:void 0})}static all(){return N._info.values()}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return p.create(this.key,e)}}N._info=[];const E=(0,s.yh)("contextKeyService"),A="setContext";function T(e,t){return e<t?-1:e>t?1:0}function M(e,t,i,n){return e<i?-1:e>i?1:t<n?-1:t>n?1:0}function R(e,t){if(6===t.type&&9!==e.type&&6!==e.type)for(const i of t.expr)if(e.equals(i))return!0;const i=P(e.negate()).concat(P(t));i.sort(c);for(let e=0;e<i.length;e++){const t=i[e].negate();for(let n=e+1;n<i.length;n++){const e=i[n];if(t.equals(e))return!0}}return!1}function P(e){return 9===e.type?e.expr:[e]}},9282:(e,t,i)=>{"use strict";i.d(t,{cv:()=>r,d0:()=>a});var n=i(1432),o=i(3580),s=i(8819);new s.uy("isMac",n.dz,(0,o.NC)("isMac","Whether the operating system is macOS")),new s.uy("isLinux",n.IJ,(0,o.NC)("isLinux","Whether the operating system is Linux"));const r=new s.uy("isWindows",n.ED,(0,o.NC)("isWindows","Whether the operating system is Windows")),a=(new s.uy("isWeb",n.$L,(0,o.NC)("isWeb","Whether the platform is a web browser")),new s.uy("isMacNative",n.dz&&!n.$L,(0,o.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),new s.uy("isIOS",n.gn,(0,o.NC)("isIOS","Whether the operating system is iOS")),new s.uy("isDevelopment",!1,!0),new s.uy("productQualityType","",(0,o.NC)("productQualityType","Quality type of VS Code")),"inputFocus");new s.uy(a,!1,(0,o.NC)("inputFocus","Whether keyboard focus is inside an input box"))},5606:(e,t,i)=>{"use strict";i.d(t,{i:()=>s,u:()=>o});var n=i(2065);const o=(0,n.yh)("contextViewService"),s=(0,n.yh)("contextMenuService")},8820:(e,t,i)=>{"use strict";i.d(t,{S:()=>n});const n=(0,i(2065).yh)("dialogService")},2980:(e,t,i)=>{"use strict";i.d(t,{Yb:()=>I,Nq:()=>D,iX:()=>C});var n=i(3070),o=i(5321),s=i(2900),r=i(7927),a=i(3794),l=i(3046),d=i(4669),c=i(3580);const h=c.NC("defaultLabel","input"),u=c.NC("label.preserveCaseToggle","Preserve Case");class g extends s.Z{constructor(e){super({icon:l.lA.preserveCase,title:u+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class p extends a.${constructor(e,t,i,n){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new d.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new d.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new d.Q5),this._onInput=this._register(new d.Q5),this._onKeyUp=this._register(new d.Q5),this._onPreserveCaseKeyDown=this._register(new d.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||h,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const s=n.appendPreserveCaseLabel||"",a=n.history||[],l=!!n.flexibleHeight,c=!!n.flexibleWidth,u=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new r.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:a,showHistoryHint:n.showHistoryHint,flexibleHeight:l,flexibleWidth:c,flexibleMaxHeight:u})),this.preserveCase=this._register(new g({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.preserveCase.onKeyDown((e=>{this._onPreserveCaseKeyDown.fire(e)}))),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const p=[this.preserveCase.domNode];this.onkeydown(this.domNode,(e=>{if(e.equals(15)||e.equals(17)||e.equals(9)){const t=p.indexOf(document.activeElement);if(t>=0){let i=-1;e.equals(17)?i=(t+1)%p.length:e.equals(15)&&(i=0===t?p.length-1:t-1),e.equals(9)?(p[t].blur(),this.inputBox.focus()):i>=0&&p[i].focus(),o.zB.stop(e,!0)}}}));const m=document.createElement("div");m.className="controls",m.style.display=this._showOptionButtons?"block":"none",m.appendChild(this.preserveCase.domNode),this.domNode.appendChild(m),null==e||e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,(e=>this._onKeyDown.fire(e))),this.onkeyup(this.inputBox.inputElement,(e=>this._onKeyUp.fire(e))),this.oninput(this.inputBox.inputElement,(e=>this._onInput.fire())),this.onmousedown(this.inputBox.inputElement,(e=>this._onMouseDown.fire(e)))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var m=i(8819),f=i(9989),v=i(5976),_=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},b=function(e,t){return function(i,n){t(i,n,e)}};const C=new m.uy("suggestWidgetVisible",!1,(0,c.NC)("suggestWidgetVisible","Whether suggestion are visible")),y="historyNavigationWidgetFocus",w="historyNavigationForwardsEnabled",S="historyNavigationBackwardsEnabled";let k;const L=[];function x(e,t){if(L.includes(t))throw new Error("Cannot register the same widget multiple times");L.push(t);const i=new v.SL,n=i.add(e.createScoped(t.element)),o=new m.uy(y,!1).bindTo(n),s=new m.uy(w,!0).bindTo(n),r=new m.uy(S,!0).bindTo(n),a=()=>{o.set(!0),k=t},l=()=>{o.set(!1),k===t&&(k=void 0)};return t.element===document.activeElement&&a(),i.add(t.onDidFocus((()=>a()))),i.add(t.onDidBlur((()=>l()))),i.add((0,v.OF)((()=>{L.splice(L.indexOf(t),1),l()}))),{scopedContextKeyService:n,historyNavigationForwardsEnablement:s,historyNavigationBackwardsEnablement:r,dispose(){i.dispose()}}}let I=class extends n.V{constructor(e,t,i,n,o=!1){super(e,t,o,i),this._register(x(n,this.inputBox))}};I=_([b(3,m.i6)],I);let D=class extends p{constructor(e,t,i,n,o=!1){super(e,t,o,i),this._register(x(n,this.inputBox))}};D=_([b(3,m.i6)],D),f.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:m.Ao.and(m.Ao.has(y),m.Ao.equals(S,!0),C.isEqualTo(!1)),primary:16,secondary:[528],handler:e=>{k&&k.showPreviousValue()}}),f.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:m.Ao.and(m.Ao.has(y),m.Ao.equals(w,!0),C.isEqualTo(!1)),primary:18,secondary:[530],handler:e=>{k&&k.showNextValue()}})},7108:(e,t,i)=>{"use strict";i.d(t,{M:()=>n});class n{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}},5026:(e,t,i)=>{"use strict";i.d(t,{d:()=>r,z:()=>s});var n=i(7108);const o=[];function s(e,t,i){t instanceof n.M||(t=new n.M(t,[],i)),o.push([e,t])}function r(){return o}},2065:(e,t,i)=>{"use strict";var n;i.d(t,{I8:()=>n,TG:()=>o,yh:()=>r}),function(e){e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=function(t){return t[e.DI_DEPENDENCIES]||[]}}(n||(n={}));const o=r("instantiationService");function s(e,t,i){t[n.DI_TARGET]===t?t[n.DI_DEPENDENCIES].push({id:e,index:i}):(t[n.DI_DEPENDENCIES]=[{id:e,index:i}],t[n.DI_TARGET]=t)}function r(e){if(n.serviceIds.has(e))return n.serviceIds.get(e);const t=function(e,i,n){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");s(t,e,n)};return t.toString=()=>e,n.serviceIds.set(e,t),t}},972:(e,t,i)=>{"use strict";i.d(t,{y:()=>n});class n{constructor(...e){this._entries=new Map;for(const[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}get(e){return this._entries.get(e)}}},1294:(e,t,i)=>{"use strict";i.d(t,{I:()=>s});var n=i(4669),o=i(9872);const s={JSONContribution:"base.contributions.json"},r=new class{constructor(){this._onDidChangeSchema=new n.Q5,this.schemasById={}}registerSchema(e,t){var i;this.schemasById[(i=e,i.length>0&&"#"===i.charAt(i.length-1)?i.substring(0,i.length-1):i)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}};o.B.add(s.JSONContribution,r)},1847:(e,t,i)=>{"use strict";i.d(t,{d:()=>n});const n=(0,i(2065).yh)("keybindingService")},9989:(e,t,i)=>{"use strict";i.d(t,{W:()=>l});var n=i(8313),o=i(1432),s=i(4565),r=i(9872);class a{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(1===o.OS){if(e&&e.win)return e.win}else if(2===o.OS){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=a.bindToCurrentPlatform(e);if(t&&t.primary){const i=(0,n.gm)(t.primary,o.OS);i&&this._registerDefaultKeybinding(i,e.id,e.args,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(let i=0,s=t.secondary.length;i<s;i++){const s=t.secondary[i],r=(0,n.gm)(s,o.OS);r&&this._registerDefaultKeybinding(r,e.id,e.args,e.weight,-i-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),s.P0.registerCommand(e)}static _mightProduceChar(e){return e>=21&&e<=30||e>=31&&e<=56||80===e||81===e||82===e||83===e||84===e||85===e||86===e||110===e||111===e||87===e||88===e||89===e||90===e||91===e||92===e}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&a._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,i,n,s,r){1===o.OS&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e.parts,command:t,commandArgs:i,when:r,weight1:n,weight2:s,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(d)),this._cachedMergedKeybindings.slice(0)}}const l=new a;function d(e,t){if(e.weight1!==t.weight1)return e.weight1-t.weight1;if(e.command&&t.command){if(e.command<t.command)return-1;if(e.command>t.command)return 1}return e.weight2-t.weight2}r.B.add("platform.keybindingsRegistry",l)},4349:(e,t,i)=>{"use strict";i.d(t,{e:()=>n});const n=(0,i(2065).yh)("labelService")},6763:(e,t,i)=>{"use strict";i.d(t,{Lw:()=>ze,XN:()=>Be,ls:()=>Nt,ev:()=>_t,CQ:()=>Ge,PS:()=>Qe,uJ:()=>Je});var n=i(5321),o=i(9488),s=i(1050),r=i(4669),a=i(5976),l=i(3799);class d{constructor(e,t){this.renderer=e,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:a.JT.None}}renderElement(e,t,i,n){if(i.disposable&&i.disposable.dispose(),!i.data)return;const o=this.modelProvider();if(o.isResolved(e))return this.renderer.renderElement(o.get(e),e,i.data,n);const r=new s.A,a=o.resolve(e,r.token);i.disposable={dispose:()=>r.cancel()},this.renderer.renderPlaceholder(e,i.data),a.then((t=>this.renderer.renderElement(t,e,i.data,n)))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class c{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}class h{constructor(e,t,i,n,o={}){const s=()=>this.model,r=n.map((e=>new d(e,s)));this.list=new l.aV(e,t,i,r,function(e,t){return Object.assign(Object.assign({},t),{accessibilityProvider:t.accessibilityProvider&&new c(e,t.accessibilityProvider)})}(s,o))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return r.ju.map(this.list.onMouseDblClick,(({element:e,index:t,browserEvent:i})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:i})))}get onPointer(){return r.ju.map(this.list.onPointer,(({element:e,index:t,browserEvent:i})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:i})))}get onDidChangeSelection(){return r.ju.map(this.list.onDidChangeSelection,(({elements:e,indexes:t,browserEvent:i})=>({elements:e.map((e=>this._model.get(e))),indexes:t,browserEvent:i})))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,(0,o.w6)(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map((e=>this.model.get(e)))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}var u=i(3937);class g{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=g.TemplateId,this.renderedTemplates=new Set;const n=new Map(t.map((e=>[e.templateId,e])));this.renderers=[];for(const t of e){const e=n.get(t.templateId);if(!e)throw new Error(`Table cell renderer for template id ${t.templateId} not found.`);this.renderers.push(e)}}renderTemplate(e){const t=(0,n.R3)(e,(0,n.$)(".monaco-table-tr")),i=[],o=[];for(let e=0;e<this.columns.length;e++){const s=this.renderers[e],r=(0,n.R3)(t,(0,n.$)(".monaco-table-td",{"data-col-index":e}));r.style.width=`${this.getColumnSize(e)}px`,i.push(r),o.push(s.renderTemplate(r))}const s={container:e,cellContainers:i,cellTemplateData:o};return this.renderedTemplates.add(s),s}renderElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){const s=this.columns[o].project(e);this.renderers[o].renderElement(s,t,i.cellTemplateData[o],n)}}disposeElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){const s=this.renderers[o];if(s.disposeElement){const r=this.columns[o].project(e);s.disposeElement(r,t,i.cellTemplateData[o],n)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);(0,n.PO)(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}}g.TemplateId="row";class p{constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new r.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,n.$)(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}get minimumSize(){var e;return null!==(e=this.column.minimumWidth)&&void 0!==e?e:120}get maximumSize(){var e;return null!==(e=this.column.maximumWidth)&&void 0!==e?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return null!==(e=this.column.onDidChangeWidthConstraints)&&void 0!==e?e:r.ju.None}layout(e){this._onDidLayout.fire([this.index,e])}}class m{constructor(e,t,i,o,s,d){this.virtualDelegate=i,this.domId="table_id_"+ ++m.InstanceCount,this.disposables=new a.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,n.R3)(t,(0,n.$)(`.monaco-table.${this.domId}`));const c=o.map(((e,t)=>new p(e,t))),h={size:c.reduce(((e,t)=>e+t.column.weight),0),views:c.map((e=>({size:e.column.weight,view:e})))};this.splitview=this.disposables.add(new u.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:h})),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;const f=new g(o,s,(e=>this.splitview.getViewSize(e)));var v;this.list=this.disposables.add(new l.aV(e,this.domNode,(v=i,{getHeight:e=>v.getHeight(e),getTemplateId:()=>g.TemplateId}),[f],d)),r.ju.any(...c.map((e=>e.onDidLayout)))((([e,t])=>f.layoutColumn(e,t)),null,this.disposables),this.splitview.onDidSashReset((e=>{const t=o.reduce(((e,t)=>e+t.weight),0),i=o[e].weight/t*this.cachedWidth;this.splitview.resizeView(e,i)}),null,this.disposables),this.styleElement=(0,n.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=t.join("\n"),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}m.InstanceCount=0,i(4850);var f,v=i(9069),_=(i(317),i(3070),i(5707));i(2900),function(e){e[e.Unknown=0]="Unknown",e[e.Twistie=1]="Twistie",e[e.Element=2]="Element",e[e.Filter=3]="Filter"}(f||(f={}));class b extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class C{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}var y=i(5393),w=i(2484),S=i(3725);function k(e){return"object"==typeof e&&"visibility"in e&&"data"in e}function L(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function x(e){return"boolean"==typeof e.collapsible}class I{constructor(e,t,i,n={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new r.E7,this._onDidChangeCollapseState=new r.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new r.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new r.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new y.vp(y.ne),this.collapseByDefault=void 0!==n.collapseByDefault&&n.collapseByDefault,this.filter=n.filter,this.autoExpandSingleChildren=void 0!==n.autoExpandSingleChildren&&n.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=S.$.empty(),n={}){if(0===e.length)throw new b(this.user,"Invalid tree location");n.diffIdentityProvider?this.spliceSmart(n.diffIdentityProvider,e,t,i,n):this.spliceSimple(e,t,i,n)}spliceSmart(e,t,i,n,o,s){var r;void 0===n&&(n=S.$.empty()),void 0===s&&(s=null!==(r=o.diffDepth)&&void 0!==r?r:0);const{parentNode:a}=this.getParentNodeWithListIndex(t);if(!a.lastDiffIds)return this.spliceSimple(t,i,n,o);const l=[...n],d=t[t.length-1],c=new w.Hs({getElements:()=>a.lastDiffIds},{getElements:()=>[...a.children.slice(0,d),...l,...a.children.slice(d+i)].map((t=>e.getId(t.element).toString()))}).ComputeDiff(!1);if(c.quitEarly)return a.lastDiffIds=void 0,this.spliceSimple(t,i,l,o);const h=t.slice(0,-1),u=(t,i,n)=>{if(s>0)for(let r=0;r<n;r++)t--,i--,this.spliceSmart(e,[...h,t,0],Number.MAX_SAFE_INTEGER,l[i].children,o,s-1)};let g=Math.min(a.children.length,d+i),p=l.length;for(const e of c.changes.sort(((e,t)=>t.originalStart-e.originalStart)))u(g,p,g-(e.originalStart+e.originalLength)),g=e.originalStart,p=e.modifiedStart-d,this.spliceSimple([...h,g],e.originalLength,S.$.slice(l,p,p+e.modifiedLength),o);u(g,p,g)}spliceSimple(e,t,i=S.$.empty(),{onDidCreateNode:n,onDidDeleteNode:s,diffIdentityProvider:r}){const{parentNode:a,listIndex:l,revealed:d,visible:c}=this.getParentNodeWithListIndex(e),h=[],u=S.$.map(i,(e=>this.createTreeNode(e,a,a.visible?1:0,d,h,n))),g=e[e.length-1],p=a.children.length>0;let m=0;for(let e=g;e>=0&&e<a.children.length;e--){const t=a.children[e];if(t.visible){m=t.visibleChildIndex;break}}const f=[];let v=0,_=0;for(const e of u)f.push(e),_+=e.renderNodeCount,e.visible&&(e.visibleChildIndex=m+v++);const b=(0,o.db)(a.children,g,t,f);r?a.lastDiffIds?(0,o.db)(a.lastDiffIds,g,t,f.map((e=>r.getId(e.element).toString()))):a.lastDiffIds=a.children.map((e=>r.getId(e.element).toString())):a.lastDiffIds=void 0;let C=0;for(const e of b)e.visible&&C++;if(0!==C)for(let e=g+f.length;e<a.children.length;e++){const t=a.children[e];t.visible&&(t.visibleChildIndex-=C)}if(a.visibleChildrenCount+=v-C,d&&c){const e=b.reduce(((e,t)=>e+(t.visible?t.renderNodeCount:0)),0);this._updateAncestorsRenderNodeCount(a,_-e),this.list.splice(l,e,h)}if(b.length>0&&s){const e=t=>{s(t),t.children.forEach(e)};b.forEach(e)}this._onDidSplice.fire({insertedNodes:f,deletedNodes:b});const y=a.children.length>0;p!==y&&this.setCollapsible(e.slice(0,-1),y);let w=a;for(;w;){if(2===w.visibility){this.refilterDelayer.trigger((()=>this.refilter()));break}w=w.parent}}rerender(e){if(0===e.length)throw new b(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:n}=this.getTreeNodeWithListIndex(e);t.visible&&n&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:n}=this.getTreeNodeWithListIndex(e);return i&&n?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);void 0===t&&(t=!i.collapsible);const n={collapsible:t};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,n)))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const n=this.getTreeNode(e);void 0===t&&(t=!n.collapsed);const o={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,o)))}_setCollapseState(e,t){const{node:i,listIndex:n,revealed:o}=this.getTreeNodeWithListIndex(e),s=this._setListNodeCollapseState(i,n,o,t);if(i!==this.root&&this.autoExpandSingleChildren&&s&&!x(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let n=-1;for(let e=0;e<i.children.length;e++)if(i.children[e].visible){if(n>-1){n=-1;break}n=e}n>-1&&this._setCollapseState([...e,n],t)}return s}_setListNodeCollapseState(e,t,i,n){const o=this._setNodeCollapseState(e,n,!1);if(!i||!e.visible||!o)return o;const s=e.renderNodeCount,r=this.updateNodeAfterCollapseChange(e),a=s-(-1===t?0:1);return this.list.splice(t+1,a,r.slice(1)),o}_setNodeCollapseState(e,t,i){let n;if(e===this.root?n=!1:(x(t)?(n=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(n=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!x(t)&&t.recursive)for(const i of e.children)n=this._setNodeCollapseState(i,t,!0)||n;return n}expandTo(e){this.eventBufferer.bufferEvents((()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})}))}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}createTreeNode(e,t,i,n,o,s){const r={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof e.collapsible?e.collapsible:void 0!==e.collapsed,collapsed:void 0===e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},a=this._filterNode(r,i);r.visibility=a,n&&o.push(r);const l=e.children||S.$.empty(),d=n&&0!==a&&!r.collapsed,c=S.$.map(l,(e=>this.createTreeNode(e,r,a,d,o,s)));let h=0,u=1;for(const e of c)r.children.push(e),u+=e.renderNodeCount,e.visible&&(e.visibleChildIndex=h++);return r.collapsible=r.collapsible||r.children.length>0,r.visibleChildrenCount=h,r.visible=2===a?h>0:1===a,r.visible?r.collapsed||(r.renderNodeCount=u):(r.renderNodeCount=0,n&&o.pop()),null==s||s(r),r}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,n=!0){let o;if(e!==this.root){if(o=this._filterNode(e,t),0===o)return e.visible=!1,e.renderNodeCount=0,!1;n&&i.push(e)}const s=i.length;e.renderNodeCount=e===this.root?0:1;let r=!1;if(e.collapsed&&0===o)e.visibleChildrenCount=0;else{let t=0;for(const s of e.children)r=this._updateNodeAfterFilterChange(s,o,i,n&&!e.collapsed)||r,s.visible&&(s.visibleChildIndex=t++);e.visibleChildrenCount=t}return e!==this.root&&(e.visible=2===o?r:1===o,e.visibility=o),e.visible?e.collapsed||(e.renderNodeCount+=i.length-s):(e.renderNodeCount=0,n&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return"boolean"==typeof i?(e.filterData=void 0,i?1:0):k(i)?(e.filterData=i.data,L(i.visibility)):(e.filterData=void 0,L(i))}hasTreeNode(e,t=this.root){if(!e||0===e.length)return!0;const[i,...n]=e;return!(i<0||i>t.children.length)&&this.hasTreeNode(n,t.children[i])}getTreeNode(e,t=this.root){if(!e||0===e.length)return t;const[i,...n]=e;if(i<0||i>t.children.length)throw new b(this.user,"Invalid tree location");return this.getTreeNode(n,t.children[i])}getTreeNodeWithListIndex(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:n,visible:o}=this.getParentNodeWithListIndex(e),s=e[e.length-1];if(s<0||s>t.children.length)throw new b(this.user,"Invalid tree location");const r=t.children[s];return{node:r,listIndex:i,revealed:n,visible:o&&r.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,n=!0,o=!0){const[s,...r]=e;if(s<0||s>t.children.length)throw new b(this.user,"Invalid tree location");for(let e=0;e<s;e++)i+=t.children[e].renderNodeCount;return n=n&&!t.collapsed,o=o&&t.visible,0===r.length?{parentNode:t,listIndex:i,revealed:n,visible:o}:this.getParentNodeWithListIndex(r,t.children[s],i+1,n,o)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){return 0===e.length?void 0:1===e.length?[]:(0,o.JH)(e)[0]}getFirstElementChild(e){const t=this.getTreeNode(e);if(0!==t.children.length)return t.children[0].element}}i(4741);var D=i(3046);class N{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);i&&(i.delete(t),0===i.size&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);i&&i.forEach(t)}}var E,A,T=i(5392),M=i(9870),R=i(8401),P=i(3580);class O extends _.kX{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function V(e){return e instanceof _.kX?new O(e):e}class F{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=a.JT.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){var i,n;null===(n=(i=this.dnd).onDragStart)||void 0===n||n.call(i,V(e),t)}onDragOver(e,t,i,n,s=!0){const r=this.dnd.onDragOver(V(e),t&&t.element,i,n),a=this.autoExpandNode!==t;if(a&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),void 0===t)return r;if(a&&"boolean"!=typeof r&&r.autoExpand&&(this.autoExpandDisposable=(0,y.Vg)((()=>{const e=this.modelProvider(),i=e.getNodeLocation(t);e.isCollapsed(i)&&e.setCollapsed(i,!1),this.autoExpandNode=void 0}),500)),"boolean"==typeof r||!r.accept||void 0===r.bubble||r.feedback)return s?r:{accept:"boolean"==typeof r?r:r.accept,effect:"boolean"==typeof r?void 0:r.effect,feedback:[i]};if(1===r.bubble){const i=this.modelProvider(),o=i.getNodeLocation(t),s=i.getParentNodeLocation(o),r=i.getNode(s),a=s&&i.getListIndex(s);return this.onDragOver(e,r,a,n,!1)}const l=this.modelProvider(),d=l.getNodeLocation(t),c=l.getListIndex(d),h=l.getListRenderCount(d);return Object.assign(Object.assign({},r),{feedback:(0,o.w6)(c,c+h)})}drop(e,t,i,n){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(V(e),t&&t.element,i,n)}onDragEnd(e){var t,i;null===(i=(t=this.dnd).onDragEnd)||void 0===i||i.call(t,e)}}class W{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){var i,n;null===(n=(i=this.delegate).setDynamicHeight)||void 0===n||n.call(i,e.element,t)}}!function(e){e.None="none",e.OnHover="onHover",e.Always="always"}(E||(E={}));class z{constructor(e,t=[]){this._elements=t,this.disposables=new a.SL,this.onDidChange=r.ju.forEach(e,(e=>this._elements=e),this.disposables)}get elements(){return this._elements}dispose(){this.disposables.dispose()}}class B{constructor(e,t,i,n,o={}){var s;this.renderer=e,this.modelProvider=t,this.activeNodes=n,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=B.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new N,this.activeIndentNodes=new Set,this.indentGuidesDisposable=a.JT.None,this.disposables=new a.SL,this.templateId=e.templateId,this.updateOptions(o),r.ju.map(i,(e=>e.node))(this.onDidChangeNodeTwistieState,this,this.disposables),null===(s=e.onDidChangeTwistieState)||void 0===s||s.call(e,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(void 0!==e.indent&&(this.indent=(0,M.uZ)(e.indent,0,40)),void 0!==e.renderIndentGuides){const t=e.renderIndentGuides!==E.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){const e=new a.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,e),this.indentGuidesDisposable=e,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==e.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=(0,n.R3)(e,(0,n.$)(".monaco-tl-row")),i=(0,n.R3)(t,(0,n.$)(".monaco-tl-indent")),o=(0,n.R3)(t,(0,n.$)(".monaco-tl-twistie")),s=(0,n.R3)(t,(0,n.$)(".monaco-tl-contents")),r=this.renderer.renderTemplate(s);return{container:e,indent:i,twistie:o,indentGuidesDisposable:a.JT.None,templateData:r}}renderElement(e,t,i,n){"number"==typeof n&&(this.renderedNodes.set(e,{templateData:i,height:n}),this.renderedElements.set(e.element,e));const o=B.DefaultIndent+(e.depth-1)*this.indent;i.twistie.style.paddingLeft=`${o}px`,i.indent.style.width=o+this.indent-16+"px",this.renderTwistie(e,i),"number"==typeof n&&this.renderIndentGuides(e,i),this.renderer.renderElement(e,t,i.templateData,n)}disposeElement(e,t,i,n){var o,s;i.indentGuidesDisposable.dispose(),null===(s=(o=this.renderer).disposeElement)||void 0===s||s.call(o,e,t,i.templateData,n),"number"==typeof n&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}renderTwistie(e,t){t.twistie.classList.remove(...D.lA.treeItemExpanded.classNamesArray);let i=!1;this.renderer.renderTwistie&&(i=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(i||t.twistie.classList.add(...D.lA.treeItemExpanded.classNamesArray),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}renderIndentGuides(e,t){if((0,n.PO)(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new a.SL,o=this.modelProvider();let s=e;for(;;){const e=o.getNodeLocation(s),r=o.getParentNodeLocation(e);if(!r)break;const l=o.getNode(r),d=(0,n.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(l)&&d.classList.add("active"),0===t.indent.childElementCount?t.indent.appendChild(d):t.indent.insertBefore(d,t.indent.firstElementChild),this.renderedIndentGuides.add(l,d),i.add((0,a.OF)((()=>this.renderedIndentGuides.delete(l,d)))),s=l}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach((e=>{const n=i.getNodeLocation(e);try{const o=i.getParentNodeLocation(n);e.collapsible&&e.children.length>0&&!e.collapsed?t.add(e):o&&t.add(i.getNode(o))}catch(e){}})),this.activeIndentNodes.forEach((e=>{t.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.remove("active")))})),t.forEach((e=>{this.activeIndentNodes.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.add("active")))})),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,a.B9)(this.disposables)}}B.DefaultIndent=8;class U{constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new a.SL,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}filter(e,t){let i=1;if(this._filter){const n=this._filter.filter(e,t);if(i="boolean"==typeof n?n?1:0:k(n)?L(n.visibility):n,0===i)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:T.CL.Default,visibility:i};const n=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),o=Array.isArray(n)?n:[n];for(const e of o){const t=e&&e.toString();if(void 0===t)return{data:T.CL.Default,visibility:i};const n=(0,T.EW)(this._pattern,this._lowercasePattern,0,t,t.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(n)return this._matchCount++,1===o.length?{data:n,visibility:i}:{data:{label:t,score:n},visibility:i}}return this.tree.findMode===A.Filter?2:{data:T.CL.Default,visibility:i}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,a.B9)(this.disposables)}}!function(e){e[e.Highlight=0]="Highlight",e[e.Filter=1]="Filter"}(A||(A={}));class H{constructor(e,t,i,n,o){var s;this.tree=e,this.view=i,this.filter=n,this.contextViewProvider=o,this._pattern="",this.width=0,this._onDidChangeMode=new r.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangePattern=new r.Q5,this._onDidChangeOpenState=new r.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new a.SL,this.disposables=new a.SL,this._mode=null!==(s=e.options.defaultFindMode)&&void 0!==s?s:A.Highlight,t.onDidSplice(this.onDidSpliceModel,this,this.disposables)}get pattern(){return this._pattern}get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}onDidSpliceModel(){this.widget&&0!==this.pattern.length&&(this.tree.refilter(),this.render())}render(){var e,t;const i=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&i?null===(e=this.widget)||void 0===e||e.showMessage({type:2,content:(0,P.NC)("not found","No elements found.")}):null===(t=this.widget)||void 0===t||t.clearMessage()}shouldAllowFocus(e){return!this.widget||!this.pattern||this._mode===A.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1||!T.CL.isDefault(e.filterData)}style(e){var t;this.styles=e,null===(t=this.widget)||void 0===t||t.style(e)}layout(e){var t;this.width=e,null===(t=this.widget)||void 0===t||t.layout(e)}dispose(){this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function G(e){let t=f.Unknown;return(0,n.uU)(e.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?t=f.Twistie:(0,n.uU)(e.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?t=f.Element:(0,n.uU)(e.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(t=f.Filter),{browserEvent:e.browserEvent,element:e.element?e.element.element:null,target:t}}function j(e,t){t(e),e.children.forEach((e=>j(e,t)))}class K{constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new r.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){!(null==t?void 0:t.__forceEvent)&&(0,o.fS)(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const e=this;this._onDidChange.fire({get elements(){return e.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map((e=>e.element))),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const e=this.createNodeSet(),i=t=>e.delete(t);return t.forEach((e=>j(e,i))),void this.set([...e.values()])}const i=new Set,n=e=>i.add(this.identityProvider.getId(e.element).toString());t.forEach((e=>j(e,n)));const o=new Map,s=e=>o.set(this.identityProvider.getId(e.element).toString(),e);e.forEach((e=>j(e,s)));const r=[];for(const e of this.nodes){const t=this.identityProvider.getId(e.element).toString();if(i.has(t)){const e=o.get(t);e&&r.push(e)}else r.push(e)}if(this.nodes.length>0&&0===r.length){const e=this.getFirstViewElementWithTrait();e&&r.push(e)}this._set(r,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class $ extends l.sx{constructor(e,t){super(e),this.tree=t}onViewPointer(e){if((0,l.iK)(e.browserEvent.target)||(0,l.cK)(e.browserEvent.target)||(0,l.hD)(e.browserEvent.target))return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,n=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16;let o=!1;if(o="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(t.element):!!this.tree.expandOnlyOnTwistieClick,o&&!n&&2!==e.browserEvent.detail)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&2===e.browserEvent.detail)return super.onViewPointer(e);if(t.collapsible){const i=this.tree.model,s=i.getNodeLocation(t),r=e.browserEvent.altKey;if(this.tree.setFocus([s]),i.setCollapsed(s,void 0,r),o&&n)return}super.onViewPointer(e)}onDoubleClick(e){!e.browserEvent.target.classList.contains("monaco-tl-twistie")&&this.tree.expandOnDoubleClick&&super.onDoubleClick(e)}}class q extends l.aV{constructor(e,t,i,n,o,s,r,a){super(e,t,i,n,a),this.focusTrait=o,this.selectionTrait=s,this.anchorTrait=r}createMouseController(e){return new $(this,e.tree)}splice(e,t,i=[]){if(super.splice(e,t,i),0===i.length)return;const n=[],s=[];let r;i.forEach(((t,i)=>{this.focusTrait.has(t)&&n.push(e+i),this.selectionTrait.has(t)&&s.push(e+i),this.anchorTrait.has(t)&&(r=e+i)})),n.length>0&&super.setFocus((0,o.EB)([...super.getFocus(),...n])),s.length>0&&super.setSelection((0,o.EB)([...super.getSelection(),...s])),"number"==typeof r&&super.setAnchor(r)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map((e=>this.element(e))),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map((e=>this.element(e))),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(void 0===e?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class Y{constructor(e,t,i,o,s={}){var d;this._user=e,this._options=s,this.eventBufferer=new r.E7,this.onDidChangeFindOpenState=r.ju.None,this.disposables=new a.SL,this._onWillRefilter=new r.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new r.Q5;const c=new W(i),h=new r.ZD,u=new r.ZD,g=this.disposables.add(new z(u.event));this.renderers=o.map((e=>new B(e,(()=>this.model),h.event,g,s)));for(const e of this.renderers)this.disposables.add(e);let p;var m,f;s.keyboardNavigationLabelProvider&&(p=new U(this,s.keyboardNavigationLabelProvider,s.filter),s=Object.assign(Object.assign({},s),{filter:p}),this.disposables.add(p)),this.focus=new K((()=>this.view.getFocusedElements()[0]),s.identityProvider),this.selection=new K((()=>this.view.getSelectedElements()[0]),s.identityProvider),this.anchor=new K((()=>this.view.getAnchorElement()),s.identityProvider),this.view=new q(e,t,c,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},(m=()=>this.model,(f=s)&&Object.assign(Object.assign({},f),{identityProvider:f.identityProvider&&{getId:e=>f.identityProvider.getId(e.element)},dnd:f.dnd&&new F(m,f.dnd),multipleSelectionController:f.multipleSelectionController&&{isSelectionSingleChangeEvent:e=>f.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element})),isSelectionRangeChangeEvent:e=>f.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},accessibilityProvider:f.accessibilityProvider&&Object.assign(Object.assign({},f.accessibilityProvider),{getSetSize(e){const t=m(),i=t.getNodeLocation(e),n=t.getParentNodeLocation(i);return t.getNode(n).visibleChildrenCount},getPosInSet:e=>e.visibleChildIndex+1,isChecked:f.accessibilityProvider&&f.accessibilityProvider.isChecked?e=>f.accessibilityProvider.isChecked(e.element):void 0,getRole:f.accessibilityProvider&&f.accessibilityProvider.getRole?e=>f.accessibilityProvider.getRole(e.element):()=>"treeitem",getAriaLabel:e=>f.accessibilityProvider.getAriaLabel(e.element),getWidgetAriaLabel:()=>f.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:f.accessibilityProvider&&f.accessibilityProvider.getWidgetRole?()=>f.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:f.accessibilityProvider&&f.accessibilityProvider.getAriaLevel?e=>f.accessibilityProvider.getAriaLevel(e.element):e=>e.depth,getActiveDescendantId:f.accessibilityProvider.getActiveDescendantId&&(e=>f.accessibilityProvider.getActiveDescendantId(e.element))}),keyboardNavigationLabelProvider:f.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},f.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:e=>f.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)})}))),{tree:this})),this.model=this.createModel(e,this.view,s),h.input=this.model.onDidChangeCollapseState;const _=r.ju.forEach(this.model.onDidSplice,(e=>{this.eventBufferer.bufferEvents((()=>{this.focus.onDidModelSplice(e),this.selection.onDidModelSplice(e)}))}),this.disposables);if(_((()=>null),null,this.disposables),u.input=r.ju.chain(r.ju.any(_,this.focus.onDidChange,this.selection.onDidChange)).debounce((()=>null),0).map((()=>{const e=new Set;for(const t of this.focus.getNodes())e.add(t);for(const t of this.selection.getNodes())e.add(t);return[...e.values()]})).event,!1!==s.keyboardSupport){const e=r.ju.chain(this.view.onKeyDown).filter((e=>!(0,l.cK)(e.target))).map((e=>new v.y(e)));e.filter((e=>15===e.keyCode)).on(this.onLeftArrow,this,this.disposables),e.filter((e=>17===e.keyCode)).on(this.onRightArrow,this,this.disposables),e.filter((e=>10===e.keyCode)).on(this.onSpace,this,this.disposables)}(null===(d=s.findWidgetEnabled)||void 0===d||d)&&s.keyboardNavigationLabelProvider&&s.contextViewProvider?(this.findController=new H(this,this.model,this.view,p,s.contextViewProvider),this.focusNavigationFilter=e=>this.findController.shouldAllowFocus(e),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode):this.onDidChangeFindMode=r.ju.None,this.styleElement=(0,n.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===E.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return r.ju.filter(r.ju.map(this.view.onMouseDblClick,G),(e=>e.target!==f.Filter))}get onPointer(){return r.ju.map(this.view.onPointer,G)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return r.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var e,t;return null!==(t=null===(e=this.findController)||void 0===e?void 0:e.mode)&&void 0!==t?t:A.Highlight}set findMode(e){this.findController&&(this.findController.mode=e)}get expandOnDoubleClick(){return void 0===this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return void 0===this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(const t of this.renderers)t.updateOptions(e);this.view.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===E.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){var i;this.view.layout(e,t),(0,R.hj)(t)&&(null===(i=this.findController)||void 0===i||i.layout(t))}style(e){var t;const i=`.${this.view.domId}`,n=[];e.treeIndentGuidesStroke&&(n.push(`.monaco-list${i}:hover .monaco-tl-indent > .indent-guide, .monaco-list${i}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),n.push(`.monaco-list${i} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=n.join("\n"),null===(t=this.findController)||void 0===t||t.style(e),this.view.style(e)}getParentElement(e){const t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){const i=e.map((e=>this.model.getNode(e)));this.selection.set(i,t);const n=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setSelection(n,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){const i=e.map((e=>this.model.getNode(e)));this.focus.set(i,t);const n=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setFocus(n,t,!0)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);-1!==i&&this.view.reveal(i,t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!0)){const e=this.model.getParentNodeLocation(n);if(!e)return;const t=this.model.getListIndex(e);this.view.reveal(t),this.view.setFocus([t])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!1)){if(!i.children.some((e=>e.visible)))return;const[e]=this.view.getFocus(),t=e+1;this.view.reveal(t),this.view.setFocus([t])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(n,void 0,o)}dispose(){(0,a.B9)(this.disposables),this.view.dispose()}}class Q{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new I(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare:(e,t)=>i.sorter.compare(e.element,t.element)}),this.identityProvider=i.identityProvider}setChildren(e,t=S.$.empty(),i={}){const n=this.getElementLocation(e);this._setChildren(n,this.preserveCollapseState(t),i)}_setChildren(e,t=S.$.empty(),i){const n=new Set,o=new Set;this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},i),{onDidCreateNode:e=>{var t;if(null===e.element)return;const s=e;if(n.add(s.element),this.nodes.set(s.element,s),this.identityProvider){const e=this.identityProvider.getId(s.element).toString();o.add(e),this.nodesByIdentity.set(e,s)}null===(t=i.onDidCreateNode)||void 0===t||t.call(i,s)},onDidDeleteNode:e=>{var t;if(null===e.element)return;const s=e;if(n.has(s.element)||this.nodes.delete(s.element),this.identityProvider){const e=this.identityProvider.getId(s.element).toString();o.has(e)||this.nodesByIdentity.delete(e)}null===(t=i.onDidDeleteNode)||void 0===t||t.call(i,s)}}))}preserveCollapseState(e=S.$.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),S.$.map(e,(e=>{let t=this.nodes.get(e.element);if(!t&&this.identityProvider){const i=this.identityProvider.getId(e.element).toString();t=this.nodesByIdentity.get(i)}if(!t)return Object.assign(Object.assign({},e),{children:this.preserveCollapseState(e.children)});const i="boolean"==typeof e.collapsible?e.collapsible:t.collapsible,n=void 0!==e.collapsed?e.collapsed:t.collapsed;return Object.assign(Object.assign({},e),{collapsible:i,collapsed:n,children:this.preserveCollapseState(e.children)})}))}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(e=null){const t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getElementLocation(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(null===e)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new b(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(null===e)throw new b(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new b(this.user,`Tree element not found: ${e}`);const i=this.model.getNodeLocation(t),n=this.model.getParentNodeLocation(i);return this.model.getNode(n).element}getElementLocation(e){if(null===e)return[];const t=this.nodes.get(e);if(!t)throw new b(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function Z(e){return{element:{elements:[e.element],incompressible:e.incompressible||!1},children:S.$.map(S.$.from(e.children),Z),collapsible:e.collapsible,collapsed:e.collapsed}}function J(e){const t=[e.element],i=e.incompressible||!1;let n,o;for(;[o,n]=S.$.consume(S.$.from(e.children),2),1===o.length&&!o[0].incompressible;)e=o[0],t.push(e.element);return{element:{elements:t,incompressible:i},children:S.$.map(S.$.concat(o,n),J),collapsible:e.collapsible,collapsed:e.collapsed}}function X(e,t=0){let i;return i=t<e.element.elements.length-1?[X(e,t+1)]:S.$.map(S.$.from(e.children),(e=>X(e,0))),0===t&&e.element.incompressible?{element:e.element.elements[t],children:i,incompressible:!0,collapsible:e.collapsible,collapsed:e.collapsed}:{element:e.element.elements[t],children:i,collapsible:e.collapsible,collapsed:e.collapsed}}function ee(e){return X(e,0)}function te(e,t,i){return e.element===t?Object.assign(Object.assign({},e),{children:i}):Object.assign(Object.assign({},e),{children:S.$.map(S.$.from(e.children),(e=>te(e,t,i)))})}class ie{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new Q(e,t,i),this.enabled=void 0===i.compressionEnabled||i.compressionEnabled,this.identityProvider=i.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=S.$.empty(),i){const n=i.diffIdentityProvider&&(o=i.diffIdentityProvider,{getId:e=>e.elements.map((e=>o.getId(e).toString())).join("\0")});var o;if(null===e){const e=S.$.map(t,this.enabled?J:Z);return void this._setChildren(null,e,{diffIdentityProvider:n,diffDepth:1/0})}const s=this.nodes.get(e);if(!s)throw new Error("Unknown compressed tree node");const r=this.model.getNode(s),a=this.model.getParentNodeLocation(s),l=this.model.getNode(a),d=te(ee(r),e,t),c=(this.enabled?J:Z)(d),h=l.children.map((e=>e===r?c:e));this._setChildren(l.element,h,{diffIdentityProvider:n,diffDepth:r.depth-l.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const t=this.model.getNode().children,i=S.$.map(t,ee),n=S.$.map(i,e?J:Z);this._setChildren(null,n,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const n=new Set;this.model.setChildren(e,t,Object.assign(Object.assign({},i),{onDidCreateNode:e=>{for(const t of e.element.elements)n.add(t),this.nodes.set(t,e.element)},onDidDeleteNode:e=>{for(const t of e.element.elements)n.has(t)||this.nodes.delete(t)}}))}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(void 0===e)return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return null===t?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return null===i?null:i.elements[i.elements.length-1]}getFirstElementChild(e){const t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getCompressedNode(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(null===e)return null;const t=this.nodes.get(e);if(!t)throw new b(this.user,`Tree element not found: ${e}`);return t}}const ne=e=>e[e.length-1];class oe{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map((e=>new oe(this.unwrapper,e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class se{constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||ne;const n=e=>this.elementMapper(e.elements);this.nodeMapper=new C((e=>new oe(n,e))),this.model=new ie(e,function(e,t){return{splice(i,n,o){t.splice(i,n,o.map((t=>e.map(t))))},updateElementHeight(e,i){t.updateElementHeight(e,i)}}}(this.nodeMapper,t),function(e,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId:i=>t.identityProvider.getId(e(i))},sorter:t.sorter&&{compare:(e,i)=>t.sorter.compare(e.elements[0],i.elements[0])},filter:t.filter&&{filter:(i,n)=>t.filter.filter(e(i),n)}})}(n,i))}get onDidSplice(){return r.ju.map(this.model.onDidSplice,(({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map((e=>this.nodeMapper.map(e))),deletedNodes:t.map((e=>this.nodeMapper.map(e)))})))}get onDidChangeCollapseState(){return r.ju.map(this.model.onDidChangeCollapseState,(({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t})))}get onDidChangeRenderNodeCount(){return r.ju.map(this.model.onDidChangeRenderNodeCount,(e=>this.nodeMapper.map(e)))}setChildren(e,t=S.$.empty(),i={}){this.model.setChildren(e,t,i)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){const t=this.model.getFirstElementChild(e);return null==t?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}var re=i(9898);class ae extends Y{constructor(e,t,i,n,o={}){super(e,t,i,n,o),this.user=e}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=S.$.empty(),i){this.model.setChildren(e,t,i)}rerender(e){void 0!==e?this.model.rerender(e):this.view.rerender()}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new Q(e,t,i)}}class le{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){const o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);1===o.element.elements.length?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,n)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,n))}disposeElement(e,t,i,n){var o,s,r,a;i.compressedTreeNode?null===(s=(o=this.renderer).disposeCompressedElements)||void 0===s||s.call(o,i.compressedTreeNode,t,i.data,n):null===(a=(r=this.renderer).disposeElement)||void 0===a||a.call(r,e,t,i.data,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}!function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);s>3&&r&&Object.defineProperty(t,i,r)}([re.H],le.prototype,"compressedTreeNodeProvider",null);class de extends ae{constructor(e,t,i,n,o={}){const s=()=>this;super(e,t,i,n.map((e=>new le(s,e))),function(e,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(i){let n;try{n=e().getCompressedTreeNode(i)}catch(e){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i)}return 1===n.element.elements.length?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(n.element.elements)}}})}(s,o))}setChildren(e,t=S.$.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new se(e,t,i)}updateOptions(e={}){super.updateOptions(e),void 0!==e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}var ce=i(7301),he=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function ue(e){return Object.assign(Object.assign({},e),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function ge(e,t){return!!t.parent&&(t.parent===e||ge(e,t.parent))}class pe{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map((e=>new pe(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class me{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...D.lA.treeItemLoading.classNamesArray),!0):(t.classList.remove(...D.lA.treeItemLoading.classNamesArray),!1)}disposeElement(e,t,i,n){var o,s;null===(s=(o=this.renderer).disposeElement)||void 0===s||s.call(o,this.nodeMapper.map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function fe(e){return{browserEvent:e.browserEvent,elements:e.elements.map((e=>e.element))}}function ve(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element,target:e.target}}class _e extends _.kX{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function be(e){return e instanceof _.kX?new _e(e):e}class Ce{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){var i,n;null===(n=(i=this.dnd).onDragStart)||void 0===n||n.call(i,be(e),t)}onDragOver(e,t,i,n,o=!0){return this.dnd.onDragOver(be(e),t&&t.element,i,n)}drop(e,t,i,n){this.dnd.drop(be(e),t&&t.element,i,n)}onDragEnd(e){var t,i;null===(i=(t=this.dnd).onDragEnd)||void 0===i||i.call(t,e)}}function ye(e){return e&&Object.assign(Object.assign({},e),{collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:t=>e.identityProvider.getId(t.element)},dnd:e.dnd&&new Ce(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:t=>e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element})),isSelectionRangeChangeEvent:t=>e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",isChecked:e.accessibilityProvider.isChecked?t=>{var i;return!!(null===(i=e.accessibilityProvider)||void 0===i?void 0:i.isChecked(t.element))}:void 0,getAriaLabel:t=>e.accessibilityProvider.getAriaLabel(t.element),getWidgetAriaLabel:()=>e.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider.getAriaLevel&&(t=>e.accessibilityProvider.getAriaLevel(t.element)),getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),filter:e.filter&&{filter:(t,i)=>e.filter.filter(t.element,i)},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===e.expandOnlyOnTwistieClick?void 0:"function"!=typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:t=>e.expandOnlyOnTwistieClick(t.element),additionalScrollHeight:e.additionalScrollHeight})}function we(e,t){t(e),e.children.forEach((e=>we(e,t)))}class Se{constructor(e,t,i,n,o,s={}){this.user=e,this.dataSource=o,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new r.Q5,this._onDidChangeNodeSlowState=new r.Q5,this.nodeMapper=new C((e=>new pe(e))),this.disposables=new a.SL,this.identityProvider=s.identityProvider,this.autoExpandSingleChildren=void 0!==s.autoExpandSingleChildren&&s.autoExpandSingleChildren,this.sorter=s.sorter,this.collapseByDefault=s.collapseByDefault,this.tree=this.createTree(e,t,i,n,s),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=ue({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return r.ju.map(this.tree.onDidChangeFocus,fe)}get onDidChangeSelection(){return r.ju.map(this.tree.onDidChangeSelection,fe)}get onMouseDblClick(){return r.ju.map(this.tree.onMouseDblClick,ve)}get onPointer(){return r.ju.map(this.tree.onPointer,ve)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,n,o){const s=new W(i),r=n.map((e=>new me(e,this.nodeMapper,this._onDidChangeNodeSlowState.event))),a=ye(o)||{};return new ae(e,t,s,r,a)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return he(this,void 0,void 0,(function*(){this.refreshPromises.forEach((e=>e.cancel())),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&"number"==typeof t.scrollTop&&(this.scrollTop=t.scrollTop)}))}_updateChildren(e=this.root.element,t=!0,i=!1,n,o){return he(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new b(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield r.ju.toPromise(this._onDidRender.event));const s=this.getDataNode(e);if(yield this.refreshAndRenderNode(s,t,n,o),i)try{this.tree.rerender(s)}catch(e){}}))}rerender(e){if(void 0===e||e===this.root.element)return void this.tree.rerender();const t=this.getDataNode(e);this.tree.rerender(t)}getNode(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}expand(e,t=!1){return he(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new b(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield r.ju.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i))return!1;if(i.refreshPromise&&(yield this.root.refreshPromise,yield r.ju.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i))return!1;const n=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(yield this.root.refreshPromise,yield r.ju.toPromise(this._onDidRender.event)),n}))}setSelection(e,t){const i=e.map((e=>this.getDataNode(e)));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map((e=>e.element))}setFocus(e,t){const i=e.map((e=>this.getDataNode(e)));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map((e=>e.element))}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){const t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new b(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,i,n){return he(this,void 0,void 0,(function*(){yield this.refreshNode(e,t,i),this.render(e,i,n)}))}refreshNode(e,t,i){return he(this,void 0,void 0,(function*(){let n;return this.subTreeRefreshPromises.forEach(((o,s)=>{!n&&function(e,t){return e===t||ge(e,t)||ge(t,e)}(s,e)&&(n=o.then((()=>this.refreshNode(e,t,i))))})),n||(e!==this.root&&this.tree.getNode(e).collapsed?(e.hasChildren=!!this.dataSource.hasChildren(e.element),void(e.stale=!0)):this.doRefreshSubTree(e,t,i))}))}doRefreshSubTree(e,t,i){return he(this,void 0,void 0,(function*(){let n;e.refreshPromise=new Promise((e=>n=e)),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally((()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)}));try{const o=yield this.doRefreshNode(e,t,i);e.stale=!1,yield y.jT.settled(o.map((e=>this.doRefreshSubTree(e,t,i))))}finally{n()}}))}doRefreshNode(e,t,i){return he(this,void 0,void 0,(function*(){let n;if(e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren){const t=this.doGetChildren(e);if((0,R.TW)(t))n=Promise.resolve(t);else{const i=(0,y.Vs)(800);i.then((()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)}),(e=>null)),n=t.finally((()=>i.cancel()))}}else n=Promise.resolve(S.$.empty());try{const o=yield n;return this.setChildren(e,o,t,i)}catch(t){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),(0,ce.n2)(t))return[];throw t}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}))}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;const i=this.dataSource.getChildren(e.element);return(0,R.TW)(i)?this.processChildren(i):(t=(0,y.PG)((()=>he(this,void 0,void 0,(function*(){return this.processChildren(yield i)})))),this.refreshPromises.set(e,t),t.finally((()=>{this.refreshPromises.delete(e)})))}_onDidChangeCollapseState({node:e,deep:t}){null!==e.element&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(ce.dL))}setChildren(e,t,i,n){const o=[...t];if(0===e.children.length&&0===o.length)return[];const s=new Map,r=new Map;for(const t of e.children)if(s.set(t.element,t),this.identityProvider){const e=this.tree.isCollapsed(t);r.set(t.id,{node:t,collapsed:e})}const a=[],l=o.map((t=>{const o=!!this.dataSource.hasChildren(t);if(!this.identityProvider){const i=ue({element:t,parent:e,hasChildren:o});return o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(i.collapsedByDefault=!1,a.push(i)),i}const l=this.identityProvider.getId(t).toString(),d=r.get(l);if(d){const e=d.node;return s.delete(e.element),this.nodes.delete(e.element),this.nodes.set(t,e),e.element=t,e.hasChildren=o,i?d.collapsed?(e.children.forEach((e=>we(e,(e=>this.nodes.delete(e.element))))),e.children.splice(0,e.children.length),e.stale=!0):a.push(e):o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(e.collapsedByDefault=!1,a.push(e)),e}const c=ue({element:t,parent:e,id:l,hasChildren:o});return n&&n.viewState.focus&&n.viewState.focus.indexOf(l)>-1&&n.focus.push(c),n&&n.viewState.selection&&n.viewState.selection.indexOf(l)>-1&&n.selection.push(c),n&&n.viewState.expanded&&n.viewState.expanded.indexOf(l)>-1?a.push(c):o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(c.collapsedByDefault=!1,a.push(c)),c}));for(const e of s.values())we(e,(e=>this.nodes.delete(e.element)));for(const e of l)this.nodes.set(e.element,e);return e.children.splice(0,e.children.length,...l),e!==this.root&&this.autoExpandSingleChildren&&1===l.length&&0===a.length&&(l[0].collapsedByDefault=!1,a.push(l[0])),a}render(e,t,i){const n=e.children.map((e=>this.asTreeElement(e,t))),o=i&&Object.assign(Object.assign({},i),{diffIdentityProvider:i.diffIdentityProvider&&{getId:e=>i.diffIdentityProvider.getId(e.element)}});this.tree.setChildren(e===this.root?null:e,n,o),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return i=!(t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1)&&e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?S.$.map(e.children,(e=>this.asTreeElement(e,t))):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose()}}class ke{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map((e=>e.element)),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map((e=>new ke(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Le{constructor(e,t,i,n){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderCompressedElements(e,t,i,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...D.lA.treeItemLoading.classNamesArray),!0):(t.classList.remove(...D.lA.treeItemLoading.classNamesArray),!1)}disposeElement(e,t,i,n){var o,s;null===(s=(o=this.renderer).disposeElement)||void 0===s||s.call(o,this.nodeMapper.map(e),t,i.templateData,n)}disposeCompressedElements(e,t,i,n){var o,s;null===(s=(o=this.renderer).disposeCompressedElements)||void 0===s||s.call(o,this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,a.B9)(this.disposables)}}class xe extends Se{constructor(e,t,i,n,o,s,r={}){super(e,t,i,o,s,r),this.compressionDelegate=n,this.compressibleNodeMapper=new C((e=>new ke(e))),this.filter=r.filter}createTree(e,t,i,n,o){const s=new W(i),r=n.map((e=>new Le(e,this.nodeMapper,(()=>this.compressibleNodeMapper),this._onDidChangeNodeSlowState.event))),a=function(e){const t=e&&ye(e);return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},t.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map((e=>e.element)))})})}(o)||{};return new de(e,t,s,r,a)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const i=e=>this.identityProvider.getId(e).toString(),n=e=>{const t=new Set;for(const n of e){const e=this.tree.getCompressedTreeNode(n===this.root?null:n);if(e.element)for(const n of e.element.elements)t.add(i(n.element))}return t},o=n(this.tree.getSelection()),s=n(this.tree.getFocus());super.render(e,t);const r=this.getSelection();let a=!1;const l=this.getFocus();let d=!1;const c=e=>{const t=e.element;if(t)for(let e=0;e<t.elements.length;e++){const n=i(t.elements[e].element),c=t.elements[t.elements.length-1].element;o.has(n)&&-1===r.indexOf(c)&&(r.push(c),a=!0),s.has(n)&&-1===l.indexOf(c)&&(l.push(c),d=!0)}e.children.forEach(c)};c(this.tree.getCompressedTreeNode(e===this.root?null:e)),a&&this.setSelection(r),d&&this.setFocus(l)}processChildren(e){return this.filter&&(e=S.$.filter(e,(e=>{const t="boolean"==typeof(i=this.filter.filter(e,1))?i?1:0:k(i)?L(i.visibility):L(i);var i;if(2===t)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===t}))),super.processChildren(e)}}class Ie extends Y{constructor(e,t,i,n,o,s={}){super(e,t,i,n,s),this.user=e,this.dataSource=o,this.identityProvider=s.identityProvider}createModel(e,t,i){return new Q(e,t,i)}}var De=i(3108),Ne=i(3193),Ee=i(8819),Ae=i(9282),Te=i(5606),Me=i(2065),Re=i(1847),Pe=i(9872),Oe=i(8810),Ve=i(7781),Fe=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},We=function(e,t){return function(i,n){t(i,n,e)}};const ze=(0,Me.yh)("listService");let Be=class{constructor(e){this._themeService=e,this.disposables=new a.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(e){var t,i;e!==this._lastFocusedWidget&&(null===(t=this._lastFocusedWidget)||void 0===t||t.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,null===(i=this._lastFocusedWidget)||void 0===i||i.getHTMLElement().classList.add("last-focused"))}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const e=new l.wD((0,n.dS)(),"");this.disposables.add((0,Oe.Jl)(e,this._themeService))}if(this.lists.some((t=>t.widget===e)))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&this.setLastFocusedList(e),(0,a.F8)(e.onDidFocus((()=>this.setLastFocusedList(e))),(0,a.OF)((()=>this.lists.splice(this.lists.indexOf(i),1))),e.onDidDispose((()=>{this.lists=this.lists.filter((e=>e!==i)),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)})))}dispose(){this.disposables.dispose()}};Be=Fe([We(0,Ve.XE)],Be);const Ue=new Ee.uy("listFocus",!0),He=new Ee.uy("listSupportsMultiselect",!0),Ge=Ee.Ao.and(Ue,Ee.Ao.not(Ae.d0)),je=new Ee.uy("listHasSelectionOrFocus",!1),Ke=new Ee.uy("listDoubleSelection",!1),$e=new Ee.uy("listMultiSelection",!1),qe=new Ee.uy("listSelectionNavigation",!1),Ye=new Ee.uy("listSupportsFind",!0),Qe=new Ee.uy("treeElementCanCollapse",!1),Ze=new Ee.uy("treeElementHasParent",!1),Je=new Ee.uy("treeElementCanExpand",!1),Xe=new Ee.uy("treeElementHasChild",!1),et=new Ee.uy("treeFindOpen",!1),tt="listTypeNavigationMode",it="listAutomaticKeyboardNavigation";function nt(e,t){const i=e.createScoped(t.getHTMLElement());return Ue.bindTo(i),i}const ot="workbench.list.multiSelectModifier",st="workbench.list.openMode",rt="workbench.list.horizontalScrolling",at="workbench.list.defaultFindMode",lt="workbench.list.keyboardNavigation",dt="workbench.tree.indent",ct="workbench.tree.renderIndentGuides",ht="workbench.list.smoothScrolling",ut="workbench.list.mouseWheelScrollSensitivity",gt="workbench.list.fastScrollSensitivity",pt="workbench.tree.expandMode";function mt(e){return"alt"===e.getValue(ot)}class ft extends a.JT{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=mt(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration(ot)&&(this.useAltAsMultipleSelectionModifier=mt(this.configurationService))})))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:(0,l.Zo)(e)}isSelectionRangeChangeEvent(e){return(0,l.wn)(e)}}function vt(e,t){var i;const n=e.get(De.Ui),o=e.get(Re.d),s=new a.SL;return[Object.assign(Object.assign({},t),{keyboardNavigationDelegate:{mightProducePrintableCharacter:e=>o.mightProducePrintableCharacter(e)},smoothScrolling:Boolean(n.getValue(ht)),mouseWheelScrollSensitivity:n.getValue(ut),fastScrollSensitivity:n.getValue(gt),multipleSelectionController:null!==(i=t.multipleSelectionController)&&void 0!==i?i:s.add(new ft(n)),keyboardNavigationEventFilter:Lt(o)}),s]}let _t=class extends l.aV{constructor(e,t,i,n,o,s,r,a,l,d){const c=void 0!==o.horizontalScrolling?o.horizontalScrolling:Boolean(l.getValue(rt)),[h,u]=d.invokeFunction(vt,o);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Oe.o)(a.getColorTheme(),Oe.O2)),h),{horizontalScrolling:c})),this.disposables.add(u),this.contextKeyService=nt(s,this),this.themeService=a,this.listSupportsMultiSelect=He.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==o.multipleSelectionSupport),qe.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this.listHasSelectionOrFocus=je.bindTo(this.contextKeyService),this.listDoubleSelection=Ke.bindTo(this.contextKeyService),this.listMultiSelection=$e.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=mt(l),this.disposables.add(this.contextKeyService),this.disposables.add(r.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(l.onDidChangeConfiguration((e=>{e.affectsConfiguration(ot)&&(this._useAltAsMultipleSelectionModifier=mt(l));let t={};if(e.affectsConfiguration(rt)&&void 0===this.horizontalScrolling){const e=Boolean(l.getValue(rt));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(ht)){const e=Boolean(l.getValue(ht));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(ut)){const e=l.getValue(ut);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(gt)){const e=l.getValue(gt);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new wt(this,Object.assign({configurationService:l},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=(0,Oe.Jl)(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),super.dispose()}};_t=Fe([We(5,Ee.i6),We(6,ze),We(7,Ve.XE),We(8,De.Ui),We(9,Me.TG)],_t);let bt=class extends h{constructor(e,t,i,n,o,s,r,l,d,c){const h=void 0!==o.horizontalScrolling?o.horizontalScrolling:Boolean(d.getValue(rt)),[u,g]=c.invokeFunction(vt,o);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Oe.o)(l.getColorTheme(),Oe.O2)),u),{horizontalScrolling:h})),this.disposables=new a.SL,this.disposables.add(g),this.contextKeyService=nt(s,this),this.themeService=l,this.horizontalScrolling=o.horizontalScrolling,this.listSupportsMultiSelect=He.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==o.multipleSelectionSupport),qe.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this._useAltAsMultipleSelectionModifier=mt(d),this.disposables.add(this.contextKeyService),this.disposables.add(r.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),o.overrideStyles&&this.disposables.add((0,Oe.Jl)(this,l,o.overrideStyles)),this.disposables.add(d.onDidChangeConfiguration((e=>{e.affectsConfiguration(ot)&&(this._useAltAsMultipleSelectionModifier=mt(d));let t={};if(e.affectsConfiguration(rt)&&void 0===this.horizontalScrolling){const e=Boolean(d.getValue(rt));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(ht)){const e=Boolean(d.getValue(ht));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(ut)){const e=d.getValue(ut);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(gt)){const e=d.getValue(gt);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new wt(this,Object.assign({configurationService:d},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=(0,Oe.Jl)(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};bt=Fe([We(5,Ee.i6),We(6,ze),We(7,Ve.XE),We(8,De.Ui),We(9,Me.TG)],bt);let Ct=class extends m{constructor(e,t,i,n,o,s,r,a,l,d,c){const h=void 0!==s.horizontalScrolling?s.horizontalScrolling:Boolean(d.getValue(rt)),[u,g]=c.invokeFunction(vt,s);super(e,t,i,n,o,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Oe.o)(l.getColorTheme(),Oe.O2)),u),{horizontalScrolling:h})),this.disposables.add(g),this.contextKeyService=nt(r,this),this.themeService=l,this.listSupportsMultiSelect=He.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==s.multipleSelectionSupport),qe.bindTo(this.contextKeyService).set(Boolean(s.selectionNavigation)),this.listHasSelectionOrFocus=je.bindTo(this.contextKeyService),this.listDoubleSelection=Ke.bindTo(this.contextKeyService),this.listMultiSelection=$e.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=mt(d),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(d.onDidChangeConfiguration((e=>{e.affectsConfiguration(ot)&&(this._useAltAsMultipleSelectionModifier=mt(d));let t={};if(e.affectsConfiguration(rt)&&void 0===this.horizontalScrolling){const e=Boolean(d.getValue(rt));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(ht)){const e=Boolean(d.getValue(ht));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(ut)){const e=d.getValue(ut);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(gt)){const e=d.getValue(gt);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new St(this,Object.assign({configurationService:d},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=(0,Oe.Jl)(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};Ct=Fe([We(6,Ee.i6),We(7,ze),We(8,Ve.XE),We(9,De.Ui),We(10,Me.TG)],Ct);class yt extends a.JT{constructor(e,t){var i;super(),this.widget=e,this._onDidOpen=this._register(new r.Q5),this.onDidOpen=this._onDidOpen.event,this._register(r.ju.filter(this.widget.onDidChangeSelection,(e=>e.browserEvent instanceof KeyboardEvent))((e=>this.onSelectionFromKeyboard(e)))),this._register(this.widget.onPointer((e=>this.onPointer(e.element,e.browserEvent)))),this._register(this.widget.onMouseDblClick((e=>this.onMouseDblClick(e.element,e.browserEvent)))),"boolean"!=typeof(null==t?void 0:t.openOnSingleClick)&&(null==t?void 0:t.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue(st)),this._register(null==t?void 0:t.configurationService.onDidChangeConfiguration((()=>{this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue(st))})))):this.openOnSingleClick=null===(i=null==t?void 0:t.openOnSingleClick)||void 0===i||i}onSelectionFromKeyboard(e){if(1!==e.elements.length)return;const t=e.browserEvent,i="boolean"!=typeof t.preserveFocus||t.preserveFocus,n="boolean"==typeof t.pinned?t.pinned:!i;this._open(this.getSelectedElement(),i,n,!1,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick)return;if(2===t.detail)return;const i=1===t.button,n=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!0,i,n,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;const n=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!1,!0,n,t)}_open(e,t,i,n,o){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:n,element:e,browserEvent:o})}}class wt extends yt{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class St extends yt{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class kt extends yt{constructor(e,t){super(e,t)}getSelectedElement(){var e;return null!==(e=this.widget.getSelection()[0])&&void 0!==e?e:void 0}}function Lt(e){let t=!1;return i=>{if(i.toKeybinding().isModifierKey())return!1;if(t)return t=!1,!1;const n=e.softDispatch(i,i.target);return(null==n?void 0:n.enterChord)?(t=!0,!1):(t=!1,!n)}}let xt=class extends ae{constructor(e,t,i,n,o,s,r,a,l,d){const{options:c,getTypeNavigationMode:h,disposable:u}=s.invokeFunction(Tt,o);super(e,t,i,n,c),this.disposables.add(u),this.internals=new Mt(this,o,h,o.overrideStyles,r,a,l,d),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};xt=Fe([We(5,Me.TG),We(6,Ee.i6),We(7,ze),We(8,Ve.XE),We(9,De.Ui)],xt);let It=class extends de{constructor(e,t,i,n,o,s,r,a,l,d){const{options:c,getTypeNavigationMode:h,disposable:u}=s.invokeFunction(Tt,o);super(e,t,i,n,c),this.disposables.add(u),this.internals=new Mt(this,o,h,o.overrideStyles,r,a,l,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};It=Fe([We(5,Me.TG),We(6,Ee.i6),We(7,ze),We(8,Ve.XE),We(9,De.Ui)],It);let Dt=class extends Ie{constructor(e,t,i,n,o,s,r,a,l,d,c){const{options:h,getTypeNavigationMode:u,disposable:g}=r.invokeFunction(Tt,s);super(e,t,i,n,o,h),this.disposables.add(g),this.internals=new Mt(this,s,u,s.overrideStyles,a,l,d,c),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Dt=Fe([We(6,Me.TG),We(7,Ee.i6),We(8,ze),We(9,Ve.XE),We(10,De.Ui)],Dt);let Nt=class extends Se{constructor(e,t,i,n,o,s,r,a,l,d,c){const{options:h,getTypeNavigationMode:u,disposable:g}=r.invokeFunction(Tt,s);super(e,t,i,n,o,h),this.disposables.add(g),this.internals=new Mt(this,s,u,s.overrideStyles,a,l,d,c),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Nt=Fe([We(6,Me.TG),We(7,Ee.i6),We(8,ze),We(9,Ve.XE),We(10,De.Ui)],Nt);let Et=class extends xe{constructor(e,t,i,n,o,s,r,a,l,d,c,h){const{options:u,getTypeNavigationMode:g,disposable:p}=a.invokeFunction(Tt,r);super(e,t,i,n,o,s,u),this.disposables.add(p),this.internals=new Mt(this,r,g,r.overrideStyles,l,d,c,h),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};function At(e){const t=e.getValue(at);if("highlight"===t)return A.Highlight;if("filter"===t)return A.Filter;const i=e.getValue(lt);return"simple"===i||"highlight"===i?A.Highlight:"filter"===i?A.Filter:void 0}function Tt(e,t){var i;const n=e.get(De.Ui),o=e.get(Te.u),s=e.get(Ee.i6),r=e.get(Me.TG),a=void 0!==t.horizontalScrolling?t.horizontalScrolling:Boolean(n.getValue(rt)),[d,c]=r.invokeFunction(vt,t),h=t.additionalScrollHeight;return{getTypeNavigationMode:()=>{const e=s.getContextKeyValue(tt);return"automatic"===e?l.AA.Automatic:"trigger"===e||!1===s.getContextKeyValue(it)?l.AA.Trigger:void 0},disposable:c,options:Object.assign(Object.assign({keyboardSupport:!1},d),{indent:"number"==typeof n.getValue(dt)?n.getValue(dt):void 0,renderIndentGuides:n.getValue(ct),smoothScrolling:Boolean(n.getValue(ht)),defaultFindMode:At(n),horizontalScrolling:a,additionalScrollHeight:h,hideTwistiesOfChildlessElements:t.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(i=t.expandOnlyOnTwistieClick)&&void 0!==i?i:"doubleClick"===n.getValue(pt),contextViewProvider:o})}}Et=Fe([We(7,Me.TG),We(8,Ee.i6),We(9,ze),We(10,Ve.XE),We(11,De.Ui)],Et);let Mt=class{constructor(e,t,i,n,o,s,r,a){var l;this.tree=e,this.themeService=r,this.disposables=[],this.contextKeyService=nt(o,e),this.listSupportsMultiSelect=He.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==t.multipleSelectionSupport),qe.bindTo(this.contextKeyService).set(Boolean(t.selectionNavigation)),this.listSupportFindWidget=Ye.bindTo(this.contextKeyService),this.listSupportFindWidget.set(null===(l=t.findWidgetEnabled)||void 0===l||l),this.hasSelectionOrFocus=je.bindTo(this.contextKeyService),this.hasDoubleSelection=Ke.bindTo(this.contextKeyService),this.hasMultiSelection=$e.bindTo(this.contextKeyService),this.treeElementCanCollapse=Qe.bindTo(this.contextKeyService),this.treeElementHasParent=Ze.bindTo(this.contextKeyService),this.treeElementCanExpand=Je.bindTo(this.contextKeyService),this.treeElementHasChild=Xe.bindTo(this.contextKeyService),this.treeFindOpen=et.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=mt(a),this.updateStyleOverrides(n);const d=()=>{const t=e.getFocus()[0];if(!t)return;const i=e.getNode(t);this.treeElementCanCollapse.set(i.collapsible&&!i.collapsed),this.treeElementHasParent.set(!!e.getParentElement(t)),this.treeElementCanExpand.set(i.collapsible&&i.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(t))},c=new Set;c.add(tt),c.add(it),this.disposables.push(this.contextKeyService,s.register(e),e.onDidChangeSelection((()=>{const t=e.getSelection(),i=e.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.hasSelectionOrFocus.set(t.length>0||i.length>0),this.hasMultiSelection.set(t.length>1),this.hasDoubleSelection.set(2===t.length)}))})),e.onDidChangeFocus((()=>{const t=e.getSelection(),i=e.getFocus();this.hasSelectionOrFocus.set(t.length>0||i.length>0),d()})),e.onDidChangeCollapseState(d),e.onDidChangeModel(d),e.onDidChangeFindOpenState((e=>this.treeFindOpen.set(e))),a.onDidChangeConfiguration((i=>{let n={};if(i.affectsConfiguration(ot)&&(this._useAltAsMultipleSelectionModifier=mt(a)),i.affectsConfiguration(dt)){const e=a.getValue(dt);n=Object.assign(Object.assign({},n),{indent:e})}if(i.affectsConfiguration(ct)){const e=a.getValue(ct);n=Object.assign(Object.assign({},n),{renderIndentGuides:e})}if(i.affectsConfiguration(ht)){const e=Boolean(a.getValue(ht));n=Object.assign(Object.assign({},n),{smoothScrolling:e})}if((i.affectsConfiguration(at)||i.affectsConfiguration(lt))&&e.updateOptions({defaultFindMode:At(a)}),i.affectsConfiguration(rt)&&void 0===t.horizontalScrolling){const e=Boolean(a.getValue(rt));n=Object.assign(Object.assign({},n),{horizontalScrolling:e})}if(i.affectsConfiguration(pt)&&void 0===t.expandOnlyOnTwistieClick&&(n=Object.assign(Object.assign({},n),{expandOnlyOnTwistieClick:"doubleClick"===a.getValue(pt)})),i.affectsConfiguration(ut)){const e=a.getValue(ut);n=Object.assign(Object.assign({},n),{mouseWheelScrollSensitivity:e})}if(i.affectsConfiguration(gt)){const e=a.getValue(gt);n=Object.assign(Object.assign({},n),{fastScrollSensitivity:e})}Object.keys(n).length>0&&e.updateOptions(n)})),this.contextKeyService.onDidChangeContext((t=>{t.affectsSome(c)&&e.updateOptions({typeNavigationMode:i()})}))),this.navigator=new kt(e,Object.assign({configurationService:a},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(e){void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){(0,a.B9)(this.styler),this.styler=e?(0,Oe.Jl)(this.tree,this.themeService,e):a.JT.None}dispose(){this.disposables=(0,a.B9)(this.disposables),(0,a.B9)(this.styler),this.styler=void 0}};Mt=Fe([We(4,Ee.i6),We(5,ze),We(6,Ve.XE),We(7,De.Ui)],Mt),Pe.B.as(Ne.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,P.NC)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[ot]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,P.NC)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,P.NC)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,P.NC)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[st]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,P.NC)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[rt]:{type:"boolean",default:!1,description:(0,P.NC)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[dt]:{type:"number",default:8,minimum:4,maximum:40,description:(0,P.NC)("tree indent setting","Controls tree indentation in pixels.")},[ct]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,P.NC)("render tree indent guides","Controls whether the tree should render indent guides.")},[ht]:{type:"boolean",default:!1,description:(0,P.NC)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[ut]:{type:"number",default:1,markdownDescription:(0,P.NC)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[gt]:{type:"number",default:5,description:(0,P.NC)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[at]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,P.NC)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,P.NC)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,P.NC)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[lt]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,P.NC)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,P.NC)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,P.NC)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,P.NC)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,P.NC)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' instead.")},[pt]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,P.NC)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},3557:(e,t,i)=>{"use strict";i.d(t,{$V:()=>c,VZ:()=>s,in:()=>r,kw:()=>d});var n=i(4669),o=i(5976);const s=(0,i(2065).yh)("logService");var r;!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.Off=6]="Off"}(r||(r={}));const a=r.Info;class l extends o.JT{constructor(){super(...arguments),this.level=a,this._onDidChangeLogLevel=this._register(new n.Q5)}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class d extends l{constructor(e=a){super(),this.setLevel(e)}trace(e,...t){this.getLevel()<=r.Trace&&console.log("%cTRACE","color: #888",e,...t)}debug(e,...t){this.getLevel()<=r.Debug&&console.log("%cDEBUG","background: #eee; color: #888",e,...t)}info(e,...t){this.getLevel()<=r.Info&&console.log("%c INFO","color: #33f",e,...t)}error(e,...t){this.getLevel()<=r.Error&&console.log("%c  ERR","color: #f33",e,...t)}dispose(){}}class c extends o.JT{constructor(e){super(),this.logger=e,this._register(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}error(e,...t){this.logger.error(e,...t)}}},8674:(e,t,i)=>{"use strict";i.d(t,{H0:()=>o,ZL:()=>n,lT:()=>l});var n,o,s=i(4603),r=i(3580),a=i(2065);!function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(n||(n={})),function(e){e.compare=function(e,t){return t-e};const t=Object.create(null);t[e.Error]=(0,r.NC)("sev.error","Error"),t[e.Warning]=(0,r.NC)("sev.warning","Warning"),t[e.Info]=(0,r.NC)("sev.info","Info"),e.toString=function(e){return t[e]||""},e.fromSeverity=function(t){switch(t){case s.Z.Error:return e.Error;case s.Z.Warning:return e.Warning;case s.Z.Info:return e.Info;case s.Z.Ignore:return e.Hint}},e.toSeverity=function(t){switch(t){case e.Error:return s.Z.Error;case e.Warning:return s.Z.Warning;case e.Info:return s.Z.Info;case e.Hint:return s.Z.Ignore}}}(n||(n={})),function(e){const t="";function i(e,i){const o=[t];return e.source?o.push(e.source.replace("","\\")):o.push(t),e.code?"string"==typeof e.code?o.push(e.code.replace("","\\")):o.push(e.code.value.replace("","\\")):o.push(t),void 0!==e.severity&&null!==e.severity?o.push(n.toString(e.severity)):o.push(t),e.message&&i?o.push(e.message.replace("","\\")):o.push(t),void 0!==e.startLineNumber&&null!==e.startLineNumber?o.push(e.startLineNumber.toString()):o.push(t),void 0!==e.startColumn&&null!==e.startColumn?o.push(e.startColumn.toString()):o.push(t),void 0!==e.endLineNumber&&null!==e.endLineNumber?o.push(e.endLineNumber.toString()):o.push(t),void 0!==e.endColumn&&null!==e.endColumn?o.push(e.endColumn.toString()):o.push(t),o.push(t),o.join("")}e.makeKey=function(e){return i(e,!0)},e.makeKeyOptionalMessage=i}(o||(o={}));const l=(0,a.yh)("markerService")},9422:(e,t,i)=>{"use strict";i.d(t,{EO:()=>a,lT:()=>r,zb:()=>s});var n=i(4603),o=i(2065),s=n.Z;const r=(0,o.yh)("notificationService");class a{}},988:(e,t,i)=>{"use strict";i.d(t,{Gs:()=>h,SW:()=>d,v4:()=>l,xI:()=>u,xn:()=>c});var n=i(5976),o=i(7295),s=i(666),r=i(2065),a=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const l=(0,r.yh)("openerService"),d=Object.freeze({_serviceBrand:void 0,registerOpener:()=>n.JT.None,registerValidator:()=>n.JT.None,registerExternalUriResolver:()=>n.JT.None,setDefaultExternalOpener(){},registerExternalOpener:()=>n.JT.None,open(){return a(this,void 0,void 0,(function*(){return!1}))},resolveExternalUri(e){return a(this,void 0,void 0,(function*(){return{resolved:e,dispose(){}}}))}});function c(e,t){return s.o.isUri(e)?(0,o.qq)(e.scheme,t):(0,o.ok)(e,t+":")}function h(e,...t){return t.some((t=>c(e,t)))}function u(e){let t;const i=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(e.fragment);return i&&(t={startLineNumber:parseInt(i[1]),startColumn:i[2]?parseInt(i[2]):1,endLineNumber:i[4]?parseInt(i[4]):void 0,endColumn:i[4]?i[5]?parseInt(i[5]):1:void 0},e=e.with({fragment:""})),{selection:t,uri:e}}},535:(e,t,i)=>{"use strict";i.d(t,{Ex:()=>s,R9:()=>o,ek:()=>r});var n=i(2065);const o=(0,n.yh)("progressService");Object.freeze({total(){},worked(){},done(){}});class s{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}}s.None=Object.freeze({report(){}});const r=(0,n.yh)("editorProgressService")},725:(e,t,i)=>{"use strict";i.d(t,{IP:()=>a,Ry:()=>n});var n,o=i(9488),s=i(5976),r=i(9872);!function(e){e[e.PRESERVE=0]="PRESERVE",e[e.LAST=1]="LAST"}(n||(n={}));const a={Quickaccess:"workbench.contributions.quickaccess"};r.B.add(a.Quickaccess,new class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return 0===e.prefix.length?this.defaultProvider=e:this.providers.push(e),this.providers.sort(((e,t)=>t.prefix.length-e.prefix.length)),(0,s.OF)((()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)}))}getQuickAccessProviders(){return(0,o.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find((t=>e.startsWith(t.prefix)))||this.defaultProvider}})},1157:(e,t,i)=>{"use strict";i.d(t,{eJ:()=>s,jG:()=>o.jG});var n=i(2065),o=i(7746);const s=(0,n.yh)("quickInputService")},9872:(e,t,i)=>{"use strict";i.d(t,{B:()=>s});var n=i(5146),o=i(8401);const s=new class{constructor(){this.data=new Map}add(e,t){n.ok(o.HD(e)),n.ok(o.Kn(t)),n.ok(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}},6904:(e,t,i)=>{"use strict";i.d(t,{Uy:()=>g,vm:()=>f,fk:()=>p});var n,o=i(4669),s=i(5976),r=i(8401),a=i(5393),l=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};!function(e){e[e.None=0]="None",e[e.Initialized=1]="Initialized",e[e.Closed=2]="Closed"}(n||(n={}));class d extends s.JT{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new o.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=n.None,this.cache=new Map,this.flushDelayer=new a.rH(d.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal((e=>this.onDidChangeItemsExternal(e))))}onDidChangeItemsExternal(e){var t,i;null===(t=e.changed)||void 0===t||t.forEach(((e,t)=>this.accept(t,e))),null===(i=e.deleted)||void 0===i||i.forEach((e=>this.accept(e,void 0)))}accept(e,t){if(this.state===n.Closed)return;let i=!1;(0,r.Jp)(t)?i=this.cache.delete(e):this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0),i&&this._onDidChangeStorage.fire(e)}get(e,t){const i=this.cache.get(e);return(0,r.Jp)(i)?t:i}getBoolean(e,t){const i=this.get(e);return(0,r.Jp)(i)?t:"true"===i}getNumber(e,t){const i=this.get(e);return(0,r.Jp)(i)?t:parseInt(i,10)}set(e,t){return l(this,void 0,void 0,(function*(){if(this.state===n.Closed)return;if((0,r.Jp)(t))return this.delete(e);const i=String(t);return this.cache.get(e)!==i?(this.cache.set(e,i),this.pendingInserts.set(e,i),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire(e),this.doFlush()):void 0}))}delete(e){return l(this,void 0,void 0,(function*(){if(this.state!==n.Closed)return this.cache.delete(e)?(this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire(e),this.doFlush()):void 0}))}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return l(this,void 0,void 0,(function*(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally((()=>{var e;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(e=this.whenFlushedCallbacks.pop())||void 0===e||e()}))}))}doFlush(e){return l(this,void 0,void 0,(function*(){return this.flushDelayer.trigger((()=>this.flushPending()),e)}))}dispose(){this.flushDelayer.dispose(),super.dispose()}}d.DEFAULT_FLUSH_DELAY=100;class c{constructor(){this.onDidChangeItemsExternal=o.ju.None,this.items=new Map}updateItems(e){var t,i;return l(this,void 0,void 0,(function*(){null===(t=e.insert)||void 0===t||t.forEach(((e,t)=>this.items.set(t,e))),null===(i=e.delete)||void 0===i||i.forEach((e=>this.items.delete(e)))}))}}var h=i(2065);const u="__$__targetStorageMarker",g=(0,h.yh)("storageService");var p;!function(e){e[e.NONE=0]="NONE",e[e.SHUTDOWN=1]="SHUTDOWN"}(p||(p={}));class m extends s.JT{constructor(e={flushInterval:m.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new o.K3),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new o.K3),this._onWillSaveState=this._register(new o.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(e,t){if(t===u){switch(e){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0}this._onDidChangeTarget.fire({scope:e})}else this._onDidChangeValue.fire({scope:e,key:t,target:this.getKeyTargets(e)[t]})}get(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.get(e,i)}getBoolean(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.getBoolean(e,i)}getNumber(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.getNumber(e,i)}store(e,t,i,n){(0,r.Jp)(t)?this.remove(e,i):this.withPausedEmitters((()=>{var o;this.updateKeyTarget(e,i,n),null===(o=this.getStorage(i))||void 0===o||o.set(e,t)}))}remove(e,t){this.withPausedEmitters((()=>{var i;this.updateKeyTarget(e,t,void 0),null===(i=this.getStorage(t))||void 0===i||i.delete(e)}))}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i){var n,o;const s=this.getKeyTargets(t);"number"==typeof i?s[e]!==i&&(s[e]=i,null===(n=this.getStorage(t))||void 0===n||n.set(u,JSON.stringify(s))):"number"==typeof s[e]&&(delete s[e],null===(o=this.getStorage(t))||void 0===o||o.set(u,JSON.stringify(s)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(e){switch(e){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(e){const t=this.get(u,e);if(t)try{return JSON.parse(t)}catch(e){}return Object.create(null)}}m.DEFAULT_FLUSH_INTERVAL=6e4;class f extends m{constructor(){super(),this.applicationStorage=this._register(new d(new c)),this.profileStorage=this._register(new d(new c)),this.workspaceStorage=this._register(new d(new c)),this._register(this.workspaceStorage.onDidChangeStorage((e=>this.emitDidChangeValue(1,e)))),this._register(this.profileStorage.onDidChangeStorage((e=>this.emitDidChangeValue(0,e)))),this._register(this.applicationStorage.onDidChangeStorage((e=>this.emitDidChangeValue(-1,e))))}getStorage(e){switch(e){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},829:(e,t,i)=>{"use strict";i.d(t,{b:()=>n});const n=(0,i(2065).yh)("telemetryService")},3910:(e,t,i)=>{"use strict";i.d(t,{$DX:()=>Gt,$d5:()=>St,ABB:()=>Q,AS1:()=>kt,AWI:()=>Se,BOY:()=>mi,Bqu:()=>gt,C3g:()=>P,CA6:()=>hi,CNo:()=>We,Cdg:()=>zt,CzK:()=>Qe,D0T:()=>ue,D1_:()=>pe,DEr:()=>Bt,Dut:()=>le,E3h:()=>jt,EPQ:()=>T,EQn:()=>Pt,ES4:()=>Ie,EiJ:()=>Re,F3d:()=>yt,F9q:()=>st,Fm_:()=>ii,Fu1:()=>qe,GO4:()=>G,Gj_:()=>ai,Gwp:()=>Lt,HCL:()=>Ke,Hfx:()=>ge,Hz8:()=>Ut,IPX:()=>h,IYc:()=>si,Ido:()=>m,Itd:()=>ci,Ivo:()=>li,JpG:()=>pi,K19:()=>ke,LLc:()=>lt,L_H:()=>X,L_t:()=>dt,LoV:()=>ze,M6C:()=>mt,MUv:()=>Ae,NOs:()=>he,NPS:()=>Vt,Ng6:()=>me,OLZ:()=>fi,OZR:()=>F,Oop:()=>ut,P4M:()=>Xe,P6G:()=>g,P6Y:()=>ot,PRb:()=>I,PX0:()=>xt,PpC:()=>He,Pvw:()=>N,QO2:()=>c,R80:()=>v,RV_:()=>M,Rzx:()=>De,SPM:()=>ni,SUG:()=>R,SUY:()=>oi,Saq:()=>At,Sbf:()=>Fe,Snq:()=>wi,SwI:()=>w,T83:()=>ae,Tnx:()=>ft,UnT:()=>Mt,VVv:()=>Ue,Vqd:()=>Wt,XEs:()=>D,XL$:()=>rt,XZx:()=>f,Xy4:()=>ui,YI3:()=>A,ZGJ:()=>Kt,ZnX:()=>bi,_2n:()=>ht,_Yy:()=>Be,_bK:()=>ct,_lC:()=>E,_t9:()=>V,_wn:()=>q,b6y:()=>te,b7$:()=>H,bKB:()=>je,brw:()=>gi,c63:()=>re,cbQ:()=>Ft,cvW:()=>ce,dCr:()=>pt,dRz:()=>p,dt_:()=>x,etL:()=>Y,fEB:()=>de,few:()=>se,g8u:()=>K,g_n:()=>Ne,gkn:()=>Pe,gpD:()=>ie,hEj:()=>Le,hX8:()=>Ge,hzo:()=>et,j51:()=>it,j5u:()=>U,jUe:()=>Te,jbW:()=>Ht,kJk:()=>be,kVY:()=>di,keg:()=>Ze,kvU:()=>bt,kwl:()=>Ci,lRK:()=>_,lUq:()=>$t,lWp:()=>we,lXJ:()=>ee,loF:()=>_e,mHy:()=>at,mV1:()=>wt,nyM:()=>Ee,oQ$:()=>ye,oSI:()=>Et,opG:()=>Ce,ov3:()=>ri,pW3:()=>oe,paE:()=>O,phM:()=>$e,pnM:()=>Me,ptc:()=>Oe,qeD:()=>$,rg2:()=>vt,rh:()=>S,s$:()=>Ct,sEe:()=>k,sKV:()=>Ye,sgC:()=>y,tZ6:()=>ve,uoC:()=>ne,url:()=>C,uxu:()=>Rt,vGG:()=>Nt,xL1:()=>b,xi6:()=>tt,y65:()=>Tt,yJx:()=>Ve,yb5:()=>xe,ynu:()=>Z,ypS:()=>Je,ytC:()=>_t,zJb:()=>L,zKr:()=>fe,zOm:()=>nt,zRJ:()=>J});var n=i(5393),o=i(1264),s=i(4669),r=i(8401),a=i(3580),l=i(1294),d=i(9872);function c(e){return`--vscode-${e.replace(/\./g,"-")}`}const h={ColorContribution:"base.contributions.colors"},u=new class{constructor(){this._onDidChangeSchema=new s.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,n=!1,o){const s={id:e,description:i,defaults:t,needsTransparency:n,deprecationMessage:o};this.colorsById[e]=s;const r={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(r.deprecationMessage=o),this.colorSchema.properties[e]=r,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}getColors(){return Object.keys(this.colorsById).map((e=>this.colorsById[e]))}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i&&i.defaults)return wi(i.defaults[t.type],t)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort(((e,t)=>{const i=-1===e.indexOf(".")?0:1,n=-1===t.indexOf(".")?0:1;return i!==n?i-n:e.localeCompare(t)})).map((e=>`- \`${e}\`: ${this.colorsById[e].description}`)).join("\n")}};function g(e,t,i,n,o){return u.registerColor(e,(null===(s=t)||void 0===s.hcLight&&(null===s.hcDark||"string"==typeof s.hcDark?s.hcLight=s.hcDark:s.hcLight=s.light),s),i,n,o);var s}d.B.add(h.ColorContribution,u);const p=g("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},a.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),m=(g("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},a.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),g("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},a.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."))),f=(g("descriptionForeground",{light:"#717171",dark:bi(p,.7),hcDark:bi(p,.7),hcLight:bi(p,.7)},a.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),g("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},a.NC("iconForeground","The default color for icons in the workbench."))),v=g("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},a.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),_=g("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},a.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),b=g("contrastActiveBorder",{light:null,dark:null,hcDark:v,hcLight:v},a.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),C=(g("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},a.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),g("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:o.Il.black,hcLight:"#292929"},a.NC("textSeparatorForeground","Color for text separators.")),g("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},a.NC("textLinkForeground","Foreground color for links in text."))),y=g("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},a.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),w=(g("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},a.NC("textPreformatForeground","Foreground color for preformatted text segments.")),g("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},a.NC("textBlockQuoteBackground","Background color for block quotes in text.")),g("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:o.Il.white,hcLight:"#292929"},a.NC("textBlockQuoteBorder","Border color for block quotes in text.")),g("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:o.Il.black,hcLight:"#F2F2F2"},a.NC("textCodeBlockBackground","Background color for code blocks in text."))),S=g("widget.shadow",{dark:bi(o.Il.black,.36),light:bi(o.Il.black,.16),hcDark:null,hcLight:null},a.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),k=g("input.background",{dark:"#3C3C3C",light:o.Il.white,hcDark:o.Il.black,hcLight:o.Il.white},a.NC("inputBoxBackground","Input box background.")),L=g("input.foreground",{dark:p,light:p,hcDark:p,hcLight:p},a.NC("inputBoxForeground","Input box foreground.")),x=g("input.border",{dark:null,light:null,hcDark:_,hcLight:_},a.NC("inputBoxBorder","Input box border.")),I=g("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:_,hcLight:_},a.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),D=(g("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},a.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),g("inputOption.activeBackground",{dark:bi(v,.4),light:bi(v,.2),hcDark:o.Il.transparent,hcLight:o.Il.transparent},a.NC("inputOption.activeBackground","Background hover color of options in input fields."))),N=g("inputOption.activeForeground",{dark:o.Il.white,light:o.Il.black,hcDark:null,hcLight:p},a.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),E=(g("input.placeholderForeground",{light:bi(p,.5),dark:bi(p,.5),hcDark:bi(p,.7),hcLight:bi(p,.7)},a.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),g("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:o.Il.black,hcLight:o.Il.white},a.NC("inputValidationInfoBackground","Input validation background color for information severity."))),A=g("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:p},a.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),T=g("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:_,hcLight:_},a.NC("inputValidationInfoBorder","Input validation border color for information severity.")),M=g("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:o.Il.black,hcLight:o.Il.white},a.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),R=g("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:p},a.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),P=g("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:_,hcLight:_},a.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),O=g("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:o.Il.black,hcLight:o.Il.white},a.NC("inputValidationErrorBackground","Input validation background color for error severity.")),V=g("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:p},a.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),F=g("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:_,hcLight:_},a.NC("inputValidationErrorBorder","Input validation border color for error severity.")),W=g("dropdown.background",{dark:"#3C3C3C",light:o.Il.white,hcDark:o.Il.black,hcLight:o.Il.white},a.NC("dropdownBackground","Dropdown background.")),z=(g("dropdown.listBackground",{dark:null,light:null,hcDark:o.Il.black,hcLight:o.Il.white},a.NC("dropdownListBackground","Dropdown list background.")),g("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:o.Il.white,hcLight:p},a.NC("dropdownForeground","Dropdown foreground."))),B=g("dropdown.border",{dark:W,light:"#CECECE",hcDark:_,hcLight:_},a.NC("dropdownBorder","Dropdown border.")),U=(g("checkbox.background",{dark:W,light:W,hcDark:W,hcLight:W},a.NC("checkbox.background","Background color of checkbox widget.")),g("checkbox.foreground",{dark:z,light:z,hcDark:z,hcLight:z},a.NC("checkbox.foreground","Foreground color of checkbox widget.")),g("checkbox.border",{dark:B,light:B,hcDark:B,hcLight:B},a.NC("checkbox.border","Border color of checkbox widget.")),g("button.foreground",{dark:o.Il.white,light:o.Il.white,hcDark:o.Il.white,hcLight:o.Il.white},a.NC("buttonForeground","Button foreground color."))),H=(g("button.separator",{dark:bi(U,.4),light:bi(U,.4),hcDark:bi(U,.4),hcLight:bi(U,.4)},a.NC("buttonSeparator","Button separator color.")),g("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},a.NC("buttonBackground","Button background color."))),G=g("button.hoverBackground",{dark:_i(H,.2),light:vi(H,.2),hcDark:null,hcLight:null},a.NC("buttonHoverBackground","Button background color when hovering.")),j=(g("button.border",{dark:_,light:_,hcDark:_,hcLight:_},a.NC("buttonBorder","Button border color.")),g("button.secondaryForeground",{dark:o.Il.white,light:o.Il.white,hcDark:o.Il.white,hcLight:p},a.NC("buttonSecondaryForeground","Secondary button foreground color.")),g("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:o.Il.white},a.NC("buttonSecondaryBackground","Secondary button background color."))),K=(g("button.secondaryHoverBackground",{dark:_i(j,.2),light:vi(j,.2),hcDark:null,hcLight:null},a.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),g("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:o.Il.black,hcLight:"#0F4A85"},a.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count."))),$=g("badge.foreground",{dark:o.Il.white,light:"#333",hcDark:o.Il.white,hcLight:o.Il.white},a.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),q=g("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},a.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Y=g("scrollbarSlider.background",{dark:o.Il.fromHex("#797979").transparent(.4),light:o.Il.fromHex("#646464").transparent(.4),hcDark:bi(_,.6),hcLight:bi(_,.4)},a.NC("scrollbarSliderBackground","Scrollbar slider background color.")),Q=g("scrollbarSlider.hoverBackground",{dark:o.Il.fromHex("#646464").transparent(.7),light:o.Il.fromHex("#646464").transparent(.7),hcDark:bi(_,.8),hcLight:bi(_,.8)},a.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Z=g("scrollbarSlider.activeBackground",{dark:o.Il.fromHex("#BFBFBF").transparent(.4),light:o.Il.fromHex("#000000").transparent(.6),hcDark:_,hcLight:_},a.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),J=g("progressBar.background",{dark:o.Il.fromHex("#0E70C0"),light:o.Il.fromHex("#0E70C0"),hcDark:_,hcLight:_},a.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),X=g("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),ee=g("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},a.NC("editorError.foreground","Foreground color of error squigglies in the editor.")),te=g("editorError.border",{dark:null,light:null,hcDark:o.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},a.NC("errorBorder","Border color of error boxes in the editor.")),ie=g("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),ne=g("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},a.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),oe=g("editorWarning.border",{dark:null,light:null,hcDark:o.Il.fromHex("#FFCC00").transparent(.8),hcLight:"#"},a.NC("warningBorder","Border color of warning boxes in the editor.")),se=g("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),re=g("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},a.NC("editorInfo.foreground","Foreground color of info squigglies in the editor.")),ae=g("editorInfo.border",{dark:null,light:null,hcDark:o.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},a.NC("infoBorder","Border color of info boxes in the editor.")),le=g("editorHint.foreground",{dark:o.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},a.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),de=g("editorHint.border",{dark:null,light:null,hcDark:o.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},a.NC("hintBorder","Border color of hint boxes in the editor.")),ce=(g("sash.hoverBorder",{dark:v,light:v,hcDark:v,hcLight:v},a.NC("sashActiveBorder","Border color of active sashes.")),g("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:o.Il.black,hcLight:o.Il.white},a.NC("editorBackground","Editor background color."))),he=g("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:o.Il.white,hcLight:p},a.NC("editorForeground","Editor default foreground color.")),ue=(g("editorStickyScroll.background",{light:ce,dark:ce,hcDark:ce,hcLight:ce},a.NC("editorStickyScrollBackground","Sticky scroll background color for the editor")),g("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:o.Il.fromHex("#0F4A85").transparent(.1)},a.NC("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),g("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:o.Il.white},a.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace."))),ge=g("editorWidget.foreground",{dark:p,light:p,hcDark:p,hcLight:p},a.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),pe=g("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:_,hcLight:_},a.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),me=g("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},a.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),fe=g("quickInput.background",{dark:ue,light:ue,hcDark:ue,hcLight:ue},a.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),ve=g("quickInput.foreground",{dark:ge,light:ge,hcDark:ge,hcLight:ge},a.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),_e=g("quickInputTitle.background",{dark:new o.Il(new o.VS(255,255,255,.105)),light:new o.Il(new o.VS(0,0,0,.06)),hcDark:"#000000",hcLight:o.Il.white},a.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),be=g("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:o.Il.white,hcLight:"#0F4A85"},a.NC("pickerGroupForeground","Quick picker color for grouping labels.")),Ce=g("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:o.Il.white,hcLight:"#0F4A85"},a.NC("pickerGroupBorder","Quick picker color for grouping borders.")),ye=g("keybindingLabel.background",{dark:new o.Il(new o.VS(128,128,128,.17)),light:new o.Il(new o.VS(221,221,221,.4)),hcDark:o.Il.transparent,hcLight:o.Il.transparent},a.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),we=g("keybindingLabel.foreground",{dark:o.Il.fromHex("#CCCCCC"),light:o.Il.fromHex("#555555"),hcDark:o.Il.white,hcLight:p},a.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Se=g("keybindingLabel.border",{dark:new o.Il(new o.VS(51,51,51,.6)),light:new o.Il(new o.VS(204,204,204,.4)),hcDark:new o.Il(new o.VS(111,195,223)),hcLight:_},a.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),ke=g("keybindingLabel.bottomBorder",{dark:new o.Il(new o.VS(68,68,68,.6)),light:new o.Il(new o.VS(187,187,187,.4)),hcDark:new o.Il(new o.VS(111,195,223)),hcLight:p},a.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Le=g("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},a.NC("editorSelectionBackground","Color of the editor selection.")),xe=g("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:o.Il.white},a.NC("editorSelectionForeground","Color of the selected text for high contrast.")),Ie=g("editor.inactiveSelectionBackground",{light:bi(Le,.5),dark:bi(Le,.5),hcDark:bi(Le,.7),hcLight:bi(Le,.5)},a.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),De=g("editor.selectionHighlightBackground",{light:yi(Le,ce,.3,.6),dark:yi(Le,ce,.3,.6),hcDark:null,hcLight:null},a.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Ne=g("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:b,hcLight:b},a.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),Ee=g("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},a.NC("editorFindMatch","Color of the current search match.")),Ae=g("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},a.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Te=g("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},a.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Me=g("editor.findMatchBorder",{light:null,dark:null,hcDark:b,hcLight:b},a.NC("editorFindMatchBorder","Border color of the current search match.")),Re=g("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:b,hcLight:b},a.NC("findMatchHighlightBorder","Border color of the other search matches.")),Pe=g("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:bi(b,.4),hcLight:bi(b,.4)},a.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Oe=(g("searchEditor.findMatchBackground",{light:bi(Ae,.66),dark:bi(Ae,.66),hcDark:Ae,hcLight:Ae},a.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),g("searchEditor.findMatchBorder",{light:bi(Re,.66),dark:bi(Re,.66),hcDark:Re,hcLight:Re},a.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),g("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},a.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0)),Ve=g("editorHoverWidget.background",{light:ue,dark:ue,hcDark:ue,hcLight:ue},a.NC("hoverBackground","Background color of the editor hover.")),Fe=g("editorHoverWidget.foreground",{light:ge,dark:ge,hcDark:ge,hcLight:ge},a.NC("hoverForeground","Foreground color of the editor hover.")),We=g("editorHoverWidget.border",{light:pe,dark:pe,hcDark:pe,hcLight:pe},a.NC("hoverBorder","Border color of the editor hover.")),ze=g("editorHoverWidget.statusBarBackground",{dark:_i(Ve,.2),light:vi(Ve,.05),hcDark:ue,hcLight:ue},a.NC("statusBarBackground","Background color of the editor hover status bar.")),Be=g("editorLink.activeForeground",{dark:"#4E94CE",light:o.Il.blue,hcDark:o.Il.cyan,hcLight:"#292929"},a.NC("activeLinkForeground","Color of active links.")),Ue=g("editorInlayHint.foreground",{dark:bi($,.8),light:bi($,.8),hcDark:$,hcLight:$},a.NC("editorInlayHintForeground","Foreground color of inline hints")),He=g("editorInlayHint.background",{dark:bi(K,.6),light:bi(K,.3),hcDark:K,hcLight:K},a.NC("editorInlayHintBackground","Background color of inline hints")),Ge=g("editorInlayHint.typeForeground",{dark:Ue,light:Ue,hcDark:Ue,hcLight:Ue},a.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),je=g("editorInlayHint.typeBackground",{dark:He,light:He,hcDark:He,hcLight:He},a.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Ke=g("editorInlayHint.parameterForeground",{dark:Ue,light:Ue,hcDark:Ue,hcLight:Ue},a.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),$e=g("editorInlayHint.parameterBackground",{dark:He,light:He,hcDark:He,hcLight:He},a.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),qe=g("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},a.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),Ye=g("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},a.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),Qe=new o.Il(new o.VS(155,185,85,.2)),Ze=new o.Il(new o.VS(255,0,0,.2)),Je=g("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c66",hcDark:null,hcLight:null},a.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Xe=g("diffEditor.removedTextBackground",{dark:"#ff000066",light:"#ff00004d",hcDark:null,hcLight:null},a.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),et=g("diffEditor.insertedLineBackground",{dark:Qe,light:Qe,hcDark:null,hcLight:null},a.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),tt=g("diffEditor.removedLineBackground",{dark:Ze,light:Ze,hcDark:null,hcLight:null},a.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),it=g("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),nt=g("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),ot=g("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),st=g("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),rt=g("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},a.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),at=g("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},a.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),lt=g("diffEditor.border",{dark:null,light:null,hcDark:_,hcLight:_},a.NC("diffEditorBorder","Border color between the two text editors.")),dt=g("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},a.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),ct=g("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ht=g("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ut=g("list.focusOutline",{dark:v,light:v,hcDark:b,hcLight:b},a.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),gt=g("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),pt=g("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:o.Il.fromHex("#0F4A85").transparent(.1)},a.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),mt=g("list.activeSelectionForeground",{dark:o.Il.white,light:o.Il.white,hcDark:null,hcLight:null},a.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ft=g("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),vt=g("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:o.Il.fromHex("#0F4A85").transparent(.1)},a.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),_t=g("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),bt=g("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ct=g("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),yt=g("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),wt=g("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:o.Il.fromHex("#0F4A85").transparent(.1)},a.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),St=g("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),kt=g("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},a.NC("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Lt=g("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:v,hcLight:v},a.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),xt=g("list.focusHighlightForeground",{dark:Lt,light:(It=pt,Dt=Lt,"#BBE7FF",{op:5,if:It,then:Dt,else:"#BBE7FF"}),hcDark:Lt,hcLight:Lt},a.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));var It,Dt;g("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},a.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),g("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},a.NC("listErrorForeground","Foreground color of list items containing errors.")),g("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},a.NC("listWarningForeground","Foreground color of list items containing warnings."));const Nt=g("listFilterWidget.background",{light:vi(ue,0),dark:_i(ue,0),hcDark:ue,hcLight:ue},a.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),Et=g("listFilterWidget.outline",{dark:o.Il.transparent,light:o.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},a.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),At=g("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:_,hcLight:_},a.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Tt=g("listFilterWidget.shadow",{dark:S,light:S,hcDark:S,hcLight:S},a.NC("listFilterWidgetShadow","Shadown color of the type filter widget in lists and trees.")),Mt=(g("list.filterMatchBackground",{dark:Ae,light:Ae,hcDark:null,hcLight:null},a.NC("listFilterMatchHighlight","Background color of the filtered match.")),g("list.filterMatchBorder",{dark:Re,light:Re,hcDark:_,hcLight:b},a.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),g("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},a.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides."))),Rt=g("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},a.NC("tableColumnsBorder","Table border color between columns.")),Pt=g("tree.tableOddRowsBackground",{dark:bi(p,.04),light:bi(p,.04),hcDark:null,hcLight:null},a.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),Ot=(g("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},a.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),g("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,a.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead"))),Vt=g("quickInputList.focusForeground",{dark:mt,light:mt,hcDark:mt,hcLight:mt},a.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Ft=g("quickInputList.focusIconForeground",{dark:ft,light:ft,hcDark:ft,hcLight:ft},a.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Wt=g("quickInputList.focusBackground",{dark:Ci(Ot,pt),light:Ci(Ot,pt),hcDark:null,hcLight:null},a.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),zt=g("menu.border",{dark:null,light:null,hcDark:_,hcLight:_},a.NC("menuBorder","Border color of menus.")),Bt=g("menu.foreground",{dark:z,light:p,hcDark:z,hcLight:z},a.NC("menuForeground","Foreground color of menu items.")),Ut=g("menu.background",{dark:W,light:W,hcDark:W,hcLight:W},a.NC("menuBackground","Background color of menu items.")),Ht=g("menu.selectionForeground",{dark:mt,light:mt,hcDark:mt,hcLight:mt},a.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Gt=g("menu.selectionBackground",{dark:pt,light:pt,hcDark:pt,hcLight:pt},a.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),jt=g("menu.selectionBorder",{dark:null,light:null,hcDark:b,hcLight:b},a.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),Kt=g("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:_,hcLight:_},a.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),$t=g("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},a.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),qt=(g("toolbar.hoverOutline",{dark:null,light:null,hcDark:b,hcLight:b},a.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),g("toolbar.activeBackground",{dark:_i($t,.1),light:vi($t,.1),hcDark:null,hcLight:null},a.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),g("editor.snippetTabstopHighlightBackground",{dark:new o.Il(new o.VS(124,124,124,.3)),light:new o.Il(new o.VS(10,50,100,.2)),hcDark:new o.Il(new o.VS(124,124,124,.3)),hcLight:new o.Il(new o.VS(10,50,100,.2))},a.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),g("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),g("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),g("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new o.Il(new o.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},a.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),g("breadcrumb.foreground",{light:bi(p,.8),dark:bi(p,.8),hcDark:bi(p,.8),hcLight:bi(p,.8)},a.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),g("breadcrumb.background",{light:ce,dark:ce,hcDark:ce,hcLight:ce},a.NC("breadcrumbsBackground","Background color of breadcrumb items.")),g("breadcrumb.focusForeground",{light:vi(p,.2),dark:_i(p,.1),hcDark:_i(p,.1),hcLight:_i(p,.1)},a.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),g("breadcrumb.activeSelectionForeground",{light:vi(p,.2),dark:_i(p,.1),hcDark:_i(p,.1),hcLight:_i(p,.1)},a.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),g("breadcrumbPicker.background",{light:ue,dark:ue,hcDark:ue,hcLight:ue},a.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),o.Il.fromHex("#40C8AE").transparent(.5)),Yt=o.Il.fromHex("#40A6FF").transparent(.5),Qt=o.Il.fromHex("#606060").transparent(.4),Zt=.4,Jt=g("merge.currentHeaderBackground",{dark:qt,light:qt,hcDark:null,hcLight:null},a.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Xt=(g("merge.currentContentBackground",{dark:bi(Jt,Zt),light:bi(Jt,Zt),hcDark:bi(Jt,Zt),hcLight:bi(Jt,Zt)},a.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),g("merge.incomingHeaderBackground",{dark:Yt,light:Yt,hcDark:null,hcLight:null},a.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),ei=(g("merge.incomingContentBackground",{dark:bi(Xt,Zt),light:bi(Xt,Zt),hcDark:bi(Xt,Zt),hcLight:bi(Xt,Zt)},a.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),g("merge.commonHeaderBackground",{dark:Qt,light:Qt,hcDark:null,hcLight:null},a.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),ti=(g("merge.commonContentBackground",{dark:bi(ei,Zt),light:bi(ei,Zt),hcDark:bi(ei,Zt),hcLight:bi(ei,Zt)},a.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),g("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},a.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."))),ii=(g("editorOverviewRuler.currentContentForeground",{dark:bi(Jt,1),light:bi(Jt,1),hcDark:ti,hcLight:ti},a.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),g("editorOverviewRuler.incomingContentForeground",{dark:bi(Xt,1),light:bi(Xt,1),hcDark:ti,hcLight:ti},a.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),g("editorOverviewRuler.commonContentForeground",{dark:bi(ei,1),light:bi(ei,1),hcDark:ti,hcLight:ti},a.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),g("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},a.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0)),ni=g("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},a.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),oi=g("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},a.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),si=g("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},a.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),ri=g("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},a.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),ai=g("minimap.errorHighlight",{dark:new o.Il(new o.VS(255,18,18,.7)),light:new o.Il(new o.VS(255,18,18,.7)),hcDark:new o.Il(new o.VS(255,50,50,1)),hcLight:"#B5200D"},a.NC("minimapError","Minimap marker color for errors.")),li=g("minimap.warningHighlight",{dark:ne,light:ne,hcDark:oe,hcLight:oe},a.NC("overviewRuleWarning","Minimap marker color for warnings.")),di=g("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},a.NC("minimapBackground","Minimap background color.")),ci=g("minimap.foregroundOpacity",{dark:o.Il.fromHex("#000f"),light:o.Il.fromHex("#000f"),hcDark:o.Il.fromHex("#000f"),hcLight:o.Il.fromHex("#000f")},a.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),hi=g("minimapSlider.background",{light:bi(Y,.5),dark:bi(Y,.5),hcDark:bi(Y,.5),hcLight:bi(Y,.5)},a.NC("minimapSliderBackground","Minimap slider background color.")),ui=g("minimapSlider.hoverBackground",{light:bi(Q,.5),dark:bi(Q,.5),hcDark:bi(Q,.5),hcLight:bi(Q,.5)},a.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),gi=g("minimapSlider.activeBackground",{light:bi(Z,.5),dark:bi(Z,.5),hcDark:bi(Z,.5),hcLight:bi(Z,.5)},a.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),pi=g("problemsErrorIcon.foreground",{dark:ee,light:ee,hcDark:ee,hcLight:ee},a.NC("problemsErrorIconForeground","The color used for the problems error icon.")),mi=g("problemsWarningIcon.foreground",{dark:ne,light:ne,hcDark:ne,hcLight:ne},a.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),fi=g("problemsInfoIcon.foreground",{dark:re,light:re,hcDark:re,hcLight:re},a.NC("problemsInfoIconForeground","The color used for the problems info icon."));function vi(e,t){return{op:0,value:e,factor:t}}function _i(e,t){return{op:1,value:e,factor:t}}function bi(e,t){return{op:2,value:e,factor:t}}function Ci(...e){return{op:3,values:e}}function yi(e,t,i,n){return{op:4,value:e,background:t,factor:i,transparency:n}}function wi(e,t){if(null!==e)return"string"==typeof e?"#"===e[0]?o.Il.fromHex(e):t.getColor(e):e instanceof o.Il?e:"object"==typeof e?function(e,t){var i,n,s;switch(e.op){case 0:return null===(i=wi(e.value,t))||void 0===i?void 0:i.darken(e.factor);case 1:return null===(n=wi(e.value,t))||void 0===n?void 0:n.lighten(e.factor);case 2:return null===(s=wi(e.value,t))||void 0===s?void 0:s.transparent(e.factor);case 3:for(const i of e.values){const e=wi(i,t);if(e)return e}return;case 5:return wi(t.defines(e.if)?e.then:e.else,t);case 4:{const i=wi(e.value,t);if(!i)return;const n=wi(e.background,t);return n?i.isDarkerThan(n)?o.Il.getLighterColor(i,n,e.factor).transparent(e.transparency):o.Il.getDarkerColor(i,n,e.factor).transparent(e.transparency):i.transparent(e.factor*e.transparency)}default:throw(0,r.vE)(e)}}(e,t):void 0}g("charts.foreground",{dark:p,light:p,hcDark:p,hcLight:p},a.NC("chartsForeground","The foreground color used in charts.")),g("charts.lines",{dark:bi(p,.5),light:bi(p,.5),hcDark:bi(p,.5),hcLight:bi(p,.5)},a.NC("chartsLines","The color used for horizontal lines in charts.")),g("charts.red",{dark:ee,light:ee,hcDark:ee,hcLight:ee},a.NC("chartsRed","The red color used in chart visualizations.")),g("charts.blue",{dark:re,light:re,hcDark:re,hcLight:re},a.NC("chartsBlue","The blue color used in chart visualizations.")),g("charts.yellow",{dark:ne,light:ne,hcDark:ne,hcLight:ne},a.NC("chartsYellow","The yellow color used in chart visualizations.")),g("charts.orange",{dark:oi,light:oi,hcDark:oi,hcLight:oi},a.NC("chartsOrange","The orange color used in chart visualizations.")),g("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},a.NC("chartsGreen","The green color used in chart visualizations.")),g("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},a.NC("chartsPurple","The purple color used in chart visualizations."));const Si="vscode://schemas/workbench-colors",ki=d.B.as(l.I.JSONContribution);ki.registerSchema(Si,u.getColorSchema());const Li=new n.pY((()=>ki.notifySchemaChanged(Si)),200);u.onDidChangeSchema((()=>{Li.isScheduled()||Li.schedule()}))},9554:(e,t,i)=>{"use strict";i.d(t,{Ks:()=>f,q5:()=>m,s_:()=>C});var n,o,s=i(5393),r=i(3046),a=i(4669),l=i(8401),d=i(666),c=i(3580),h=i(1294),u=i(9872),g=i(7781);!function(e){e.getDefinition=function(e,t){let i=e.defaults;for(;g.kS.isThemeIcon(i);){const e=p.getIcon(i.id);if(!e)return;i=e.defaults}return i}}(n||(n={})),function(e){e.toJSONObject=function(e){return{weight:e.weight,style:e.style,src:e.src.map((e=>({format:e.format,location:e.location.toString()})))}},e.fromJSONObject=function(e){const t=e=>(0,l.HD)(e)?e:void 0;if(e&&Array.isArray(e.src)&&e.src.every((e=>(0,l.HD)(e.format)&&(0,l.HD)(e.location))))return{weight:t(e.weight),style:t(e.style),src:e.src.map((e=>({format:e.format,location:d.o.parse(e.location)})))}}}(o||(o={}));const p=new class{constructor(){this._onDidChange=new a.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,c.NC)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,c.NC)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${r.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,n){const o=this.iconsById[e];if(o){if(i&&!o.description){o.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;const t=this.iconReferenceSchema.enum.indexOf(e);-1!==t&&(this.iconReferenceSchema.enumDescriptions[t]=i),this._onDidChange.fire()}return o}const s={id:e,description:i,defaults:t,deprecationMessage:n};this.iconsById[e]=s;const r={$ref:"#/definitions/icons"};return n&&(r.deprecationMessage=n),i&&(r.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=r,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map((e=>this.iconsById[e]))}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}toString(){const e=(e,t)=>e.id.localeCompare(t.id),t=e=>{for(;g.kS.isThemeIcon(e.defaults);)e=this.iconsById[e.defaults.id];return`codicon codicon-${e?e.id:""}`},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const n=Object.keys(this.iconsById).map((e=>this.iconsById[e]));for(const o of n.filter((e=>!!e.description)).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|${g.kS.isThemeIcon(o.defaults)?o.defaults.id:o.id}|${o.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const o of n.filter((e=>!g.kS.isThemeIcon(e.defaults))).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|`);return i.join("\n")}};function m(e,t,i,n){return p.registerIcon(e,t,i,n)}function f(){return p}u.B.add("base.contributions.icons",p),function(){for(const e of r.lA.getAll())p.registerIcon(e.id,e.definition,e.description)}();const v="vscode://schemas/icons",_=u.B.as(h.I.JSONContribution);_.registerSchema(v,p.getIconSchema());const b=new s.pY((()=>_.notifySchemaChanged(v)),200);p.onDidChange((()=>{b.isScheduled()||b.schedule()}));const C=m("widget-close",r.lA.close,(0,c.NC)("widgetClose","Icon for the close action in widgets."));m("goto-previous-location",r.lA.arrowUp,(0,c.NC)("previousChangeIcon","Icon for goto previous editor location.")),m("goto-next-location",r.lA.arrowDown,(0,c.NC)("nextChangeIcon","Icon for goto next editor location.")),g.kS.modify(r.lA.sync,"spin"),g.kS.modify(r.lA.loading,"spin")},8810:(e,t,i)=>{"use strict";i.d(t,{Jl:()=>a,O2:()=>l,WZ:()=>r,o:()=>o,tj:()=>c});var n=i(3910);function o(e,t){const i=Object.create(null);for(const o in t){const s=t[o];s&&(i[o]=(0,n.Snq)(s,e))}return i}function s(e,t,i){function n(){const n=o(e.getColorTheme(),t);"function"==typeof i?i(n):i.style(n)}return n(),e.onDidColorThemeChange(n)}function r(e,t,i){return s(t,{badgeBackground:(null==i?void 0:i.badgeBackground)||n.g8u,badgeForeground:(null==i?void 0:i.badgeForeground)||n.qeD,badgeBorder:n.lRK},e)}function a(e,t,i){return s(t,Object.assign(Object.assign({},l),i||{}),e)}const l={listFocusBackground:n._bK,listFocusForeground:n._2n,listFocusOutline:n.Oop,listActiveSelectionBackground:n.dCr,listActiveSelectionForeground:n.M6C,listActiveSelectionIconForeground:n.Tnx,listFocusAndSelectionOutline:n.Bqu,listFocusAndSelectionBackground:n.dCr,listFocusAndSelectionForeground:n.M6C,listInactiveSelectionBackground:n.rg2,listInactiveSelectionIconForeground:n.kvU,listInactiveSelectionForeground:n.ytC,listInactiveFocusBackground:n.s$,listInactiveFocusOutline:n.F3d,listHoverBackground:n.mV1,listHoverForeground:n.$d5,listDropBackground:n.AS1,listSelectionOutline:n.xL1,listHoverOutline:n.xL1,listFilterWidgetBackground:n.vGG,listFilterWidgetOutline:n.oSI,listFilterWidgetNoMatchesOutline:n.Saq,listFilterWidgetShadow:n.y65,treeIndentGuidesStroke:n.UnT,tableColumnsBorder:n.uxu,tableOddRowsBackgroundColor:n.EQn,inputActiveOptionBorder:n.PRb,inputActiveOptionForeground:n.Pvw,inputActiveOptionBackground:n.XEs,inputBackground:n.sEe,inputForeground:n.zJb,inputBorder:n.dt_,inputValidationInfoBackground:n._lC,inputValidationInfoForeground:n.YI3,inputValidationInfoBorder:n.EPQ,inputValidationWarningBackground:n.RV_,inputValidationWarningForeground:n.SUG,inputValidationWarningBorder:n.C3g,inputValidationErrorBackground:n.paE,inputValidationErrorForeground:n._t9,inputValidationErrorBorder:n.OZR},d={shadowColor:n.rh,borderColor:n.Cdg,foregroundColor:n.DEr,backgroundColor:n.Hz8,selectionForegroundColor:n.jbW,selectionBackgroundColor:n.$DX,selectionBorderColor:n.E3h,separatorColor:n.ZGJ,scrollbarShadow:n._wn,scrollbarSliderBackground:n.etL,scrollbarSliderHoverBackground:n.ABB,scrollbarSliderActiveBackground:n.ynu};function c(e,t,i){return s(t,Object.assign(Object.assign({},d),i),e)}},2321:(e,t,i)=>{"use strict";var n;function o(e){return e===n.HIGH_CONTRAST_DARK||e===n.HIGH_CONTRAST_LIGHT}function s(e){return e===n.DARK||e===n.HIGH_CONTRAST_DARK}i.d(t,{_T:()=>s,c3:()=>o,eL:()=>n}),function(e){e.DARK="dark",e.LIGHT="light",e.HIGH_CONTRAST_DARK="hcDark",e.HIGH_CONTRAST_LIGHT="hcLight"}(n||(n={}))},7781:(e,t,i)=>{"use strict";i.d(t,{EN:()=>u,IP:()=>p,Ic:()=>f,XE:()=>d,bB:()=>v,kS:()=>h,m6:()=>g});var n=i(3046),o=i(4669),s=i(5976),r=i(2065),a=i(9872),l=i(2321);const d=(0,r.yh)("themeService");var c,h;function u(e){return{id:e}}function g(e){switch(e){case l.eL.DARK:return"vs-dark";case l.eL.HIGH_CONTRAST_DARK:return"hc-black";case l.eL.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}!function(e){e.isThemeColor=function(e){return e&&"object"==typeof e&&"string"==typeof e.id}}(c||(c={})),function(e){e.isThemeIcon=function(e){return e&&"object"==typeof e&&"string"==typeof e.id&&(void 0===e.color||c.isThemeColor(e.color))};const t=new RegExp(`^\\$\\((${n.dT.iconNameExpression}(?:${n.dT.iconModifierExpression})?)\\)$`);e.fromString=function(e){const i=t.exec(e);if(!i)return;const[,n]=i;return{id:n}},e.fromId=function(e){return{id:e}},e.modify=function(e,t){let i=e.id;const n=i.lastIndexOf("~");return-1!==n&&(i=i.substring(0,n)),t&&(i=`${i}~${t}`),{id:i}},e.getModifier=function(e){const t=e.id.lastIndexOf("~");if(-1!==t)return e.id.substring(t+1)},e.isEqual=function(e,t){var i,n;return e.id===t.id&&(null===(i=e.color)||void 0===i?void 0:i.id)===(null===(n=t.color)||void 0===n?void 0:n.id)},e.asThemeIcon=function(e,t){return{id:e.id,color:t?u(t):void 0}},e.asClassNameArray=n.dT.asClassNameArray,e.asClassName=n.dT.asClassName,e.asCSSSelector=n.dT.asCSSSelector}(h||(h={}));const p={ThemingContribution:"base.contributions.theming"},m=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new o.Q5}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),(0,s.OF)((()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)}))}getThemingParticipants(){return this.themingParticipants}};function f(e){return m.onColorThemeChange(e)}a.B.add(p.ThemingContribution,m);class v extends s.JT{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange((e=>this.onThemeChange(e))))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}},4862:(e,t,i)=>{"use strict";i.d(t,{Xt:()=>s,YO:()=>o,gJ:()=>r,tJ:()=>n});const n=(0,i(2065).yh)("undoRedoService");class o{constructor(e,t){this.resource=e,this.elements=t}}class s{constructor(){this.id=s._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}s._ID=0,s.None=new s;class r{constructor(){this.id=r._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}r._ID=0,r.None=new r},382:(e,t,i)=>{"use strict";i.d(t,{A6:()=>d,eb:()=>r,ec:()=>s,md:()=>l,uT:()=>a});var n=i(3580),o=(i(3702),i(666));const s=(0,i(2065).yh)("contextService");function r(e){const t=e;return"string"==typeof(null==t?void 0:t.id)&&o.o.isUri(t.uri)}function a(e){return e.configuration?{id:e.id,configPath:e.configuration}:1===e.folders.length?{id:e.id,uri:e.folders[0].uri}:void 0}class l{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const d="code-workspace";(0,n.NC)("codeWorkspace","Code Workspace")},3425:(e,t,i)=>{"use strict";i.d(t,{Y:()=>n});const n=(0,i(2065).yh)("workspaceTrustManagementService")}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={exports:{}};return i[e](s,s.exports,o),s.exports}o.m=i,o.amdO={},o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,i)=>(o.f[i](e,t),t)),[])),o.u=e=>e+".app.js",o.miniCssF=e=>{},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="editsvgcode:",o.l=(i,n,s,r)=>{if(e[i])e[i].push(n);else{var a,l;if(void 0!==s)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var h=d[c];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",t+s),a.src=i),e[i]=[n];var u=(t,n)=>{a.onerror=a.onload=null,clearTimeout(g);var o=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(n))),t)return t(n)},g=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),l&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={179:0};o.f.j=(t,i)=>{var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var s=new Promise(((i,o)=>n=e[t]=[i,o]));i.push(n[2]=s);var r=o.p+o.u(t),a=new Error;o.l(r,(i=>{if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",a.name="ChunkLoadError",a.type=s,a.request=r,n[1](a)}}),"chunk-"+t,t)}};var t=(t,i)=>{var n,s,[r,a,l]=i,d=0;if(r.some((t=>0!==e[t]))){for(n in a)o.o(a,n)&&(o.m[n]=a[n]);l&&l(o)}for(t&&t(i);d<r.length;d++)s=r[d],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0},i=self.webpackChunkeditsvgcode=self.webpackChunkeditsvgcode||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e={};o.r(e),o.d(e,{afterMain:()=>$,afterRead:()=>G,afterWrite:()=>Q,applyStyles:()=>pe,arrow:()=>Ne,auto:()=>T,basePlacements:()=>M,beforeMain:()=>j,beforeRead:()=>U,beforeWrite:()=>q,bottom:()=>N,clippingParents:()=>O,computeStyles:()=>ge,createPopper:()=>Me,createPopperBase:()=>ne,createPopperLite:()=>Ct,detectOverflow:()=>Le,end:()=>P,eventListeners:()=>se,flip:()=>xe,hide:()=>Te,left:()=>A,main:()=>K,modifierPhases:()=>Z,offset:()=>me,placements:()=>B,popper:()=>F,popperGenerator:()=>ie,popperOffsets:()=>ce,preventOverflow:()=>De,read:()=>H,reference:()=>W,right:()=>E,start:()=>R,top:()=>D,variationPlacements:()=>z,viewport:()=>V,write:()=>Y});var t={};o.r(t),o.d(t,{FirebaseError:()=>Pr,SDK_VERSION:()=>Wa,_DEFAULT_ENTRY_NAME:()=>Ia,_addComponent:()=>Aa,_addOrOverwriteComponent:()=>Ta,_apps:()=>Na,_clearComponents:()=>Oa,_components:()=>Ea,_getProvider:()=>Ra,_registerComponent:()=>Ma,_removeServiceInstance:()=>Pa,deleteApp:()=>Ha,getApp:()=>Ba,getApps:()=>Ua,initializeApp:()=>za,onLog:()=>ja,registerVersion:()=>Ga,setLogLevel:()=>Ka});var i=o(8761);function n(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function s(e){return e instanceof n(e).Element||e instanceof Element}function r(e){return e instanceof n(e).HTMLElement||e instanceof HTMLElement}function a(e){return"undefined"!=typeof ShadowRoot&&(e instanceof n(e).ShadowRoot||e instanceof ShadowRoot)}var l=Math.max,d=Math.min,c=Math.round;function h(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function u(){return!/^((?!chrome|android).)*safari/i.test(h())}function g(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var o=e.getBoundingClientRect(),a=1,l=1;t&&r(e)&&(a=e.offsetWidth>0&&c(o.width)/e.offsetWidth||1,l=e.offsetHeight>0&&c(o.height)/e.offsetHeight||1);var d=(s(e)?n(e):window).visualViewport,h=!u()&&i,g=(o.left+(h&&d?d.offsetLeft:0))/a,p=(o.top+(h&&d?d.offsetTop:0))/l,m=o.width/a,f=o.height/l;return{width:m,height:f,top:p,right:g+m,bottom:p+f,left:g,x:g,y:p}}function p(e){var t=n(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function m(e){return e?(e.nodeName||"").toLowerCase():null}function f(e){return((s(e)?e.ownerDocument:e.document)||window.document).documentElement}function v(e){return g(f(e)).left+p(e).scrollLeft}function _(e){return n(e).getComputedStyle(e)}function b(e){var t=_(e),i=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+o+n)}function C(e,t,i){void 0===i&&(i=!1);var o,s,a=r(t),l=r(t)&&function(e){var t=e.getBoundingClientRect(),i=c(t.width)/e.offsetWidth||1,n=c(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),d=f(t),h=g(e,l,i),u={scrollLeft:0,scrollTop:0},_={x:0,y:0};return(a||!a&&!i)&&(("body"!==m(t)||b(d))&&(u=(o=t)!==n(o)&&r(o)?{scrollLeft:(s=o).scrollLeft,scrollTop:s.scrollTop}:p(o)),r(t)?((_=g(t,!0)).x+=t.clientLeft,_.y+=t.clientTop):d&&(_.x=v(d))),{x:h.left+u.scrollLeft-_.x,y:h.top+u.scrollTop-_.y,width:h.width,height:h.height}}function y(e){var t=g(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function w(e){return"html"===m(e)?e:e.assignedSlot||e.parentNode||(a(e)?e.host:null)||f(e)}function S(e){return["html","body","#document"].indexOf(m(e))>=0?e.ownerDocument.body:r(e)&&b(e)?e:S(w(e))}function k(e,t){var i;void 0===t&&(t=[]);var o=S(e),s=o===(null==(i=e.ownerDocument)?void 0:i.body),r=n(o),a=s?[r].concat(r.visualViewport||[],b(o)?o:[]):o,l=t.concat(a);return s?l:l.concat(k(w(a)))}function L(e){return["table","td","th"].indexOf(m(e))>=0}function x(e){return r(e)&&"fixed"!==_(e).position?e.offsetParent:null}function I(e){for(var t=n(e),i=x(e);i&&L(i)&&"static"===_(i).position;)i=x(i);return i&&("html"===m(i)||"body"===m(i)&&"static"===_(i).position)?t:i||function(e){var t=/firefox/i.test(h());if(/Trident/i.test(h())&&r(e)&&"fixed"===_(e).position)return null;var i=w(e);for(a(i)&&(i=i.host);r(i)&&["html","body"].indexOf(m(i))<0;){var n=_(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}var D="top",N="bottom",E="right",A="left",T="auto",M=[D,N,E,A],R="start",P="end",O="clippingParents",V="viewport",F="popper",W="reference",z=M.reduce((function(e,t){return e.concat([t+"-"+R,t+"-"+P])}),[]),B=[].concat(M,[T]).reduce((function(e,t){return e.concat([t,t+"-"+R,t+"-"+P])}),[]),U="beforeRead",H="read",G="afterRead",j="beforeMain",K="main",$="afterMain",q="beforeWrite",Y="write",Q="afterWrite",Z=[U,H,G,j,K,$,q,Y,Q];function J(e){var t=new Map,i=new Set,n=[];function o(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var n=t.get(e);n&&o(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||o(e)})),n}function X(e){var t;return function(){return t||(t=new Promise((function(i){Promise.resolve().then((function(){t=void 0,i(e())}))}))),t}}var ee={placement:"bottom",modifiers:[],strategy:"absolute"};function te(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function ie(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,o=t.defaultOptions,r=void 0===o?ee:o;return function(e,t,i){void 0===i&&(i=r);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},ee,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],l=!1,d={state:o,setOptions:function(i){var l="function"==typeof i?i(o.options):i;c(),o.options=Object.assign({},r,o.options,l),o.scrollParents={reference:s(e)?k(e):e.contextElement?k(e.contextElement):[],popper:k(t)};var h,u,g=function(e){var t=J(e);return Z.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}((h=[].concat(n,o.options.modifiers),u=h.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return o.orderedModifiers=g.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,s=e.effect;if("function"==typeof s){var r=s({state:o,name:t,instance:d,options:n});a.push(r||function(){})}})),d.update()},forceUpdate:function(){if(!l){var e=o.elements,t=e.reference,i=e.popper;if(te(t,i)){o.rects={reference:C(t,I(i),"fixed"===o.options.strategy),popper:y(i)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<o.orderedModifiers.length;n++)if(!0!==o.reset){var s=o.orderedModifiers[n],r=s.fn,a=s.options,c=void 0===a?{}:a,h=s.name;"function"==typeof r&&(o=r({state:o,options:c,name:h,instance:d})||o)}else o.reset=!1,n=-1}}},update:X((function(){return new Promise((function(e){d.forceUpdate(),e(o)}))})),destroy:function(){c(),l=!0}};if(!te(e,t))return d;function c(){a.forEach((function(e){return e()})),a=[]}return d.setOptions(i).then((function(e){!l&&i.onFirstUpdate&&i.onFirstUpdate(e)})),d}}var ne=ie(),oe={passive:!0};const se={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,o=e.options,s=o.scroll,r=void 0===s||s,a=o.resize,l=void 0===a||a,d=n(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach((function(e){e.addEventListener("scroll",i.update,oe)})),l&&d.addEventListener("resize",i.update,oe),function(){r&&c.forEach((function(e){e.removeEventListener("scroll",i.update,oe)})),l&&d.removeEventListener("resize",i.update,oe)}},data:{}};function re(e){return e.split("-")[0]}function ae(e){return e.split("-")[1]}function le(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function de(e){var t,i=e.reference,n=e.element,o=e.placement,s=o?re(o):null,r=o?ae(o):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(s){case D:t={x:a,y:i.y-n.height};break;case N:t={x:a,y:i.y+i.height};break;case E:t={x:i.x+i.width,y:l};break;case A:t={x:i.x-n.width,y:l};break;default:t={x:i.x,y:i.y}}var d=s?le(s):null;if(null!=d){var c="y"===d?"height":"width";switch(r){case R:t[d]=t[d]-(i[c]/2-n[c]/2);break;case P:t[d]=t[d]+(i[c]/2-n[c]/2)}}return t}const ce={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=de({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var he={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ue(e){var t,i=e.popper,o=e.popperRect,s=e.placement,r=e.variation,a=e.offsets,l=e.position,d=e.gpuAcceleration,h=e.adaptive,u=e.roundOffsets,g=e.isFixed,p=a.x,m=void 0===p?0:p,v=a.y,b=void 0===v?0:v,C="function"==typeof u?u({x:m,y:b}):{x:m,y:b};m=C.x,b=C.y;var y=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),S=A,k=D,L=window;if(h){var x=I(i),T="clientHeight",M="clientWidth";x===n(i)&&"static"!==_(x=f(i)).position&&"absolute"===l&&(T="scrollHeight",M="scrollWidth"),(s===D||(s===A||s===E)&&r===P)&&(k=N,b-=(g&&x===L&&L.visualViewport?L.visualViewport.height:x[T])-o.height,b*=d?1:-1),s!==A&&(s!==D&&s!==N||r!==P)||(S=E,m-=(g&&x===L&&L.visualViewport?L.visualViewport.width:x[M])-o.width,m*=d?1:-1)}var R,O=Object.assign({position:l},h&&he),V=!0===u?function(e){var t=e.x,i=e.y,n=window.devicePixelRatio||1;return{x:c(t*n)/n||0,y:c(i*n)/n||0}}({x:m,y:b}):{x:m,y:b};return m=V.x,b=V.y,d?Object.assign({},O,((R={})[k]=w?"0":"",R[S]=y?"0":"",R.transform=(L.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",R)):Object.assign({},O,((t={})[k]=w?b+"px":"",t[S]=y?m+"px":"",t.transform="",t))}const ge={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,o=void 0===n||n,s=i.adaptive,r=void 0===s||s,a=i.roundOffsets,l=void 0===a||a,d={placement:re(t.placement),variation:ae(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ue(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ue(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},pe={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},o=t.elements[e];r(o)&&m(o)&&(Object.assign(o.style,i),Object.keys(n).forEach((function(e){var t=n[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],o=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce((function(e,t){return e[t]="",e}),{});r(n)&&m(n)&&(Object.assign(n.style,s),Object.keys(o).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]},me={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,n=e.name,o=i.offset,s=void 0===o?[0,0]:o,r=B.reduce((function(e,i){return e[i]=function(e,t,i){var n=re(e),o=[A,D].indexOf(n)>=0?-1:1,s="function"==typeof i?i(Object.assign({},t,{placement:e})):i,r=s[0],a=s[1];return r=r||0,a=(a||0)*o,[A,E].indexOf(n)>=0?{x:a,y:r}:{x:r,y:a}}(i,t.rects,s),e}),{}),a=r[t.placement],l=a.x,d=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=d),t.modifiersData[n]=r}};var fe={left:"right",right:"left",bottom:"top",top:"bottom"};function ve(e){return e.replace(/left|right|bottom|top/g,(function(e){return fe[e]}))}var _e={start:"end",end:"start"};function be(e){return e.replace(/start|end/g,(function(e){return _e[e]}))}function Ce(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&a(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ye(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function we(e,t,i){return t===V?ye(function(e,t){var i=n(e),o=f(e),s=i.visualViewport,r=o.clientWidth,a=o.clientHeight,l=0,d=0;if(s){r=s.width,a=s.height;var c=u();(c||!c&&"fixed"===t)&&(l=s.offsetLeft,d=s.offsetTop)}return{width:r,height:a,x:l+v(e),y:d}}(e,i)):s(t)?function(e,t){var i=g(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):ye(function(e){var t,i=f(e),n=p(e),o=null==(t=e.ownerDocument)?void 0:t.body,s=l(i.scrollWidth,i.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),r=l(i.scrollHeight,i.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-n.scrollLeft+v(e),d=-n.scrollTop;return"rtl"===_(o||i).direction&&(a+=l(i.clientWidth,o?o.clientWidth:0)-s),{width:s,height:r,x:a,y:d}}(f(e)))}function Se(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ke(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}function Le(e,t){void 0===t&&(t={});var i=t,n=i.placement,o=void 0===n?e.placement:n,a=i.strategy,c=void 0===a?e.strategy:a,h=i.boundary,u=void 0===h?O:h,p=i.rootBoundary,v=void 0===p?V:p,b=i.elementContext,C=void 0===b?F:b,y=i.altBoundary,S=void 0!==y&&y,L=i.padding,x=void 0===L?0:L,A=Se("number"!=typeof x?x:ke(x,M)),T=C===F?W:F,R=e.rects.popper,P=e.elements[S?T:C],z=function(e,t,i,n){var o="clippingParents"===t?function(e){var t=k(w(e)),i=["absolute","fixed"].indexOf(_(e).position)>=0&&r(e)?I(e):e;return s(i)?t.filter((function(e){return s(e)&&Ce(e,i)&&"body"!==m(e)})):[]}(e):[].concat(t),a=[].concat(o,[i]),c=a[0],h=a.reduce((function(t,i){var o=we(e,i,n);return t.top=l(o.top,t.top),t.right=d(o.right,t.right),t.bottom=d(o.bottom,t.bottom),t.left=l(o.left,t.left),t}),we(e,c,n));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}(s(P)?P:P.contextElement||f(e.elements.popper),u,v,c),B=g(e.elements.reference),U=de({reference:B,element:R,strategy:"absolute",placement:o}),H=ye(Object.assign({},R,U)),G=C===F?H:B,j={top:z.top-G.top+A.top,bottom:G.bottom-z.bottom+A.bottom,left:z.left-G.left+A.left,right:G.right-z.right+A.right},K=e.modifiersData.offset;if(C===F&&K){var $=K[o];Object.keys(j).forEach((function(e){var t=[E,N].indexOf(e)>=0?1:-1,i=[D,N].indexOf(e)>=0?"y":"x";j[e]+=$[i]*t}))}return j}const xe={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=i.mainAxis,s=void 0===o||o,r=i.altAxis,a=void 0===r||r,l=i.fallbackPlacements,d=i.padding,c=i.boundary,h=i.rootBoundary,u=i.altBoundary,g=i.flipVariations,p=void 0===g||g,m=i.allowedAutoPlacements,f=t.options.placement,v=re(f),_=l||(v!==f&&p?function(e){if(re(e)===T)return[];var t=ve(e);return[be(e),t,be(t)]}(f):[ve(f)]),b=[f].concat(_).reduce((function(e,i){return e.concat(re(i)===T?function(e,t){void 0===t&&(t={});var i=t,n=i.placement,o=i.boundary,s=i.rootBoundary,r=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,d=void 0===l?B:l,c=ae(n),h=c?a?z:z.filter((function(e){return ae(e)===c})):M,u=h.filter((function(e){return d.indexOf(e)>=0}));0===u.length&&(u=h);var g=u.reduce((function(t,i){return t[i]=Le(e,{placement:i,boundary:o,rootBoundary:s,padding:r})[re(i)],t}),{});return Object.keys(g).sort((function(e,t){return g[e]-g[t]}))}(t,{placement:i,boundary:c,rootBoundary:h,padding:d,flipVariations:p,allowedAutoPlacements:m}):i)}),[]),C=t.rects.reference,y=t.rects.popper,w=new Map,S=!0,k=b[0],L=0;L<b.length;L++){var x=b[L],I=re(x),P=ae(x)===R,O=[D,N].indexOf(I)>=0,V=O?"width":"height",F=Le(t,{placement:x,boundary:c,rootBoundary:h,altBoundary:u,padding:d}),W=O?P?E:A:P?N:D;C[V]>y[V]&&(W=ve(W));var U=ve(W),H=[];if(s&&H.push(F[I]<=0),a&&H.push(F[W]<=0,F[U]<=0),H.every((function(e){return e}))){k=x,S=!1;break}w.set(x,H)}if(S)for(var G=function(e){var t=b.find((function(t){var i=w.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},j=p?3:1;j>0&&"break"!==G(j);j--);t.placement!==k&&(t.modifiersData[n]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ie(e,t,i){return l(e,d(t,i))}const De={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name,o=i.mainAxis,s=void 0===o||o,r=i.altAxis,a=void 0!==r&&r,c=i.boundary,h=i.rootBoundary,u=i.altBoundary,g=i.padding,p=i.tether,m=void 0===p||p,f=i.tetherOffset,v=void 0===f?0:f,_=Le(t,{boundary:c,rootBoundary:h,padding:g,altBoundary:u}),b=re(t.placement),C=ae(t.placement),w=!C,S=le(b),k="x"===S?"y":"x",L=t.modifiersData.popperOffsets,x=t.rects.reference,T=t.rects.popper,M="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,P="number"==typeof M?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(L){if(s){var F,W="y"===S?D:A,z="y"===S?N:E,B="y"===S?"height":"width",U=L[S],H=U+_[W],G=U-_[z],j=m?-T[B]/2:0,K=C===R?x[B]:T[B],$=C===R?-T[B]:-x[B],q=t.elements.arrow,Y=m&&q?y(q):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Z=Q[W],J=Q[z],X=Ie(0,x[B],Y[B]),ee=w?x[B]/2-j-X-Z-P.mainAxis:K-X-Z-P.mainAxis,te=w?-x[B]/2+j+X+J+P.mainAxis:$+X+J+P.mainAxis,ie=t.elements.arrow&&I(t.elements.arrow),ne=ie?"y"===S?ie.clientTop||0:ie.clientLeft||0:0,oe=null!=(F=null==O?void 0:O[S])?F:0,se=U+te-oe,de=Ie(m?d(H,U+ee-oe-ne):H,U,m?l(G,se):G);L[S]=de,V[S]=de-U}if(a){var ce,he="x"===S?D:A,ue="x"===S?N:E,ge=L[k],pe="y"===k?"height":"width",me=ge+_[he],fe=ge-_[ue],ve=-1!==[D,A].indexOf(b),_e=null!=(ce=null==O?void 0:O[k])?ce:0,be=ve?me:ge-x[pe]-T[pe]-_e+P.altAxis,Ce=ve?ge+x[pe]+T[pe]-_e-P.altAxis:fe,ye=m&&ve?function(e,t,i){var n=Ie(e,t,i);return n>i?i:n}(be,ge,Ce):Ie(m?be:me,ge,m?Ce:fe);L[k]=ye,V[k]=ye-ge}t.modifiersData[n]=V}},requiresIfExists:["offset"]},Ne={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,n=e.name,o=e.options,s=i.elements.arrow,r=i.modifiersData.popperOffsets,a=re(i.placement),l=le(a),d=[A,E].indexOf(a)>=0?"height":"width";if(s&&r){var c=function(e,t){return Se("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ke(e,M))}(o.padding,i),h=y(s),u="y"===l?D:A,g="y"===l?N:E,p=i.rects.reference[d]+i.rects.reference[l]-r[l]-i.rects.popper[d],m=r[l]-i.rects.reference[l],f=I(s),v=f?"y"===l?f.clientHeight||0:f.clientWidth||0:0,_=p/2-m/2,b=c[u],C=v-h[d]-c[g],w=v/2-h[d]/2+_,S=Ie(b,w,C),k=l;i.modifiersData[n]=((t={})[k]=S,t.centerOffset=S-w,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&Ce(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ee(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function Ae(e){return[D,E,N,A].some((function(t){return e[t]>=0}))}const Te={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,o=t.rects.popper,s=t.modifiersData.preventOverflow,r=Le(t,{elementContext:"reference"}),a=Le(t,{altBoundary:!0}),l=Ee(r,n),d=Ee(a,o,s),c=Ae(l),h=Ae(d);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:c,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}};var Me=ie({defaultModifiers:[se,ce,ge,pe,me,xe,De,Ne,Te]}),Re="tippy-content",Pe="tippy-arrow",Oe="tippy-svg-arrow",Ve={passive:!0,capture:!0},Fe=function(){return document.body};function We(e,t,i){if(Array.isArray(e)){var n=e[t];return null==n?Array.isArray(i)?i[t]:i:n}return e}function ze(e,t){var i={}.toString.call(e);return 0===i.indexOf("[object")&&i.indexOf(t+"]")>-1}function Be(e,t){return"function"==typeof e?e.apply(void 0,t):e}function Ue(e,t){return 0===t?e:function(n){clearTimeout(i),i=setTimeout((function(){e(n)}),t)};var i}function He(e){return[].concat(e)}function Ge(e,t){-1===e.indexOf(t)&&e.push(t)}function je(e){return[].slice.call(e)}function Ke(e){return Object.keys(e).reduce((function(t,i){return void 0!==e[i]&&(t[i]=e[i]),t}),{})}function $e(){return document.createElement("div")}function qe(e){return["Element","Fragment"].some((function(t){return ze(e,t)}))}function Ye(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function Qe(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function Ze(e,t,i){var n=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[n](t,i)}))}function Je(e,t){for(var i=t;i;){var n;if(e.contains(i))return!0;i=null==i.getRootNode||null==(n=i.getRootNode())?void 0:n.host}return!1}var Xe={isTouch:!1},et=0;function tt(){Xe.isTouch||(Xe.isTouch=!0,window.performance&&document.addEventListener("mousemove",it))}function it(){var e=performance.now();e-et<20&&(Xe.isTouch=!1,document.removeEventListener("mousemove",it)),et=e}function nt(){var e,t=document.activeElement;if((e=t)&&e._tippy&&e._tippy.reference===e){var i=t._tippy;t.blur&&!i.state.isVisible&&t.blur()}}var ot=!("undefined"==typeof window||"undefined"==typeof document||!window.msCrypto),st=Object.assign({appendTo:Fe,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),rt=Object.keys(st);function at(e){var t=(e.plugins||[]).reduce((function(t,i){var n,o=i.name,s=i.defaultValue;return o&&(t[o]=void 0!==e[o]?e[o]:null!=(n=st[o])?n:s),t}),{});return Object.assign({},e,t)}function lt(e,t){var i=Object.assign({},t,{content:Be(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(at(Object.assign({},st,{plugins:t}))):rt).reduce((function(t,i){var n=(e.getAttribute("data-tippy-"+i)||"").trim();if(!n)return t;if("content"===i)t[i]=n;else try{t[i]=JSON.parse(n)}catch(e){t[i]=n}return t}),{})}(e,t.plugins));return i.aria=Object.assign({},st.aria,i.aria),i.aria={expanded:"auto"===i.aria.expanded?t.interactive:i.aria.expanded,content:"auto"===i.aria.content?t.interactive?null:"describedby":i.aria.content},i}function dt(e,t){e.innerHTML=t}function ct(e){var t=$e();return!0===e?t.className=Pe:(t.className=Oe,qe(e)?t.appendChild(e):dt(t,e)),t}function ht(e,t){qe(t.content)?(dt(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?dt(e,t.content):e.textContent=t.content)}function ut(e){var t=e.firstElementChild,i=je(t.children);return{box:t,content:i.find((function(e){return e.classList.contains(Re)})),arrow:i.find((function(e){return e.classList.contains(Pe)||e.classList.contains(Oe)})),backdrop:i.find((function(e){return e.classList.contains("tippy-backdrop")}))}}function gt(e){var t=$e(),i=$e();i.className="tippy-box",i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var n=$e();function o(i,n){var o=ut(t),s=o.box,r=o.content,a=o.arrow;n.theme?s.setAttribute("data-theme",n.theme):s.removeAttribute("data-theme"),"string"==typeof n.animation?s.setAttribute("data-animation",n.animation):s.removeAttribute("data-animation"),n.inertia?s.setAttribute("data-inertia",""):s.removeAttribute("data-inertia"),s.style.maxWidth="number"==typeof n.maxWidth?n.maxWidth+"px":n.maxWidth,n.role?s.setAttribute("role",n.role):s.removeAttribute("role"),i.content===n.content&&i.allowHTML===n.allowHTML||ht(r,e.props),n.arrow?a?i.arrow!==n.arrow&&(s.removeChild(a),s.appendChild(ct(n.arrow))):s.appendChild(ct(n.arrow)):a&&s.removeChild(a)}return n.className=Re,n.setAttribute("data-state","hidden"),ht(n,e.props),t.appendChild(i),i.appendChild(n),o(e.props,e.props),{popper:t,onUpdate:o}}gt.$$tippy=!0;var pt=1,mt=[],ft=[];function vt(e,t){var i,n,o,s,r,a,l,d,c=lt(e,Object.assign({},st,at(Ke(t)))),h=!1,u=!1,g=!1,p=!1,m=[],f=Ue($,c.interactiveDebounce),v=pt++,_=(d=c.plugins).filter((function(e,t){return d.indexOf(e)===t})),b={id:v,reference:e,popper:$e(),popperInstance:null,props:c,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:_,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(n),cancelAnimationFrame(o)},setProps:function(t){if(!b.state.isDestroyed){M("onBeforeUpdate",[b,t]),j();var i=b.props,n=lt(e,Object.assign({},i,Ke(t),{ignoreAttributes:!0}));b.props=n,G(),i.interactiveDebounce!==n.interactiveDebounce&&(O(),f=Ue($,n.interactiveDebounce)),i.triggerTarget&&!n.triggerTarget?He(i.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):n.triggerTarget&&e.removeAttribute("aria-expanded"),P(),T(),w&&w(i,n),b.popperInstance&&(Z(),X().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)}))),M("onAfterUpdate",[b,t])}},setContent:function(e){b.setProps({content:e})},show:function(){var e=b.state.isVisible,t=b.state.isDestroyed,i=!b.state.isEnabled,n=Xe.isTouch&&!b.props.touch,o=We(b.props.duration,0,st.duration);if(!(e||t||i||n||D().hasAttribute("disabled")||(M("onShow",[b],!1),!1===b.props.onShow(b)))){if(b.state.isVisible=!0,I()&&(y.style.visibility="visible"),T(),z(),b.state.isMounted||(y.style.transition="none"),I()){var s=E();Ye([s.box,s.content],0)}var r,l,d;a=function(){var e;if(b.state.isVisible&&!p){if(p=!0,y.offsetHeight,y.style.transition=b.props.moveTransition,I()&&b.props.animation){var t=E(),i=t.box,n=t.content;Ye([i,n],o),Qe([i,n],"visible")}R(),P(),Ge(ft,b),null==(e=b.popperInstance)||e.forceUpdate(),M("onMount",[b]),b.props.animation&&I()&&function(e,t){U(e,(function(){b.state.isShown=!0,M("onShown",[b])}))}(o)}},l=b.props.appendTo,d=D(),(r=b.props.interactive&&l===Fe||"parent"===l?d.parentNode:Be(l,[d])).contains(y)||r.appendChild(y),b.state.isMounted=!0,Z()}},hide:function(){var e=!b.state.isVisible,t=b.state.isDestroyed,i=!b.state.isEnabled,n=We(b.props.duration,1,st.duration);if(!(e||t||i)&&(M("onHide",[b],!1),!1!==b.props.onHide(b))){if(b.state.isVisible=!1,b.state.isShown=!1,p=!1,h=!1,I()&&(y.style.visibility="hidden"),O(),B(),T(!0),I()){var o=E(),s=o.box,r=o.content;b.props.animation&&(Ye([s,r],n),Qe([s,r],"hidden"))}R(),P(),b.props.animation?I()&&function(e,t){U(e,(function(){!b.state.isVisible&&y.parentNode&&y.parentNode.contains(y)&&t()}))}(n,b.unmount):b.unmount()}},hideWithInteractivity:function(e){N().addEventListener("mousemove",f),Ge(mt,f),f(e)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){b.state.isVisible&&b.hide(),b.state.isMounted&&(J(),X().forEach((function(e){e._tippy.unmount()})),y.parentNode&&y.parentNode.removeChild(y),ft=ft.filter((function(e){return e!==b})),b.state.isMounted=!1,M("onHidden",[b]))},destroy:function(){b.state.isDestroyed||(b.clearDelayTimeouts(),b.unmount(),j(),delete e._tippy,b.state.isDestroyed=!0,M("onDestroy",[b]))}};if(!c.render)return b;var C=c.render(b),y=C.popper,w=C.onUpdate;y.setAttribute("data-tippy-root",""),y.id="tippy-"+b.id,b.popper=y,e._tippy=b,y._tippy=b;var S=_.map((function(e){return e.fn(b)})),k=e.hasAttribute("aria-expanded");return G(),P(),T(),M("onCreate",[b]),c.showOnCreate&&ee(),y.addEventListener("mouseenter",(function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()})),y.addEventListener("mouseleave",(function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&N().addEventListener("mousemove",f)})),b;function L(){var e=b.props.touch;return Array.isArray(e)?e:[e,0]}function x(){return"hold"===L()[0]}function I(){var e;return!(null==(e=b.props.render)||!e.$$tippy)}function D(){return l||e}function N(){var e,t,i=D().parentNode;return i?null!=(t=He(i)[0])&&null!=(e=t.ownerDocument)&&e.body?t.ownerDocument:document:document}function E(){return ut(y)}function A(e){return b.state.isMounted&&!b.state.isVisible||Xe.isTouch||s&&"focus"===s.type?0:We(b.props.delay,e?0:1,st.delay)}function T(e){void 0===e&&(e=!1),y.style.pointerEvents=b.props.interactive&&!e?"":"none",y.style.zIndex=""+b.props.zIndex}function M(e,t,i){var n;void 0===i&&(i=!0),S.forEach((function(i){i[e]&&i[e].apply(i,t)})),i&&(n=b.props)[e].apply(n,t)}function R(){var t=b.props.aria;if(t.content){var i="aria-"+t.content,n=y.id;He(b.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(i);if(b.state.isVisible)e.setAttribute(i,t?t+" "+n:n);else{var o=t&&t.replace(n,"").trim();o?e.setAttribute(i,o):e.removeAttribute(i)}}))}}function P(){!k&&b.props.aria.expanded&&He(b.props.triggerTarget||e).forEach((function(e){b.props.interactive?e.setAttribute("aria-expanded",b.state.isVisible&&e===D()?"true":"false"):e.removeAttribute("aria-expanded")}))}function O(){N().removeEventListener("mousemove",f),mt=mt.filter((function(e){return e!==f}))}function V(t){if(!Xe.isTouch||!g&&"mousedown"!==t.type){var i=t.composedPath&&t.composedPath()[0]||t.target;if(!b.props.interactive||!Je(y,i)){if(He(b.props.triggerTarget||e).some((function(e){return Je(e,i)}))){if(Xe.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else M("onClickOutside",[b,t]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),u=!0,setTimeout((function(){u=!1})),b.state.isMounted||B())}}}function F(){g=!0}function W(){g=!1}function z(){var e=N();e.addEventListener("mousedown",V,!0),e.addEventListener("touchend",V,Ve),e.addEventListener("touchstart",W,Ve),e.addEventListener("touchmove",F,Ve)}function B(){var e=N();e.removeEventListener("mousedown",V,!0),e.removeEventListener("touchend",V,Ve),e.removeEventListener("touchstart",W,Ve),e.removeEventListener("touchmove",F,Ve)}function U(e,t){var i=E().box;function n(e){e.target===i&&(Ze(i,"remove",n),t())}if(0===e)return t();Ze(i,"remove",r),Ze(i,"add",n),r=n}function H(t,i,n){void 0===n&&(n=!1),He(b.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,i,n),m.push({node:e,eventType:t,handler:i,options:n})}))}function G(){var e;x()&&(H("touchstart",K,{passive:!0}),H("touchend",q,{passive:!0})),(e=b.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(H(e,K),e){case"mouseenter":H("mouseleave",q);break;case"focus":H(ot?"focusout":"blur",Y);break;case"focusin":H("focusout",Y)}}))}function j(){m.forEach((function(e){var t=e.node,i=e.eventType,n=e.handler,o=e.options;t.removeEventListener(i,n,o)})),m=[]}function K(e){var t,i=!1;if(b.state.isEnabled&&!Q(e)&&!u){var n="focus"===(null==(t=s)?void 0:t.type);s=e,l=e.currentTarget,P(),!b.state.isVisible&&ze(e,"MouseEvent")&&mt.forEach((function(t){return t(e)})),"click"===e.type&&(b.props.trigger.indexOf("mouseenter")<0||h)&&!1!==b.props.hideOnClick&&b.state.isVisible?i=!0:ee(e),"click"===e.type&&(h=!i),i&&!n&&te(e)}}function $(e){var t=e.target,i=D().contains(t)||y.contains(t);if("mousemove"!==e.type||!i){var n=X().concat(y).map((function(e){var t,i=null==(t=e._tippy.popperInstance)?void 0:t.state;return i?{popperRect:e.getBoundingClientRect(),popperState:i,props:c}:null})).filter(Boolean);(function(e,t){var i=t.clientX,n=t.clientY;return e.every((function(e){var t=e.popperRect,o=e.popperState,s=e.props.interactiveBorder,r=o.placement.split("-")[0],a=o.modifiersData.offset;if(!a)return!0;var l="bottom"===r?a.top.y:0,d="top"===r?a.bottom.y:0,c="right"===r?a.left.x:0,h="left"===r?a.right.x:0,u=t.top-n+l>s,g=n-t.bottom-d>s,p=t.left-i+c>s,m=i-t.right-h>s;return u||g||p||m}))})(n,e)&&(O(),te(e))}}function q(e){Q(e)||b.props.trigger.indexOf("click")>=0&&h||(b.props.interactive?b.hideWithInteractivity(e):te(e))}function Y(e){b.props.trigger.indexOf("focusin")<0&&e.target!==D()||b.props.interactive&&e.relatedTarget&&y.contains(e.relatedTarget)||te(e)}function Q(e){return!!Xe.isTouch&&x()!==e.type.indexOf("touch")>=0}function Z(){J();var t=b.props,i=t.popperOptions,n=t.placement,o=t.offset,s=t.getReferenceClientRect,r=t.moveTransition,l=I()?ut(y).arrow:null,d=s?{getBoundingClientRect:s,contextElement:s.contextElement||D()}:e,c=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!r}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(I()){var i=E().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?i.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?i.setAttribute("data-"+e,""):i.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];I()&&l&&c.push({name:"arrow",options:{element:l,padding:3}}),c.push.apply(c,(null==i?void 0:i.modifiers)||[]),b.popperInstance=Me(d,y,Object.assign({},i,{placement:n,onFirstUpdate:a,modifiers:c}))}function J(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function X(){return je(y.querySelectorAll("[data-tippy-root]"))}function ee(e){b.clearDelayTimeouts(),e&&M("onTrigger",[b,e]),z();var t=A(!0),n=L(),o=n[0],s=n[1];Xe.isTouch&&"hold"===o&&s&&(t=s),t?i=setTimeout((function(){b.show()}),t):b.show()}function te(e){if(b.clearDelayTimeouts(),M("onUntrigger",[b,e]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&h)){var t=A(!1);t?n=setTimeout((function(){b.state.isVisible&&b.hide()}),t):o=requestAnimationFrame((function(){b.hide()}))}}else B()}}function _t(e,t){void 0===t&&(t={});var i=st.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",tt,Ve),window.addEventListener("blur",nt);var n,o=Object.assign({},t,{plugins:i}),s=(n=e,qe(n)?[n]:function(e){return ze(e,"NodeList")}(n)?je(n):Array.isArray(n)?n:je(document.querySelectorAll(n))).reduce((function(e,t){var i=t&&vt(t,o);return i&&e.push(i),e}),[]);return qe(e)?s[0]:s}_t.defaultProps=st,_t.setDefaultProps=function(e){Object.keys(e).forEach((function(t){st[t]=e[t]}))},_t.currentInput=Xe,Object.assign({},pe,{effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow)}}),_t.setDefaultProps({render:gt});const bt=_t;var Ct=ie({defaultModifiers:[se,ce,ge,pe]});const yt="transitionend",wt=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let i=e.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),t=i&&"#"!==i?i.trim():null}return t},St=e=>{const t=wt(e);return t&&document.querySelector(t)?t:null},kt=e=>{const t=wt(e);return t?document.querySelector(t):null},Lt=e=>{e.dispatchEvent(new Event(yt))},xt=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),It=e=>xt(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(e):null,Dt=e=>{if(!xt(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),i=e.closest("details:not([open])");if(!i)return t;if(i!==e){const t=e.closest("summary");if(t&&t.parentNode!==i)return!1;if(null===t)return!1}return t},Nt=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),Et=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?Et(e.parentNode):null},At=()=>{},Tt=e=>{e.offsetHeight},Mt=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Rt=[],Pt=()=>"rtl"===document.documentElement.dir,Ot=e=>{var t;t=()=>{const t=Mt();if(t){const i=e.NAME,n=t.fn[i];t.fn[i]=e.jQueryInterface,t.fn[i].Constructor=e,t.fn[i].noConflict=()=>(t.fn[i]=n,e.jQueryInterface)}},"loading"===document.readyState?(Rt.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of Rt)e()})),Rt.push(t)):t()},Vt=e=>{"function"==typeof e&&e()},Ft=(e,t,i=!0)=>{if(!i)return void Vt(e);const n=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(e);const n=Number.parseFloat(t),o=Number.parseFloat(i);return n||o?(t=t.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(i))):0})(t)+5;let o=!1;const s=({target:i})=>{i===t&&(o=!0,t.removeEventListener(yt,s),Vt(e))};t.addEventListener(yt,s),setTimeout((()=>{o||Lt(t)}),n)},Wt=(e,t,i,n)=>{const o=e.length;let s=e.indexOf(t);return-1===s?!i&&n?e[o-1]:e[0]:(s+=i?1:-1,n&&(s=(s+o)%o),e[Math.max(0,Math.min(s,o-1))])},zt=/[^.]*(?=\..*)\.|.*/,Bt=/\..*/,Ut=/::\d+$/,Ht={};let Gt=1;const jt={mouseenter:"mouseover",mouseleave:"mouseout"},Kt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function $t(e,t){return t&&`${t}::${Gt++}`||e.uidEvent||Gt++}function qt(e){const t=$t(e);return e.uidEvent=t,Ht[t]=Ht[t]||{},Ht[t]}function Yt(e,t,i=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===i))}function Qt(e,t,i){const n="string"==typeof t,o=n?i:t||i;let s=ei(e);return Kt.has(s)||(s=e),[n,o,s]}function Zt(e,t,i,n,o){if("string"!=typeof t||!e)return;let[s,r,a]=Qt(t,i,n);if(t in jt){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};r=e(r)}const l=qt(e),d=l[a]||(l[a]={}),c=Yt(d,r,s?i:null);if(c)return void(c.oneOff=c.oneOff&&o);const h=$t(r,t.replace(zt,"")),u=s?function(e,t,i){return function n(o){const s=e.querySelectorAll(t);for(let{target:r}=o;r&&r!==this;r=r.parentNode)for(const a of s)if(a===r)return ii(o,{delegateTarget:r}),n.oneOff&&ti.off(e,o.type,t,i),i.apply(r,[o])}}(e,i,r):function(e,t){return function i(n){return ii(n,{delegateTarget:e}),i.oneOff&&ti.off(e,n.type,t),t.apply(e,[n])}}(e,r);u.delegationSelector=s?i:null,u.callable=r,u.oneOff=o,u.uidEvent=h,d[h]=u,e.addEventListener(a,u,s)}function Jt(e,t,i,n,o){const s=Yt(t[i],n,o);s&&(e.removeEventListener(i,s,Boolean(o)),delete t[i][s.uidEvent])}function Xt(e,t,i,n){const o=t[i]||{};for(const s of Object.keys(o))if(s.includes(n)){const n=o[s];Jt(e,t,i,n.callable,n.delegationSelector)}}function ei(e){return e=e.replace(Bt,""),jt[e]||e}const ti={on(e,t,i,n){Zt(e,t,i,n,!1)},one(e,t,i,n){Zt(e,t,i,n,!0)},off(e,t,i,n){if("string"!=typeof t||!e)return;const[o,s,r]=Qt(t,i,n),a=r!==t,l=qt(e),d=l[r]||{},c=t.startsWith(".");if(void 0===s){if(c)for(const i of Object.keys(l))Xt(e,l,i,t.slice(1));for(const i of Object.keys(d)){const n=i.replace(Ut,"");if(!a||t.includes(n)){const t=d[i];Jt(e,l,r,t.callable,t.delegationSelector)}}}else{if(!Object.keys(d).length)return;Jt(e,l,r,s,o?i:null)}},trigger(e,t,i){if("string"!=typeof t||!e)return null;const n=Mt();let o=null,s=!0,r=!0,a=!1;t!==ei(t)&&n&&(o=n.Event(t,i),n(e).trigger(o),s=!o.isPropagationStopped(),r=!o.isImmediatePropagationStopped(),a=o.isDefaultPrevented());let l=new Event(t,{bubbles:s,cancelable:!0});return l=ii(l,i),a&&l.preventDefault(),r&&e.dispatchEvent(l),l.defaultPrevented&&o&&o.preventDefault(),l}};function ii(e,t){for(const[i,n]of Object.entries(t||{}))try{e[i]=n}catch(t){Object.defineProperty(e,i,{configurable:!0,get:()=>n})}return e}const ni=new Map,oi={set(e,t,i){ni.has(e)||ni.set(e,new Map);const n=ni.get(e);n.has(t)||0===n.size?n.set(t,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`)},get:(e,t)=>ni.has(e)&&ni.get(e).get(t)||null,remove(e,t){if(!ni.has(e))return;const i=ni.get(e);i.delete(t),0===i.size&&ni.delete(e)}};function si(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function ri(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const ai={setDataAttribute(e,t,i){e.setAttribute(`data-bs-${ri(t)}`,i)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${ri(t)}`)},getDataAttributes(e){if(!e)return{};const t={},i=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const n of i){let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=si(e.dataset[n])}return t},getDataAttribute:(e,t)=>si(e.getAttribute(`data-bs-${ri(t)}`))};class li{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=xt(t)?ai.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...xt(t)?ai.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const n of Object.keys(t)){const o=t[n],s=e[n],r=xt(s)?"element":null==(i=s)?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${r}" but expected type "${o}".`)}var i}}class di extends li{constructor(e,t){super(),(e=It(e))&&(this._element=e,this._config=this._getConfig(t),oi.set(this._element,this.constructor.DATA_KEY,this))}dispose(){oi.remove(this._element,this.constructor.DATA_KEY),ti.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){Ft(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return oi.get(It(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const ci=(e,t="hide")=>{const i=`click.dismiss${e.EVENT_KEY}`,n=e.NAME;ti.on(document,i,`[data-bs-dismiss="${n}"]`,(function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Nt(this))return;const o=kt(this)||this.closest(`.${n}`);e.getOrCreateInstance(o)[t]()}))},hi=".bs.alert",ui=`close${hi}`,gi=`closed${hi}`;class pi extends di{static get NAME(){return"alert"}close(){if(ti.trigger(this._element,ui).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),ti.trigger(this._element,gi),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=pi.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}ci(pi,"close"),Ot(pi);const mi='[data-bs-toggle="button"]';class fi extends di{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=fi.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}ti.on(document,"click.bs.button.data-api",mi,(e=>{e.preventDefault();const t=e.target.closest(mi);fi.getOrCreateInstance(t).toggle()})),Ot(fi);const vi={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const i=[];let n=e.parentNode.closest(t);for(;n;)i.push(n),n=n.parentNode.closest(t);return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!Nt(e)&&Dt(e)))}},_i=".bs.swipe",bi=`touchstart${_i}`,Ci=`touchmove${_i}`,yi=`touchend${_i}`,wi=`pointerdown${_i}`,Si=`pointerup${_i}`,ki={endCallback:null,leftCallback:null,rightCallback:null},Li={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class xi extends li{constructor(e,t){super(),this._element=e,e&&xi.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ki}static get DefaultType(){return Li}static get NAME(){return"swipe"}dispose(){ti.off(this._element,_i)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Vt(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&Vt(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ti.on(this._element,wi,(e=>this._start(e))),ti.on(this._element,Si,(e=>this._end(e))),this._element.classList.add("pointer-event")):(ti.on(this._element,bi,(e=>this._start(e))),ti.on(this._element,Ci,(e=>this._move(e))),ti.on(this._element,yi,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ii=".bs.carousel",Di=".data-api",Ni="next",Ei="prev",Ai="left",Ti="right",Mi=`slide${Ii}`,Ri=`slid${Ii}`,Pi=`keydown${Ii}`,Oi=`mouseenter${Ii}`,Vi=`mouseleave${Ii}`,Fi=`dragstart${Ii}`,Wi=`load${Ii}${Di}`,zi=`click${Ii}${Di}`,Bi="carousel",Ui="active",Hi=".active",Gi=".carousel-item",ji=Hi+Gi,Ki={ArrowLeft:Ti,ArrowRight:Ai},$i={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},qi={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Yi extends di{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=vi.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Bi&&this.cycle()}static get Default(){return $i}static get DefaultType(){return qi}static get NAME(){return"carousel"}next(){this._slide(Ni)}nextWhenVisible(){!document.hidden&&Dt(this._element)&&this.next()}prev(){this._slide(Ei)}pause(){this._isSliding&&Lt(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?ti.one(this._element,Ri,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void ti.one(this._element,Ri,(()=>this.to(e)));const i=this._getItemIndex(this._getActive());if(i===e)return;const n=e>i?Ni:Ei;this._slide(n,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ti.on(this._element,Pi,(e=>this._keydown(e))),"hover"===this._config.pause&&(ti.on(this._element,Oi,(()=>this.pause())),ti.on(this._element,Vi,(()=>this._maybeEnableCycle()))),this._config.touch&&xi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of vi.find(".carousel-item img",this._element))ti.on(e,Fi,(e=>e.preventDefault()));const e={leftCallback:()=>this._slide(this._directionToOrder(Ai)),rightCallback:()=>this._slide(this._directionToOrder(Ti)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new xi(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Ki[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=vi.findOne(Hi,this._indicatorsElement);t.classList.remove(Ui),t.removeAttribute("aria-current");const i=vi.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(Ui),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),n=e===Ni,o=t||Wt(this._getItems(),i,n,this._config.wrap);if(o===i)return;const s=this._getItemIndex(o),r=t=>ti.trigger(this._element,t,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:s});if(r(Mi).defaultPrevented)return;if(!i||!o)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=o;const l=n?"carousel-item-start":"carousel-item-end",d=n?"carousel-item-next":"carousel-item-prev";o.classList.add(d),Tt(o),i.classList.add(l),o.classList.add(l),this._queueCallback((()=>{o.classList.remove(l,d),o.classList.add(Ui),i.classList.remove(Ui,d,l),this._isSliding=!1,r(Ri)}),i,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return vi.findOne(ji,this._element)}_getItems(){return vi.find(Gi,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Pt()?e===Ai?Ei:Ni:e===Ai?Ni:Ei}_orderToDirection(e){return Pt()?e===Ei?Ai:Ti:e===Ei?Ti:Ai}static jQueryInterface(e){return this.each((function(){const t=Yi.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}ti.on(document,zi,"[data-bs-slide], [data-bs-slide-to]",(function(e){const t=kt(this);if(!t||!t.classList.contains(Bi))return;e.preventDefault();const i=Yi.getOrCreateInstance(t),n=this.getAttribute("data-bs-slide-to");return n?(i.to(n),void i._maybeEnableCycle()):"next"===ai.getDataAttribute(this,"slide")?(i.next(),void i._maybeEnableCycle()):(i.prev(),void i._maybeEnableCycle())})),ti.on(window,Wi,(()=>{const e=vi.find('[data-bs-ride="carousel"]');for(const t of e)Yi.getOrCreateInstance(t)})),Ot(Yi);const Qi=".bs.collapse",Zi=`show${Qi}`,Ji=`shown${Qi}`,Xi=`hide${Qi}`,en=`hidden${Qi}`,tn=`click${Qi}.data-api`,nn="show",on="collapse",sn="collapsing",rn=`:scope .${on} .${on}`,an='[data-bs-toggle="collapse"]',ln={parent:null,toggle:!0},dn={parent:"(null|element)",toggle:"boolean"};class cn extends di{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=vi.find(an);for(const e of i){const t=St(e),i=vi.find(t).filter((e=>e===this._element));null!==t&&i.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ln}static get DefaultType(){return dn}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((e=>e!==this._element)).map((e=>cn.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;if(ti.trigger(this._element,Zi).defaultPrevented)return;for(const t of e)t.hide();const t=this._getDimension();this._element.classList.remove(on),this._element.classList.add(sn),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(sn),this._element.classList.add(on,nn),this._element.style[t]="",ti.trigger(this._element,Ji)}),this._element,!0),this._element.style[t]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(ti.trigger(this._element,Xi).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,Tt(this._element),this._element.classList.add(sn),this._element.classList.remove(on,nn);for(const e of this._triggerArray){const t=kt(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(sn),this._element.classList.add(on),ti.trigger(this._element,en)}),this._element,!0)}_isShown(e=this._element){return e.classList.contains(nn)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=It(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(an);for(const t of e){const e=kt(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=vi.find(rn,this._config.parent);return vi.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const i=cn.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e]()}}))}}ti.on(document,tn,an,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();const t=St(this),i=vi.find(t);for(const e of i)cn.getOrCreateInstance(e,{toggle:!1}).toggle()})),Ot(cn);const hn="dropdown",un=".bs.dropdown",gn=".data-api",pn="ArrowUp",mn="ArrowDown",fn=`hide${un}`,vn=`hidden${un}`,_n=`show${un}`,bn=`shown${un}`,Cn=`click${un}${gn}`,yn=`keydown${un}${gn}`,wn=`keyup${un}${gn}`,Sn="show",kn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ln=`${kn}.${Sn}`,xn=".dropdown-menu",In=Pt()?"top-end":"top-start",Dn=Pt()?"top-start":"top-end",Nn=Pt()?"bottom-end":"bottom-start",En=Pt()?"bottom-start":"bottom-end",An=Pt()?"left-start":"right-start",Tn=Pt()?"right-start":"left-start",Mn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Rn={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Pn extends di{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=vi.next(this._element,xn)[0]||vi.prev(this._element,xn)[0]||vi.findOne(xn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Mn}static get DefaultType(){return Rn}static get NAME(){return hn}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Nt(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ti.trigger(this._element,_n,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))ti.on(e,"mouseover",At);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Sn),this._element.classList.add(Sn),ti.trigger(this._element,bn,e)}}hide(){if(Nt(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ti.trigger(this._element,fn,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))ti.off(e,"mouseover",At);this._popper&&this._popper.destroy(),this._menu.classList.remove(Sn),this._element.classList.remove(Sn),this._element.setAttribute("aria-expanded","false"),ai.removeDataAttribute(this._menu,"popper"),ti.trigger(this._element,vn,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!xt(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${hn.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===e)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:xt(this._config.reference)?t=It(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const i=this._getPopperConfig();this._popper=Me(t,this._menu,i)}_isShown(){return this._menu.classList.contains(Sn)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return An;if(e.classList.contains("dropstart"))return Tn;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?Dn:In:t?En:Nn}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(ai.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){const i=vi.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((e=>Dt(e)));i.length&&Wt(i,t,e===mn,!i.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=Pn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=vi.find(Ln);for(const i of t){const t=Pn.getInstance(i);if(!t||!1===t._config.autoClose)continue;const n=e.composedPath(),o=n.includes(t._menu);if(n.includes(t._element)||"inside"===t._config.autoClose&&!o||"outside"===t._config.autoClose&&o)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const s={relatedTarget:t._element};"click"===e.type&&(s.clickEvent=e),t._completeHide(s)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,n=[pn,mn].includes(e.key);if(!n&&!i)return;if(t&&!i)return;e.preventDefault();const o=this.matches(kn)?this:vi.prev(this,kn)[0]||vi.next(this,kn)[0]||vi.findOne(kn,e.delegateTarget.parentNode),s=Pn.getOrCreateInstance(o);if(n)return e.stopPropagation(),s.show(),void s._selectMenuItem(e);s._isShown()&&(e.stopPropagation(),s.hide(),o.focus())}}ti.on(document,yn,kn,Pn.dataApiKeydownHandler),ti.on(document,yn,xn,Pn.dataApiKeydownHandler),ti.on(document,Cn,Pn.clearMenus),ti.on(document,wn,Pn.clearMenus),ti.on(document,Cn,kn,(function(e){e.preventDefault(),Pn.getOrCreateInstance(this).toggle()})),Ot(Pn);const On=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Vn=".sticky-top",Fn="padding-right",Wn="margin-right";class zn{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Fn,(t=>t+e)),this._setElementAttributes(On,Fn,(t=>t+e)),this._setElementAttributes(Vn,Wn,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Fn),this._resetElementAttributes(On,Fn),this._resetElementAttributes(Vn,Wn)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const n=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+n)return;this._saveInitialAttribute(e,t);const o=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${i(Number.parseFloat(o))}px`)}))}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&ai.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const i=ai.getDataAttribute(e,t);null!==i?(ai.removeDataAttribute(e,t),e.style.setProperty(t,i)):e.style.removeProperty(t)}))}_applyManipulationCallback(e,t){if(xt(e))t(e);else for(const i of vi.find(e,this._element))t(i)}}const Bn="backdrop",Un="show",Hn=`mousedown.bs.${Bn}`,Gn={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},jn={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Kn extends li{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Gn}static get DefaultType(){return jn}static get NAME(){return Bn}show(e){if(!this._config.isVisible)return void Vt(e);this._append();const t=this._getElement();this._config.isAnimated&&Tt(t),t.classList.add(Un),this._emulateAnimation((()=>{Vt(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(Un),this._emulateAnimation((()=>{this.dispose(),Vt(e)}))):Vt(e)}dispose(){this._isAppended&&(ti.off(this._element,Hn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=It(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ti.on(e,Hn,(()=>{Vt(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){Ft(e,this._getElement(),this._config.isAnimated)}}const $n=".bs.focustrap",qn=`focusin${$n}`,Yn=`keydown.tab${$n}`,Qn="backward",Zn={autofocus:!0,trapElement:null},Jn={autofocus:"boolean",trapElement:"element"};class Xn extends li{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Zn}static get DefaultType(){return Jn}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ti.off(document,$n),ti.on(document,qn,(e=>this._handleFocusin(e))),ti.on(document,Yn,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ti.off(document,$n))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=vi.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===Qn?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Qn:"forward")}}const eo=".bs.modal",to=`hide${eo}`,io=`hidePrevented${eo}`,no=`hidden${eo}`,oo=`show${eo}`,so=`shown${eo}`,ro=`resize${eo}`,ao=`click.dismiss${eo}`,lo=`mousedown.dismiss${eo}`,co=`keydown.dismiss${eo}`,ho=`click${eo}.data-api`,uo="modal-open",go="show",po="modal-static",mo={backdrop:!0,focus:!0,keyboard:!0},fo={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class vo extends di{constructor(e,t){super(e,t),this._dialog=vi.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new zn,this._addEventListeners()}static get Default(){return mo}static get DefaultType(){return fo}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ti.trigger(this._element,oo,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(uo),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){this._isShown&&!this._isTransitioning&&(ti.trigger(this._element,to).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(go),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){for(const e of[window,this._dialog])ti.off(e,eo);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Kn({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Xn({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=vi.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),Tt(this._element),this._element.classList.add(go),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ti.trigger(this._element,so,{relatedTarget:e})}),this._dialog,this._isAnimated())}_addEventListeners(){ti.on(this._element,co,(e=>{if("Escape"===e.key)return this._config.keyboard?(e.preventDefault(),void this.hide()):void this._triggerBackdropTransition()})),ti.on(window,ro,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),ti.on(this._element,lo,(e=>{ti.one(this._element,ao,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(uo),this._resetAdjustments(),this._scrollBar.reset(),ti.trigger(this._element,no)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(ti.trigger(this._element,io).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(po)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(po),this._queueCallback((()=>{this._element.classList.remove(po),this._queueCallback((()=>{this._element.style.overflowY=t}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const e=Pt()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!i&&e){const e=Pt()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const i=vo.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e](t)}}))}}ti.on(document,ho,'[data-bs-toggle="modal"]',(function(e){const t=kt(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),ti.one(t,oo,(e=>{e.defaultPrevented||ti.one(t,no,(()=>{Dt(this)&&this.focus()}))}));const i=vi.findOne(".modal.show");i&&vo.getInstance(i).hide(),vo.getOrCreateInstance(t).toggle(this)})),ci(vo),Ot(vo);const _o=".bs.offcanvas",bo=".data-api",Co=`load${_o}${bo}`,yo="show",wo="showing",So="hiding",ko=".offcanvas.show",Lo=`show${_o}`,xo=`shown${_o}`,Io=`hide${_o}`,Do=`hidePrevented${_o}`,No=`hidden${_o}`,Eo=`resize${_o}`,Ao=`click${_o}${bo}`,To=`keydown.dismiss${_o}`,Mo={backdrop:!0,keyboard:!0,scroll:!1},Ro={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Po extends di{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Mo}static get DefaultType(){return Ro}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||ti.trigger(this._element,Lo,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new zn).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(wo),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(yo),this._element.classList.remove(wo),ti.trigger(this._element,xo,{relatedTarget:e})}),this._element,!0))}hide(){this._isShown&&(ti.trigger(this._element,Io).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(So),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(yo,So),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new zn).reset(),ti.trigger(this._element,No)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new Kn({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():ti.trigger(this._element,Do)}:null})}_initializeFocusTrap(){return new Xn({trapElement:this._element})}_addEventListeners(){ti.on(this._element,To,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():ti.trigger(this._element,Do))}))}static jQueryInterface(e){return this.each((function(){const t=Po.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}ti.on(document,Ao,'[data-bs-toggle="offcanvas"]',(function(e){const t=kt(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Nt(this))return;ti.one(t,No,(()=>{Dt(this)&&this.focus()}));const i=vi.findOne(ko);i&&i!==t&&Po.getInstance(i).hide(),Po.getOrCreateInstance(t).toggle(this)})),ti.on(window,Co,(()=>{for(const e of vi.find(ko))Po.getOrCreateInstance(e).show()})),ti.on(window,Eo,(()=>{for(const e of vi.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&Po.getOrCreateInstance(e).hide()})),ci(Po),Ot(Po);const Oo=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Vo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Fo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Wo=(e,t)=>{const i=e.nodeName.toLowerCase();return t.includes(i)?!Oo.has(i)||Boolean(Vo.test(e.nodeValue)||Fo.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(i)))},zo={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Bo={allowList:zo,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Uo={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ho={entry:"(string|element|function|null)",selector:"(string|element)"};class Go extends li{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Bo}static get DefaultType(){return Uo}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[t,i]of Object.entries(this._config.content))this._setContent(e,i,t);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},Ho)}_setContent(e,t,i){const n=vi.findOne(i,e);n&&((t=this._resolvePossibleFunction(t))?xt(t)?this._putElementInTemplate(It(t),n):this._config.html?n.innerHTML=this._maybeSanitize(t):n.textContent=t:n.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,i){if(!e.length)return e;if(i&&"function"==typeof i)return i(e);const n=(new window.DOMParser).parseFromString(e,"text/html"),o=[].concat(...n.body.querySelectorAll("*"));for(const e of o){const i=e.nodeName.toLowerCase();if(!Object.keys(t).includes(i)){e.remove();continue}const n=[].concat(...e.attributes),o=[].concat(t["*"]||[],t[i]||[]);for(const t of n)Wo(t,o)||e.removeAttribute(t.nodeName)}return n.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return"function"==typeof e?e(this):e}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const jo=new Set(["sanitize","allowList","sanitizeFn"]),Ko="fade",$o="show",qo=".modal",Yo="hide.bs.modal",Qo="hover",Zo="focus",Jo={AUTO:"auto",TOP:"top",RIGHT:Pt()?"left":"right",BOTTOM:"bottom",LEFT:Pt()?"right":"left"},Xo={allowList:zo,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},es={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ts extends di{constructor(t,i){if(void 0===e)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,i),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Xo}static get DefaultType(){return es}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),ti.off(this._element.closest(qo),Yo,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=ti.trigger(this._element,this.constructor.eventName("show")),t=(Et(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(i),ti.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add($o),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))ti.on(e,"mouseover",At);this._queueCallback((()=>{ti.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(this._isShown()&&!ti.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove($o),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))ti.off(e,"mouseover",At);this._activeTrigger.click=!1,this._activeTrigger[Zo]=!1,this._activeTrigger[Qo]=!1,this._isHovered=null,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ti.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Ko,$o),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(Ko),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Go({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ko)}_isShown(){return this.tip&&this.tip.classList.contains($o)}_createPopper(e){const t="function"==typeof this._config.placement?this._config.placement.call(this,e,this._element):this._config.placement,i=Jo[t.toUpperCase()];return Me(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return"function"==typeof e?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)ti.on(this._element,this.constructor.eventName("click"),this._config.selector,(e=>{this._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==t){const e=t===Qo?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=t===Qo?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");ti.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?Zo:Qo]=!0,t._enter()})),ti.on(this._element,i,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?Zo:Qo]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},ti.on(this._element.closest(qo),Yo,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=ai.getDataAttributes(this._element);for(const e of Object.keys(t))jo.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:It(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=ts.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Ot(ts);const is={...ts.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},ns={...ts.DefaultType,content:"(null|string|element|function)"};class os extends ts{static get Default(){return is}static get DefaultType(){return ns}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=os.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Ot(os);const ss=".bs.scrollspy",rs=`activate${ss}`,as=`click${ss}`,ls=`load${ss}.data-api`,ds="active",cs="[href]",hs=".nav-link",us=`${hs}, .nav-item > ${hs}, .list-group-item`,gs={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ps={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ms extends di{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return gs}static get DefaultType(){return ps}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=It(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ti.off(this._config.target,as),ti.on(this._config.target,as,cs,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,n=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:"smooth"});i.scrollTop=n}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),i=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},n=(this._rootElement||document.documentElement).scrollTop,o=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const s of e){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(s));continue}const e=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&e){if(i(s),!n)return}else o||e||i(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=vi.find(cs,this._config.target);for(const t of e){if(!t.hash||Nt(t))continue;const e=vi.findOne(t.hash,this._element);Dt(e)&&(this._targetLinks.set(t.hash,t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(ds),this._activateParents(e),ti.trigger(this._element,rs,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))vi.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(ds);else for(const t of vi.parents(e,".nav, .list-group"))for(const e of vi.prev(t,us))e.classList.add(ds)}_clearActiveClass(e){e.classList.remove(ds);const t=vi.find(`${cs}.${ds}`,e);for(const e of t)e.classList.remove(ds)}static jQueryInterface(e){return this.each((function(){const t=ms.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}ti.on(window,ls,(()=>{for(const e of vi.find('[data-bs-spy="scroll"]'))ms.getOrCreateInstance(e)})),Ot(ms);const fs=".bs.tab",vs=`hide${fs}`,_s=`hidden${fs}`,bs=`show${fs}`,Cs=`shown${fs}`,ys=`click${fs}`,ws=`keydown${fs}`,Ss=`load${fs}`,ks="ArrowLeft",Ls="ArrowRight",xs="ArrowUp",Is="ArrowDown",Ds="active",Ns="fade",Es="show",As=":not(.dropdown-toggle)",Ts='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ms=`.nav-link${As}, .list-group-item${As}, [role="tab"]${As}, ${Ts}`,Rs=`.${Ds}[data-bs-toggle="tab"], .${Ds}[data-bs-toggle="pill"], .${Ds}[data-bs-toggle="list"]`;class Ps extends di{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ti.on(this._element,ws,(e=>this._keydown(e))))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?ti.trigger(t,vs,{relatedTarget:e}):null;ti.trigger(e,bs,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(Ds),this._activate(kt(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ti.trigger(e,Cs,{relatedTarget:t})):e.classList.add(Es)}),e,e.classList.contains(Ns)))}_deactivate(e,t){e&&(e.classList.remove(Ds),e.blur(),this._deactivate(kt(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ti.trigger(e,_s,{relatedTarget:t})):e.classList.remove(Es)}),e,e.classList.contains(Ns)))}_keydown(e){if(![ks,Ls,xs,Is].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=[Ls,Is].includes(e.key),i=Wt(this._getChildren().filter((e=>!Nt(e))),e.target,t,!0);i&&(i.focus({preventScroll:!0}),Ps.getOrCreateInstance(i).show())}_getChildren(){return vi.find(Ms,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=kt(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;const n=(e,n)=>{const o=vi.findOne(e,i);o&&o.classList.toggle(n,t)};n(".dropdown-toggle",Ds),n(".dropdown-menu",Es),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(Ds)}_getInnerElement(e){return e.matches(Ms)?e:vi.findOne(Ms,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each((function(){const t=Ps.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}ti.on(document,ys,Ts,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),Nt(this)||Ps.getOrCreateInstance(this).show()})),ti.on(window,Ss,(()=>{for(const e of vi.find(Rs))Ps.getOrCreateInstance(e)})),Ot(Ps);const Os=".bs.toast",Vs=`mouseover${Os}`,Fs=`mouseout${Os}`,Ws=`focusin${Os}`,zs=`focusout${Os}`,Bs=`hide${Os}`,Us=`hidden${Os}`,Hs=`show${Os}`,Gs=`shown${Os}`,js="hide",Ks="show",$s="showing",qs={animation:"boolean",autohide:"boolean",delay:"number"},Ys={animation:!0,autohide:!0,delay:5e3};class Qs extends di{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Ys}static get DefaultType(){return qs}static get NAME(){return"toast"}show(){ti.trigger(this._element,Hs).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(js),Tt(this._element),this._element.classList.add(Ks,$s),this._queueCallback((()=>{this._element.classList.remove($s),ti.trigger(this._element,Gs),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(ti.trigger(this._element,Bs).defaultPrevented||(this._element.classList.add($s),this._queueCallback((()=>{this._element.classList.add(js),this._element.classList.remove($s,Ks),ti.trigger(this._element,Us)}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ks),super.dispose()}isShown(){return this._element.classList.contains(Ks)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){ti.on(this._element,Vs,(e=>this._onInteraction(e,!0))),ti.on(this._element,Fs,(e=>this._onInteraction(e,!1))),ti.on(this._element,Ws,(e=>this._onInteraction(e,!0))),ti.on(this._element,zs,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=Qs.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}ci(Qs),Ot(Qs);var Zs="undefined"!=typeof window?window:null,Js=null===Zs,Xs=Js?void 0:Zs.document,er="addEventListener",tr="removeEventListener",ir="getBoundingClientRect",nr="_a",or="_b",sr="_c",rr="horizontal",ar=function(){return!1},lr=Js?"calc":["","-webkit-","-moz-","-o-"].filter((function(e){var t=Xs.createElement("div");return t.style.cssText="width:"+e+"calc(9px)",!!t.style.length})).shift()+"calc",dr=function(e){return"string"==typeof e||e instanceof String},cr=function(e){if(dr(e)){var t=Xs.querySelector(e);if(!t)throw new Error("Selector "+e+" did not match a DOM element");return t}return e},hr=function(e,t,i){var n=e[t];return void 0!==n?n:i},ur=function(e,t,i,n){if(t){if("end"===n)return 0;if("center"===n)return e/2}else if(i){if("start"===n)return 0;if("center"===n)return e/2}return e},gr=function(e,t){var i=Xs.createElement("div");return i.className="gutter gutter-"+t,i},pr=function(e,t,i){var n={};return dr(t)?n[e]=t:n[e]=lr+"("+t+"% - "+i+"px)",n},mr=function(e,t){var i;return(i={})[e]=t+"px",i};var fr={svg:{name:"svg",detail:"svg element",description:'The `svg` element is a container that defines a new coordinate system and [viewport](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/viewBox). It is used as the outermost element of SVG documents, but it can also be used to embed an SVG fragment inside an SVG or HTML document.\r\n\n<div class="notecard note" id="sect1">\r\n\r\n**Note:** The `xmlns` attribute is only required on the outermost `svg` element of *SVG documents*. It is unnecessary for inner `svg` elements or inside HTML documents.\r\n\n</div> [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg)',elements:["desc","title","metadata","defs","path","text","rect","circle","ellipse","line","polyline","polygon","use","image","svg","g","view","switch","a","altGlyphDef","script","style","symbol","marker","clipPath","mask","linearGradient","radialGradient","pattern","filter","cursor","font","animate","set","animateMotion","animateColor","animateTransform","color-profile","font-face"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"onunload",description:null,detail:null,options:null},{name:"onabort",description:null,detail:null,options:null},{name:"onerror",description:null,detail:null,options:null},{name:"onresize",description:null,detail:null,options:null},{name:"onscroll",description:null,detail:null,options:null},{name:"onzoom",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"viewBox",description:"The SVG viewport coordinates for the current SVG fragment. *Value type*: **[<list-of-numbers>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#list-of-ts)** ; *Default value*: none; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg)",detail:"svg item attribute",options:null},{name:"preserveAspectRatio",description:"How the `svg` fragment must be deformed if it is displayed with a different aspect ratio. *Value type*: (`none`| `xMinYMin`| `xMidYMin`| `xMaxYMin`| `xMinYMid`| `xMidYMid`| `xMaxYMid`| `xMinYMax`| `xMidYMax`| `xMaxYMax`) (`meet`|`slice`)? ; *Default value*: `xMidYMid meet`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg)",detail:"svg item attribute",options:null},{name:"zoomAndPan",description:null,detail:null,options:null},{name:"x",description:"The displayed x coordinate of the svg container. No effect on outermost `svg` elements. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg)",detail:"svg item attribute",options:null},{name:"y",description:"The displayed y coordinate of the svg container. No effect on outermost `svg` elements. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg)",detail:"svg item attribute",options:null},{name:"width",description:"The displayed width of the rectangular viewport. (Not the width of its coordinate system.) *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `auto`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg)",detail:"svg item attribute",options:null},{name:"height",description:"The displayed height of the rectangular viewport. (Not the height of its coordinate system.) *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `auto`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg)",detail:"svg item attribute",options:null},{name:"contentScriptType",description:"The default scripting language used by the SVG fragment. *Value type*: **`<string>`** ; *Default value*: `application/ecmascript`; *Animatable*: **no** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg)",detail:"svg item attribute",options:null},{name:"contentStyleType",description:"The default style sheet language used by the SVG fragment. *Value type*: **`<string>`** ; *Default value*: `text/css`; *Animatable*: **no** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg)",detail:"svg item attribute",options:null},{name:"version",description:"Which version of SVG is used for the inner content of the element. *Value type*: **[`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)** ; *Default value*: none; *Animatable*: **no** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg)",detail:"svg item attribute",options:null}]},g:{name:"g",detail:"svg element",description:"The **`<g>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element is a container used to group other SVG elements.\r\n\r\nTransformations applied to the `<g>` element are performed on its child elements, and its attributes are inherited by its children. It can also group multiple elements to be referenced later with the [`<use>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/use) element. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/g)",elements:["desc","title","metadata","defs","path","text","rect","circle","ellipse","line","polyline","polygon","use","image","svg","g","view","switch","a","altGlyphDef","script","style","symbol","marker","clipPath","mask","linearGradient","radialGradient","pattern","filter","cursor","font","animate","set","animateMotion","animateColor","animateTransform","color-profile","font-face"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null}]},defs:{name:"defs",detail:"svg element",description:"The **`<defs>`** element is used to store graphical objects that will be used at a later time. Objects created inside a `<defs>` element are not rendered directly. To display them you have to reference them (with a [`<use>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/use) element for example).\r\n\r\nGraphical objects can be referenced from anywhere, however, defining these objects inside of a `<defs>` element promotes understandability of the SVG content and is beneficial to the overall accessibility of the document. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/defs)",elements:["desc","title","metadata","defs","path","text","rect","circle","ellipse","line","polyline","polygon","use","image","svg","g","view","switch","a","altGlyphDef","script","style","symbol","marker","clipPath","mask","linearGradient","radialGradient","pattern","filter","cursor","font","animate","set","animateMotion","animateColor","animateTransform","color-profile","font-face"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null}]},desc:{name:"desc",detail:"svg element",description:"The **`<desc>`** element provides an accessible, long-text description of any SVG [container element](https://developer.mozilla.org/en-US/docs/Web/SVG/Element#container_elements) or [graphics element](https://developer.mozilla.org/en-US/docs/Web/SVG/Element#graphics_elements).\r\n\r\nText in a `<desc>` element is not rendered as part of the graphic. If the element can be described by visible text, it is possible to reference that text with the [`aria-describedby`](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-describedby) attribute. If `aria-describedby` is used, it will take precedence over `<desc>`.\r\n\r\nThe hidden text of a `<desc>` element can also be concatenated with the visible text of other elements using multiple IDs in an `aria-describedby` value. In that case, the `<desc>` element must provide an ID for reference. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/desc)",elements:[],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"content",description:null,detail:null,options:null}]},title:{name:"title",detail:"svg element",description:'The **`<title>`** element provides an accessible, short-text description of any SVG [container element](https://developer.mozilla.org/en-US/docs/Web/SVG/Element#container_elements) or [graphics element](https://developer.mozilla.org/en-US/docs/Web/SVG/Element#graphics_elements).\r\n\r\nText in a `<title>` element is not rendered as part of the graphic, but browsers usually display it as a tooltip. If an element can be described by visible text, it is recommended to reference that text with an [`aria-labelledby`](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-labelledby) attribute rather than using the `<title>` element.\r\n\n<div class="notecard note" id="sect1">\r\n\r\n**Note:** For backward compatibility with SVG 1.1, `<title>` elements should be the first child element of their parent.\r\n\n</div> [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/title)',elements:[],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"content",description:null,detail:null,options:null}]},symbol:{name:"symbol",detail:"svg element",description:"The **`<symbol>`** element is used to define graphical template objects which can be instantiated by a [`<use>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/use) element.\r\n\r\nThe use of `<symbol>` elements for graphics that are used multiple times in the same document adds structure and semantics. Documents that are rich in structure may be rendered graphically, as speech, or as Braille, and thus promote accessibility. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/symbol)",elements:["desc","title","metadata","defs","path","text","rect","circle","ellipse","line","polyline","polygon","use","image","svg","g","view","switch","a","altGlyphDef","script","style","symbol","marker","clipPath","mask","linearGradient","radialGradient","pattern","filter","cursor","font","animate","set","animateMotion","animateColor","animateTransform","color-profile","font-face"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"viewBox",description:"This attribute defines the bound of the SVG viewport for the current symbol. *Value type*: **[<list-of-numbers>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#list-of-ts)** ; *Default value*: none; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/symbol)",detail:"svg item attribute",options:null},{name:"preserveAspectRatio",description:"This attribute defines how the svg fragment must be deformed if it is embedded in a container with a different aspect ratio. *Value type*: (`none`| `xMinYMin`| `xMidYMin`| `xMaxYMin`| `xMinYMid`| `xMidYMid`| `xMaxYMid`| `xMinYMax`| `xMidYMax`| `xMaxYMax`) (`meet`|`slice`)? ; *Default value*: `xMidYMid meet`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/symbol)",detail:"svg item attribute",options:null}]},use:{name:"use",detail:"svg element",description:"The **`<use>`** element takes nodes from within the SVG document, and duplicates them somewhere else. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/use)",elements:["desc","title","metadata","animate","set","animateMotion","animateColor","animateTransform"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null},{name:"x",description:"The x coordinate of the use element. *Value type*: [**<coordinate>**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#coordinate) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/use)",detail:"svg item attribute",options:null},{name:"y",description:"The y coordinate of the use element. *Value type*: [**<coordinate>**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#coordinate) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/use)",detail:"svg item attribute",options:null},{name:"width",description:"The width of the use element. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/use)",detail:"svg item attribute",options:null},{name:"height",description:"The height of the use element. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/use)",detail:"svg item attribute",options:null}]},image:{name:"image",detail:"svg element",description:'The **`<image>`** SVG element includes images inside SVG documents. It can display [raster image](https://developer.mozilla.org/en-US/docs/Glossary/Raster_image) files or other SVG files.\r\n\r\nThe only image formats SVG software must support are [JPEG](https://developer.mozilla.org/en-US/docs/Glossary/jpeg), [PNG](https://developer.mozilla.org/en-US/docs/Glossary/PNG), and other SVG files. Animated [GIF](https://developer.mozilla.org/en-US/docs/Glossary/gif) behavior is undefined.\r\n\r\nSVG files displayed with `<image>` are [treated as an image](https://developer.mozilla.org/en-US/docs/Web/SVG/SVG_as_an_Image): external resources aren\'t loaded, [`:visited`](https://developer.mozilla.org/en-US/docs/Web/CSS/:visited) styles [aren\'t applied](https://developer.mozilla.org/en-US/docs/Web/CSS/Privacy_and_the_:visited_selector), and they cannot be interactive. To include dynamic SVG elements, try [`<use>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/use) with an external URL. To include SVG files and run scripts inside them, try [`<object>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/object) inside of [`<foreignObject>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/foreignObject).\r\n\n<div class="notecard note" id="sect1">\r\n\r\n**Note:** The HTML spec defines `<image>` as a synonym for [`<img>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img) while parsing HTML. This specific element and its behavior only apply inside SVG documents or inline SVGs.\r\n\n</div> [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/image)',elements:["desc","title","metadata","animate","set","animateMotion","animateColor","animateTransform"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"color",description:"It provides a potential indirect value (`currentcolor`) for the `fill`, `stroke`, `stop-color`, `flood-color` and `lighting-color` presentation attributes. *Value*: [`<color>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","white","silver","gray","black","navy","blue","aqua","teal","green","olive"]},{name:"color-interpolation",description:"It specifies the color space for gradient interpolations, color animations, and alpha compositing. *Value*: `auto`|**`sRGB`**|`linearRGB`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"color-rendering",description:"It provides a hint to the browser about how to optimize its color interpolation and compositing operations. *Value*: **`auto`**|`optimizeSpeed`|`optimizeQuality`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"clip-path",description:"It binds the element it is applied to with a given [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) element. *Value*: **`none`**|[`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","inherit","none"]},{name:"clip-rule",description:"It indicates how to determine what side of a path is inside a shape in order to know how a [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) should clip its target. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"cursor",description:"It specifies the mouse cursor displayed when the mouse pointer is over an element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|[`<keywords>`](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#values)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","crosshair","default","pointer","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help","inherit"]},{name:"display",description:"It allows to control the rendering of graphical or container elements. *Value*: see CSS [`display`](https://developer.mozilla.org/en-US/docs/Web/CSS/display); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"filter",description:"It defines the filter effects defined by the [`<filter>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter) element that shall be applied to its element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"image-rendering",description:"It provides a hint to the browser about how to make speed vs. quality tradeoffs as it performs image processing. *Value*: **`auto`**|`optimizeQuality`|`optimizeSpeed`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"mask",description:"It alters the visibility of an element by either masking or clipping the image at specific points. *Value*: see CSS [`mask`](https://developer.mozilla.org/en-US/docs/Web/CSS/mask); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"opacity",description:"It specifies the transparency of an object or a group of objects. *Value*: [<opacity-value>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#opacity_value); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"pointer-events",description:"Defines whether or when an element may be the target of a mouse event. *Value*: `bounding-box`|**`visiblePainted`**|`visibleFill`|`visibleStroke`|`visible` |`painted`|`fill`|`stroke`|`all`|`none`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"shape-rendering",description:"Hints about what tradeoffs to make as the browser renders [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shapes. *Value*: **`auto`**|`optimizeSpeed`|`crispEdges`|`geometricPrecision` |`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"text-rendering",description:null,detail:null,options:null},{name:"visibility",description:null,detail:null,options:null},{name:"clip",description:"It defines what portion of an element is visible. *Value*: **`auto`**|[`<shape>`](https://developer.mozilla.org/en-US/docs/Web/CSS/shape)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","inherit"]},{name:"overflow",description:"Specifies whether the content of a block-level element is clipped when it overflows the element's box. *Value*: **`visible`**|`hidden|scroll`|`auto`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null},{name:"x",description:null,detail:null,options:null},{name:"y",description:null,detail:null,options:null},{name:"width",description:null,detail:null,options:null},{name:"height",description:null,detail:null,options:null}]},switch:{name:"switch",detail:"svg element",description:'The **`<switch>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element evaluates any [`requiredFeatures`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/requiredFeatures), `[requiredExtensions](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/requiredExtensions "This is a link to an unwritten page")` and [`systemLanguage`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/systemLanguage) attributes on its direct child elements in order, and then renders the first child where these attributes evaluate to true.\r\n\r\nOther direct children will be bypassed and therefore not rendered. If a child element is a container element, like [`<g>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/g), then its subtree is also processed/rendered or bypassed/not rendered.\r\n\n<div class="notecard note" id="sect1">\r\n\r\n**Note:** The `display` and `visibility` properties have no effect on `<switch>` element processing. In particular, setting `display:none` on a child has no effect on the true/false testing for `<switch>` processing.\r\n\n</div> [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/switch)',elements:["desc","title","metadata","path","text","rect","circle","ellipse","line","polyline","polygon","use","image","svg","g","switch","a","foreignObject","animate","set","animateMotion","animateColor","animateTransform"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null}]},style:{name:"style",detail:"svg element",description:'The SVG **`<style>`** element allows style sheets to be embedded directly within SVG content.\r\n\n<div class="notecard note" id="sect1">\r\n\r\n**Note:** SVG\'s `style` element has the same attributes as the corresponding element in HTML (see HTML\'s [`<style>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/style) element).\r\n\n</div> [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/style)',elements:[],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"type",description:"This attribute defines type of the style sheet language to use as a media type string. *Value type*: [**`<string>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#string); *Default value*: `text/css`; *Animatable*: **no** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/style)",detail:"svg item attribute",options:null},{name:"media",description:"This attribute defines to which [`media`](https://developer.mozilla.org/en-US/docs/Web/CSS/@media) the style applies. *Value type*: [**`<string>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#string); *Default value*: `all`; *Animatable*: **no** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/style)",detail:"svg item attribute",options:null},{name:"title",description:"This attribute the title of the style sheet which can be used to switch between [alternate style sheets](https://developer.mozilla.org/en-US/docs/Web/CSS/Alternative_style_sheets). *Value type*: [**`<string>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#string); *Default value*: *none*; *Animatable*: **no** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/style)",detail:"svg item attribute",options:null}]},path:{name:"path",detail:"svg element",description:"The **`<path>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element is the generic element to define a shape. All the basic shapes can be created with a path element. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path)",elements:["desc","title","metadata","animate","set","animateMotion","animateColor","animateTransform"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"color",description:"It provides a potential indirect value (`currentcolor`) for the `fill`, `stroke`, `stop-color`, `flood-color` and `lighting-color` presentation attributes. *Value*: [`<color>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","white","silver","gray","black","navy","blue","aqua","teal","green","olive"]},{name:"color-interpolation",description:"It specifies the color space for gradient interpolations, color animations, and alpha compositing. *Value*: `auto`|**`sRGB`**|`linearRGB`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"color-rendering",description:"It provides a hint to the browser about how to optimize its color interpolation and compositing operations. *Value*: **`auto`**|`optimizeSpeed`|`optimizeQuality`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-opacity",description:"It specifies the opacity of the color or the content the current object is filled with. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-rule",description:"It indicates how to determine what side of a path is inside a shape. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"stroke",description:"Defines the color used to paint the outline of the shape. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dasharray",description:"Defines the pattern of dashes and gaps used to paint the outline of the shape. *Value*: `none`|`<dasharray>`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dashoffset",description:"Defines an offset on the rendering of the associated dash array. *Value*: [`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-linecap",description:null,detail:null,options:null},{name:"stroke-linejoin",description:null,detail:null,options:null},{name:"stroke-miterlimit",description:null,detail:null,options:null},{name:"stroke-opacity",description:null,detail:null,options:null},{name:"stroke-width",description:null,detail:null,options:null},{name:"clip-path",description:"It binds the element it is applied to with a given [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) element. *Value*: **`none`**|[`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","inherit","none"]},{name:"clip-rule",description:"It indicates how to determine what side of a path is inside a shape in order to know how a [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) should clip its target. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"cursor",description:"It specifies the mouse cursor displayed when the mouse pointer is over an element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|[`<keywords>`](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#values)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","crosshair","default","pointer","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help","inherit"]},{name:"display",description:"It allows to control the rendering of graphical or container elements. *Value*: see CSS [`display`](https://developer.mozilla.org/en-US/docs/Web/CSS/display); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"filter",description:"It defines the filter effects defined by the [`<filter>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter) element that shall be applied to its element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"image-rendering",description:"It provides a hint to the browser about how to make speed vs. quality tradeoffs as it performs image processing. *Value*: **`auto`**|`optimizeQuality`|`optimizeSpeed`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"mask",description:"It alters the visibility of an element by either masking or clipping the image at specific points. *Value*: see CSS [`mask`](https://developer.mozilla.org/en-US/docs/Web/CSS/mask); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"opacity",description:"It specifies the transparency of an object or a group of objects. *Value*: [<opacity-value>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#opacity_value); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"pointer-events",description:"Defines whether or when an element may be the target of a mouse event. *Value*: `bounding-box`|**`visiblePainted`**|`visibleFill`|`visibleStroke`|`visible` |`painted`|`fill`|`stroke`|`all`|`none`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"shape-rendering",description:"Hints about what tradeoffs to make as the browser renders [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shapes. *Value*: **`auto`**|`optimizeSpeed`|`crispEdges`|`geometricPrecision` |`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"text-rendering",description:null,detail:null,options:null},{name:"visibility",description:null,detail:null,options:null},{name:"marker-start",description:"It defines the arrowhead or polymarker that will be drawn at the first vertex of the given [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shape. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"marker-mid",description:"It defines the arrowhead or polymarker that will be drawn at every vertex other than the first and last vertex of the given [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shape. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"marker-end",description:"It defines the arrowhead or polymarker that will be drawn at the final vertex of the given [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shape. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null},{name:"d",description:"This attribute defines the shape of the path. *Value type*: **`<string>`** ; *Default value*: `''`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path)",detail:"svg item attribute",options:null},{name:"pathLength",description:"This attribute lets authors specify the total length for the path, in user units. *Value type*: [**`<number>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number) ; *Default value*: *none*; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path)",detail:"svg item attribute",options:null}]},rect:{name:"rect",detail:"svg element",description:"The **`<rect>`** element is a [basic SVG shape](https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Basic_Shapes) that draws rectangles, defined by their position, width, and height. The rectangles may have their corners rounded. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/rect)",elements:["desc","title","metadata","animate","set","animateMotion","animateColor","animateTransform"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"color",description:"It provides a potential indirect value (`currentcolor`) for the `fill`, `stroke`, `stop-color`, `flood-color` and `lighting-color` presentation attributes. *Value*: [`<color>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","white","silver","gray","black","navy","blue","aqua","teal","green","olive"]},{name:"color-interpolation",description:"It specifies the color space for gradient interpolations, color animations, and alpha compositing. *Value*: `auto`|**`sRGB`**|`linearRGB`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"color-rendering",description:"It provides a hint to the browser about how to optimize its color interpolation and compositing operations. *Value*: **`auto`**|`optimizeSpeed`|`optimizeQuality`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-opacity",description:"It specifies the opacity of the color or the content the current object is filled with. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-rule",description:"It indicates how to determine what side of a path is inside a shape. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"stroke",description:"Defines the color used to paint the outline of the shape. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dasharray",description:"Defines the pattern of dashes and gaps used to paint the outline of the shape. *Value*: `none`|`<dasharray>`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dashoffset",description:"Defines an offset on the rendering of the associated dash array. *Value*: [`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-linecap",description:null,detail:null,options:null},{name:"stroke-linejoin",description:null,detail:null,options:null},{name:"stroke-miterlimit",description:null,detail:null,options:null},{name:"stroke-opacity",description:null,detail:null,options:null},{name:"stroke-width",description:null,detail:null,options:null},{name:"clip-path",description:"It binds the element it is applied to with a given [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) element. *Value*: **`none`**|[`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","inherit","none"]},{name:"clip-rule",description:"It indicates how to determine what side of a path is inside a shape in order to know how a [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) should clip its target. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"cursor",description:"It specifies the mouse cursor displayed when the mouse pointer is over an element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|[`<keywords>`](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#values)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","crosshair","default","pointer","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help","inherit"]},{name:"display",description:"It allows to control the rendering of graphical or container elements. *Value*: see CSS [`display`](https://developer.mozilla.org/en-US/docs/Web/CSS/display); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"filter",description:"It defines the filter effects defined by the [`<filter>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter) element that shall be applied to its element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"image-rendering",description:"It provides a hint to the browser about how to make speed vs. quality tradeoffs as it performs image processing. *Value*: **`auto`**|`optimizeQuality`|`optimizeSpeed`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"mask",description:"It alters the visibility of an element by either masking or clipping the image at specific points. *Value*: see CSS [`mask`](https://developer.mozilla.org/en-US/docs/Web/CSS/mask); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"opacity",description:"It specifies the transparency of an object or a group of objects. *Value*: [<opacity-value>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#opacity_value); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"pointer-events",description:"Defines whether or when an element may be the target of a mouse event. *Value*: `bounding-box`|**`visiblePainted`**|`visibleFill`|`visibleStroke`|`visible` |`painted`|`fill`|`stroke`|`all`|`none`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"shape-rendering",description:"Hints about what tradeoffs to make as the browser renders [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shapes. *Value*: **`auto`**|`optimizeSpeed`|`crispEdges`|`geometricPrecision` |`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"text-rendering",description:null,detail:null,options:null},{name:"visibility",description:null,detail:null,options:null},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null},{name:"x",description:"The x coordinate of the rect. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/rect)",detail:"svg item attribute",options:null},{name:"y",description:"The y coordinate of the rect. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/rect)",detail:"svg item attribute",options:null},{name:"width",description:"The width of the rect. *Value type*: `auto`|[**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `auto`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/rect)",detail:"svg item attribute",options:null},{name:"height",description:"The height of the rect. *Value type*: `auto`|[**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `auto`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/rect)",detail:"svg item attribute",options:null},{name:"rx",description:"The horizontal corner radius of the rect. Defaults to `ry` if it is specified. *Value type*: `auto`|[**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `auto`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/rect)",detail:"svg item attribute",options:null},{name:"ry",description:"The vertical corner radius of the rect. Defaults to `rx` if it is specified. *Value type*: `auto`|[**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `auto`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/rect)",detail:"svg item attribute",options:null}]},circle:{name:"circle",detail:"svg element",description:"The **`<circle>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element is an [SVG basic shape](https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Basic_Shapes), used to draw circles based on a center point and a radius. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/circle)",elements:["desc","title","metadata","animate","set","animateMotion","animateColor","animateTransform"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"color",description:"It provides a potential indirect value (`currentcolor`) for the `fill`, `stroke`, `stop-color`, `flood-color` and `lighting-color` presentation attributes. *Value*: [`<color>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","white","silver","gray","black","navy","blue","aqua","teal","green","olive"]},{name:"color-interpolation",description:"It specifies the color space for gradient interpolations, color animations, and alpha compositing. *Value*: `auto`|**`sRGB`**|`linearRGB`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"color-rendering",description:"It provides a hint to the browser about how to optimize its color interpolation and compositing operations. *Value*: **`auto`**|`optimizeSpeed`|`optimizeQuality`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-opacity",description:"It specifies the opacity of the color or the content the current object is filled with. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-rule",description:"It indicates how to determine what side of a path is inside a shape. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"stroke",description:"Defines the color used to paint the outline of the shape. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dasharray",description:"Defines the pattern of dashes and gaps used to paint the outline of the shape. *Value*: `none`|`<dasharray>`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dashoffset",description:"Defines an offset on the rendering of the associated dash array. *Value*: [`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-linecap",description:null,detail:null,options:null},{name:"stroke-linejoin",description:null,detail:null,options:null},{name:"stroke-miterlimit",description:null,detail:null,options:null},{name:"stroke-opacity",description:null,detail:null,options:null},{name:"stroke-width",description:null,detail:null,options:null},{name:"clip-path",description:"It binds the element it is applied to with a given [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) element. *Value*: **`none`**|[`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","inherit","none"]},{name:"clip-rule",description:"It indicates how to determine what side of a path is inside a shape in order to know how a [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) should clip its target. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"cursor",description:"It specifies the mouse cursor displayed when the mouse pointer is over an element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|[`<keywords>`](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#values)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","crosshair","default","pointer","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help","inherit"]},{name:"display",description:"It allows to control the rendering of graphical or container elements. *Value*: see CSS [`display`](https://developer.mozilla.org/en-US/docs/Web/CSS/display); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"filter",description:"It defines the filter effects defined by the [`<filter>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter) element that shall be applied to its element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"image-rendering",description:"It provides a hint to the browser about how to make speed vs. quality tradeoffs as it performs image processing. *Value*: **`auto`**|`optimizeQuality`|`optimizeSpeed`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"mask",description:"It alters the visibility of an element by either masking or clipping the image at specific points. *Value*: see CSS [`mask`](https://developer.mozilla.org/en-US/docs/Web/CSS/mask); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"opacity",description:"It specifies the transparency of an object or a group of objects. *Value*: [<opacity-value>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#opacity_value); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"pointer-events",description:"Defines whether or when an element may be the target of a mouse event. *Value*: `bounding-box`|**`visiblePainted`**|`visibleFill`|`visibleStroke`|`visible` |`painted`|`fill`|`stroke`|`all`|`none`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"shape-rendering",description:"Hints about what tradeoffs to make as the browser renders [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shapes. *Value*: **`auto`**|`optimizeSpeed`|`crispEdges`|`geometricPrecision` |`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"text-rendering",description:null,detail:null,options:null},{name:"visibility",description:null,detail:null,options:null},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null},{name:"cx",description:"The x-axis coordinate of the center of the circle. *Value type*: **[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)**|**[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)** ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/circle)",detail:"svg item attribute",options:null},{name:"cy",description:"The y-axis coordinate of the center of the circle. *Value type*: **[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)**|**[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)** ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/circle)",detail:"svg item attribute",options:null},{name:"r",description:"The radius of the circle. A value lower or equal to zero disables rendering of the circle. *Value type*: **[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)**|**[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)** ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/circle)",detail:"svg item attribute",options:null}]},ellipse:{name:"ellipse",detail:"svg element",description:'The **`<ellipse>`** element is an SVG basic shape, used to create ellipses based on a center coordinate, and both their x and y radius.\r\n\n<div class="notecard note" id="sect1">\r\n\r\n**Note:** Ellipses are unable to specify the exact orientation of the ellipse (if, for example, you wanted to draw an ellipse tilted at a 45 degree angle), but it can be rotated by using the [`transform`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform) attribute.\r\n\n</div> [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/ellipse)',elements:["desc","title","metadata","animate","set","animateMotion","animateColor","animateTransform"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"color",description:"It provides a potential indirect value (`currentcolor`) for the `fill`, `stroke`, `stop-color`, `flood-color` and `lighting-color` presentation attributes. *Value*: [`<color>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","white","silver","gray","black","navy","blue","aqua","teal","green","olive"]},{name:"color-interpolation",description:"It specifies the color space for gradient interpolations, color animations, and alpha compositing. *Value*: `auto`|**`sRGB`**|`linearRGB`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"color-rendering",description:"It provides a hint to the browser about how to optimize its color interpolation and compositing operations. *Value*: **`auto`**|`optimizeSpeed`|`optimizeQuality`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-opacity",description:"It specifies the opacity of the color or the content the current object is filled with. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-rule",description:"It indicates how to determine what side of a path is inside a shape. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"stroke",description:"Defines the color used to paint the outline of the shape. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dasharray",description:"Defines the pattern of dashes and gaps used to paint the outline of the shape. *Value*: `none`|`<dasharray>`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dashoffset",description:"Defines an offset on the rendering of the associated dash array. *Value*: [`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-linecap",description:null,detail:null,options:null},{name:"stroke-linejoin",description:null,detail:null,options:null},{name:"stroke-miterlimit",description:null,detail:null,options:null},{name:"stroke-opacity",description:null,detail:null,options:null},{name:"stroke-width",description:null,detail:null,options:null},{name:"clip-path",description:"It binds the element it is applied to with a given [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) element. *Value*: **`none`**|[`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","inherit","none"]},{name:"clip-rule",description:"It indicates how to determine what side of a path is inside a shape in order to know how a [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) should clip its target. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"cursor",description:"It specifies the mouse cursor displayed when the mouse pointer is over an element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|[`<keywords>`](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#values)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","crosshair","default","pointer","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help","inherit"]},{name:"display",description:"It allows to control the rendering of graphical or container elements. *Value*: see CSS [`display`](https://developer.mozilla.org/en-US/docs/Web/CSS/display); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"filter",description:"It defines the filter effects defined by the [`<filter>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter) element that shall be applied to its element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"image-rendering",description:"It provides a hint to the browser about how to make speed vs. quality tradeoffs as it performs image processing. *Value*: **`auto`**|`optimizeQuality`|`optimizeSpeed`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"mask",description:"It alters the visibility of an element by either masking or clipping the image at specific points. *Value*: see CSS [`mask`](https://developer.mozilla.org/en-US/docs/Web/CSS/mask); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"opacity",description:"It specifies the transparency of an object or a group of objects. *Value*: [<opacity-value>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#opacity_value); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"pointer-events",description:"Defines whether or when an element may be the target of a mouse event. *Value*: `bounding-box`|**`visiblePainted`**|`visibleFill`|`visibleStroke`|`visible` |`painted`|`fill`|`stroke`|`all`|`none`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"shape-rendering",description:"Hints about what tradeoffs to make as the browser renders [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shapes. *Value*: **`auto`**|`optimizeSpeed`|`crispEdges`|`geometricPrecision` |`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"text-rendering",description:null,detail:null,options:null},{name:"visibility",description:null,detail:null,options:null},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null},{name:"cx",description:"The x position of the ellipse. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/ellipse)",detail:"svg item attribute",options:null},{name:"cy",description:"The y position of the ellipse. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/ellipse)",detail:"svg item attribute",options:null},{name:"rx",description:"The radius of the ellipse on the x axis. *Value type*: `auto`|[**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `auto`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/ellipse)",detail:"svg item attribute",options:null},{name:"ry",description:"The radius of the ellipse on the y axis. *Value type*: `auto`|[**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `auto`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/ellipse)",detail:"svg item attribute",options:null}]},line:{name:"line",detail:"svg element",description:"The **`<line>`** element is an SVG basic shape used to create a line connecting two points. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/line)",elements:["desc","title","metadata","animate","set","animateMotion","animateColor","animateTransform"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"color",description:"It provides a potential indirect value (`currentcolor`) for the `fill`, `stroke`, `stop-color`, `flood-color` and `lighting-color` presentation attributes. *Value*: [`<color>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","white","silver","gray","black","navy","blue","aqua","teal","green","olive"]},{name:"color-interpolation",description:"It specifies the color space for gradient interpolations, color animations, and alpha compositing. *Value*: `auto`|**`sRGB`**|`linearRGB`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"color-rendering",description:"It provides a hint to the browser about how to optimize its color interpolation and compositing operations. *Value*: **`auto`**|`optimizeSpeed`|`optimizeQuality`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-opacity",description:"It specifies the opacity of the color or the content the current object is filled with. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-rule",description:"It indicates how to determine what side of a path is inside a shape. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"stroke",description:"Defines the color used to paint the outline of the shape. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dasharray",description:"Defines the pattern of dashes and gaps used to paint the outline of the shape. *Value*: `none`|`<dasharray>`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dashoffset",description:"Defines an offset on the rendering of the associated dash array. *Value*: [`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-linecap",description:null,detail:null,options:null},{name:"stroke-linejoin",description:null,detail:null,options:null},{name:"stroke-miterlimit",description:null,detail:null,options:null},{name:"stroke-opacity",description:null,detail:null,options:null},{name:"stroke-width",description:null,detail:null,options:null},{name:"clip-path",description:"It binds the element it is applied to with a given [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) element. *Value*: **`none`**|[`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","inherit","none"]},{name:"clip-rule",description:"It indicates how to determine what side of a path is inside a shape in order to know how a [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) should clip its target. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"cursor",description:"It specifies the mouse cursor displayed when the mouse pointer is over an element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|[`<keywords>`](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#values)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","crosshair","default","pointer","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help","inherit"]},{name:"display",description:"It allows to control the rendering of graphical or container elements. *Value*: see CSS [`display`](https://developer.mozilla.org/en-US/docs/Web/CSS/display); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"filter",description:"It defines the filter effects defined by the [`<filter>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter) element that shall be applied to its element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"image-rendering",description:"It provides a hint to the browser about how to make speed vs. quality tradeoffs as it performs image processing. *Value*: **`auto`**|`optimizeQuality`|`optimizeSpeed`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"mask",description:"It alters the visibility of an element by either masking or clipping the image at specific points. *Value*: see CSS [`mask`](https://developer.mozilla.org/en-US/docs/Web/CSS/mask); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"opacity",description:"It specifies the transparency of an object or a group of objects. *Value*: [<opacity-value>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#opacity_value); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"pointer-events",description:"Defines whether or when an element may be the target of a mouse event. *Value*: `bounding-box`|**`visiblePainted`**|`visibleFill`|`visibleStroke`|`visible` |`painted`|`fill`|`stroke`|`all`|`none`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"shape-rendering",description:"Hints about what tradeoffs to make as the browser renders [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shapes. *Value*: **`auto`**|`optimizeSpeed`|`crispEdges`|`geometricPrecision` |`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"text-rendering",description:null,detail:null,options:null},{name:"visibility",description:null,detail:null,options:null},{name:"marker-start",description:"It defines the arrowhead or polymarker that will be drawn at the first vertex of the given [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shape. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"marker-mid",description:"It defines the arrowhead or polymarker that will be drawn at every vertex other than the first and last vertex of the given [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shape. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"marker-end",description:"It defines the arrowhead or polymarker that will be drawn at the final vertex of the given [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shape. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null},{name:"x1",description:"Defines the x-axis coordinate of the line starting point. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[**`<number>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/line)",detail:"svg item attribute",options:null},{name:"y1",description:"Defines the y-axis coordinate of the line starting point. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[**`<number>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/line)",detail:"svg item attribute",options:null},{name:"x2",description:"Defines the x-axis coordinate of the line ending point. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[**`<number>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/line)",detail:"svg item attribute",options:null},{name:"y2",description:"Defines the y-axis coordinate of the line ending point. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[**`<number>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/line)",detail:"svg item attribute",options:null}]},polyline:{name:"polyline",detail:"svg element",description:"The **`<polyline>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element is an SVG basic shape that creates straight lines connecting several points. Typically a `polyline` is used to create open shapes as the last point doesn't have to be connected to the first point. For closed shapes see the [`<polygon>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/polygon) element. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/polyline)",elements:["desc","title","metadata","animate","set","animateMotion","animateColor","animateTransform"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"color",description:"It provides a potential indirect value (`currentcolor`) for the `fill`, `stroke`, `stop-color`, `flood-color` and `lighting-color` presentation attributes. *Value*: [`<color>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","white","silver","gray","black","navy","blue","aqua","teal","green","olive"]},{name:"color-interpolation",description:"It specifies the color space for gradient interpolations, color animations, and alpha compositing. *Value*: `auto`|**`sRGB`**|`linearRGB`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"color-rendering",description:"It provides a hint to the browser about how to optimize its color interpolation and compositing operations. *Value*: **`auto`**|`optimizeSpeed`|`optimizeQuality`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-opacity",description:"It specifies the opacity of the color or the content the current object is filled with. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-rule",description:"It indicates how to determine what side of a path is inside a shape. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"stroke",description:"Defines the color used to paint the outline of the shape. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dasharray",description:"Defines the pattern of dashes and gaps used to paint the outline of the shape. *Value*: `none`|`<dasharray>`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dashoffset",description:"Defines an offset on the rendering of the associated dash array. *Value*: [`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-linecap",description:null,detail:null,options:null},{name:"stroke-linejoin",description:null,detail:null,options:null},{name:"stroke-miterlimit",description:null,detail:null,options:null},{name:"stroke-opacity",description:null,detail:null,options:null},{name:"stroke-width",description:null,detail:null,options:null},{name:"clip-path",description:"It binds the element it is applied to with a given [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) element. *Value*: **`none`**|[`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","inherit","none"]},{name:"clip-rule",description:"It indicates how to determine what side of a path is inside a shape in order to know how a [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) should clip its target. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"cursor",description:"It specifies the mouse cursor displayed when the mouse pointer is over an element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|[`<keywords>`](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#values)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","crosshair","default","pointer","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help","inherit"]},{name:"display",description:"It allows to control the rendering of graphical or container elements. *Value*: see CSS [`display`](https://developer.mozilla.org/en-US/docs/Web/CSS/display); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"filter",description:"It defines the filter effects defined by the [`<filter>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter) element that shall be applied to its element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"image-rendering",description:"It provides a hint to the browser about how to make speed vs. quality tradeoffs as it performs image processing. *Value*: **`auto`**|`optimizeQuality`|`optimizeSpeed`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"mask",description:"It alters the visibility of an element by either masking or clipping the image at specific points. *Value*: see CSS [`mask`](https://developer.mozilla.org/en-US/docs/Web/CSS/mask); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"opacity",description:"It specifies the transparency of an object or a group of objects. *Value*: [<opacity-value>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#opacity_value); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"pointer-events",description:"Defines whether or when an element may be the target of a mouse event. *Value*: `bounding-box`|**`visiblePainted`**|`visibleFill`|`visibleStroke`|`visible` |`painted`|`fill`|`stroke`|`all`|`none`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"shape-rendering",description:"Hints about what tradeoffs to make as the browser renders [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shapes. *Value*: **`auto`**|`optimizeSpeed`|`crispEdges`|`geometricPrecision` |`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"text-rendering",description:null,detail:null,options:null},{name:"visibility",description:null,detail:null,options:null},{name:"marker-start",description:"It defines the arrowhead or polymarker that will be drawn at the first vertex of the given [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shape. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"marker-mid",description:"It defines the arrowhead or polymarker that will be drawn at every vertex other than the first and last vertex of the given [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shape. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"marker-end",description:"It defines the arrowhead or polymarker that will be drawn at the final vertex of the given [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shape. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null},{name:"points",description:'This attribute defines the list of points (pairs of x,y absolute coordinates) required to draw the polyline *Value type*: [**`<number>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)+ ; *Default value*: `""`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/polyline)',detail:"svg item attribute",options:null}]},polygon:{name:"polygon",detail:"svg element",description:"The **`<polygon>`** element defines a closed shape consisting of a set of connected straight line segments. The last point is connected to the first point.\r\n\r\nFor open shapes, see the [`<polyline>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/polyline) element. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/polygon)",elements:["desc","title","metadata","animate","set","animateMotion","animateColor","animateTransform"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"color",description:"It provides a potential indirect value (`currentcolor`) for the `fill`, `stroke`, `stop-color`, `flood-color` and `lighting-color` presentation attributes. *Value*: [`<color>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","white","silver","gray","black","navy","blue","aqua","teal","green","olive"]},{name:"color-interpolation",description:"It specifies the color space for gradient interpolations, color animations, and alpha compositing. *Value*: `auto`|**`sRGB`**|`linearRGB`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"color-rendering",description:"It provides a hint to the browser about how to optimize its color interpolation and compositing operations. *Value*: **`auto`**|`optimizeSpeed`|`optimizeQuality`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-opacity",description:"It specifies the opacity of the color or the content the current object is filled with. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-rule",description:"It indicates how to determine what side of a path is inside a shape. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"stroke",description:"Defines the color used to paint the outline of the shape. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dasharray",description:"Defines the pattern of dashes and gaps used to paint the outline of the shape. *Value*: `none`|`<dasharray>`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dashoffset",description:"Defines an offset on the rendering of the associated dash array. *Value*: [`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-linecap",description:null,detail:null,options:null},{name:"stroke-linejoin",description:null,detail:null,options:null},{name:"stroke-miterlimit",description:null,detail:null,options:null},{name:"stroke-opacity",description:null,detail:null,options:null},{name:"stroke-width",description:null,detail:null,options:null},{name:"clip-path",description:"It binds the element it is applied to with a given [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) element. *Value*: **`none`**|[`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","inherit","none"]},{name:"clip-rule",description:"It indicates how to determine what side of a path is inside a shape in order to know how a [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) should clip its target. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"cursor",description:"It specifies the mouse cursor displayed when the mouse pointer is over an element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|[`<keywords>`](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#values)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","crosshair","default","pointer","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help","inherit"]},{name:"display",description:"It allows to control the rendering of graphical or container elements. *Value*: see CSS [`display`](https://developer.mozilla.org/en-US/docs/Web/CSS/display); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"filter",description:"It defines the filter effects defined by the [`<filter>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter) element that shall be applied to its element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"image-rendering",description:"It provides a hint to the browser about how to make speed vs. quality tradeoffs as it performs image processing. *Value*: **`auto`**|`optimizeQuality`|`optimizeSpeed`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"mask",description:"It alters the visibility of an element by either masking or clipping the image at specific points. *Value*: see CSS [`mask`](https://developer.mozilla.org/en-US/docs/Web/CSS/mask); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"opacity",description:"It specifies the transparency of an object or a group of objects. *Value*: [<opacity-value>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#opacity_value); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"pointer-events",description:"Defines whether or when an element may be the target of a mouse event. *Value*: `bounding-box`|**`visiblePainted`**|`visibleFill`|`visibleStroke`|`visible` |`painted`|`fill`|`stroke`|`all`|`none`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"shape-rendering",description:"Hints about what tradeoffs to make as the browser renders [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shapes. *Value*: **`auto`**|`optimizeSpeed`|`crispEdges`|`geometricPrecision` |`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"text-rendering",description:null,detail:null,options:null},{name:"visibility",description:null,detail:null,options:null},{name:"marker-start",description:"It defines the arrowhead or polymarker that will be drawn at the first vertex of the given [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shape. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"marker-mid",description:"It defines the arrowhead or polymarker that will be drawn at every vertex other than the first and last vertex of the given [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shape. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"marker-end",description:"It defines the arrowhead or polymarker that will be drawn at the final vertex of the given [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shape. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null},{name:"points",description:'This attribute defines the list of points (pairs of `x,y` absolute coordinates) required to draw the polygon. *Value type*: [**`<number>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)+ ; *Default value*: `""`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/polygon)',detail:"svg item attribute",options:null}]},text:{name:"text",detail:"svg element",description:"The SVG **`<text>`** element draws a graphics element consisting of text. It's possible to apply a gradient, pattern, clipping path, mask, or filter to `<text>`, like any other SVG graphics element.\r\n\r\nIf text is included in SVG not inside of a `<text>` element, it is not rendered. This is different than being hidden by default, as setting the [`display`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/display) property won't show the text. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text)",elements:["desc","title","metadata","tspan","tref","textPath","altGlyph","a","animate","set","animateMotion","animateColor","animateTransform"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"color",description:"It provides a potential indirect value (`currentcolor`) for the `fill`, `stroke`, `stop-color`, `flood-color` and `lighting-color` presentation attributes. *Value*: [`<color>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","white","silver","gray","black","navy","blue","aqua","teal","green","olive"]},{name:"color-interpolation",description:"It specifies the color space for gradient interpolations, color animations, and alpha compositing. *Value*: `auto`|**`sRGB`**|`linearRGB`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"color-rendering",description:"It provides a hint to the browser about how to optimize its color interpolation and compositing operations. *Value*: **`auto`**|`optimizeSpeed`|`optimizeQuality`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-opacity",description:"It specifies the opacity of the color or the content the current object is filled with. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-rule",description:"It indicates how to determine what side of a path is inside a shape. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"stroke",description:"Defines the color used to paint the outline of the shape. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dasharray",description:"Defines the pattern of dashes and gaps used to paint the outline of the shape. *Value*: `none`|`<dasharray>`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dashoffset",description:"Defines an offset on the rendering of the associated dash array. *Value*: [`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-linecap",description:null,detail:null,options:null},{name:"stroke-linejoin",description:null,detail:null,options:null},{name:"stroke-miterlimit",description:null,detail:null,options:null},{name:"stroke-opacity",description:null,detail:null,options:null},{name:"stroke-width",description:null,detail:null,options:null},{name:"font-family",description:"It indicates which font family will be used to render the text of the element. *Value*: see CSS [`font-family`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-family); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-size",description:"It specifies the size of the font. *Value*: see CSS [`font-size`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-size); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit"]},{name:"font-size-adjust",description:"It specifies that the font size should be chosen based on the height of lowercase letters rather than the height of capital letters. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"font-stretch",description:"It selects a normal, condensed, or expanded face from a font. *Value*: see CSS [`font-stretch`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-stretch); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["normal","wider","narrower","ultra-condensed","extra-condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded","inherit"]},{name:"font-style",description:"It specifies whether a font should be styled with a normal, italic, or oblique face from its [`font-family`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/font-family). *Value*: **`normal`**|`italic`|`oblique`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-variant",description:"It specifies whether a font should be used with some of their variation such as small caps or ligatures. *Value*: see CSS [`font-variant`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-variant); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-weight",description:"It specifies the weight (or boldness) of the font. *Value*: **`normal`**|`bold`|`lighter`|`bolder`|`100`|`200`|`300`|`400`|`500`|`600`|`700`|`800`|`900`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"clip-path",description:"It binds the element it is applied to with a given [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) element. *Value*: **`none`**|[`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","inherit","none"]},{name:"clip-rule",description:"It indicates how to determine what side of a path is inside a shape in order to know how a [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) should clip its target. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"cursor",description:"It specifies the mouse cursor displayed when the mouse pointer is over an element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|[`<keywords>`](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#values)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","crosshair","default","pointer","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help","inherit"]},{name:"display",description:"It allows to control the rendering of graphical or container elements. *Value*: see CSS [`display`](https://developer.mozilla.org/en-US/docs/Web/CSS/display); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"filter",description:"It defines the filter effects defined by the [`<filter>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter) element that shall be applied to its element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"image-rendering",description:"It provides a hint to the browser about how to make speed vs. quality tradeoffs as it performs image processing. *Value*: **`auto`**|`optimizeQuality`|`optimizeSpeed`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"mask",description:"It alters the visibility of an element by either masking or clipping the image at specific points. *Value*: see CSS [`mask`](https://developer.mozilla.org/en-US/docs/Web/CSS/mask); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"opacity",description:"It specifies the transparency of an object or a group of objects. *Value*: [<opacity-value>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#opacity_value); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"pointer-events",description:"Defines whether or when an element may be the target of a mouse event. *Value*: `bounding-box`|**`visiblePainted`**|`visibleFill`|`visibleStroke`|`visible` |`painted`|`fill`|`stroke`|`all`|`none`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"shape-rendering",description:"Hints about what tradeoffs to make as the browser renders [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shapes. *Value*: **`auto`**|`optimizeSpeed`|`crispEdges`|`geometricPrecision` |`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"text-rendering",description:null,detail:null,options:null},{name:"visibility",description:null,detail:null,options:null},{name:"alignment-baseline",description:"It specifies how an object is aligned along the font baseline with respect to its parent. *Value*: **`auto`**|`baseline`|`before-edge`|`text-before-edge`|`middle`|`central`|`after-edge`|`text-after-edge`|`ideographic`|`alphabetic`|`hanging`|`mathematical`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"baseline-shift",description:"It allows repositioning of the dominant-baseline relative to the dominant-baseline of the parent text content element. *Value*: **`auto`**|`baseline`|`super`|`sub`|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["baseline","sub","super","inherit"]},{name:"direction",description:"It specifies the base writing direction of text. *Value*: **`ltr`**|`rtl`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"dominant-baseline",description:"It defines the baseline used to align the box's text and inline-level contents. *Value*: `auto`|`text-bottom`|`alphabetic`|`ideographic`|`middle`|`central`| `mathematical`|`hanging`|`text-top`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"glyph-orientation-horizontal",description:"It controls glyph orientation when the inline-progression-direction is horizontal. *Value*: [`<angle>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#angle)|`inherit`; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit"]},{name:"glyph-orientation-vertical",description:"It controls glyph orientation when the inline-progression-direction is vertical. *Value*: **`auto`**|[`<angle>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#angle)|`inherit`; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","auto"]},{name:"letter-spacing",description:"It controls spacing between text characters. *Value*: **`normal`**|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","exact"]},{name:"text-anchor",description:null,detail:null,options:null},{name:"text-decoration",description:null,detail:null,options:["none","underline","overline","line-through"]},{name:"unicode-bidi",description:null,detail:null,options:null},{name:"word-spacing",description:null,detail:null,options:["auto","exact"]},{name:"writing-mode",description:null,detail:null,options:null},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null},{name:"x",description:"The x coordinate of the starting point of the text baseline. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text)",detail:"svg item attribute",options:null},{name:"y",description:"The y coordinate of the starting point of the text baseline. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text)",detail:"svg item attribute",options:null},{name:"textLength",description:"A width that the text should be scaled to fit. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: *none*; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text)",detail:"svg item attribute",options:null},{name:"lengthAdjust",description:"How the text is stretched or compressed to fit the width defined by the `textLength` attribute. *Value type*: `spacing`|`spacingAndGlyphs`; *Default value*: `spacing`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text)",detail:"svg item attribute",options:null}]},tspan:{name:"tspan",detail:"svg element",description:"The SVG **`<tspan>`** element defines a subtext within a [`<text>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text) element or another `<tspan>` element. It allows for adjustment of the style and/or position of that subtext as needed. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/tspan)",elements:["desc","title","metadata","tspan","tref","altGlyph","a","animate","set","animateColor"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"color",description:"It provides a potential indirect value (`currentcolor`) for the `fill`, `stroke`, `stop-color`, `flood-color` and `lighting-color` presentation attributes. *Value*: [`<color>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","white","silver","gray","black","navy","blue","aqua","teal","green","olive"]},{name:"color-interpolation",description:"It specifies the color space for gradient interpolations, color animations, and alpha compositing. *Value*: `auto`|**`sRGB`**|`linearRGB`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"color-rendering",description:"It provides a hint to the browser about how to optimize its color interpolation and compositing operations. *Value*: **`auto`**|`optimizeSpeed`|`optimizeQuality`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-opacity",description:"It specifies the opacity of the color or the content the current object is filled with. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-rule",description:"It indicates how to determine what side of a path is inside a shape. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"stroke",description:"Defines the color used to paint the outline of the shape. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dasharray",description:"Defines the pattern of dashes and gaps used to paint the outline of the shape. *Value*: `none`|`<dasharray>`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dashoffset",description:"Defines an offset on the rendering of the associated dash array. *Value*: [`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-linecap",description:null,detail:null,options:null},{name:"stroke-linejoin",description:null,detail:null,options:null},{name:"stroke-miterlimit",description:null,detail:null,options:null},{name:"stroke-opacity",description:null,detail:null,options:null},{name:"stroke-width",description:null,detail:null,options:null},{name:"font-family",description:"It indicates which font family will be used to render the text of the element. *Value*: see CSS [`font-family`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-family); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-size",description:"It specifies the size of the font. *Value*: see CSS [`font-size`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-size); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit"]},{name:"font-size-adjust",description:"It specifies that the font size should be chosen based on the height of lowercase letters rather than the height of capital letters. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"font-stretch",description:"It selects a normal, condensed, or expanded face from a font. *Value*: see CSS [`font-stretch`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-stretch); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["normal","wider","narrower","ultra-condensed","extra-condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded","inherit"]},{name:"font-style",description:"It specifies whether a font should be styled with a normal, italic, or oblique face from its [`font-family`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/font-family). *Value*: **`normal`**|`italic`|`oblique`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-variant",description:"It specifies whether a font should be used with some of their variation such as small caps or ligatures. *Value*: see CSS [`font-variant`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-variant); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-weight",description:"It specifies the weight (or boldness) of the font. *Value*: **`normal`**|`bold`|`lighter`|`bolder`|`100`|`200`|`300`|`400`|`500`|`600`|`700`|`800`|`900`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"clip-path",description:"It binds the element it is applied to with a given [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) element. *Value*: **`none`**|[`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","inherit","none"]},{name:"clip-rule",description:"It indicates how to determine what side of a path is inside a shape in order to know how a [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) should clip its target. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"cursor",description:"It specifies the mouse cursor displayed when the mouse pointer is over an element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|[`<keywords>`](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#values)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","crosshair","default","pointer","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help","inherit"]},{name:"display",description:"It allows to control the rendering of graphical or container elements. *Value*: see CSS [`display`](https://developer.mozilla.org/en-US/docs/Web/CSS/display); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"filter",description:"It defines the filter effects defined by the [`<filter>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter) element that shall be applied to its element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"image-rendering",description:"It provides a hint to the browser about how to make speed vs. quality tradeoffs as it performs image processing. *Value*: **`auto`**|`optimizeQuality`|`optimizeSpeed`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"mask",description:"It alters the visibility of an element by either masking or clipping the image at specific points. *Value*: see CSS [`mask`](https://developer.mozilla.org/en-US/docs/Web/CSS/mask); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"opacity",description:"It specifies the transparency of an object or a group of objects. *Value*: [<opacity-value>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#opacity_value); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"pointer-events",description:"Defines whether or when an element may be the target of a mouse event. *Value*: `bounding-box`|**`visiblePainted`**|`visibleFill`|`visibleStroke`|`visible` |`painted`|`fill`|`stroke`|`all`|`none`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"shape-rendering",description:"Hints about what tradeoffs to make as the browser renders [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shapes. *Value*: **`auto`**|`optimizeSpeed`|`crispEdges`|`geometricPrecision` |`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"text-rendering",description:null,detail:null,options:null},{name:"visibility",description:null,detail:null,options:null},{name:"alignment-baseline",description:"It specifies how an object is aligned along the font baseline with respect to its parent. *Value*: **`auto`**|`baseline`|`before-edge`|`text-before-edge`|`middle`|`central`|`after-edge`|`text-after-edge`|`ideographic`|`alphabetic`|`hanging`|`mathematical`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"baseline-shift",description:"It allows repositioning of the dominant-baseline relative to the dominant-baseline of the parent text content element. *Value*: **`auto`**|`baseline`|`super`|`sub`|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["baseline","sub","super","inherit"]},{name:"direction",description:"It specifies the base writing direction of text. *Value*: **`ltr`**|`rtl`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"dominant-baseline",description:"It defines the baseline used to align the box's text and inline-level contents. *Value*: `auto`|`text-bottom`|`alphabetic`|`ideographic`|`middle`|`central`| `mathematical`|`hanging`|`text-top`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"glyph-orientation-horizontal",description:"It controls glyph orientation when the inline-progression-direction is horizontal. *Value*: [`<angle>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#angle)|`inherit`; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit"]},{name:"glyph-orientation-vertical",description:"It controls glyph orientation when the inline-progression-direction is vertical. *Value*: **`auto`**|[`<angle>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#angle)|`inherit`; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","auto"]},{name:"letter-spacing",description:"It controls spacing between text characters. *Value*: **`normal`**|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","exact"]},{name:"text-anchor",description:null,detail:null,options:null},{name:"text-decoration",description:null,detail:null,options:["none","underline","overline","line-through"]},{name:"unicode-bidi",description:null,detail:null,options:null},{name:"word-spacing",description:null,detail:null,options:["auto","exact"]},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"x",description:"The x coordinate of the starting point of the text baseline. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value: none; Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/tspan)",detail:"svg item attribute",options:null},{name:"y",description:"The y coordinate of the starting point of the text baseline. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value: none; Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/tspan)",detail:"svg item attribute",options:null},{name:"dx",description:"Shifts the text position horizontally from a previous text element. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: *none*; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/tspan)",detail:"svg item attribute",options:null},{name:"dy",description:"Shifts the text position vertically from a previous text element. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value: none; Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/tspan)",detail:"svg item attribute",options:null},{name:"rotate",description:"Rotates orientation of each individual glyph. Can rotate glyphs individually. *Value type*: [**<list-of-number>**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#list-of-ts) ; *Default value*: none; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/tspan)",detail:"svg item attribute",options:null},{name:"textLength",description:"A width that the text should be scaled to fit. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: *none*; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/tspan)",detail:"svg item attribute",options:null},{name:"lengthAdjust",description:"How the text is stretched or compressed to fit the width defined by the `textLength` attribute. *Value type*: `spacing`|`spacingAndGlyphs`; *Default value*: `spacing`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/tspan)",detail:"svg item attribute",options:null}]},tref:{name:"tref",detail:"svg element",description:'<div class="notecard deprecated" id="sect1">\r\n\r\n**Deprecated:** This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the [compatibility table](#browser_compatibility) at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.\r\n</div>\r\n\r\nThe textual content for a [`<text>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text) [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element can be either character data directly embedded within the [`<text>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text) element or the character data content of a referenced element, where the referencing is specified with a **`<tref>`** element. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/tref)',elements:["desc","title","metadata","animate","set","animateColor"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"color",description:"It provides a potential indirect value (`currentcolor`) for the `fill`, `stroke`, `stop-color`, `flood-color` and `lighting-color` presentation attributes. *Value*: [`<color>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","white","silver","gray","black","navy","blue","aqua","teal","green","olive"]},{name:"color-interpolation",description:"It specifies the color space for gradient interpolations, color animations, and alpha compositing. *Value*: `auto`|**`sRGB`**|`linearRGB`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"color-rendering",description:"It provides a hint to the browser about how to optimize its color interpolation and compositing operations. *Value*: **`auto`**|`optimizeSpeed`|`optimizeQuality`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-opacity",description:"It specifies the opacity of the color or the content the current object is filled with. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-rule",description:"It indicates how to determine what side of a path is inside a shape. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"stroke",description:"Defines the color used to paint the outline of the shape. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dasharray",description:"Defines the pattern of dashes and gaps used to paint the outline of the shape. *Value*: `none`|`<dasharray>`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dashoffset",description:"Defines an offset on the rendering of the associated dash array. *Value*: [`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-linecap",description:null,detail:null,options:null},{name:"stroke-linejoin",description:null,detail:null,options:null},{name:"stroke-miterlimit",description:null,detail:null,options:null},{name:"stroke-opacity",description:null,detail:null,options:null},{name:"stroke-width",description:null,detail:null,options:null},{name:"font-family",description:"It indicates which font family will be used to render the text of the element. *Value*: see CSS [`font-family`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-family); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-size",description:"It specifies the size of the font. *Value*: see CSS [`font-size`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-size); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit"]},{name:"font-size-adjust",description:"It specifies that the font size should be chosen based on the height of lowercase letters rather than the height of capital letters. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"font-stretch",description:"It selects a normal, condensed, or expanded face from a font. *Value*: see CSS [`font-stretch`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-stretch); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["normal","wider","narrower","ultra-condensed","extra-condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded","inherit"]},{name:"font-style",description:"It specifies whether a font should be styled with a normal, italic, or oblique face from its [`font-family`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/font-family). *Value*: **`normal`**|`italic`|`oblique`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-variant",description:"It specifies whether a font should be used with some of their variation such as small caps or ligatures. *Value*: see CSS [`font-variant`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-variant); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-weight",description:"It specifies the weight (or boldness) of the font. *Value*: **`normal`**|`bold`|`lighter`|`bolder`|`100`|`200`|`300`|`400`|`500`|`600`|`700`|`800`|`900`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"clip-path",description:"It binds the element it is applied to with a given [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) element. *Value*: **`none`**|[`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","inherit","none"]},{name:"clip-rule",description:"It indicates how to determine what side of a path is inside a shape in order to know how a [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) should clip its target. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"cursor",description:"It specifies the mouse cursor displayed when the mouse pointer is over an element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|[`<keywords>`](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#values)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","crosshair","default","pointer","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help","inherit"]},{name:"display",description:"It allows to control the rendering of graphical or container elements. *Value*: see CSS [`display`](https://developer.mozilla.org/en-US/docs/Web/CSS/display); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"filter",description:"It defines the filter effects defined by the [`<filter>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter) element that shall be applied to its element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"image-rendering",description:"It provides a hint to the browser about how to make speed vs. quality tradeoffs as it performs image processing. *Value*: **`auto`**|`optimizeQuality`|`optimizeSpeed`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"mask",description:"It alters the visibility of an element by either masking or clipping the image at specific points. *Value*: see CSS [`mask`](https://developer.mozilla.org/en-US/docs/Web/CSS/mask); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"opacity",description:"It specifies the transparency of an object or a group of objects. *Value*: [<opacity-value>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#opacity_value); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"pointer-events",description:"Defines whether or when an element may be the target of a mouse event. *Value*: `bounding-box`|**`visiblePainted`**|`visibleFill`|`visibleStroke`|`visible` |`painted`|`fill`|`stroke`|`all`|`none`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"shape-rendering",description:"Hints about what tradeoffs to make as the browser renders [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shapes. *Value*: **`auto`**|`optimizeSpeed`|`crispEdges`|`geometricPrecision` |`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"text-rendering",description:null,detail:null,options:null},{name:"visibility",description:null,detail:null,options:null},{name:"alignment-baseline",description:"It specifies how an object is aligned along the font baseline with respect to its parent. *Value*: **`auto`**|`baseline`|`before-edge`|`text-before-edge`|`middle`|`central`|`after-edge`|`text-after-edge`|`ideographic`|`alphabetic`|`hanging`|`mathematical`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"baseline-shift",description:"It allows repositioning of the dominant-baseline relative to the dominant-baseline of the parent text content element. *Value*: **`auto`**|`baseline`|`super`|`sub`|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["baseline","sub","super","inherit"]},{name:"direction",description:"It specifies the base writing direction of text. *Value*: **`ltr`**|`rtl`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"dominant-baseline",description:"It defines the baseline used to align the box's text and inline-level contents. *Value*: `auto`|`text-bottom`|`alphabetic`|`ideographic`|`middle`|`central`| `mathematical`|`hanging`|`text-top`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"glyph-orientation-horizontal",description:"It controls glyph orientation when the inline-progression-direction is horizontal. *Value*: [`<angle>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#angle)|`inherit`; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit"]},{name:"glyph-orientation-vertical",description:"It controls glyph orientation when the inline-progression-direction is vertical. *Value*: **`auto`**|[`<angle>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#angle)|`inherit`; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","auto"]},{name:"letter-spacing",description:"It controls spacing between text characters. *Value*: **`normal`**|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","exact"]},{name:"text-anchor",description:null,detail:null,options:null},{name:"text-decoration",description:null,detail:null,options:["none","underline","overline","line-through"]},{name:"unicode-bidi",description:null,detail:null,options:null},{name:"word-spacing",description:null,detail:null,options:["auto","exact"]},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"x",description:null,detail:null,options:null},{name:"y",description:null,detail:null,options:null},{name:"dx",description:null,detail:null,options:null},{name:"dy",description:null,detail:null,options:null},{name:"rotate",description:null,detail:null,options:null},{name:"textLength",description:null,detail:null,options:null},{name:"lengthAdjust",description:null,detail:null,options:null}]},textPath:{name:"textPath",detail:"svg element",description:"To render text along the shape of a [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path), enclose the text in a **`<textPath>`** element that has an [`href`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/href) attribute with a reference to the [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/textPath)",elements:["desc","title","metadata","tspan","tref","altGlyph","a","animate","set","animateColor"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-opacity",description:"It specifies the opacity of the color or the content the current object is filled with. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-rule",description:"It indicates how to determine what side of a path is inside a shape. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"stroke",description:"Defines the color used to paint the outline of the shape. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dasharray",description:"Defines the pattern of dashes and gaps used to paint the outline of the shape. *Value*: `none`|`<dasharray>`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dashoffset",description:"Defines an offset on the rendering of the associated dash array. *Value*: [`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-linecap",description:null,detail:null,options:null},{name:"stroke-linejoin",description:null,detail:null,options:null},{name:"stroke-miterlimit",description:null,detail:null,options:null},{name:"stroke-opacity",description:null,detail:null,options:null},{name:"stroke-width",description:null,detail:null,options:null},{name:"font-family",description:"It indicates which font family will be used to render the text of the element. *Value*: see CSS [`font-family`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-family); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-size",description:"It specifies the size of the font. *Value*: see CSS [`font-size`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-size); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit"]},{name:"font-size-adjust",description:"It specifies that the font size should be chosen based on the height of lowercase letters rather than the height of capital letters. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"font-stretch",description:"It selects a normal, condensed, or expanded face from a font. *Value*: see CSS [`font-stretch`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-stretch); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["normal","wider","narrower","ultra-condensed","extra-condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded","inherit"]},{name:"font-style",description:"It specifies whether a font should be styled with a normal, italic, or oblique face from its [`font-family`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/font-family). *Value*: **`normal`**|`italic`|`oblique`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-variant",description:"It specifies whether a font should be used with some of their variation such as small caps or ligatures. *Value*: see CSS [`font-variant`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-variant); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-weight",description:"It specifies the weight (or boldness) of the font. *Value*: **`normal`**|`bold`|`lighter`|`bolder`|`100`|`200`|`300`|`400`|`500`|`600`|`700`|`800`|`900`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"clip-path",description:"It binds the element it is applied to with a given [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) element. *Value*: **`none`**|[`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","inherit","none"]},{name:"clip-rule",description:"It indicates how to determine what side of a path is inside a shape in order to know how a [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) should clip its target. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"cursor",description:"It specifies the mouse cursor displayed when the mouse pointer is over an element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|[`<keywords>`](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#values)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","crosshair","default","pointer","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help","inherit"]},{name:"display",description:"It allows to control the rendering of graphical or container elements. *Value*: see CSS [`display`](https://developer.mozilla.org/en-US/docs/Web/CSS/display); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"filter",description:"It defines the filter effects defined by the [`<filter>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter) element that shall be applied to its element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"image-rendering",description:"It provides a hint to the browser about how to make speed vs. quality tradeoffs as it performs image processing. *Value*: **`auto`**|`optimizeQuality`|`optimizeSpeed`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"mask",description:"It alters the visibility of an element by either masking or clipping the image at specific points. *Value*: see CSS [`mask`](https://developer.mozilla.org/en-US/docs/Web/CSS/mask); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"opacity",description:"It specifies the transparency of an object or a group of objects. *Value*: [<opacity-value>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#opacity_value); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"pointer-events",description:"Defines whether or when an element may be the target of a mouse event. *Value*: `bounding-box`|**`visiblePainted`**|`visibleFill`|`visibleStroke`|`visible` |`painted`|`fill`|`stroke`|`all`|`none`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"shape-rendering",description:"Hints about what tradeoffs to make as the browser renders [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shapes. *Value*: **`auto`**|`optimizeSpeed`|`crispEdges`|`geometricPrecision` |`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"text-rendering",description:null,detail:null,options:null},{name:"visibility",description:null,detail:null,options:null},{name:"alignment-baseline",description:"It specifies how an object is aligned along the font baseline with respect to its parent. *Value*: **`auto`**|`baseline`|`before-edge`|`text-before-edge`|`middle`|`central`|`after-edge`|`text-after-edge`|`ideographic`|`alphabetic`|`hanging`|`mathematical`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"baseline-shift",description:"It allows repositioning of the dominant-baseline relative to the dominant-baseline of the parent text content element. *Value*: **`auto`**|`baseline`|`super`|`sub`|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["baseline","sub","super","inherit"]},{name:"direction",description:"It specifies the base writing direction of text. *Value*: **`ltr`**|`rtl`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"dominant-baseline",description:"It defines the baseline used to align the box's text and inline-level contents. *Value*: `auto`|`text-bottom`|`alphabetic`|`ideographic`|`middle`|`central`| `mathematical`|`hanging`|`text-top`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"glyph-orientation-horizontal",description:"It controls glyph orientation when the inline-progression-direction is horizontal. *Value*: [`<angle>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#angle)|`inherit`; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit"]},{name:"glyph-orientation-vertical",description:"It controls glyph orientation when the inline-progression-direction is vertical. *Value*: **`auto`**|[`<angle>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#angle)|`inherit`; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","auto"]},{name:"letter-spacing",description:"It controls spacing between text characters. *Value*: **`normal`**|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","exact"]},{name:"text-anchor",description:null,detail:null,options:null},{name:"text-decoration",description:null,detail:null,options:["none","underline","overline","line-through"]},{name:"unicode-bidi",description:null,detail:null,options:null},{name:"word-spacing",description:null,detail:null,options:["auto","exact"]},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"startOffset",description:"How far the beginning of the text should be offset from the beginning of the path. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[**`<number>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/textPath)",detail:"svg item attribute",options:null},{name:"textLength",description:"The width of the space into which the text will render. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[**`<number>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number) ; *Default value*: *auto*; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/textPath)",detail:"svg item attribute",options:null},{name:"lengthAdjust",description:"Where length adjustment should be applied to the text: the space between glyphs, or both the space and the glyphs themselves. *Value type*: `spacing`|`spacingAndGlyphs`; *Default value*: `spacing`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/textPath)",detail:"svg item attribute",options:null},{name:"method",description:"Which method to render individual glyphs along the path. *Value type*: `align`|`stretch` ; *Default value*: `align`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/textPath)",detail:"svg item attribute",options:null},{name:"spacing",description:"How space between glyphs should be handled. *Value type*: `auto`|`exact` ; *Default value*: `exact`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/textPath)",detail:"svg item attribute",options:null}]},altGlyph:{name:"altGlyph",detail:"svg element",description:'<div class="notecard deprecated" id="sect1">\r\n\r\n**Deprecated:** This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the [compatibility table](#browser_compatibility) at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.\r\n</div>\r\n\r\nThe **`<altGlyph>`** SVG element allows sophisticated selection of the glyphs used to render its child character data. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/altGlyph)',elements:[],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"color",description:"It provides a potential indirect value (`currentcolor`) for the `fill`, `stroke`, `stop-color`, `flood-color` and `lighting-color` presentation attributes. *Value*: [`<color>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","white","silver","gray","black","navy","blue","aqua","teal","green","olive"]},{name:"color-interpolation",description:"It specifies the color space for gradient interpolations, color animations, and alpha compositing. *Value*: `auto`|**`sRGB`**|`linearRGB`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"color-rendering",description:"It provides a hint to the browser about how to optimize its color interpolation and compositing operations. *Value*: **`auto`**|`optimizeSpeed`|`optimizeQuality`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-opacity",description:"It specifies the opacity of the color or the content the current object is filled with. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-rule",description:"It indicates how to determine what side of a path is inside a shape. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"stroke",description:"Defines the color used to paint the outline of the shape. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dasharray",description:"Defines the pattern of dashes and gaps used to paint the outline of the shape. *Value*: `none`|`<dasharray>`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dashoffset",description:"Defines an offset on the rendering of the associated dash array. *Value*: [`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-linecap",description:null,detail:null,options:null},{name:"stroke-linejoin",description:null,detail:null,options:null},{name:"stroke-miterlimit",description:null,detail:null,options:null},{name:"stroke-opacity",description:null,detail:null,options:null},{name:"stroke-width",description:null,detail:null,options:null},{name:"font-family",description:"It indicates which font family will be used to render the text of the element. *Value*: see CSS [`font-family`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-family); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-size",description:"It specifies the size of the font. *Value*: see CSS [`font-size`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-size); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit"]},{name:"font-size-adjust",description:"It specifies that the font size should be chosen based on the height of lowercase letters rather than the height of capital letters. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"font-stretch",description:"It selects a normal, condensed, or expanded face from a font. *Value*: see CSS [`font-stretch`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-stretch); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["normal","wider","narrower","ultra-condensed","extra-condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded","inherit"]},{name:"font-style",description:"It specifies whether a font should be styled with a normal, italic, or oblique face from its [`font-family`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/font-family). *Value*: **`normal`**|`italic`|`oblique`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-variant",description:"It specifies whether a font should be used with some of their variation such as small caps or ligatures. *Value*: see CSS [`font-variant`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-variant); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-weight",description:"It specifies the weight (or boldness) of the font. *Value*: **`normal`**|`bold`|`lighter`|`bolder`|`100`|`200`|`300`|`400`|`500`|`600`|`700`|`800`|`900`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"clip-path",description:"It binds the element it is applied to with a given [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) element. *Value*: **`none`**|[`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","inherit","none"]},{name:"clip-rule",description:"It indicates how to determine what side of a path is inside a shape in order to know how a [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) should clip its target. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"cursor",description:"It specifies the mouse cursor displayed when the mouse pointer is over an element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|[`<keywords>`](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#values)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","crosshair","default","pointer","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help","inherit"]},{name:"display",description:"It allows to control the rendering of graphical or container elements. *Value*: see CSS [`display`](https://developer.mozilla.org/en-US/docs/Web/CSS/display); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"filter",description:"It defines the filter effects defined by the [`<filter>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter) element that shall be applied to its element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"image-rendering",description:"It provides a hint to the browser about how to make speed vs. quality tradeoffs as it performs image processing. *Value*: **`auto`**|`optimizeQuality`|`optimizeSpeed`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"mask",description:"It alters the visibility of an element by either masking or clipping the image at specific points. *Value*: see CSS [`mask`](https://developer.mozilla.org/en-US/docs/Web/CSS/mask); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"opacity",description:"It specifies the transparency of an object or a group of objects. *Value*: [<opacity-value>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#opacity_value); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"pointer-events",description:"Defines whether or when an element may be the target of a mouse event. *Value*: `bounding-box`|**`visiblePainted`**|`visibleFill`|`visibleStroke`|`visible` |`painted`|`fill`|`stroke`|`all`|`none`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"shape-rendering",description:"Hints about what tradeoffs to make as the browser renders [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shapes. *Value*: **`auto`**|`optimizeSpeed`|`crispEdges`|`geometricPrecision` |`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"text-rendering",description:null,detail:null,options:null},{name:"visibility",description:null,detail:null,options:null},{name:"alignment-baseline",description:"It specifies how an object is aligned along the font baseline with respect to its parent. *Value*: **`auto`**|`baseline`|`before-edge`|`text-before-edge`|`middle`|`central`|`after-edge`|`text-after-edge`|`ideographic`|`alphabetic`|`hanging`|`mathematical`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"baseline-shift",description:"It allows repositioning of the dominant-baseline relative to the dominant-baseline of the parent text content element. *Value*: **`auto`**|`baseline`|`super`|`sub`|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["baseline","sub","super","inherit"]},{name:"direction",description:"It specifies the base writing direction of text. *Value*: **`ltr`**|`rtl`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"dominant-baseline",description:"It defines the baseline used to align the box's text and inline-level contents. *Value*: `auto`|`text-bottom`|`alphabetic`|`ideographic`|`middle`|`central`| `mathematical`|`hanging`|`text-top`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"glyph-orientation-horizontal",description:"It controls glyph orientation when the inline-progression-direction is horizontal. *Value*: [`<angle>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#angle)|`inherit`; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit"]},{name:"glyph-orientation-vertical",description:"It controls glyph orientation when the inline-progression-direction is vertical. *Value*: **`auto`**|[`<angle>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#angle)|`inherit`; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","auto"]},{name:"letter-spacing",description:"It controls spacing between text characters. *Value*: **`normal`**|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","exact"]},{name:"text-anchor",description:null,detail:null,options:null},{name:"text-decoration",description:null,detail:null,options:["none","underline","overline","line-through"]},{name:"unicode-bidi",description:null,detail:null,options:null},{name:"word-spacing",description:null,detail:null,options:["auto","exact"]},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"glyphRef",description:"The glyph identifier, the format of which is dependent on the format defined by the `format` attribute of the given font. *Value type*: **`<string>`** ; *Default value*: *none*; *Animatable*: **no** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/altGlyph)",detail:"svg item attribute",options:null},{name:"format",description:"The format of the given font. *Value type*: **<string**[**>**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: *none*; *Animatable*: **no** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/altGlyph)",detail:"svg item attribute",options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"x",description:"This attribute defines the corresponding absolute x-coordinates for rendering the element. *Value type*: [**<list-of-coordinates>**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#list-of-ts) ; *Default value*: Absolute x-coordinate of ancestor [`<text>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text) or [`<tspan>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/tspan); *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/altGlyph)",detail:"svg item attribute",options:null},{name:"y",description:"This attribute defines the corresponding absolute y-coordinates for rendering the element. *Value type*: [**<list-of-coordinates>**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#list-of-ts) ; *Default value*: Absolute y-coordinate of ancestor [`<text>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text) or [`<tspan>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/tspan); *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/altGlyph)",detail:"svg item attribute",options:null},{name:"dx",description:"This attribute indicates a shift along the x-axis on the position of the element. *Value type*: [**<list-of-coordinates>**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#list-of-ts) ; *Default value*: Relative x-coordinate of ancestor [`<text>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text) or [`<tspan>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/tspan); *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/altGlyph)",detail:"svg item attribute",options:null},{name:"dy",description:"This attribute indicates a shift along the x-axis on the position of the element. *Value type*: [**<list-of-coordinates>**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#list-of-ts) ; *Default value*: Relative y-coordinate of ancestor [`<text>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text) or [`<tspan>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/tspan); *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/altGlyph)",detail:"svg item attribute",options:null},{name:"rotate",description:"This attribute defines the supplemental rotation that will be applied to the element. *Value type*: [**<list-of-numbers>**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#list-of-ts) ; *Default value*: *none*; *Animatable*: **yes (non-additive)** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/altGlyph)",detail:"svg item attribute",options:null}]},altGlyphDef:{name:"altGlyphDef",detail:"svg element",description:'<div class="notecard deprecated" id="sect1">\r\n\r\n**Deprecated:** This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the [compatibility table](#browser_compatibility) at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.\r\n</div>\r\n\r\nThe **`<altGlyphDef>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element defines a substitution representation for glyphs. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/altGlyphDef)',elements:["altGlyphItem","glyphRef"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null}]},altGlyphItem:{name:"altGlyphItem",detail:"svg element",description:'<div class="notecard deprecated" id="sect1">\r\n\r\n**Deprecated:** This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the [compatibility table](#browser_compatibility) at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.\r\n</div>\r\n\r\nThe **`<altGlyphItem>`** element provides a set of candidates for glyph substitution by the [`<altGlyph>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/altGlyph) element. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/altGlyphItem)',elements:["glyphRef"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null}]},glyphRef:{name:"glyphRef",detail:"svg element",description:'<div class="notecard deprecated" id="sect1">\r\n\r\n**Deprecated:** This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the [compatibility table](#browser_compatibility) at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.\r\n</div>\r\n\r\nThe `glyphRef` element provides a single possible glyph to the referencing [`<altGlyph>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/altGlyph) substitution. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/glyphRef)',elements:[],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"font-family",description:"It indicates which font family will be used to render the text of the element. *Value*: see CSS [`font-family`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-family); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-size",description:"It specifies the size of the font. *Value*: see CSS [`font-size`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-size); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit"]},{name:"font-size-adjust",description:"It specifies that the font size should be chosen based on the height of lowercase letters rather than the height of capital letters. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"font-stretch",description:"It selects a normal, condensed, or expanded face from a font. *Value*: see CSS [`font-stretch`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-stretch); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["normal","wider","narrower","ultra-condensed","extra-condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded","inherit"]},{name:"font-style",description:"It specifies whether a font should be styled with a normal, italic, or oblique face from its [`font-family`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/font-family). *Value*: **`normal`**|`italic`|`oblique`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-variant",description:"It specifies whether a font should be used with some of their variation such as small caps or ligatures. *Value*: see CSS [`font-variant`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-variant); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-weight",description:"It specifies the weight (or boldness) of the font. *Value*: **`normal`**|`bold`|`lighter`|`bolder`|`100`|`200`|`300`|`400`|`500`|`600`|`700`|`800`|`900`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"glyphRef",description:null,detail:null,options:null},{name:"format",description:null,detail:null,options:null},{name:"x",description:null,detail:null,options:null},{name:"y",description:null,detail:null,options:null},{name:"dx",description:null,detail:null,options:null},{name:"dy",description:null,detail:null,options:null}]},marker:{name:"marker",detail:"svg element",description:"The **`<marker>`** element defines the graphic that is to be used for drawing arrowheads or polymarkers on a given [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path), [`<line>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/line), [`<polyline>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/polyline) or [`<polygon>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/polygon) element.\r\n\r\nMarkers are attached to shapes using the [`marker-start`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/marker-start), [`marker-mid`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/marker-mid), and [`marker-end`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/marker-end) properties. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/marker)",elements:["desc","title","metadata","defs","path","text","rect","circle","ellipse","line","polyline","polygon","use","image","svg","g","view","switch","a","altGlyphDef","script","style","symbol","marker","clipPath","mask","linearGradient","radialGradient","pattern","filter","cursor","font","animate","set","animateMotion","animateColor","animateTransform","color-profile","font-face"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"viewBox",description:"This attribute defines the bound of the SVG viewport for the current SVG fragment. *Value type*: **[<list-of-numbers>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#list-of-ts)** ; *Default value*: none; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/marker)",detail:"svg item attribute",options:null},{name:"preserveAspectRatio",description:"This attribute defines how the svg fragment must be deformed if it is embedded in a container with a different aspect ratio. *Value type*: (`none`| `xMinYMin`| `xMidYMin`| `xMaxYMin`| `xMinYMid`| `xMidYMid`| `xMaxYMid`| `xMinYMax`| `xMidYMax`| `xMaxYMax`) (`meet`|`slice`)? ; *Default value*: `xMidYMid meet`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/marker)",detail:"svg item attribute",options:null},{name:"refX",description:"This attribute defines the x coordinate for the reference point of the marker. *Value type*: `left`|`center`|`right`|**[`<coordinate>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#coordinate)** ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/marker)",detail:"svg item attribute",options:null},{name:"refY",description:"This attribute defines the y coordinate for the reference point of the marker. *Value type*: `top`|`center`|`bottom`|**[`<coordinate>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#coordinate)** ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/marker)",detail:"svg item attribute",options:null},{name:"markerUnits",description:"This attribute defines the coordinate system for the attributes `markerWidth`, `markerHeight` and the contents of the `<marker>`. *Value type*: `userSpaceOnUse`|`strokeWidth` ; *Default value*: `strokeWidth`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/marker)",detail:"svg item attribute",options:null},{name:"markerWidth",description:"This attribute defines the width of the marker viewport. *Value type*: **[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)** ; *Default value*: `3`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/marker)",detail:"svg item attribute",options:null},{name:"markerHeight",description:"This attribute defines the height of the marker viewport. *Value type*: **[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)** ; *Default value*: `3`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/marker)",detail:"svg item attribute",options:null},{name:"orient",description:"This attribute defines the orientation of the marker relative to the shape it is attached to. *Value type*: `auto`|`auto-start-reverse`|**[`<angle>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#angle)** ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/marker)",detail:"svg item attribute",options:null}]},"color-profile":{name:"color-profile",detail:null,description:null,elements:["desc","title","metadata"],attributes:[{name:"id",description:null,detail:null,options:null},{name:"local",description:null,detail:null,options:null},{name:"name",description:null,detail:null,options:null},{name:"rendering-intent",description:null,detail:null,options:null}]},linearGradient:{name:"linearGradient",detail:"svg element",description:"The **`<linearGradient>`** element lets authors define linear gradients to apply to other SVG elements. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/linearGradient)",elements:["desc","title","metadata","stop","animate","set","animateTransform"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"gradientUnits",description:"This attribute defines the coordinate system for attributes `x1`, `x2`, `y1`, `y2` *Value type*: `userSpaceOnUse`|`objectBoundingBox` ; *Default value*: `objectBoundingBox`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/linearGradient)",detail:"svg item attribute",options:null},{name:"gradientTransform",description:"This attribute provides additional [transformation](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform) to the gradient coordinate system. *Value type*: **[<transform-list>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#transform-list)** ; *Default value*: *identity transform*; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/linearGradient)",detail:"svg item attribute",options:null},{name:"x1",description:"This attribute defines the x coordinate of the starting point of the vector gradient along which the linear gradient is drawn. *Value type*: [`<length-percentage>`](https://developer.mozilla.org/en-US/docs/Web/CSS/length-percentage) | [`<number>`](https://developer.mozilla.org/en-US/docs/Web/CSS/number); *Default value*: `0%`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/linearGradient)",detail:"svg item attribute",options:null},{name:"y1",description:"This attribute defines the y coordinate of the starting point of the vector gradient along which the linear gradient is drawn. *Value type*: [`<length-percentage>`](https://developer.mozilla.org/en-US/docs/Web/CSS/length-percentage) | [`<number>`](https://developer.mozilla.org/en-US/docs/Web/CSS/number); *Default value*: `0%`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/linearGradient)",detail:"svg item attribute",options:null},{name:"x2",description:"This attribute defines the x coordinate of the ending point of the vector gradient along which the linear gradient is drawn. *Value type*: [`<length-percentage>`](https://developer.mozilla.org/en-US/docs/Web/CSS/length-percentage) | [`<number>`](https://developer.mozilla.org/en-US/docs/Web/CSS/number); *Default value*: `100%`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/linearGradient)",detail:"svg item attribute",options:null},{name:"y2",description:"This attribute defines the y coordinate of the ending point of the vector gradient along which the linear gradient is drawn. *Value type*: [`<length-percentage>`](https://developer.mozilla.org/en-US/docs/Web/CSS/length-percentage) | [`<number>`](https://developer.mozilla.org/en-US/docs/Web/CSS/number); *Default value*: `0%`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/linearGradient)",detail:"svg item attribute",options:null},{name:"spreadMethod",description:"This attribute indicates how the gradient behaves if it starts or ends inside the bounds of the shape containing the gradient. *Value type*: `pad`|`reflect`|`repeat` ; *Default value*: `pad`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/linearGradient)",detail:"svg item attribute",options:null}]},radialGradient:{name:"radialGradient",detail:"svg element",description:'The **`<radialGradient>`** element lets authors define radial gradients that can be applied to fill or stroke of graphical elements.\r\n\n<div class="notecard note" id="sect1">\r\n\r\n**Note:** Don\'t be confused with CSS [`radial-gradient()`](https://developer.mozilla.org/en-US/docs/Web/CSS/gradient/radial-gradient) as CSS gradients can only apply to HTML elements where SVG gradient can only apply to SVG elements.\r\n\n</div> [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/radialGradient)',elements:["desc","title","metadata","stop","animate","set","animateTransform"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"gradientUnits",description:"This attribute defines the coordinate system for attributes `cx`, `cy`, `r`, `fx`, `fy`, `fr` *Value type*: `userSpaceOnUse`|`objectBoundingBox` ; *Default value*: `objectBoundingBox`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/radialGradient)",detail:"svg item attribute",options:null},{name:"gradientTransform",description:"This attribute provides additional [transformation](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform) to the gradient coordinate system. *Value type*: **[<transform-list>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#transform-list)** ; *Default value*: *identity transform*; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/radialGradient)",detail:"svg item attribute",options:null},{name:"cx",description:"This attribute defines the x coordinate of the end circle of the radial gradient. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length) ; *Default value*: `50%`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/radialGradient)",detail:"svg item attribute",options:null},{name:"cy",description:"This attribute defines the y coordinate of the end circle of the radial gradient. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length) ; *Default value*: `50%`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/radialGradient)",detail:"svg item attribute",options:null},{name:"r",description:"This attribute defines the radius of the end circle of the radial gradient. The gradient will be drawn such that the 100% [`<stop>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/stop) is mapped to the perimeter of the end circle. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length) ; *Default value*: `50%`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/radialGradient)",detail:"svg item attribute",options:null},{name:"fx",description:"This attribute defines the x coordinate of the start circle of the radial gradient. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length) ; *Default value*: Same as `cx`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/radialGradient)",detail:"svg item attribute",options:null},{name:"fy",description:"This attribute defines the y coordinate of the start circle of the radial gradient. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length) ; *Default value*: Same as `cy`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/radialGradient)",detail:"svg item attribute",options:null},{name:"spreadMethod",description:"This attribute indicates how the gradient behaves if it starts or ends inside the bounds of the shape containing the gradient. *Value type*: `pad`|`reflect`|`repeat` ; *Default value*: `pad`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/radialGradient)",detail:"svg item attribute",options:null}]},stop:{name:"stop",detail:"svg element",description:"The SVG **`<stop>`** element defines a color and its position to use on a gradient. This element is always a child of a [`<linearGradient>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/linearGradient) or [`<radialGradient>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/radialGradient) element. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/stop)",elements:["animate","set","animateColor"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"stop-color",description:"This attribute defines the color of the gradient stop. It can be used as a CSS property. *Value type*: `currentcolor`|[**<color>**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color)|[**<icccolor>**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#icccolor); *Default value*: `black`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/stop)",detail:"svg item attribute",options:null},{name:"stop-opacity",description:"This attribute defines the opacity of the gradient stop. It can be used as a CSS property. *Value type*: [**<opacity>**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#opacity_value); *Default value*: `1`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/stop)",detail:"svg item attribute",options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"offset",description:"This attribute defines where the gradient stop is placed along the gradient vector. *Value type*: [**`<number>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage); *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/stop)",detail:"svg item attribute",options:null}]},pattern:{name:"pattern",detail:"svg element",description:'The **`<pattern>`** element defines a graphics object which can be redrawn at repeated x- and y-coordinate intervals ("tiled") to cover an area.\r\n\r\nThe `<pattern>` is referenced by the [`fill`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill) and/or [`stroke`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke) attributes on other [graphics elements](https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Basic_Shapes) to fill or stroke those elements with the referenced pattern. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/pattern)',elements:["desc","title","metadata","defs","path","text","rect","circle","ellipse","line","polyline","polygon","use","image","svg","g","view","switch","a","altGlyphDef","script","style","symbol","marker","clipPath","mask","linearGradient","radialGradient","pattern","filter","cursor","font","animate","set","animateMotion","animateColor","animateTransform","color-profile","font-face"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"viewBox",description:"This attribute defines the bound of the SVG viewport for the pattern fragment. *Value type*: **[<list-of-numbers>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#list-of-ts)** ; *Default value*: none; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/pattern)",detail:"svg item attribute",options:null},{name:"preserveAspectRatio",description:"This attribute defines how the SVG fragment must be deformed if it is embedded in a container with a different aspect ratio. *Value type*: (`none`| `xMinYMin`| `xMidYMin`| `xMaxYMin`| `xMinYMid`| `xMidYMid`| `xMaxYMid`| `xMinYMax`| `xMidYMax`| `xMaxYMax`) (`meet`|`slice`)? ; *Default value*: `xMidYMid meet`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/pattern)",detail:"svg item attribute",options:null},{name:"patternUnits",description:"This attribute defines the coordinate system for attributes `x`, `y`, `width`, and `height`. *Value type*: `userSpaceOnUse`|`objectBoundingBox`; *Default value*: `objectBoundingBox`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/pattern)",detail:"svg item attribute",options:null},{name:"patternTransform",description:"This attribute contains the definition of an optional additional transformation from the pattern coordinate system onto the target coordinate system. *Value type*: **[<transform-list>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#transform-list)**; *Default value*: *none*; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/pattern)",detail:"svg item attribute",options:null},{name:"x",description:"This attribute determines the x coordinate shift of the pattern tile. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/pattern)",detail:"svg item attribute",options:null},{name:"y",description:"This attribute determines the y coordinate shift of the pattern tile. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/pattern)",detail:"svg item attribute",options:null},{name:"width",description:"This attribute determines the width of the pattern tile. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/pattern)",detail:"svg item attribute",options:null},{name:"height",description:"This attribute determines the height of the pattern tile. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage); *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/pattern)",detail:"svg item attribute",options:null}]},clipPath:{name:"clipPath",detail:"svg element",description:"The **`<clipPath>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element defines a clipping path, to be used by the [`clip-path`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/clip-path) property.\r\n\r\nA clipping path restricts the region to which paint can be applied. Conceptually, parts of the drawing that lie outside of the region bounded by the clipping path are not drawn. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath)",elements:["desc","title","metadata","path","text","rect","circle","ellipse","line","polyline","polygon","use","animate","set","animateMotion","animateColor","animateTransform"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-opacity",description:"It specifies the opacity of the color or the content the current object is filled with. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"fill-rule",description:"It indicates how to determine what side of a path is inside a shape. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"stroke",description:"Defines the color used to paint the outline of the shape. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dasharray",description:"Defines the pattern of dashes and gaps used to paint the outline of the shape. *Value*: `none`|`<dasharray>`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-dashoffset",description:"Defines an offset on the rendering of the associated dash array. *Value*: [`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"stroke-linecap",description:null,detail:null,options:null},{name:"stroke-linejoin",description:null,detail:null,options:null},{name:"stroke-miterlimit",description:null,detail:null,options:null},{name:"stroke-opacity",description:null,detail:null,options:null},{name:"stroke-width",description:null,detail:null,options:null},{name:"font-family",description:"It indicates which font family will be used to render the text of the element. *Value*: see CSS [`font-family`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-family); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-size",description:"It specifies the size of the font. *Value*: see CSS [`font-size`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-size); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit"]},{name:"font-size-adjust",description:"It specifies that the font size should be chosen based on the height of lowercase letters rather than the height of capital letters. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"font-stretch",description:"It selects a normal, condensed, or expanded face from a font. *Value*: see CSS [`font-stretch`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-stretch); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["normal","wider","narrower","ultra-condensed","extra-condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded","inherit"]},{name:"font-style",description:"It specifies whether a font should be styled with a normal, italic, or oblique face from its [`font-family`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/font-family). *Value*: **`normal`**|`italic`|`oblique`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-variant",description:"It specifies whether a font should be used with some of their variation such as small caps or ligatures. *Value*: see CSS [`font-variant`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-variant); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-weight",description:"It specifies the weight (or boldness) of the font. *Value*: **`normal`**|`bold`|`lighter`|`bolder`|`100`|`200`|`300`|`400`|`500`|`600`|`700`|`800`|`900`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"clip-path",description:"It binds the element it is applied to with a given [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) element. *Value*: **`none`**|[`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","inherit","none"]},{name:"clip-rule",description:"It indicates how to determine what side of a path is inside a shape in order to know how a [`<clipPath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath) should clip its target. *Value*: **`nonzero`**|`evenodd`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["evenodd","nonzero","inherit"]},{name:"cursor",description:"It specifies the mouse cursor displayed when the mouse pointer is over an element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|[`<keywords>`](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#values)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","crosshair","default","pointer","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help","inherit"]},{name:"display",description:"It allows to control the rendering of graphical or container elements. *Value*: see CSS [`display`](https://developer.mozilla.org/en-US/docs/Web/CSS/display); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"filter",description:"It defines the filter effects defined by the [`<filter>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter) element that shall be applied to its element. *Value*: [`<FuncIRI>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#funciri)|**`none`**|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"image-rendering",description:"It provides a hint to the browser about how to make speed vs. quality tradeoffs as it performs image processing. *Value*: **`auto`**|`optimizeQuality`|`optimizeSpeed`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"mask",description:"It alters the visibility of an element by either masking or clipping the image at specific points. *Value*: see CSS [`mask`](https://developer.mozilla.org/en-US/docs/Web/CSS/mask); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["none","inherit"]},{name:"opacity",description:"It specifies the transparency of an object or a group of objects. *Value*: [<opacity-value>](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#opacity_value); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"pointer-events",description:"Defines whether or when an element may be the target of a mouse event. *Value*: `bounding-box`|**`visiblePainted`**|`visibleFill`|`visibleStroke`|`visible` |`painted`|`fill`|`stroke`|`all`|`none`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"shape-rendering",description:"Hints about what tradeoffs to make as the browser renders [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element or basic shapes. *Value*: **`auto`**|`optimizeSpeed`|`crispEdges`|`geometricPrecision` |`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"text-rendering",description:null,detail:null,options:null},{name:"visibility",description:null,detail:null,options:null},{name:"alignment-baseline",description:"It specifies how an object is aligned along the font baseline with respect to its parent. *Value*: **`auto`**|`baseline`|`before-edge`|`text-before-edge`|`middle`|`central`|`after-edge`|`text-after-edge`|`ideographic`|`alphabetic`|`hanging`|`mathematical`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"baseline-shift",description:"It allows repositioning of the dominant-baseline relative to the dominant-baseline of the parent text content element. *Value*: **`auto`**|`baseline`|`super`|`sub`|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage)|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["baseline","sub","super","inherit"]},{name:"direction",description:"It specifies the base writing direction of text. *Value*: **`ltr`**|`rtl`|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"dominant-baseline",description:"It defines the baseline used to align the box's text and inline-level contents. *Value*: `auto`|`text-bottom`|`alphabetic`|`ideographic`|`middle`|`central`| `mathematical`|`hanging`|`text-top`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"glyph-orientation-horizontal",description:"It controls glyph orientation when the inline-progression-direction is horizontal. *Value*: [`<angle>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#angle)|`inherit`; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit"]},{name:"glyph-orientation-vertical",description:"It controls glyph orientation when the inline-progression-direction is vertical. *Value*: **`auto`**|[`<angle>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#angle)|`inherit`; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit","auto"]},{name:"letter-spacing",description:"It controls spacing between text characters. *Value*: **`normal`**|[`<length>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|`inherit`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["auto","exact"]},{name:"text-anchor",description:null,detail:null,options:null},{name:"text-decoration",description:null,detail:null,options:["none","underline","overline","line-through"]},{name:"unicode-bidi",description:null,detail:null,options:null},{name:"word-spacing",description:null,detail:null,options:["auto","exact"]},{name:"writing-mode",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null},{name:"clipPathUnits",description:"Defines the coordinate system for the contents of the `<clipPath>` element. *Value type*: `userSpaceOnUse`|`objectBoundingBox` ; *Default value*: `userSpaceOnUse`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath)",detail:"svg item attribute",options:null}]},mask:{name:"mask",detail:"svg element",description:"The **`<mask>`** element defines an alpha mask for compositing the current object into the background. A mask is used/referenced using the [`mask`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/mask) property. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/mask)",elements:["desc","title","metadata","defs","path","text","rect","circle","ellipse","line","polyline","polygon","use","image","svg","g","view","switch","a","altGlyphDef","script","style","symbol","marker","clipPath","mask","linearGradient","radialGradient","pattern","filter","cursor","font","animate","set","animateMotion","animateColor","animateTransform","color-profile","font-face"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null},{name:"maskUnits",description:"This attribute defines the coordinate system for attributes [`x`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/x), [`y`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/y), [`width`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/width) and [`height`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/height) on the `<mask>`. *Value type*: `userSpaceOnUse`|`objectBoundingBox` ; *Default value*: `objectBoundingBox`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/mask)",detail:"svg item attribute",options:null},{name:"x",description:"This attribute defines the x-axis coordinate of the top-left corner of the masking area. *Value type*: [**<coordinate>**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#coordinate) ; *Default value*: `-10%`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/mask)",detail:"svg item attribute",options:null},{name:"y",description:"This attribute defines the y-axis coordinate of the top-left corner of the masking area. *Value type*: [**<coordinate>**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#coordinate) ; *Default value*: `-10%`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/mask)",detail:"svg item attribute",options:null},{name:"width",description:"This attribute defines the width of the masking area. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length) ; *Default value*: `120%`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/mask)",detail:"svg item attribute",options:null},{name:"height",description:"This attribute defines the height of the masking area. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length) ; *Default value*: `120%`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/mask)",detail:"svg item attribute",options:null}]},filter:{name:"filter",detail:"svg element",description:"The **`<filter>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element defines a custom filter effect by grouping atomic filter primitives. It is never rendered itself, but must be used by the [`filter`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/filter) attribute on SVG elements, or the [`filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/filter) [CSS](https://developer.mozilla.org/en-US/docs/Glossary/CSS) property for SVG/HTML elements. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter)",elements:["desc","title","metadata","feBlend","feFlood","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"filterUnits",description:null,detail:null,options:null},{name:"primitiveUnits",description:null,detail:null,options:null},{name:"x",description:null,detail:null,options:null},{name:"y",description:null,detail:null,options:null},{name:"width",description:null,detail:null,options:null},{name:"height",description:null,detail:null,options:null},{name:"filterRes",description:null,detail:null,options:null}]},feDistantLight:{name:"feDistantLight",detail:"svg element",description:"The **`<feDistantLight>`** filter primitive defines a distant light source that can be used within a lighting filter primitive: [`<feDiffuseLighting>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feDiffuseLighting) or [`<feSpecularLighting>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feSpecularLighting). [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feDistantLight)",elements:["animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"azimuth",description:null,detail:null,options:null},{name:"elevation",description:null,detail:null,options:null}]},fePointLight:{name:"fePointLight",detail:"svg element",description:"The **`<fePointLight>`** filter primitive defines a light source which allows to create a point light effect. It that can be used within a lighting filter primitive: [`<feDiffuseLighting>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feDiffuseLighting) or [`<feSpecularLighting>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feSpecularLighting). [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/fePointLight)",elements:["animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"x",description:null,detail:null,options:null},{name:"y",description:null,detail:null,options:null},{name:"z",description:null,detail:null,options:null}]},feSpotLight:{name:"feSpotLight",detail:"svg element",description:"The **`<feSpotLight>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) filter primitive defines a light source that can be used to create a spotlight effect. It is used within a lighting filter primitive: [`<feDiffuseLighting>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feDiffuseLighting) or [`<feSpecularLighting>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feSpecularLighting). [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feSpotLight)",elements:["animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"x",description:null,detail:null,options:null},{name:"y",description:null,detail:null,options:null},{name:"z",description:null,detail:null,options:null},{name:"pointsAtX",description:null,detail:null,options:null},{name:"pointsAtY",description:null,detail:null,options:null},{name:"pointsAtZ",description:null,detail:null,options:null},{name:"specularExponent",description:null,detail:null,options:null},{name:"limitingConeAngle",description:null,detail:null,options:null}]},feBlend:{name:"feBlend",detail:"svg element",description:"The **`<feBlend>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) filter primitive composes two objects together ruled by a certain blending mode. This is similar to what is known from image editing software when blending two layers. The mode is defined by the [`mode`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/mode) attribute. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feBlend)",elements:["animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"in",description:null,detail:null,options:null},{name:"in2",description:null,detail:null,options:null},{name:"mode",description:null,detail:null,options:null}]},feColorMatrix:{name:"feColorMatrix",detail:"svg element",description:"The **`<feColorMatrix>`** SVG filter element changes colors based on a transformation matrix. Every pixel's color value `[R,G,B,A]` is [matrix multiplied](https://en.wikipedia.org/wiki/Matrix_multiplication) by a 5 by 5 color matrix to create new color `[R',G',B',A']`.\r\n\n<div class=\"notecard note\" id=\"sect1\">\r\n\r\n**Note:** The prime symbol **`'`** is used in mathematics indicate the result of a transformation.\r\n\n</div>\n<div class=\"code-example\">\r\n\r\n| R' |     | r1 r2 r3 r4 r5 |   | R |\n| G' |     | g1 g2 g3 g4 g5 |   | G |\n| B' |  =  | b1 b2 b3 b4 b5 | * | B |\n| A' |     | a1 a2 a3 a4 a5 |   | A |\n| 1  |     | 0  0  0  0  1 |   | 1 |\r\n\r\n</div>\r\n\r\nIn simplified terms, below is how each color channel in the new pixel is calculated. The last row is ignored because its values are constant.\r\n\r\nR' = r1*R + r2*G + r3*B + r4*A + r5\nG' = g1*R + g2*G + g3*B + g4*A + g5\nB' = b1*R + b2*G + b3*B + b4*A + b5\nA' = a1*R + a2*G + a3*B + a4*A + a5\r\n\r\nTake the amount of red in the new pixel, or `R'`:\r\n\r\nIt is the sum of:\r\n\r\n*   `r1` times the old pixel's red `R`,\r\n\r\n*   `r2` times the old pixel's green `G`,\r\n\r\n*   `r3` times of the old pixel's blue `B`,\r\n\r\n*   `r4` times the old pixel's alpha `A`,\r\n\r\n*   plus a shift `r5`.\r\n\r\nThese specified amounts can be any real number, though the final **R'** will be clamped between 0 and 1. The same goes for **G'**, **B'**, and **A'**.\r\n\n<div class=\"code-example\">\r\n\r\nR'      =      r1 * R      +        r2 * G      +       r3 * B      +       r4 * A       +       r5\nNew red = [ r1 * old red ] + [ r2 * old green ] + [ r3 * old Blue ] + [ r4 * old Alpha ] + [ shift of r5 ]\r\n\r\n</div>\r\n\r\nIf, say, we want to make a completely black image redder, we can make the `r5` a positive real number *x*, boosting the redness on every pixel of the new image by *x*.\r\n\r\nAn **identity matrix** looks like this:\r\n\n<div class=\"code-example\">\r\n\r\n     R G B A W\nR' | 1 0 0 0 0 |\nG' | 0 1 0 0 0 |\nB' | 0 0 1 0 0 |\nA' | 0 0 0 1 0 |\r\n\r\n</div>\r\n\r\nIn it, every new value is exactly 1 times its old value, with nothing else added. It is recommended to start manipulating the matrix from here. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feColorMatrix)",elements:["animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"in",description:null,detail:null,options:null},{name:"type",description:null,detail:null,options:null},{name:"values",description:null,detail:null,options:null}]},feComponentTransfer:{name:"feComponentTransfer",detail:"svg element",description:"The **`<feComponentTransfer>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) filter primitive performs color-component-wise remapping of data for each pixel. It allows operations like brightness adjustment, contrast adjustment, color balance or thresholding.\r\n\r\nThe calculations are performed on non-premultiplied color values. The colors are modified by changing each channel (R, G, B, and A) to the result of what the children [`<feFuncR>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feFuncR), [`<feFuncB>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feFuncB), [`<feFuncG>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feFuncG), and [`<feFuncA>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feFuncA) return. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feComponentTransfer)",elements:["feFuncR","feFuncG","feFuncB","feFuncA"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"in",description:null,detail:null,options:null}]},feFuncR:{name:"feFuncR",detail:"svg element",description:"The **`<feFuncR>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) filter primitive defines the transfer function for the red component of the input graphic of its parent [`<feComponentTransfer>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feComponentTransfer) element. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feFuncR)",elements:["animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"type",description:null,detail:null,options:null},{name:"tableValues",description:null,detail:null,options:null},{name:"slope",description:null,detail:null,options:null},{name:"intercept",description:null,detail:null,options:null},{name:"amplitude",description:null,detail:null,options:null},{name:"exponent",description:null,detail:null,options:null},{name:"offset",description:null,detail:null,options:null},{name:"type2",description:null,detail:null,options:null}]},feFuncG:{name:"feFuncG",detail:"svg element",description:"The **`<feFuncG>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) filter primitive defines the transfer function for the green component of the input graphic of its parent [`<feComponentTransfer>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feComponentTransfer) element. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feFuncG)",elements:["animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"type",description:null,detail:null,options:null},{name:"tableValues",description:null,detail:null,options:null},{name:"slope",description:null,detail:null,options:null},{name:"intercept",description:null,detail:null,options:null},{name:"amplitude",description:null,detail:null,options:null},{name:"exponent",description:null,detail:null,options:null},{name:"offset",description:null,detail:null,options:null},{name:"type2",description:null,detail:null,options:null}]},feFuncB:{name:"feFuncB",detail:"svg element",description:"The **`<feFuncB>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) filter primitive defines the transfer function for the blue component of the input graphic of its parent [`<feComponentTransfer>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feComponentTransfer) element. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feFuncB)",elements:["animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"type",description:null,detail:null,options:null},{name:"tableValues",description:null,detail:null,options:null},{name:"slope",description:null,detail:null,options:null},{name:"intercept",description:null,detail:null,options:null},{name:"amplitude",description:null,detail:null,options:null},{name:"exponent",description:null,detail:null,options:null},{name:"offset",description:null,detail:null,options:null},{name:"type2",description:null,detail:null,options:null}]},feFuncA:{name:"feFuncA",detail:"svg element",description:"The **`<feFuncA>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) filter primitive defines the transfer function for the alpha component of the input graphic of its parent [`<feComponentTransfer>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feComponentTransfer) element. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feFuncA)",elements:["animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"type",description:null,detail:null,options:null},{name:"tableValues",description:null,detail:null,options:null},{name:"slope",description:null,detail:null,options:null},{name:"intercept",description:null,detail:null,options:null},{name:"amplitude",description:null,detail:null,options:null},{name:"exponent",description:null,detail:null,options:null},{name:"offset",description:null,detail:null,options:null},{name:"type3",description:null,detail:null,options:null}]},feComposite:{name:"feComposite",detail:"svg element",description:'The **`<feComposite>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) filter primitive performs the combination of two input images pixel-wise in image space using one of the Porter-Duff compositing operations: `over`, `in`, `atop`, `out`, `xor`, `lighter`, or `arithmetic`.\r\n\r\nThe table below shows each of these operations using an image of the MDN logo composited with a red circle:\r\n\n<figure class="table-container"><table class="no-markdown">\n  <tbody>\n    <tr>\n      <th>Operation</th>\n      <th>Description</th>\n    </tr>\n    <tr>\n      <td>\r\n\r\nover ![over operator](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feComposite/operation_over.png) \r\n\n      </td>\n      <td>\n        The source graphic defined by the [`in`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/in) attribute\n        (the MDN logo) is placed over the destination graphic defined by the\n        [`in2`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/in2) attribute (the circle).\r\n\r\n This is the *default operation*, which will be used if no operation or an unsupported operation is specified. \r\n\n      </td>\n    </tr>\n    <tr>\n      <td>\r\n\r\nin ![in operator](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feComposite/operation_in.png) \r\n\n      </td>\n      <td>\n        The parts of the source graphic defined by the `in` attribute\n        that overlap the destination graphic defined in the\n        `in2` attribute, replace the destination graphic.\n      </td>\n    </tr>\n    <tr>\n      <td>\r\n\r\nout ![out operator](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feComposite/operation_out.png) \r\n\n      </td>\n      <td>\n        The parts of the source graphic defined by the `in` attribute\n        that fall outside the destination graphic defined in the\n        `in2` attribute, are displayed.\n      </td>\n    </tr>\n    <tr>\n      <td>\r\n\r\natop ![atop operator](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feComposite/operation_atop.png) \r\n\n      </td>\n      <td>\n        The parts of the source graphic defined in the\n        `in` attribute, which overlap the destination graphic defined\n        in the `in2` attribute, replace the destination graphic. The\n        parts of the destination graphic that do not overlap with the source\n        graphic stay untouched.\n      </td>\n    </tr>\n    <tr>\n      <td>\r\n\r\nxor ![xor operator](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feComposite/operation_xor.png) \r\n\n      </td>\n      <td>\n        The non-overlapping regions of the source graphic defined in the\n        `in` attribute and the destination graphic defined in the\n        `in2` attribute are combined.\n      </td>\n    </tr>\n    <tr>\n      <td>\r\n\r\nlighter ![lighter operator](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feComposite/operation_lighter.png) \r\n\n      </td>\n      <td>\n        The sum of the source graphic defined in the `in` attribute\n        and the destination graphic defined in the `in2` attribute is\n        displayed.\n      </td>\n    </tr>\n    <tr>\n      <td>\r\n\r\n arithmetic ![arithmetic operator](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feComposite/operation_arithmetic.png) \r\n\n      </td>\n      <td>\r\n\r\n The `arithmetic` operation is useful for combining the output from the [`<feDiffuseLighting>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feDiffuseLighting) and [`<feSpecularLighting>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feSpecularLighting) filters with texture data. If the `arithmetic` operation is chosen, each result pixel is computed using the following formula: \r\n\n        <div class="code-example">\r\n\r\nresult = k1*i1*i2 + k2*i1 + k3*i2 + k4\r\n</div>\r\n\r\nwhere:\r\n\r\n*   `i1` and `i2` indicate the corresponding pixel\n            channel values of the input image, which map to\n            [`in`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/in) and [`in2`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/in2) respectively\r\n\r\n*   [`k1`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/k1), [`k2`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/k2),\n            [`k3`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/k3), and [`k4`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/k4) indicate the\n            values of the attributes with the same name.\r\n\r\n      </td>\n    </tr>\n  </tbody>\n</table></figure> [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feComposite)',elements:["animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"in",description:null,detail:null,options:null},{name:"in2",description:null,detail:null,options:null},{name:"operator",description:null,detail:null,options:null},{name:"k1",description:null,detail:null,options:null},{name:"k2",description:null,detail:null,options:null},{name:"k3",description:null,detail:null,options:null},{name:"k4",description:null,detail:null,options:null}]},feConvolveMatrix:{name:"feConvolveMatrix",detail:"svg element",description:"The **`<feConvolveMatrix>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) filter primitive applies a matrix convolution filter effect. A convolution combines pixels in the input image with neighboring pixels to produce a resulting image. A wide variety of imaging operations can be achieved through convolutions, including blurring, edge detection, sharpening, embossing and beveling.\r\n\r\nA matrix convolution is based on an n-by-m matrix (the convolution kernel) which describes how a given pixel value in the input image is combined with its neighboring pixel values to produce a resulting pixel value. Each result pixel is determined by applying the kernel matrix to the corresponding source pixel and its neighboring pixels. The basic convolution formula which is applied to each color value for a given pixel is:\r\n\r\n COLOR<sub>X,Y</sub> = ( SUM <sub>I=0 to [[orderY](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementOrderAttribute)-1]</sub> { SUM <sub>J=0 to [[orderX](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementOrderAttribute)-1]</sub> { SOURCE <sub>X-[targetX](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementTargetXAttribute)+J, Y-[targetY](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementTargetYAttribute)+I</sub> * [kernelMatrix](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementKernelMatrixAttribute)<sub>[orderX](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementOrderAttribute)-J-1, [orderY](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementOrderAttribute)-I-1</sub> } } ) / [divisor](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementDivisorAttribute) + [bias](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementBiasAttribute) * ALPHA<sub>X,Y</sub> \r\n\r\nwhere \"orderX\" and \"orderY\" represent the X and Y values for the ['order'](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementOrderAttribute) attribute, \"targetX\" represents the value of the ['targetX'](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementTargetXAttribute) attribute, \"targetY\" represents the value of the ['targetY'](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementTargetYAttribute) attribute, \"kernelMatrix\" represents the value of the ['kernelMatrix'](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementKernelMatrixAttribute) attribute, \"divisor\" represents the value of the ['divisor'](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementDivisorAttribute) attribute, and \"bias\" represents the value of the ['bias'](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementBiasAttribute) attribute.\r\n\r\nNote in the above formulas that the values in the kernel matrix are applied such that the kernel matrix is rotated 180 degrees relative to the source and destination images in order to match convolution theory as described in many computer graphics textbooks.\r\n\r\nTo illustrate, suppose you have an input image which is 5 pixels by 5 pixels, whose color values for one of the color channels are as follows:\r\n\n<div class=\"code-example\">\r\n\r\n0    20  40 235 235\n100 120 140 235 235\n200 220 240 235 235\n225 225 255 255 255\n225 225 255 255 255\r\n\r\n</div>\r\n\r\nand you define a 3-by-3 convolution kernel as follows:\r\n\n<div class=\"code-example\">\r\n\r\n1 2 3\n4 5 6\n7 8 9\r\n\r\n</div>\r\n\r\nLet's focus on the color value at the second row and second column of the image (source pixel value is 120). Assuming the simplest case (where the input image's pixel grid aligns perfectly with the kernel's pixel grid) and assuming default values for attributes ['divisor'](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementDivisorAttribute), ['targetX'](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementTargetXAttribute) and ['targetY'](https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementTargetYAttribute), then resulting color value will be:\r\n\n<div class=\"code-example\">\r\n\r\n(9*0   + 8*20  + 7*40 +\n 6*100 + 5*120 + 4*140 +\n 3*200 + 2*220 + 1*240) / (9+8+7+6+5+4+3+2+1)\r\n\r\n</div> [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feConvolveMatrix)",elements:["animate","set"],attributes:[{name:"in",description:null,detail:null,options:null},{name:"order",description:null,detail:null,options:null},{name:"kernelMatrix",description:null,detail:null,options:null},{name:"divisor",description:null,detail:null,options:null},{name:"bias",description:null,detail:null,options:null},{name:"targetX",description:null,detail:null,options:null},{name:"targetY",description:null,detail:null,options:null},{name:"edgeMode",description:null,detail:null,options:null},{name:"kernelUnitLength",description:null,detail:null,options:null},{name:"preserveAlpha",description:null,detail:null,options:null}]},feDiffuseLighting:{name:"feDiffuseLighting",detail:"svg element",description:"The **`<feDiffuseLighting>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) filter primitive lights an image using the alpha channel as a bump map. The resulting image, which is an RGBA opaque image, depends on the light color, light position and surface geometry of the input bump map.\r\n\r\nThe light map produced by this filter primitive can be combined with a texture image using the multiply term of the `arithmetic` operator of the [`<feComposite>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feComposite) filter primitive. Multiple light sources can be simulated by adding several of these light maps together before applying it to the texture image. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feDiffuseLighting)",elements:["feDistantLight","fePointLight","feSpotLight","animate","set","animateColor"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"lighting-color",description:"It defines the color of the light source for filter primitives elements [`<feDiffuseLighting>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feDiffuseLighting) and [`<feSpecularLighting>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feSpecularLighting). *Value*: [`<color>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"in",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"surfaceScale",description:null,detail:null,options:null},{name:"diffuseConstant",description:null,detail:null,options:null}]},feDisplacementMap:{name:"feDisplacementMap",detail:"svg element",description:"The **`<feDisplacementMap>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) filter primitive uses the pixel values from the image from [`in2`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/in2) to spatially displace the image from [`in`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/in).\r\n\r\nThe formula for the transformation looks like this:\r\n\r\n`P'(x,y)  P(x + scale * (XC(x,y) - 0.5), y + scale * (YC(x,y) - 0.5))`\r\n\r\nwhere `P(x,y)` is the input image, [`in`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/in), and `P'(x,y)` is the destination. `XC(x,y)` and `YC(x,y)` are the component values of the channel designated by [`xChannelSelector`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/xChannelSelector) and [`yChannelSelector`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/yChannelSelector). [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feDisplacementMap)",elements:["animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"in",description:null,detail:null,options:null},{name:"in2",description:null,detail:null,options:null},{name:"scale",description:null,detail:null,options:null},{name:"xChannelSelector",description:null,detail:null,options:null},{name:"yChannelSelector",description:null,detail:null,options:null}]},feFlood:{name:"feFlood",detail:"svg element",description:"The **`<feFlood>`** SVG filter primitive fills the filter subregion with the color and opacity defined by [`flood-color`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/flood-color) and [`flood-opacity`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/flood-opacity). [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feFlood)",elements:["animate","set","animateColor"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"flood-color",description:"It indicates what color to use to flood the current filter primitive subregion defined through the [`<feFlood>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feFlood) or [`<feDropShadow>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feDropShadow) element. *Value*: [`<color>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"flood-opacity",description:"It indicates the opacity value to use across the current filter primitive subregion defined through the [`<feFlood>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feFlood) or [`<feDropShadow>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feDropShadow) element. *Value*: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|[`<percentage>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"in",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null}]},feGaussianBlur:{name:"feGaussianBlur",detail:"svg element",description:"The **`<feGaussianBlur>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) filter primitive blurs the input image by the amount specified in [`stdDeviation`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stdDeviation), which defines the bell-curve. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feGaussianBlur)",elements:["animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"in",description:null,detail:null,options:null},{name:"stdDeviation",description:null,detail:null,options:null}]},feImage:{name:"feImage",detail:"svg element",description:"The **`<feImage>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) filter primitive fetches image data from an external source and provides the pixel data as output (meaning if the external source is an SVG image, it is rasterized.) [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feImage)",elements:["animate","set","animateTransform"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"x",description:null,detail:null,options:null},{name:"y",description:null,detail:null,options:null},{name:"width",description:null,detail:null,options:null},{name:"height",description:null,detail:null,options:null},{name:"result",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null}]},feMerge:{name:"feMerge",detail:"svg element",description:"The **`<feMerge>`** SVG element allows filter effects to be applied concurrently instead of sequentially. This is achieved by other filters storing their output via the [`result`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/result) attribute and then accessing it in a [`<feMergeNode>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feMergeNode) child. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feMerge)",elements:["feMergeNode"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"x",description:null,detail:null,options:null},{name:"y",description:null,detail:null,options:null},{name:"width",description:null,detail:null,options:null},{name:"height",description:null,detail:null,options:null},{name:"result",description:null,detail:null,options:null}]},feMergeNode:{name:"feMergeNode",detail:"svg element",description:"The `feMergeNode` takes the result of another filter to be processed by its parent [`<feMerge>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feMerge). [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feMergeNode)",elements:["animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"in",description:null,detail:null,options:null}]},feMorphology:{name:"feMorphology",detail:"svg element",description:"The **`<feMorphology>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) filter primitive is used to erode or dilate the input image. Its usefulness lies especially in fattening or thinning effects. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feMorphology)",elements:["animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"in",description:null,detail:null,options:null},{name:"operator",description:null,detail:null,options:null},{name:"radius",description:null,detail:null,options:null}]},feOffset:{name:"feOffset",detail:"svg element",description:"The **`<feOffset>`** SVG filter primitive allows to offset the input image. The input image as a whole is offset by the values specified in the [`dx`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/dx) and [`dy`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/dy) attributes. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feOffset)",elements:["animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"in",description:null,detail:null,options:null},{name:"dx",description:null,detail:null,options:null},{name:"dy",description:null,detail:null,options:null}]},feSpecularLighting:{name:"feSpecularLighting",detail:"svg element",description:"The **`<feSpecularLighting>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) filter primitive lights a source graphic using the alpha channel as a bump map. The resulting image is an RGBA image based on the light color. The lighting calculation follows the standard specular component of [the Phong lighting model](https://en.wikipedia.org/wiki/Phong_reflection_model). The resulting image depends on the light color, light position and surface geometry of the input bump map. The result of the lighting calculation is added. The filter primitive assumes that the viewer is at infinity in the z direction.\r\n\r\nThis filter primitive produces an image which contains the specular reflection part of the lighting calculation. Such a map is intended to be combined with a texture using the `add` term of the arithmetic [`<feComposite>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feComposite) method. Multiple light sources can be simulated by adding several of these light maps before applying it to the texture image. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feSpecularLighting)",elements:["feDistantLight","fePointLight","feSpotLight","animate","set","animateColor"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"lighting-color",description:"It defines the color of the light source for filter primitives elements [`<feDiffuseLighting>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feDiffuseLighting) and [`<feSpecularLighting>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feSpecularLighting). *Value*: [`<color>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"in",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"surfaceScale",description:null,detail:null,options:null},{name:"specularConstant",description:null,detail:null,options:null},{name:"specularExponent",description:null,detail:null,options:null}]},feTile:{name:"feTile",detail:"svg element",description:"The **`<feTile>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) filter primitive allows to fill a target rectangle with a repeated, tiled pattern of an input image. The effect is similar to the one of a [`<pattern>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/pattern). [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feTile)",elements:["animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"in",description:null,detail:null,options:null}]},feTurbulence:{name:"feTurbulence",detail:"svg element",description:"The **`<feTurbulence>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) filter primitive creates an image using the [Perlin turbulence function](https://en.wikipedia.org/wiki/Perlin_noise). It allows the synthesis of artificial textures like clouds or marble. The resulting image will fill the entire filter primitive subregion. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feTurbulence)",elements:["animate","set"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"x",description:null,detail:null,options:null},{name:"y",description:null,detail:null,options:null},{name:"width",description:null,detail:null,options:null},{name:"height",description:null,detail:null,options:null},{name:"result",description:null,detail:null,options:null},{name:"baseFrequency",description:null,detail:null,options:null},{name:"numOctaves",description:null,detail:null,options:null},{name:"seed",description:null,detail:null,options:null},{name:"stitchTiles",description:null,detail:null,options:null},{name:"type",description:null,detail:null,options:null}]},cursor:{name:"cursor",detail:"svg element",description:'<div class="notecard deprecated" id="sect1">\r\n\r\n**Deprecated:** This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the [compatibility table](#browser_compatibility) at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.\r\n</div>\n<div class="notecard note" id="sect2">\r\n\r\n**Note:** The CSS [`cursor`](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor) property should be used instead of this element.\r\n\n</div>\r\n\r\nThe **`<cursor>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element can be used to define a platform-independent custom cursor. A recommended approach for defining a platform-independent custom cursor is to create a PNG image and define a `cursor` element that references the PNG image and identifies the exact position within the image which is the pointer position (i.e., the hot spot).\r\n\r\nThe PNG format is recommended because it supports the ability to define a transparency mask via an alpha channel. If a different image format is used, this format should support the definition of a transparency mask (two options: provide an explicit alpha channel or use a particular pixel color to indicate transparency). If the transparency mask can be determined, the mask defines the shape of the cursor; otherwise, the cursor is an opaque rectangle. Typically, the other pixel information (e.g., the R, G and B channels) defines the colors for those parts of the cursor which are not masked out. Note that cursors usually contain at least two colors so that the cursor can be visible over most backgrounds. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/cursor)',elements:["desc","title","metadata"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"x",description:null,detail:null,options:null},{name:"y",description:null,detail:null,options:null}]},a:{name:"a",detail:"svg element",description:"The **<a>** SVG element creates a hyperlink to other web pages, files, locations in the same page, email addresses, or any other URL. It is very similar to HTML's [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a) element.\r\n\r\nSVG's `<a>` element is a container, which means you can create a link around text (like in HTML) but also around any shape. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/a)",elements:["desc","title","metadata","defs","path","text","rect","circle","ellipse","line","polyline","polygon","use","image","svg","g","view","switch","a","altGlyphDef","script","style","symbol","marker","clipPath","mask","linearGradient","radialGradient","pattern","filter","cursor","font","animate","set","animateMotion","animateColor","animateTransform","color-profile","font-face"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null},{name:"target",description:"The [URL](https://developer.mozilla.org/en-US/docs/Glossary/URL) or URL fragment the hyperlink points to. *Value type*: **[`<URL>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#url)** ; *Default value*: *none*; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/a)",detail:"svg item attribute",options:null}]},view:{name:"view",detail:"svg element",description:"A view is a defined way to view the image, like a zoom level or a detail view. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/view)",elements:["desc","title","metadata"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"viewBox",description:null,detail:null,options:null},{name:"preserveAspectRatio",description:null,detail:null,options:null},{name:"zoomAndPan",description:null,detail:null,options:null},{name:"viewTarget",description:null,detail:null,options:null}]},script:{name:"script",detail:"svg element",description:'The SVG `script` element allows to add scripts to an SVG document.\r\n\n<div class="notecard note" id="sect1">\r\n\r\n**Note:** While SVG\'s `script` element is equivalent to the HTML [`<script>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script) element, it has some discrepancies, like it uses the [`href`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/href) attribute instead of [`src`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script#attr-src) and it doesn\'t support ECMAScript modules so far (See browser compatibility below for details)\r\n\n</div> [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/script)',elements:[],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"type",description:"The [URL](https://developer.mozilla.org/en-US/docs/Glossary/URL) to the script to load. *Value type*: **[`<URL>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#url)** ; *Default value*: *none*; *Animatable*: **no** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/script)",detail:"svg item attribute",options:null}]},animate:{name:"animate",detail:"svg element",description:"The SVG **`<animate>`** element provides a way to animate an attribute of an element over time. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/animate)",elements:["desc","title","metadata"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"onbegin",description:null,detail:null,options:null},{name:"onend",description:null,detail:null,options:null},{name:"onrepeat",description:null,detail:null,options:null},{name:"begin",description:null,detail:null,options:null},{name:"dur",description:null,detail:null,options:null},{name:"end",description:null,detail:null,options:null},{name:"min",description:null,detail:null,options:null},{name:"max",description:null,detail:null,options:null},{name:"restart",description:null,detail:null,options:null},{name:"repeatCount",description:null,detail:null,options:null},{name:"repeatDur",description:null,detail:null,options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"calcMode",description:null,detail:null,options:null},{name:"values",description:null,detail:null,options:null},{name:"keyTimes",description:null,detail:null,options:null},{name:"keySplines",description:null,detail:null,options:null},{name:"from",description:null,detail:null,options:null},{name:"to",description:null,detail:null,options:null},{name:"by",description:null,detail:null,options:null},{name:"additive",description:null,detail:null,options:null},{name:"accumulate",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null}]},set:{name:"set",detail:"svg element",description:'The SVG **`<set>`** element provides a simple means of just setting the value of an attribute for a specified duration.\r\n\r\nIt supports all attribute types, including those that cannot reasonably be interpolated, such as string and boolean values. For attributes that can be reasonably be interpolated, the [`<animate>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/animate) is usually preferred.\r\n\n<div class="notecard note" id="sect1">\r\n\r\n**Note:** The `<set>` element is non-additive. The [`additive`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/additive) and [`accumulate`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/accumulate) attributes are not allowed, and will be ignored if specified.\r\n\n</div> [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/set)',elements:["desc","title","metadata"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"onbegin",description:null,detail:null,options:null},{name:"onend",description:null,detail:null,options:null},{name:"onrepeat",description:null,detail:null,options:null},{name:"begin",description:null,detail:null,options:null},{name:"dur",description:null,detail:null,options:null},{name:"end",description:null,detail:null,options:null},{name:"min",description:null,detail:null,options:null},{name:"max",description:null,detail:null,options:null},{name:"restart",description:null,detail:null,options:null},{name:"repeatCount",description:null,detail:null,options:null},{name:"repeatDur",description:null,detail:null,options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"to",description:"This attribute defines the value to be applied to the target attribute for the duration of the animation. The value must match the requirements of the target attribute. *Value type*: [**<anything>**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#anything); *Default value*: none; *Animatable*: **no** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/set)",detail:"svg item attribute",options:null}]},animateMotion:{name:"animateMotion",detail:"svg element",description:'The SVG **`<animateMotion>`** element provides a way to define how an element moves along a motion path.\r\n\n<div class="notecard note" id="sect1">\r\n\r\n**Note:** To reuse an existing path, it will be necessary to use an [`<mpath>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/mpath) element inside the `<animateMotion>` element instead of the [`path`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/path) attribute.\r\n\n</div> [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/animateMotion)',elements:["desc","title","metadata","mpath"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"onbegin",description:null,detail:null,options:null},{name:"onend",description:null,detail:null,options:null},{name:"onrepeat",description:null,detail:null,options:null},{name:"begin",description:null,detail:null,options:null},{name:"dur",description:null,detail:null,options:null},{name:"end",description:null,detail:null,options:null},{name:"min",description:null,detail:null,options:null},{name:"max",description:null,detail:null,options:null},{name:"restart",description:null,detail:null,options:null},{name:"repeatCount",description:null,detail:null,options:null},{name:"repeatDur",description:null,detail:null,options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"calcMode",description:null,detail:null,options:null},{name:"values",description:null,detail:null,options:null},{name:"keyTimes",description:null,detail:null,options:null},{name:"keySplines",description:null,detail:null,options:null},{name:"from",description:null,detail:null,options:null},{name:"to",description:null,detail:null,options:null},{name:"by",description:null,detail:null,options:null},{name:"additive",description:null,detail:null,options:null},{name:"accumulate",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"path",description:"This attribute defines the path of the motion, using the same syntax as the [`d`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d) attribute. *Value type*: **`<string>`**; *Default value*: none; *Animatable*: **no** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/animateMotion)",detail:"svg item attribute",options:null},{name:"keyPoints",description:"This attribute indicate, in the range [0,1], how far is the object along the path for each [`keyTimes`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/keyTimes) associated values. *Value type*: [**`<number>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)*; *Default value*: none; *Animatable*: **no** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/animateMotion)",detail:"svg item attribute",options:null},{name:"rotate",description:"This attribute defines a rotation applied to the element animated along a path, usually to make it pointing in the direction of the animation. *Value type*: [**`<number>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number)|`auto`|`auto-reverse`; *Default value*: `0`; *Animatable*: **no** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/animateMotion)",detail:"svg item attribute",options:null},{name:"origin",description:null,detail:null,options:null}]},mpath:{name:"mpath",detail:"svg element",description:"The **`<mpath>`** sub-element for the [`<animateMotion>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/animateMotion) element provides the ability to reference an external [`<path>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path) element as the definition of a motion path. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/mpath)",elements:["desc","title","metadata"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null}]},animateColor:{name:"animateColor",detail:"svg element",description:"The SVG **`<animate>`** element provides a way to animate an attribute of an element over time. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/animateColor)",elements:["desc","title","metadata"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"onbegin",description:null,detail:null,options:null},{name:"onend",description:null,detail:null,options:null},{name:"onrepeat",description:null,detail:null,options:null},{name:"begin",description:null,detail:null,options:null},{name:"dur",description:null,detail:null,options:null},{name:"end",description:null,detail:null,options:null},{name:"min",description:null,detail:null,options:null},{name:"max",description:null,detail:null,options:null},{name:"restart",description:null,detail:null,options:null},{name:"repeatCount",description:null,detail:null,options:null},{name:"repeatDur",description:null,detail:null,options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"calcMode",description:null,detail:null,options:null},{name:"values",description:null,detail:null,options:null},{name:"keyTimes",description:null,detail:null,options:null},{name:"keySplines",description:null,detail:null,options:null},{name:"from",description:null,detail:null,options:null},{name:"to",description:null,detail:null,options:null},{name:"by",description:null,detail:null,options:null},{name:"additive",description:null,detail:null,options:null},{name:"accumulate",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null}]},animateTransform:{name:"animateTransform",detail:"svg element",description:"The `animateTransform` element animates a transformation attribute on its target element, thereby allowing animations to control translation, scaling, rotation, and/or skewing. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/animateTransform)",elements:["desc","title","metadata"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"onbegin",description:null,detail:null,options:null},{name:"onend",description:null,detail:null,options:null},{name:"onrepeat",description:null,detail:null,options:null},{name:"begin",description:null,detail:null,options:null},{name:"dur",description:null,detail:null,options:null},{name:"end",description:null,detail:null,options:null},{name:"min",description:null,detail:null,options:null},{name:"max",description:null,detail:null,options:null},{name:"restart",description:null,detail:null,options:null},{name:"repeatCount",description:null,detail:null,options:null},{name:"repeatDur",description:null,detail:null,options:null},{name:"fill",description:"It defines the color of the inside of the graphical element it applies to. *Value*: [`<paint>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"calcMode",description:null,detail:null,options:null},{name:"values",description:null,detail:null,options:null},{name:"keyTimes",description:null,detail:null,options:null},{name:"keySplines",description:null,detail:null,options:null},{name:"from",description:null,detail:null,options:null},{name:"to",description:null,detail:null,options:null},{name:"by",description:null,detail:null,options:null},{name:"additive",description:null,detail:null,options:null},{name:"accumulate",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"type",description:null,detail:null,options:null}]},font:{name:"font",detail:"svg element",description:'<div class="notecard deprecated" id="sect1">\r\n\r\n**Deprecated:** This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the [compatibility table](#browser_compatibility) at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.\r\n</div>\r\n\r\nThe **`<font>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element defines a font to be used for text layout. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/font)',elements:["desc","title","metadata","font-face","missing-glyph","glyph","hkern","vkern"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"horiz-origin-x",description:null,detail:null,options:null},{name:"horiz-origin-y",description:null,detail:null,options:null},{name:"horiz-adv-x",description:null,detail:null,options:null},{name:"vert-origin-x",description:null,detail:null,options:null},{name:"vert-origin-y",description:null,detail:null,options:null},{name:"vert-adv-y",description:null,detail:null,options:null}]},glyph:{name:"glyph",detail:"svg element",description:'<div class="notecard deprecated" id="sect1">\r\n\r\n**Deprecated:** This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the [compatibility table](#browser_compatibility) at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.\r\n</div>\r\n\r\nA **`<glyph>`** defines a single glyph in an SVG font. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/glyph)',elements:["desc","title","metadata","defs","path","text","rect","circle","ellipse","line","polyline","polygon","use","image","svg","g","view","switch","a","altGlyphDef","script","style","symbol","marker","clipPath","mask","linearGradient","radialGradient","pattern","filter","cursor","font","animate","set","animateMotion","animateColor","animateTransform","color-profile","font-face"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"unicode",description:null,detail:null,options:null},{name:"glyph-name",description:null,detail:null,options:null},{name:"d",description:"It defines a path to be drawn. *Value*: [path()](https://developer.mozilla.org/en-US/docs/Web/CSS/path)|`none` [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"vert-text-orient",description:null,detail:null,options:null},{name:"arabic",description:null,detail:null,options:null},{name:"han",description:null,detail:null,options:null},{name:"horiz-adv-x",description:null,detail:null,options:null},{name:"vert-adv-y",description:null,detail:null,options:null}]},"missing-glyph":{name:"missing-glyph",detail:"svg element",description:'<div class="notecard deprecated" id="sect1">\r\n\r\n**Deprecated:** This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the [compatibility table](#browser_compatibility) at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.\r\n</div>\r\n\r\nThe **`<missing-glyph>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element\'s content is rendered, if for a given character the font doesn\'t define an appropriate [`<glyph>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/glyph). [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/missing-glyph)',elements:["desc","title","metadata","defs","path","text","rect","circle","ellipse","line","polyline","polygon","use","image","svg","g","view","switch","a","altGlyphDef","script","style","symbol","marker","clipPath","mask","linearGradient","radialGradient","pattern","filter","cursor","font","animate","set","animateMotion","animateColor","animateTransform","color-profile","font-face"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"d",description:"It defines a path to be drawn. *Value*: [path()](https://developer.mozilla.org/en-US/docs/Web/CSS/path)|`none` [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"horiz-adv-x",description:null,detail:null,options:null},{name:"vert-adv-y",description:null,detail:null,options:null}]},hkern:{name:"hkern",detail:"svg element",description:'<div class="notecard deprecated" id="sect1">\r\n\r\n**Deprecated:** This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the [compatibility table](#browser_compatibility) at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.\r\n</div>\r\n\r\nThe **`<hkern>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element allows to fine-tweak the horizontal distance between two glyphs. This process is known as [kerning](https://en.wikipedia.org/wiki/Kerning). [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/hkern)',elements:[],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"u1",description:null,detail:null,options:null},{name:"g1",description:null,detail:null,options:null},{name:"u2",description:null,detail:null,options:null},{name:"g2",description:null,detail:null,options:null},{name:"k",description:null,detail:null,options:null}]},vkern:{name:"vkern",detail:"svg element",description:'<div class="notecard deprecated" id="sect1">\r\n\r\n**Deprecated:** This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the [compatibility table](#browser_compatibility) at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.\r\n</div>\r\n\r\nThe **`<vkern>`** SVG element allows to fine-tweak the vertical distance between two glyphs in top-to-bottom fonts. This process is known as [kerning](https://en.wikipedia.org/wiki/Kerning). [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/vkern)',elements:[],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"u1",description:null,detail:null,options:null},{name:"g1",description:null,detail:null,options:null},{name:"u2",description:null,detail:null,options:null},{name:"g2",description:null,detail:null,options:null},{name:"k",description:null,detail:null,options:null}]},"font-face":{name:"font-face",detail:"svg element",description:'<div class="notecard deprecated" id="sect1">\r\n\r\n**Deprecated:** This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the [compatibility table](#browser_compatibility) at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.\r\n</div>\r\n\r\nThe **`<font-face>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element corresponds to the CSS [`@font-face`](https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face) rule. It defines a font\'s outer properties. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/font-face)',elements:["desc","title","metadata","font-face-src","definition-src"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"font-family",description:"It indicates which font family will be used to render the text of the element. *Value*: see CSS [`font-family`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-family); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-style",description:"It specifies whether a font should be styled with a normal, italic, or oblique face from its [`font-family`](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/font-family). *Value*: **`normal`**|`italic`|`oblique`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-variant",description:"It specifies whether a font should be used with some of their variation such as small caps or ligatures. *Value*: see CSS [`font-variant`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-variant); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-weight",description:"It specifies the weight (or boldness) of the font. *Value*: **`normal`**|`bold`|`lighter`|`bolder`|`100`|`200`|`300`|`400`|`500`|`600`|`700`|`800`|`900`; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-stretch",description:"It selects a normal, condensed, or expanded face from a font. *Value*: see CSS [`font-stretch`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-stretch); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:null},{name:"font-size",description:"It specifies the size of the font. *Value*: see CSS [`font-size`](https://developer.mozilla.org/en-US/docs/Web/CSS/font-size); *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation)",detail:"svg presentation attribute",options:["inherit"]},{name:"unicode-range",description:null,detail:null,options:null},{name:"units-per-em",description:null,detail:null,options:null},{name:"panose-1",description:null,detail:null,options:null},{name:"stemv",description:null,detail:null,options:null},{name:"stemh",description:null,detail:null,options:null},{name:"slope",description:null,detail:null,options:null},{name:"cap-height",description:null,detail:null,options:null},{name:"x-height",description:null,detail:null,options:null},{name:"accent-height",description:null,detail:null,options:null},{name:"ascent",description:null,detail:null,options:null},{name:"descent",description:null,detail:null,options:null},{name:"widths",description:null,detail:null,options:null},{name:"bbox",description:null,detail:null,options:null},{name:"ideographic",description:null,detail:null,options:null},{name:"baseline",description:null,detail:null,options:null},{name:"centerline",description:null,detail:null,options:null},{name:"mathline",description:null,detail:null,options:null},{name:"hanging",description:null,detail:null,options:null},{name:"topline",description:null,detail:null,options:null},{name:"underline-position",description:null,detail:null,options:null},{name:"underline-thickness",description:null,detail:null,options:null},{name:"strikethrough-position",description:null,detail:null,options:null},{name:"strikethrough-thickness",description:null,detail:null,options:null},{name:"overline-position",description:null,detail:null,options:null},{name:"overline-thickness",description:null,detail:null,options:null}]},"font-face-src":{name:"font-face-src",detail:"svg element",description:'<div class="notecard deprecated" id="sect1">\r\n\r\n**Deprecated:** This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the [compatibility table](#browser_compatibility) at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.\r\n</div>\r\n\r\nThe **`<font-face-src>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element corresponds to the [`src`](https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/src) descriptor in CSS [`@font-face`](https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face) rules. It serves as container for [`<font-face-name>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/font-face-name), pointing to locally installed copies of this font, and [`<font-face-uri>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/font-face-uri), utilizing remotely defined fonts. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/font-face-src)',elements:["font-face-uri","font-face-name"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null}]},"font-face-uri":{name:"font-face-uri",detail:"svg element",description:'<div class="notecard deprecated" id="sect1">\r\n\r\n**Deprecated:** This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the [compatibility table](#browser_compatibility) at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.\r\n</div>\r\n\r\nThe **`<font-face-uri>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element points to a remote definition of the current font. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/font-face-uri)',elements:["font-face-format"],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null}]},"font-face-format":{name:"font-face-format",detail:"svg element",description:'<div class="notecard deprecated" id="sect1">\r\n\r\n**Deprecated:** This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the [compatibility table](#browser_compatibility) at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.\r\n</div>\r\n\r\nThe **`<font-face-format>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element describes the type of font referenced by its parent [`<font-face-uri>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/font-face-uri). [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/font-face-format)',elements:[],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"string",description:null,detail:null,options:null}]},"font-face-name":{name:"font-face-name",detail:"svg element",description:'<div class="notecard deprecated" id="sect1">\r\n\r\n**Deprecated:** This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the [compatibility table](#browser_compatibility) at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.\r\n</div>\r\n\r\nThe **`<font-face-name>`** element points to a locally installed copy of this font, identified by its name. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/font-face-name)',elements:[],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"name",description:null,detail:null,options:null}]},"definition-src":{name:"definition-src",detail:null,description:null,elements:[],attributes:[{name:"id",description:null,detail:null,options:null}]},metadata:{name:"metadata",detail:"svg element",description:"The **`<metadata>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element adds metadata to SVG content. Metadata is structured information about data. The contents of `<metadata>` should be elements from other [XML](https://developer.mozilla.org/en-US/docs/Glossary/XML) [namespaces](https://developer.mozilla.org/en-US/docs/Glossary/Namespace) such as [RDF](https://developer.mozilla.org/en-US/docs/Glossary/RDF), [FOAF](https://en.wikipedia.org/wiki/FOAF_(ontology)), etc. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/metadata)",elements:[],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null}]},foreignObject:{name:"foreignObject",detail:"svg element",description:"The **`<foreignObject>`** [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) element includes elements from a different XML namespace. In the context of a browser, it is most likely (X)HTML. [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/foreignObject)",elements:[],attributes:[{name:"id",description:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS). *Value*: Any valid ID string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Core)",detail:"svg core attribute",options:null},{name:"requiredFeatures",description:null,detail:null,options:null},{name:"requiredExtensions",description:null,detail:null,options:null},{name:"systemLanguage",description:null,detail:null,options:null},{name:"onfocusin",description:null,detail:null,options:null},{name:"onfocusout",description:null,detail:null,options:null},{name:"onactivate",description:null,detail:null,options:null},{name:"onclick",description:null,detail:null,options:null},{name:"onmousedown",description:null,detail:null,options:null},{name:"onmouseup",description:null,detail:null,options:null},{name:"onmouseover",description:null,detail:null,options:null},{name:"onmousemove",description:null,detail:null,options:null},{name:"onmouseout",description:null,detail:null,options:null},{name:"onload",description:null,detail:null,options:null},{name:"externalResourcesRequired",description:null,detail:null,options:null},{name:"class",description:"Assigns a class name or set of class names to an element. It functions identically to the [`class`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#class) attribute in HTML. *Value*: Any valid ID string; *Animatable*: **Yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"style",description:"It specifies style information for its element. It functions identically to the [`style`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#style) attribute in HTML. *Value*: Any valid style string; *Animatable*: **No** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Styling)",detail:"svg styling attribute",options:null},{name:"transform",description:null,detail:null,options:null},{name:"x",description:"The x coordinate of the foreignObject. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/foreignObject)",detail:"svg item attribute",options:null},{name:"y",description:"The y coordinate of the foreignObject. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `0`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/foreignObject)",detail:"svg item attribute",options:null},{name:"width",description:"The width of the foreignObject. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `auto`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/foreignObject)",detail:"svg item attribute",options:null},{name:"height",description:"The height of the foreignObject. *Value type*: [**`<length>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length)|[**`<percentage>`**](https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage) ; *Default value*: `auto`; *Animatable*: **yes** [more...](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/foreignObject)",detail:"svg item attribute",options:null},{name:"content",description:null,detail:null,options:null}]}};function vr(e){var t=['"',"'","\x3c!--","<![CDATA["],i=!0;e=e.replace(/"([^"\\]*(\\.[^"\\]*)*)"|\'([^\'\\]*(\\.[^\'\\]*)*)\'|<!--([\s\S])*?-->|<!\[CDATA\[(.*?)\]\]>/g,"");for(var n=0;n<t.length;n++){var o=e.indexOf(t[n]);o>-1&&(e=e.substring(0,o),i=!1)}return{isCompletionAvailable:i,clearedText:e=e.replace(/<\/*[a-zA-Z-]+$/,"")}}function _r(e){var t=e.match(/<\/*(?=\S*)([a-zA-Z-]+)/g);if(t)for(var i=[],n=t.length-1;n>=0;n--)if(0===t[n].indexOf("</"))i.push(t[n].substring("</".length));else{var o=e.lastIndexOf(t[n]),s=t[n].substring("<".length);if(-1===e.indexOf("/>",o)){if(!i.length||i[i.length-1]!==s)return{tagName:s,isAttributeSearch:(e=e.substring(o)).indexOf("<")>e.indexOf(">")};i.splice(i.length-1,1)}e=e.substring(0,o)}}function br(e,t,i){if((t=t||"1")&&"unbounded"===t)return!0;for(var n=0,o=0;o<i.length;o++)i[o]===e&&n++;return 0===n||parseInt(t)>n}const Cr=function(e){const t=[];let i=0;for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=63&o|128):55296==(64512&o)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n)),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=63&o|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=63&o|128)}return t},yr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){const o=e[t],s=t+1<e.length,r=s?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,d=o>>2,c=(3&o)<<4|r>>4;let h=(15&r)<<2|l>>6,u=63&l;a||(u=64,s||(h=64)),n.push(i[d],i[c],i[h],i[u])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Cr(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let i=0,n=0;for(;i<e.length;){const o=e[i++];if(o<128)t[n++]=String.fromCharCode(o);else if(o>191&&o<224){const s=e[i++];t[n++]=String.fromCharCode((31&o)<<6|63&s)}else if(o>239&&o<365){const s=((7&o)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else{const s=e[i++],r=e[i++];t[n++]=String.fromCharCode((15&o)<<12|(63&s)<<6|63&r)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){const o=i[e.charAt(t++)],s=t<e.length?i[e.charAt(t)]:0;++t;const r=t<e.length?i[e.charAt(t)]:64;++t;const a=t<e.length?i[e.charAt(t)]:64;if(++t,null==o||null==s||null==r||null==a)throw Error();const l=o<<2|s>>4;if(n.push(l),64!==r){const e=s<<4&240|r>>2;if(n.push(e),64!==a){const e=r<<6&192|a;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},wr=function(e){return function(e){const t=Cr(e);return yr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Sr=function(e){try{return yr.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const i in t)t.hasOwnProperty(i)&&"__proto__"!==i&&(e[i]=kr(e[i],t[i]));return e}function Lr(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xr(){try{return"[object process]"===Object.prototype.toString.call(o.g.process)}catch(e){return!1}}function Ir(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function Dr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Nr(){const e=Lr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Er(){return"object"==typeof indexedDB}function Ar(){return new Promise(((e,t)=>{try{let i=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(n),e(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}function Tr(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const Mr=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==o.g)return o.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&Sr(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}};class Rr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,i))}}}class Pr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Or.prototype.create)}}class Or{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},n=`${this.service}/${e}`,o=this.errors[e],s=o?function(e,t){return e.replace(Vr,((e,i)=>{const n=t[i];return null!=n?String(n):`<${i}?>`}))}(o,i):"Error",r=`${this.serviceName}: ${s} (${n}).`;return new Pr(n,r,i)}}const Vr=/\{\$([^}]+)}/g;function Fr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Wr(e,t){if(e===t)return!0;const i=Object.keys(e),n=Object.keys(t);for(const o of i){if(!n.includes(o))return!1;const i=e[o],s=t[o];if(zr(i)&&zr(s)){if(!Wr(i,s))return!1}else if(i!==s)return!1}for(const e of n)if(!i.includes(e))return!1;return!0}function zr(e){return null!==e&&"object"==typeof e}function Br(e){const t=[];for(const[i,n]of Object.entries(e))Array.isArray(n)?n.forEach((e=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Ur(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[i,n]=e.split("=");t[decodeURIComponent(i)]=decodeURIComponent(n)}})),t}function Hr(e){const t=e.indexOf("?");if(!t)return"";const i=e.indexOf("#",t);return e.substring(t,i>0?i:void 0)}function Gr(e,t){const i=new jr(e,t);return i.subscribe.bind(i)}class jr{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,i){let n;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");n=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:i},void 0===n.next&&(n.next=Kr),void 0===n.error&&(n.error=Kr),void 0===n.complete&&(n.complete=Kr);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}})),this.observers.push(n),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Kr(){}function $r(e,t=1e3,i=2){const n=t*Math.pow(i,e),o=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+o)}function qr(e){return e&&e._delegate?e._delegate:e}class Yr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qr="[DEFAULT]";class Zr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Rr;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&e.resolve(i)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(e){if(n)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:i});t.resolve(e)}catch(e){}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[e,t]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(e)&&t.resolve(n);return n}onInit(e,t){var i;const n=this.normalizeInstanceIdentifier(t),o=null!==(i=this.onInitCallbacks.get(n))&&void 0!==i?i:new Set;o.add(e),this.onInitCallbacks.set(n,o);const s=this.instances.get(n);return s&&e(s,n),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const n of i)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Qr?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(e){}var n;return i||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Jr{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Zr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Xr=[];var ea;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ea||(ea={}));const ta={debug:ea.DEBUG,verbose:ea.VERBOSE,info:ea.INFO,warn:ea.WARN,error:ea.ERROR,silent:ea.SILENT},ia=ea.INFO,na={[ea.DEBUG]:"log",[ea.VERBOSE]:"log",[ea.INFO]:"info",[ea.WARN]:"warn",[ea.ERROR]:"error"},oa=(e,t,...i)=>{if(t<e.logLevel)return;const n=(new Date).toISOString(),o=na[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${n}]  ${e.name}:`,...i)};class sa{constructor(e){this.name=e,this._logLevel=ia,this._logHandler=oa,this._userLogHandler=null,Xr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ea))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ta[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ea.DEBUG,...e),this._logHandler(this,ea.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ea.VERBOSE,...e),this._logHandler(this,ea.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ea.INFO,...e),this._logHandler(this,ea.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ea.WARN,...e),this._logHandler(this,ea.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ea.ERROR,...e),this._logHandler(this,ea.ERROR,...e)}}let ra,aa;const la=new WeakMap,da=new WeakMap,ca=new WeakMap,ha=new WeakMap,ua=new WeakMap;let ga={get(e,t,i){if(e instanceof IDBTransaction){if("done"===t)return da.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ca.get(e);if("store"===t)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ma(e[t])},set:(e,t,i)=>(e[t]=i,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function pa(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(aa||(aa=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(fa(this),e),ma(la.get(this))}:function(...e){return ma(t.apply(fa(this),e))}:function(e,...i){const n=t.call(fa(this),e,...i);return ca.set(n,e.sort?e.sort():[e]),ma(n)}:(e instanceof IDBTransaction&&function(e){if(da.has(e))return;const t=new Promise(((t,i)=>{const n=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{t(),n()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)}));da.set(e,t)}(e),i=e,(ra||(ra=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>i instanceof e))?new Proxy(e,ga):e);var t,i}function ma(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,i)=>{const n=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{t(ma(e.result)),n()},s=()=>{i(e.error),n()};e.addEventListener("success",o),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&la.set(t,e)})).catch((()=>{})),ua.set(t,e),t}(e);if(ha.has(e))return ha.get(e);const t=pa(e);return t!==e&&(ha.set(e,t),ua.set(t,e)),t}const fa=e=>ua.get(e);function va(e,t,{blocked:i,upgrade:n,blocking:o,terminated:s}={}){const r=indexedDB.open(e,t),a=ma(r);return n&&r.addEventListener("upgradeneeded",(e=>{n(ma(r.result),e.oldVersion,e.newVersion,ma(r.transaction))})),i&&r.addEventListener("blocked",(()=>i())),a.then((e=>{s&&e.addEventListener("close",(()=>s())),o&&e.addEventListener("versionchange",(()=>o()))})).catch((()=>{})),a}const _a=["get","getKey","getAll","getAllKeys","count"],ba=["put","add","delete","clear"],Ca=new Map;function ya(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Ca.get(t))return Ca.get(t);const i=t.replace(/FromIndex$/,""),n=t!==i,o=ba.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!o&&!_a.includes(i))return;const s=async function(e,...t){const s=this.transaction(e,o?"readwrite":"readonly");let r=s.store;return n&&(r=r.index(t.shift())),(await Promise.all([r[i](...t),o&&s.done]))[0]};return Ca.set(t,s),s}var wa;wa=ga,ga={...wa,get:(e,t,i)=>ya(e,t)||wa.get(e,t,i),has:(e,t)=>!!ya(e,t)||wa.has(e,t)};class Sa{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const ka="@firebase/app",La="0.8.4",xa=new sa("@firebase/app"),Ia="[DEFAULT]",Da={[ka]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Na=new Map,Ea=new Map;function Aa(e,t){try{e.container.addComponent(t)}catch(i){xa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function Ta(e,t){e.container.addOrOverwriteComponent(t)}function Ma(e){const t=e.name;if(Ea.has(t))return xa.debug(`There were multiple attempts to register component ${t}.`),!1;Ea.set(t,e);for(const t of Na.values())Aa(t,e);return!0}function Ra(e,t){const i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function Pa(e,t,i=Ia){Ra(e,t).clearInstance(i)}function Oa(){Ea.clear()}const Va=new Or("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Fa{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Yr("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}const Wa="9.14.0";function za(e,t={}){let i=e;"object"!=typeof t&&(t={name:t});const n=Object.assign({name:Ia,automaticDataCollectionEnabled:!1},t),o=n.name;if("string"!=typeof o||!o)throw Va.create("bad-app-name",{appName:String(o)});if(i||(i=(()=>{var e;return null===(e=Mr())||void 0===e?void 0:e.config})()),!i)throw Va.create("no-options");const s=Na.get(o);if(s){if(Wr(i,s.options)&&Wr(n,s.config))return s;throw Va.create("duplicate-app",{appName:o})}const r=new Jr(o);for(const e of Ea.values())r.addComponent(e);const a=new Fa(i,n,r);return Na.set(o,a),a}function Ba(e=Ia){const t=Na.get(e);if(!t&&e===Ia)return za();if(!t)throw Va.create("no-app",{appName:e});return t}function Ua(){return Array.from(Na.values())}async function Ha(e){const t=e.name;Na.has(t)&&(Na.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Ga(e,t,i){var n;let o=null!==(n=Da[e])&&void 0!==n?n:e;i&&(o+=`-${i}`);const s=o.match(/\s|\//),r=t.match(/\s|\//);if(s||r){const e=[`Unable to register library "${o}" with version "${t}":`];return s&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&r&&e.push("and"),r&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void xa.warn(e.join(" "))}Ma(new Yr(`${o}-version`,(()=>({library:o,version:t})),"VERSION"))}function ja(e,t){if(null!==e&&"function"!=typeof e)throw Va.create("invalid-log-argument");!function(e,t){for(const i of Xr){let n=null;t&&t.level&&(n=ta[t.level]),i.userLogHandler=null===e?null:(t,i,...o)=>{const s=o.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");i>=(null!=n?n:t.logLevel)&&e({level:ea[i].toLowerCase(),message:s,args:o,type:t.name})}}}(e,t)}function Ka(e){var t;t=e,Xr.forEach((e=>{e.setLogLevel(t)}))}const $a="firebase-heartbeat-store";let qa=null;function Ya(){return qa||(qa=va("firebase-heartbeat-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore($a)}}).catch((e=>{throw Va.create("idb-open",{originalErrorMessage:e.message})}))),qa}async function Qa(e,t){var i;try{const i=(await Ya()).transaction($a,"readwrite"),n=i.objectStore($a);return await n.put(t,Za(e)),i.done}catch(e){if(e instanceof Pr)xa.warn(e.message);else{const t=Va.create("idb-set",{originalErrorMessage:null===(i=e)||void 0===i?void 0:i.message});xa.warn(t.message)}}}function Za(e){return`${e.name}!${e.options.appId}`}class Ja{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new el(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Xa();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Xa(),{heartbeatsToSend:t,unsentEntries:i}=function(e,t=1024){const i=[];let n=e.slice();for(const o of e){const e=i.find((e=>e.agent===o.agent));if(e){if(e.dates.push(o.date),tl(i)>t){e.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),tl(i)>t){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}(this._heartbeatsCache.heartbeats),n=wr(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}}function Xa(){return(new Date).toISOString().substring(0,10)}class el{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Er()&&Ar().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){var t;try{return(await Ya()).transaction($a).objectStore($a).get(Za(e))}catch(e){if(e instanceof Pr)xa.warn(e.message);else{const i=Va.create("idb-get",{originalErrorMessage:null===(t=e)||void 0===t?void 0:t.message});xa.warn(i.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qa(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qa(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}}}function tl(e){return wr(JSON.stringify({version:2,heartbeats:e})).length}Ma(new Yr("platform-logger",(e=>new Sa(e)),"PRIVATE")),Ma(new Yr("heartbeat",(e=>new Ja(e)),"PRIVATE")),Ga(ka,La,""),Ga(ka,La,"esm2017"),Ga("fire-js","");class il{constructor(e,t){this._delegate=e,this.firebase=t,Aa(e,new Yr("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Ha(this._delegate))))}_getService(e,t=Ia){var i;this._delegate.checkDestroyed();const n=this._delegate.container.getProvider(e);return n.isInitialized()||"EXPLICIT"!==(null===(i=n.getComponent())||void 0===i?void 0:i.instantiationMode)||n.initialize(),n.getImmediate({identifier:t})}_removeServiceInstance(e,t=Ia){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Aa(this._delegate,e)}_addOrOverwriteComponent(e){Ta(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const nl=new Or("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ol=function e(){const i=function(e){const i={},n={__esModule:!0,initializeApp:function(t,o={}){const s=za(t,o);if(Fr(i,s.name))return i[s.name];const r=new e(s,n);return i[s.name]=r,r},app:o,registerVersion:Ga,setLogLevel:Ka,onLog:ja,apps:null,SDK_VERSION:Wa,INTERNAL:{registerComponent:function(t){const i=t.name,s=i.replace("-compat","");if(Ma(t)&&"PUBLIC"===t.type){const r=(e=o())=>{if("function"!=typeof e[s])throw nl.create("invalid-app-argument",{appName:i});return e[s]()};void 0!==t.serviceProps&&kr(r,t.serviceProps),n[s]=r,e.prototype[s]=function(...e){return this._getService.bind(this,i).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[s]:null},removeApp:function(e){delete i[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:t}};function o(e){if(!Fr(i,e=e||Ia))throw nl.create("no-app",{appName:e});return i[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(i).map((e=>i[e]))}}),o.App=e,n}(il);return i.INTERNAL=Object.assign(Object.assign({},i.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){kr(i,e)},createSubscribe:Gr,ErrorFactory:Or,deepExtend:kr}),i}(),sl=new sa("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){sl.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&sl.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rl=ol;Ga("@firebase/app-compat","0.1.39",void 0),rl.registerVersion("firebase","9.14.0","app-compat");var al,ll="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==o.g?o.g:"undefined"!=typeof self?self:{},dl={},cl=cl||{},hl=ll||self;function ul(){}function gl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function pl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ml="closure_uid_"+(1e9*Math.random()>>>0),fl=0;function vl(e,t,i){return e.call.apply(e.bind,arguments)}function _l(e,t,i){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function bl(e,t,i){return(bl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vl:_l).apply(null,arguments)}function Cl(e,t){var i=Array.prototype.slice.call(arguments,1);return function(){var t=i.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function yl(e,t){function i(){}i.prototype=t.prototype,e.X=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.Wb=function(e,i,n){for(var o=Array(arguments.length-2),s=2;s<arguments.length;s++)o[s-2]=arguments[s];return t.prototype[i].apply(e,o)}}function wl(){this.s=this.s,this.o=this.o}wl.prototype.s=!1,wl.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ml)&&e[ml]||(e[ml]=++fl))},wl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Sl=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let i=0;i<e.length;i++)if(i in e&&e[i]===t)return i;return-1};function kl(e){const t=e.length;if(0<t){const i=Array(t);for(let n=0;n<t;n++)i[n]=e[n];return i}return[]}function Ll(e,t){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(gl(i)){const t=e.length||0,n=i.length||0;e.length=t+n;for(let o=0;o<n;o++)e[t+o]=i[o]}else e.push(i)}}function xl(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}xl.prototype.h=function(){this.defaultPrevented=!0};var Il=function(){if(!hl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{hl.addEventListener("test",ul,t),hl.removeEventListener("test",ul,t)}catch(e){}return e}();function Dl(e){return/^[\s\xa0]*$/.test(e)}var Nl=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function El(e,t){return e<t?-1:e>t?1:0}function Al(){var e=hl.navigator;return e&&(e=e.userAgent)?e:""}function Tl(e){return-1!=Al().indexOf(e)}function Ml(e){return Ml[" "](e),e}Ml[" "]=ul;var Rl,Pl,Ol=Tl("Opera"),Vl=Tl("Trident")||Tl("MSIE"),Fl=Tl("Edge"),Wl=Fl||Vl,zl=Tl("Gecko")&&!(-1!=Al().toLowerCase().indexOf("webkit")&&!Tl("Edge"))&&!(Tl("Trident")||Tl("MSIE"))&&!Tl("Edge"),Bl=-1!=Al().toLowerCase().indexOf("webkit")&&!Tl("Edge");function Ul(){var e=hl.document;return e?e.documentMode:void 0}e:{var Hl="",Gl=(Pl=Al(),zl?/rv:([^\);]+)(\)|;)/.exec(Pl):Fl?/Edge\/([\d\.]+)/.exec(Pl):Vl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Pl):Bl?/WebKit\/(\S+)/.exec(Pl):Ol?/(?:Version)[ \/]?(\S+)/.exec(Pl):void 0);if(Gl&&(Hl=Gl?Gl[1]:""),Vl){var jl=Ul();if(null!=jl&&jl>parseFloat(Hl)){Rl=String(jl);break e}}Rl=Hl}var Kl,$l={};function ql(){return function(e){var t=$l;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let e=0;const t=Nl(String(Rl)).split("."),i=Nl("9").split("."),n=Math.max(t.length,i.length);for(let r=0;0==e&&r<n;r++){var o=t[r]||"",s=i[r]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;e=El(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||El(0==o[2].length,0==s[2].length)||El(o[2],s[2]),o=o[3],s=s[3]}while(0==e)}return 0<=e}()}()}hl.document&&Vl?Kl=Ul()||parseInt(Rl,10)||void 0:Kl=void 0;var Yl=Kl;function Ql(e,t){if(xl.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var i=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(zl){e:{try{Ml(t.nodeName);var o=!0;break e}catch(e){}o=!1}o||(t=null)}}else"mouseover"==i?t=e.fromElement:"mouseout"==i&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Zl[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ql.X.h.call(this)}}yl(Ql,xl);var Zl={2:"touch",3:"pen",4:"mouse"};Ql.prototype.h=function(){Ql.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Jl="closure_listenable_"+(1e6*Math.random()|0),Xl=0;function ed(e,t,i,n,o){this.listener=e,this.proxy=null,this.src=t,this.type=i,this.capture=!!n,this.ha=o,this.key=++Xl,this.ba=this.ea=!1}function td(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function id(e,t,i){for(const n in e)t.call(i,e[n],n,e)}function nd(e){const t={};for(const i in e)t[i]=e[i];return t}const od="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sd(e,t){let i,n;for(let t=1;t<arguments.length;t++){for(i in n=arguments[t],n)e[i]=n[i];for(let t=0;t<od.length;t++)i=od[t],Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}}function rd(e){this.src=e,this.g={},this.h=0}function ad(e,t){var i=t.type;if(i in e.g){var n,o=e.g[i],s=Sl(o,t);(n=0<=s)&&Array.prototype.splice.call(o,s,1),n&&(td(t),0==e.g[i].length&&(delete e.g[i],e.h--))}}function ld(e,t,i,n){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ba&&s.listener==t&&s.capture==!!i&&s.ha==n)return o}return-1}rd.prototype.add=function(e,t,i,n,o){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var r=ld(e,t,n,o);return-1<r?(t=e[r],i||(t.ea=!1)):((t=new ed(t,this.src,s,!!n,o)).ea=i,e.push(t)),t};var dd="closure_lm_"+(1e6*Math.random()|0),cd={};function hd(e,t,i,n,o){if(n&&n.once)return gd(e,t,i,n,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)hd(e,t[s],i,n,o);return null}return i=Cd(i),e&&e[Jl]?e.N(t,i,pl(n)?!!n.capture:!!n,o):ud(e,t,i,!1,n,o)}function ud(e,t,i,n,o,s){if(!t)throw Error("Invalid event type");var r=pl(o)?!!o.capture:!!o,a=_d(e);if(a||(e[dd]=a=new rd(e)),(i=a.add(t,i,n,r,s)).proxy)return i;if(n=function(){const e=vd;return function t(i){return e.call(t.src,t.listener,i)}}(),i.proxy=n,n.src=e,n.listener=i,e.addEventListener)Il||(o=r),void 0===o&&(o=!1),e.addEventListener(t.toString(),n,o);else if(e.attachEvent)e.attachEvent(fd(t.toString()),n);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(n)}return i}function gd(e,t,i,n,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)gd(e,t[s],i,n,o);return null}return i=Cd(i),e&&e[Jl]?e.O(t,i,pl(n)?!!n.capture:!!n,o):ud(e,t,i,!0,n,o)}function pd(e,t,i,n,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)pd(e,t[s],i,n,o);else n=pl(n)?!!n.capture:!!n,i=Cd(i),e&&e[Jl]?(e=e.i,(t=String(t).toString())in e.g&&-1<(i=ld(s=e.g[t],i,n,o))&&(td(s[i]),Array.prototype.splice.call(s,i,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=_d(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ld(t,i,n,o)),(i=-1<e?t[e]:null)&&md(i))}function md(e){if("number"!=typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Jl])ad(t.i,e);else{var i=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(i,n,e.capture):t.detachEvent?t.detachEvent(fd(i),n):t.addListener&&t.removeListener&&t.removeListener(n),(i=_d(t))?(ad(i,e),0==i.h&&(i.src=null,t[dd]=null)):td(e)}}}function fd(e){return e in cd?cd[e]:cd[e]="on"+e}function vd(e,t){if(e.ba)e=!0;else{t=new Ql(t,this);var i=e.listener,n=e.ha||e.src;e.ea&&md(e),e=i.call(n,t)}return e}function _d(e){return(e=e[dd])instanceof rd?e:null}var bd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cd(e){return"function"==typeof e?e:(e[bd]||(e[bd]=function(t){return e.handleEvent(t)}),e[bd])}function yd(){wl.call(this),this.i=new rd(this),this.P=this,this.I=null}function wd(e,t){var i,n=e.I;if(n)for(i=[];n;n=n.I)i.push(n);if(e=e.P,n=t.type||t,"string"==typeof t)t=new xl(t,e);else if(t instanceof xl)t.target=t.target||e;else{var o=t;sd(t=new xl(n,e),o)}if(o=!0,i)for(var s=i.length-1;0<=s;s--){var r=t.g=i[s];o=Sd(r,n,!0,t)&&o}if(o=Sd(r=t.g=e,n,!0,t)&&o,o=Sd(r,n,!1,t)&&o,i)for(s=0;s<i.length;s++)o=Sd(r=t.g=i[s],n,!1,t)&&o}function Sd(e,t,i,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var r=t[s];if(r&&!r.ba&&r.capture==i){var a=r.listener,l=r.ha||r.src;r.ea&&ad(e.i,r),o=!1!==a.call(l,n)&&o}}return o&&!n.defaultPrevented}yl(yd,wl),yd.prototype[Jl]=!0,yd.prototype.removeEventListener=function(e,t,i,n){pd(this,e,t,i,n)},yd.prototype.M=function(){if(yd.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var i=t.g[e],n=0;n<i.length;n++)td(i[n]);delete t.g[e],t.h--}}this.I=null},yd.prototype.N=function(e,t,i,n){return this.i.add(String(e),t,!1,i,n)},yd.prototype.O=function(e,t,i,n){return this.i.add(String(e),t,!0,i,n)};var kd=hl.JSON.stringify;function Ld(){var e=Td;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var xd,Id=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Dd),(e=>e.reset()));class Dd{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Nd(e){hl.setTimeout((()=>{throw e}),0)}function Ed(e,t){xd||function(){var e=hl.Promise.resolve(void 0);xd=function(){e.then(Md)}}(),Ad||(xd(),Ad=!0),Td.add(e,t)}var Ad=!1,Td=new class{constructor(){this.h=this.g=null}add(e,t){const i=Id.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function Md(){for(var e;e=Ld();){try{e.h.call(e.g)}catch(e){Nd(e)}var t=Id;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ad=!1}function Rd(e,t){yd.call(this),this.h=e||1,this.g=t||hl,this.j=bl(this.lb,this),this.l=Date.now()}function Pd(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Od(e,t,i){if("function"==typeof e)i&&(e=bl(e,i));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=bl(e.handleEvent,e)}return 2147483647<Number(t)?-1:hl.setTimeout(e,t||0)}function Vd(e){e.g=Od((()=>{e.g=null,e.i&&(e.i=!1,Vd(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}yl(Rd,yd),(al=Rd.prototype).ca=!1,al.R=null,al.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),wd(this,"tick"),this.ca&&(Pd(this),this.start()))}},al.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},al.M=function(){Rd.X.M.call(this),Pd(this),delete this.g};class Fd extends wl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Vd(this)}M(){super.M(),this.g&&(hl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wd(e){wl.call(this),this.h=e,this.g={}}yl(Wd,wl);var zd=[];function Bd(e,t,i,n){Array.isArray(i)||(i&&(zd[0]=i.toString()),i=zd);for(var o=0;o<i.length;o++){var s=hd(t,i[o],n||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Ud(e){id(e.g,(function(e,t){this.g.hasOwnProperty(t)&&md(e)}),e),e.g={}}function Hd(){this.g=!0}function Gd(e,t,i,n){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var i=JSON.parse(t);if(i)for(e=0;e<i.length;e++)if(Array.isArray(i[e])){var n=i[e];if(!(2>n.length)){var o=n[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var r=1;r<o.length;r++)o[r]=""}}}return kd(i)}catch(e){return t}}(e,i)+(n?" "+n:"")}))}Wd.prototype.M=function(){Wd.X.M.call(this),Ud(this)},Wd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hd.prototype.Aa=function(){this.g=!1},Hd.prototype.info=function(){};var jd={},Kd=null;function $d(){return Kd=Kd||new yd}function qd(e){xl.call(this,jd.Pa,e)}function Yd(e){const t=$d();wd(t,new qd(t))}function Qd(e,t){xl.call(this,jd.STAT_EVENT,e),this.stat=t}function Zd(e){const t=$d();wd(t,new Qd(t,e))}function Jd(e,t){xl.call(this,jd.Qa,e),this.size=t}function Xd(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return hl.setTimeout((function(){e()}),t)}jd.Pa="serverreachability",yl(qd,xl),jd.STAT_EVENT="statevent",yl(Qd,xl),jd.Qa="timingevent",yl(Jd,xl);var ec={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},tc={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ic(){}function nc(e){return e.h||(e.h=e.i())}function oc(){}ic.prototype.h=null;var sc,rc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ac(){xl.call(this,"d")}function lc(){xl.call(this,"c")}function dc(){}function cc(e,t,i,n){this.l=e,this.j=t,this.m=i,this.U=n||1,this.S=new Wd(this),this.O=uc,e=Wl?125:void 0,this.T=new Rd(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new hc}function hc(){this.i=null,this.g="",this.h=!1}yl(ac,xl),yl(lc,xl),yl(dc,ic),dc.prototype.g=function(){return new XMLHttpRequest},dc.prototype.i=function(){return{}},sc=new dc;var uc=45e3,gc={},pc={};function mc(e,t,i){e.K=1,e.v=Rc(Nc(t)),e.s=i,e.P=!0,fc(e,null)}function fc(e,t){e.F=Date.now(),Cc(e),e.A=Nc(e.v);var i=e.A,n=e.U;Array.isArray(n)||(n=[String(n)]),$c(i.i,"t",n),e.C=0,i=e.l.H,e.h=new hc,e.g=Kh(e.l,i?t:null,!e.s),0<e.N&&(e.L=new Fd(bl(e.La,e,e.g),e.N)),Bd(e.S,e.g,"readystatechange",e.ib),t=e.H?nd(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Yd(),function(e,t,i,n,o,s){e.info((function(){if(e.g)if(s)for(var r="",a=s.split("&"),l=0;l<a.length;l++){var d=a[l].split("=");if(1<d.length){var c=d[0];d=d[1];var h=c.split("_");r=2<=h.length&&"type"==h[1]?r+(c+"=")+d+"&":r+(c+"=redacted&")}}else r=null;else r=s;return"XMLHTTP REQ ("+n+") [attempt "+o+"]: "+t+"\n"+i+"\n"+r}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function vc(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Da}function _c(e,t,i){let n,o=!0;for(;!e.I&&e.C<i.length;){if(n=bc(e,i),n==pc){4==t&&(e.o=4,Zd(14),o=!1),Gd(e.j,e.m,null,"[Incomplete Response]");break}if(n==gc){e.o=4,Zd(15),Gd(e.j,e.m,i,"[Invalid Chunk]"),o=!1;break}Gd(e.j,e.m,n,null),Lc(e,n)}vc(e)&&n!=pc&&n!=gc&&(e.h.g="",e.C=0),4!=t||0!=i.length||e.h.h||(e.o=1,Zd(16),o=!1),e.i=e.i&&o,o?0<i.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),Fh(t),t.K=!0,Zd(11))):(Gd(e.j,e.m,i,"[Invalid Chunked Response]"),kc(e),Sc(e))}function bc(e,t){var i=e.C,n=t.indexOf("\n",i);return-1==n?pc:(i=Number(t.substring(i,n)),isNaN(i)?gc:(n+=1)+i>t.length?pc:(t=t.substr(n,i),e.C=n+i,t))}function Cc(e){e.V=Date.now()+e.O,yc(e,e.O)}function yc(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Xd(bl(e.gb,e),t)}function wc(e){e.B&&(hl.clearTimeout(e.B),e.B=null)}function Sc(e){0==e.l.G||e.I||Bh(e.l,e)}function kc(e){wc(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Pd(e.T),Ud(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Lc(e,t){try{var i=e.l;if(0!=i.G&&(i.g==e||Xc(i.h,e)))if(!e.J&&Xc(i.h,e)&&3==i.G){try{var n=i.Fa.g.parse(t)}catch(e){n=null}if(Array.isArray(n)&&3==n.length){var o=n;if(0==o[0]){e:if(!i.u){if(i.g){if(!(i.g.F+3e3<e.F))break e;zh(i),Eh(i)}Vh(i),Zd(18)}}else i.Ba=o[1],0<i.Ba-i.T&&37500>o[2]&&i.L&&0==i.A&&!i.v&&(i.v=Xd(bl(i.cb,i),6e3));if(1>=Jc(i.h)&&i.ja){try{i.ja()}catch(e){}i.ja=void 0}}else Hh(i,11)}else if((e.J||i.g==e)&&zh(i),!Dl(t))for(o=i.Fa.g.parse(t),t=0;t<o.length;t++){let d=o[t];if(i.T=d[0],d=d[1],2==i.G)if("c"==d[0]){i.I=d[1],i.ka=d[2];const t=d[3];null!=t&&(i.ma=t,i.j.info("VER="+i.ma));const o=d[4];null!=o&&(i.Ca=o,i.j.info("SVER="+i.Ca));const c=d[5];null!=c&&"number"==typeof c&&0<c&&(n=1.5*c,i.J=n,i.j.info("backChannelRequestTimeoutMs_="+n)),n=i;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=n.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(eh(s,s.h),s.h=null))}if(n.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.za=e,Mc(n.F,n.D,e))}}i.G=3,i.l&&i.l.xa(),i.$&&(i.P=Date.now()-e.F,i.j.info("Handshake RTT: "+i.P+"ms"));var r=e;if((n=i).sa=jh(n,n.H?n.ka:null,n.V),r.J){th(n.h,r);var a=r,l=n.J;l&&a.setTimeout(l),a.B&&(wc(a),Cc(a)),n.g=r}else Oh(n);0<i.i.length&&Th(i)}else"stop"!=d[0]&&"close"!=d[0]||Hh(i,7);else 3==i.G&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?Hh(i,7):Nh(i):"noop"!=d[0]&&i.l&&i.l.wa(d),i.A=0)}Yd()}catch(e){}}function xc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(gl(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var i=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(gl(e)||"string"==typeof e){var t=[];e=e.length;for(var i=0;i<e;i++)t.push(i);return t}t=[],i=0;for(const n in e)t[i++]=n;return t}}}(e),n=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(gl(e)){for(var t=[],i=e.length,n=0;n<i;n++)t.push(e[n]);return t}for(n in t=[],i=0,e)t[i++]=e[n];return t}(e),o=n.length,s=0;s<o;s++)t.call(void 0,n[s],i&&i[s],e)}(al=cc.prototype).setTimeout=function(e){this.O=e},al.ib=function(e){e=e.target;const t=this.L;t&&3==Sh(e)?t.l():this.La(e)},al.La=function(e){try{if(e==this.g)e:{const c=Sh(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>c)&&(3!=c||Wl||this.g&&(this.h.h||this.g.fa()||kh(this.g)))){this.I||4!=c||7==t||Yd(),wc(this);var i=this.g.aa();this.Y=i;t:if(vc(this)){var n=kh(this.g);e="";var o=n.length,s=4==Sh(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){kc(this),Sc(this);var r="";break t}this.h.i=new hl.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(n[t],{stream:s&&t==o-1});n.splice(0,o),this.h.g+=e,this.C=0,r=this.h.g}else r=this.g.fa();if(this.i=200==i,function(e,t,i,n,o,s,r){e.info((function(){return"XMLHTTP RESP ("+n+") [ attempt "+o+"]: "+t+"\n"+i+"\n"+s+" "+r}))}(this.j,this.u,this.A,this.m,this.U,c,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dl(a)){var d=a;break t}}d=null}if(!(i=d)){this.i=!1,this.o=3,Zd(12),kc(this),Sc(this);break e}Gd(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Lc(this,i)}this.P?(_c(this,c,r),Wl&&this.i&&3==c&&(Bd(this.S,this.T,"tick",this.hb),this.T.start())):(Gd(this.j,this.m,r,null),Lc(this,r)),4==c&&kc(this),this.i&&!this.I&&(4==c?Bh(this.l,this):(this.i=!1,Cc(this)))}else 400==i&&0<r.indexOf("Unknown SID")?(this.o=3,Zd(12)):(this.o=0,Zd(13)),kc(this),Sc(this)}}}catch(e){}},al.hb=function(){if(this.g){var e=Sh(this.g),t=this.g.fa();this.C<t.length&&(wc(this),_c(this,e,t),this.i&&4!=e&&Cc(this))}},al.cancel=function(){this.I=!0,kc(this)},al.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Yd(),Zd(17)),kc(this),this.o=2,Sc(this)):yc(this,this.V-e)};var Ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dc(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Dc){this.h=void 0!==t?t:e.h,Ec(this,e.j),this.s=e.s,this.g=e.g,Ac(this,e.m),this.l=e.l,t=e.i;var i=new Hc;i.i=t.i,t.g&&(i.g=new Map(t.g),i.h=t.h),Tc(this,i),this.o=e.o}else e&&(i=String(e).match(Ic))?(this.h=!!t,Ec(this,i[1]||"",!0),this.s=Pc(i[2]||""),this.g=Pc(i[3]||"",!0),Ac(this,i[4]),this.l=Pc(i[5]||"",!0),Tc(this,i[6]||"",!0),this.o=Pc(i[7]||"")):(this.h=!!t,this.i=new Hc(null,this.h))}function Nc(e){return new Dc(e)}function Ec(e,t,i){e.j=i?Pc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ac(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Tc(e,t,i){t instanceof Hc?(e.i=t,function(e,t){t&&!e.j&&(Gc(e),e.i=null,e.g.forEach((function(e,t){var i=t.toLowerCase();t!=i&&(jc(this,t),$c(this,i,e))}),e)),e.j=t}(e.i,e.h)):(i||(t=Oc(t,Bc)),e.i=new Hc(t,e.h))}function Mc(e,t,i){e.i.set(t,i)}function Rc(e){return Mc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Pc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Oc(e,t,i){return"string"==typeof e?(e=encodeURI(e).replace(t,Vc),i&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Dc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Oc(t,Fc,!0),":");var i=this.g;return(i||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Oc(t,Fc,!0),"@"),e.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&e.push(":",String(i))),(i=this.l)&&(this.g&&"/"!=i.charAt(0)&&e.push("/"),e.push(Oc(i,"/"==i.charAt(0)?zc:Wc,!0))),(i=this.i.toString())&&e.push("?",i),(i=this.o)&&e.push("#",Oc(i,Uc)),e.join("")};var Fc=/[#\/\?@]/g,Wc=/[#\?:]/g,zc=/[#\?]/g,Bc=/[#\?@]/g,Uc=/#/g;function Hc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Gc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var i=0;i<e.length;i++){var n=e[i].indexOf("="),o=null;if(0<=n){var s=e[i].substring(0,n);o=e[i].substring(n+1)}else s=e[i];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,(function(t,i){e.add(decodeURIComponent(t.replace(/\+/g," ")),i)})))}function jc(e,t){Gc(e),t=qc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Kc(e,t){return Gc(e),t=qc(e,t),e.g.has(t)}function $c(e,t,i){jc(e,t),0<i.length&&(e.i=null,e.g.set(qc(e,t),kl(i)),e.h+=i.length)}function qc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Yc(e){this.l=e||Qc,e=hl.PerformanceNavigationTiming?0<(e=hl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(hl.g&&hl.g.Ga&&hl.g.Ga()&&hl.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(al=Hc.prototype).add=function(e,t){Gc(this),this.i=null,e=qc(this,e);var i=this.g.get(e);return i||this.g.set(e,i=[]),i.push(t),this.h+=1,this},al.forEach=function(e,t){Gc(this),this.g.forEach((function(i,n){i.forEach((function(i){e.call(t,i,n,this)}),this)}),this)},al.oa=function(){Gc(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),i=[];for(let n=0;n<t.length;n++){const o=e[n];for(let e=0;e<o.length;e++)i.push(t[n])}return i},al.W=function(e){Gc(this);let t=[];if("string"==typeof e)Kc(this,e)&&(t=t.concat(this.g.get(qc(this,e))));else{e=Array.from(this.g.values());for(let i=0;i<e.length;i++)t=t.concat(e[i])}return t},al.set=function(e,t){return Gc(this),this.i=null,Kc(this,e=qc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},al.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},al.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var i=0;i<t.length;i++){var n=t[i];const s=encodeURIComponent(String(n)),r=this.W(n);for(n=0;n<r.length;n++){var o=s;""!==r[n]&&(o+="="+encodeURIComponent(String(r[n]))),e.push(o)}}return this.i=e.join("&")};var Qc=10;function Zc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Jc(e){return e.h?1:e.g?e.g.size:0}function Xc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function eh(e,t){e.g?e.g.add(t):e.h=t}function th(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ih(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const i of e.g.values())t=t.concat(i.D);return t}return kl(e.i)}function nh(){}function oh(){this.g=new nh}function sh(e,t,i){const n=i||"";try{xc(e,(function(e,i){let o=e;pl(e)&&(o=kd(e)),t.push(n+i+"="+encodeURIComponent(o))}))}catch(e){throw t.push(n+"type="+encodeURIComponent("_badmap")),e}}function rh(e,t,i,n,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(n)}catch(e){}}function ah(e){this.l=e.ac||null,this.j=e.jb||!1}function lh(e,t){yd.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=dh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yc.prototype.cancel=function(){if(this.i=ih(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},nh.prototype.stringify=function(e){return hl.JSON.stringify(e,void 0)},nh.prototype.parse=function(e){return hl.JSON.parse(e,void 0)},yl(ah,ic),ah.prototype.g=function(){return new lh(this.l,this.j)},ah.prototype.i=function(e){return function(){return e}}({}),yl(lh,yd);var dh=0;function ch(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function hh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,uh(e)}function uh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(al=lh.prototype).open=function(e,t){if(this.readyState!=dh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,uh(this)},al.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||hl).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},al.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hh(this)),this.readyState=dh},al.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,uh(this)),this.g&&(this.readyState=3,uh(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==hl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ch(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},al.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?hh(this):uh(this),3==this.readyState&&ch(this)}},al.Va=function(e){this.g&&(this.response=this.responseText=e,hh(this))},al.Ua=function(e){this.g&&(this.response=e,hh(this))},al.ga=function(){this.g&&hh(this)},al.setRequestHeader=function(e,t){this.v.append(e,t)},al.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},al.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var i=t.next();!i.done;)i=i.value,e.push(i[0]+": "+i[1]),i=t.next();return e.join("\r\n")},Object.defineProperty(lh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var gh=hl.JSON.parse;function ph(e){yd.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mh,this.K=this.L=!1}yl(ph,yd);var mh="",fh=/^https?$/i,vh=["POST","PUT"];function _h(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,bh(e),yh(e)}function bh(e){e.D||(e.D=!0,wd(e,"complete"),wd(e,"error"))}function Ch(e){if(e.h&&void 0!==cl&&(!e.C[1]||4!=Sh(e)||2!=e.aa()))if(e.v&&4==Sh(e))Od(e.Ha,0,e);else if(wd(e,"readystatechange"),4==Sh(e)){e.h=!1;try{const a=e.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var i;if(!(i=t)){var n;if(n=0===a){var o=String(e.H).match(Ic)[1]||null;if(!o&&hl.self&&hl.self.location){var s=hl.self.location.protocol;o=s.substr(0,s.length-1)}n=!fh.test(o?o.toLowerCase():"")}i=n}if(i)wd(e,"complete"),wd(e,"success");else{e.m=6;try{var r=2<Sh(e)?e.g.statusText:""}catch(e){r=""}e.j=r+" ["+e.aa()+"]",bh(e)}}finally{yh(e)}}}function yh(e,t){if(e.g){wh(e);const i=e.g,n=e.C[0]?ul:null;e.g=null,e.C=null,t||wd(e,"ready");try{i.onreadystatechange=n}catch(e){}}}function wh(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(hl.clearTimeout(e.A),e.A=null)}function Sh(e){return e.g?e.g.readyState:0}function kh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case mh:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Lh(e){let t="";return id(e,(function(e,i){t+=i,t+=":",t+=e,t+="\r\n"})),t}function xh(e,t,i){e:{for(n in i){var n=!1;break e}n=!0}n||(i=Lh(i),"string"==typeof e?null!=i&&encodeURIComponent(String(i)):Mc(e,t,i))}function Ih(e,t,i){return i&&i.internalChannelParams&&i.internalChannelParams[e]||t}function Dh(e){this.Ca=0,this.i=[],this.j=new Hd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ih("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ih("baseRetryDelayMs",5e3,e),this.bb=Ih("retryDelaySeedMs",1e4,e),this.$a=Ih("forwardChannelMaxRetries",2,e),this.ta=Ih("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Yc(e&&e.concurrentRequestLimit),this.Fa=new oh,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Nh(e){if(Ah(e),3==e.G){var t=e.U++,i=Nc(e.F);Mc(i,"SID",e.I),Mc(i,"RID",t),Mc(i,"TYPE","terminate"),Rh(e,i),(t=new cc(e,e.j,t,void 0)).K=2,t.v=Rc(Nc(i)),i=!1,hl.navigator&&hl.navigator.sendBeacon&&(i=hl.navigator.sendBeacon(t.v.toString(),"")),!i&&hl.Image&&((new Image).src=t.v,i=!0),i||(t.g=Kh(t.l,null),t.g.da(t.v)),t.F=Date.now(),Cc(t)}Gh(e)}function Eh(e){e.g&&(Fh(e),e.g.cancel(),e.g=null)}function Ah(e){Eh(e),e.u&&(hl.clearTimeout(e.u),e.u=null),zh(e),e.h.cancel(),e.m&&("number"==typeof e.m&&hl.clearTimeout(e.m),e.m=null)}function Th(e){Zc(e.h)||e.m||(e.m=!0,Ed(e.Ja,e),e.C=0)}function Mh(e,t){var i;i=t?t.m:e.U++;const n=Nc(e.F);Mc(n,"SID",e.I),Mc(n,"RID",i),Mc(n,"AID",e.T),Rh(e,n),e.o&&e.s&&xh(n,e.o,e.s),i=new cc(e,e.j,i,e.C+1),null===e.o&&(i.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Ph(e,i,1e3),i.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),eh(e.h,i),mc(i,n,t)}function Rh(e,t){e.ia&&id(e.ia,(function(e,i){Mc(t,i,e)})),e.l&&xc({},(function(e,i){Mc(t,i,e)}))}function Ph(e,t,i){i=Math.min(e.i.length,i);var n=e.l?bl(e.l.Ra,e.l,e):null;e:{var o=e.i;let t=-1;for(;;){const e=["count="+i];-1==t?0<i?(t=o[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let r=0;r<i;r++){let i=o[r].h;const a=o[r].g;if(i-=t,0>i)t=Math.max(0,o[r].h-100),s=!1;else try{sh(a,e,"req"+i+"_")}catch(e){n&&n(a)}}if(s){n=e.join("&");break e}}}return e=e.i.splice(0,i),t.D=e,n}function Oh(e){e.g||e.u||(e.Z=1,Ed(e.Ia,e),e.A=0)}function Vh(e){return!(e.g||e.u||3<=e.A||(e.Z++,e.u=Xd(bl(e.Ia,e),Uh(e,e.A)),e.A++,0))}function Fh(e){null!=e.B&&(hl.clearTimeout(e.B),e.B=null)}function Wh(e){e.g=new cc(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Nc(e.sa);Mc(t,"RID","rpc"),Mc(t,"SID",e.I),Mc(t,"CI",e.L?"0":"1"),Mc(t,"AID",e.T),Mc(t,"TYPE","xmlhttp"),Rh(e,t),e.o&&e.s&&xh(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var i=e.g;e=e.ka,i.K=1,i.v=Rc(Nc(t)),i.s=null,i.P=!0,fc(i,e)}function zh(e){null!=e.v&&(hl.clearTimeout(e.v),e.v=null)}function Bh(e,t){var i=null;if(e.g==t){zh(e),Fh(e),e.g=null;var n=2}else{if(!Xc(e.h,t))return;i=t.D,th(e.h,t),n=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==n){i=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;wd(n=$d(),new Jd(n,i)),Th(e)}else Oh(e);else if(3==(o=t.o)||0==o&&0<e.pa||!(1==n&&function(e,t){return!(Jc(e.h)>=e.h.j-(e.m?1:0)||(e.m?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.C>=(e.Za?0:e.$a)||(e.m=Xd(bl(e.Ja,e,t),Uh(e,e.C)),e.C++,0)))}(e,t)||2==n&&Vh(e)))switch(i&&0<i.length&&(t=e.h,t.i=t.i.concat(i)),o){case 1:Hh(e,5);break;case 4:Hh(e,10);break;case 3:Hh(e,6);break;default:Hh(e,2)}}function Uh(e,t){let i=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(i*=2),i*t}function Hh(e,t){if(e.j.info("Error code "+t),2==t){var i=null;e.l&&(i=null);var n=bl(e.kb,e);i||(i=new Dc("//www.google.com/images/cleardot.gif"),hl.location&&"http"==hl.location.protocol||Ec(i,"https"),Rc(i)),function(e,t){const i=new Hd;if(hl.Image){const n=new Image;n.onload=Cl(rh,i,n,"TestLoadImage: loaded",!0,t),n.onerror=Cl(rh,i,n,"TestLoadImage: error",!1,t),n.onabort=Cl(rh,i,n,"TestLoadImage: abort",!1,t),n.ontimeout=Cl(rh,i,n,"TestLoadImage: timeout",!1,t),hl.setTimeout((function(){n.ontimeout&&n.ontimeout()}),1e4),n.src=e}else t(!1)}(i.toString(),n)}else Zd(2);e.G=0,e.l&&e.l.va(t),Gh(e),Ah(e)}function Gh(e){if(e.G=0,e.la=[],e.l){const t=ih(e.h);0==t.length&&0==e.i.length||(Ll(e.la,t),Ll(e.la,e.i),e.h.i.length=0,kl(e.i),e.i.length=0),e.l.ua()}}function jh(e,t,i){var n=i instanceof Dc?Nc(i):new Dc(i,void 0);if(""!=n.g)t&&(n.g=t+"."+n.g),Ac(n,n.m);else{var o=hl.location;n=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new Dc(null,void 0);n&&Ec(s,n),t&&(s.g=t),o&&Ac(s,o),i&&(s.l=i),n=s}return i=e.D,t=e.za,i&&t&&Mc(n,i,t),Mc(n,"VER",e.ma),Rh(e,n),n}function Kh(e,t,i){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=i&&e.Da&&!e.ra?new ph(new ah({jb:!0})):new ph(e.ra)).Ka(e.H),t}function $h(){}function qh(){if(Vl&&!(10<=Number(Yl)))throw Error("Environmental error: no available transport.")}function Yh(e,t){yd.call(this),this.g=new Dh(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Dl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Dl(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Jh(this)}function Qh(e){ac.call(this);var t=e.__sm__;if(t){e:{for(const i in t){e=i;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Zh(){lc.call(this),this.status=1}function Jh(e){this.g=e}(al=ph.prototype).Ka=function(e){this.L=e},al.da=function(e,t,i,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():sc.g(),this.C=this.u?nc(this.u):nc(sc),this.g.onreadystatechange=bl(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void _h(this,e)}if(e=i||"",i=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var o in n)i.set(o,n[o]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const e of n.keys())i.set(e,n.get(e))}n=Array.from(i.keys()).find((e=>"content-type"==e.toLowerCase())),o=hl.FormData&&e instanceof hl.FormData,!(0<=Sl(vh,t))||n||o||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of i)this.g.setRequestHeader(e,t);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wh(this),0<this.B&&((this.K=function(e){return Vl&&ql()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bl(this.qa,this)):this.A=Od(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){_h(this,e)}},al.qa=function(){void 0!==cl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wd(this,"timeout"),this.abort(8))},al.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,wd(this,"complete"),wd(this,"abort"),yh(this))},al.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yh(this,!0)),ph.X.M.call(this)},al.Ha=function(){this.s||(this.F||this.v||this.l?Ch(this):this.fb())},al.fb=function(){Ch(this)},al.aa=function(){try{return 2<Sh(this)?this.g.status:-1}catch(e){return-1}},al.fa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},al.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),gh(t)}},al.Ea=function(){return this.m},al.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(al=Dh.prototype).ma=8,al.G=1,al.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const o=new cc(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=nd(s),sd(s,this.S)):s=this.S),null!==this.o||this.N||(o.H=s,s=null),this.O)e:{for(var t=0,i=0;i<this.i.length;i++){var n=this.i[i];if(void 0===(n="__data__"in n.g&&"string"==typeof(n=n.g.__data__)?n.length:void 0))break;if(4096<(t+=n)){t=i;break e}if(4096===t||i===this.i.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Ph(this,o,t),Mc(i=Nc(this.F),"RID",e),Mc(i,"CVER",22),this.D&&Mc(i,"X-HTTP-Session-Id",this.D),Rh(this,i),s&&(this.N?t="headers="+encodeURIComponent(String(Lh(s)))+"&"+t:this.o&&xh(i,this.o,s)),eh(this.h,o),this.Ya&&Mc(i,"TYPE","init"),this.O?(Mc(i,"$req",t),Mc(i,"SID","null"),o.Z=!0,mc(o,i,null)):mc(o,i,t),this.G=2}}else 3==this.G&&(e?Mh(this,e):0==this.i.length||Zc(this.h)||Mh(this))},al.Ia=function(){if(this.u=null,Wh(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Xd(bl(this.eb,this),e)}},al.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Zd(10),Eh(this),Wh(this))},al.cb=function(){null!=this.v&&(this.v=null,Eh(this),Vh(this),Zd(19))},al.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Zd(2)):(this.j.info("Failed to ping google.com"),Zd(1))},(al=$h.prototype).xa=function(){},al.wa=function(){},al.va=function(){},al.ua=function(){},al.Ra=function(){},qh.prototype.g=function(e,t){return new Yh(e,t)},yl(Yh,yd),Yh.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,i=this.h||void 0;Zd(0),e.V=t,e.ia=i||{},e.L=e.Y,e.F=jh(e,null,e.V),Th(e)},Yh.prototype.close=function(){Nh(this.g)},Yh.prototype.u=function(e){var t=this.g;if("string"==typeof e){var i={};i.__data__=e,e=i}else this.v&&((i={}).__data__=kd(e),e=i);t.i.push(new class{constructor(e,t){this.h=e,this.g=t}}(t.ab++,e)),3==t.G&&Th(t)},Yh.prototype.M=function(){this.g.l=null,delete this.j,Nh(this.g),delete this.g,Yh.X.M.call(this)},yl(Qh,ac),yl(Zh,lc),yl(Jh,$h),Jh.prototype.xa=function(){wd(this.g,"a")},Jh.prototype.wa=function(e){wd(this.g,new Qh(e))},Jh.prototype.va=function(e){wd(this.g,new Zh)},Jh.prototype.ua=function(){wd(this.g,"b")},qh.prototype.createWebChannel=qh.prototype.g,Yh.prototype.send=Yh.prototype.u,Yh.prototype.open=Yh.prototype.m,Yh.prototype.close=Yh.prototype.close,ec.NO_ERROR=0,ec.TIMEOUT=8,ec.HTTP_ERROR=6,tc.COMPLETE="complete",oc.EventType=rc,rc.OPEN="a",rc.CLOSE="b",rc.ERROR="c",rc.MESSAGE="d",yd.prototype.listen=yd.prototype.N,ph.prototype.listenOnce=ph.prototype.O,ph.prototype.getLastError=ph.prototype.Oa,ph.prototype.getLastErrorCode=ph.prototype.Ea,ph.prototype.getStatus=ph.prototype.aa,ph.prototype.getResponseJson=ph.prototype.Sa,ph.prototype.getResponseText=ph.prototype.fa,ph.prototype.send=ph.prototype.da,ph.prototype.setWithCredentials=ph.prototype.Ka;var Xh=dl.createWebChannelTransport=function(){return new qh},eu=dl.getStatEventTarget=function(){return $d()},tu=dl.ErrorCode=ec,iu=dl.EventType=tc,nu=dl.Event=jd,ou=dl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},su=dl.FetchXmlHttpFactory=ah,ru=dl.WebChannel=oc,au=dl.XhrIo=ph;const lu="@firebase/firestore";class du{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}du.UNAUTHENTICATED=new du(null),du.GOOGLE_CREDENTIALS=new du("google-credentials-uid"),du.FIRST_PARTY=new du("first-party-uid"),du.MOCK_USER=new du("mock-user");let cu="9.14.0";const hu=new sa("@firebase/firestore");function uu(){return hu.logLevel}function gu(e,...t){if(hu.logLevel<=ea.DEBUG){const i=t.map(fu);hu.debug(`Firestore (${cu}): ${e}`,...i)}}function pu(e,...t){if(hu.logLevel<=ea.ERROR){const i=t.map(fu);hu.error(`Firestore (${cu}): ${e}`,...i)}}function mu(e,...t){if(hu.logLevel<=ea.WARN){const i=t.map(fu);hu.warn(`Firestore (${cu}): ${e}`,...i)}}function fu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function vu(e="Unexpected state"){const t=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: `+e;throw pu(t),new Error(t)}function _u(e,t){e||vu()}function bu(e,t){return e}const Cu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yu extends Pr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Su{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ku{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(du.UNAUTHENTICATED)))}shutdown(){}}class Lu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class xu{constructor(e){this.t=e,this.currentUser=du.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i;const n=e=>this.i!==i?(i=this.i,t(e)):Promise.resolve();let o=new wu;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wu,e.enqueueRetryable((()=>n(this.currentUser)))};const s=()=>{const t=o;e.enqueueRetryable((async()=>{await t.promise,await n(this.currentUser)}))},r=e=>{gu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>r(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?r(e):(gu("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wu)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(gu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(_u("string"==typeof t.accessToken),new Su(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _u(null===e||"string"==typeof e),new du(e)}}class Iu{constructor(e,t,i,n){this.h=e,this.l=t,this.m=i,this.g=n,this.type="FirstParty",this.user=du.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(_u(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Du{constructor(e,t,i,n){this.h=e,this.l=t,this.m=i,this.g=n}getToken(){return Promise.resolve(new Iu(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable((()=>t(du.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Eu{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=e=>{null!=e.error&&gu("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const i=e.token!==this.A;return this.A=e.token,gu("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>i(t)))};const n=e=>{gu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.T.onInit((e=>n(e))),setTimeout((()=>{if(!this.appCheck){const e=this.T.getImmediate({optional:!0});e?n(e):gu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(_u("string"==typeof e.token),this.A=e.token,new Nu(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Au(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(let t=0;t<e;t++)i[t]=Math.floor(256*Math.random());return i}class Tu{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const n=Au(40);for(let o=0;o<n.length;++o)i.length<20&&n[o]<t&&(i+=e.charAt(n[o]%e.length))}return i}}function Mu(e,t){return e<t?-1:e>t?1:0}function Ru(e,t,i){return e.length===t.length&&e.every(((e,n)=>i(e,t[n])))}function Pu(e){return e+"\0"}class Ou{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yu(Cu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yu(Cu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new yu(Cu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yu(Cu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ou.fromMillis(Date.now())}static fromDate(e){return Ou.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ou(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mu(this.nanoseconds,e.nanoseconds):Mu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vu{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vu(e)}static min(){return new Vu(new Ou(0,0))}static max(){return new Vu(new Ou(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fu{constructor(e,t,i){void 0===t?t=0:t>e.length&&vu(),void 0===i?i=e.length-t:i>e.length-t&&vu(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Fu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fu?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let n=0;n<i;n++){const i=e.get(n),o=t.get(n);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wu extends Fu{construct(e,t,i){return new Wu(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new yu(Cu.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((e=>e.length>0)))}return new Wu(t)}static emptyPath(){return new Wu([])}}const zu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bu extends Fu{construct(e,t,i){return new Bu(e,t,i)}static isValidIdentifier(e){return zu.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bu.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bu(["__name__"])}static fromServerFormat(e){const t=[];let i="",n=0;const o=()=>{if(0===i.length)throw new yu(Cu.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;n<e.length;){const t=e[n];if("\\"===t){if(n+1===e.length)throw new yu(Cu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[n+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new yu(Cu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=t,n+=2}else"`"===t?(s=!s,n++):"."!==t||s?(i+=t,n++):(o(),n++)}if(o(),s)throw new yu(Cu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bu(t)}static emptyPath(){return new Bu([])}}class Uu{constructor(e){this.path=e}static fromPath(e){return new Uu(Wu.fromString(e))}static fromName(e){return new Uu(Wu.fromString(e).popFirst(5))}static empty(){return new Uu(Wu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Uu(new Wu(e.slice()))}}class Hu{constructor(e,t,i,n){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=n}}function Gu(e){return e.fields.find((e=>2===e.kind))}function ju(e){return e.fields.filter((e=>2!==e.kind))}Hu.UNKNOWN_ID=-1;class Ku{constructor(e,t){this.fieldPath=e,this.kind=t}}class $u{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new $u(0,Qu.min())}}function qu(e,t){const i=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,o=Vu.fromTimestamp(1e9===n?new Ou(i+1,0):new Ou(i,n));return new Qu(o,Uu.empty(),t)}function Yu(e){return new Qu(e.readTime,e.key,-1)}class Qu{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Qu(Vu.min(),Uu.empty(),-1)}static max(){return new Qu(Vu.max(),Uu.empty(),-1)}}function Zu(e,t){let i=e.readTime.compareTo(t.readTime);return 0!==i?i:(i=Uu.comparator(e.documentKey,t.documentKey),0!==i?i:Mu(e.largestBatchId,t.largestBatchId))}const Ju="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function eg(e){if(e.code!==Cu.FAILED_PRECONDITION||e.message!==Ju)throw e;gu("LocalStore","Unexpectedly lost primary lease")}class tg{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&vu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new tg(((i,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(i,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(i,n)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof tg?t:tg.resolve(t)}catch(e){return tg.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):tg.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):tg.reject(t)}static resolve(e){return new tg(((t,i)=>{t(e)}))}static reject(e){return new tg(((t,i)=>{i(e)}))}static waitFor(e){return new tg(((t,i)=>{let n=0,o=0,s=!1;e.forEach((e=>{++n,e.next((()=>{++o,s&&o===n&&t()}),(e=>i(e)))})),s=!0,o===n&&t()}))}static or(e){let t=tg.resolve(!1);for(const i of e)t=t.next((e=>e?tg.resolve(e):i()));return t}static forEach(e,t){const i=[];return e.forEach(((e,n)=>{i.push(t.call(this,e,n))})),this.waitFor(i)}static mapArray(e,t){return new tg(((i,n)=>{const o=e.length,s=new Array(o);let r=0;for(let a=0;a<o;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++r,r===o&&i(s)}),(e=>n(e)))}}))}static doWhile(e,t){return new tg(((i,n)=>{const o=()=>{!0===e()?t().next((()=>{o()}),n):i()};o()}))}}class ig{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new wu,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new sg(e,t.error)):this.P.resolve()},this.transaction.onerror=t=>{const i=cg(t.target.error);this.P.reject(new sg(e,i))}}static open(e,t,i,n){try{return new ig(t,e.transaction(n,i))}catch(e){throw new sg(t,e)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(gu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ag(t)}}class ng{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===ng.D(Lr())&&pu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return gu("SimpleDb","Removing database:",e),lg(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Er())return!1;if(ng.N())return!0;const e=Lr(),t=ng.D(e),i=0<t&&t<10,n=ng.k(e),o=0<n&&n<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}async F(e){return this.db||(gu("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,i)=>{const n=indexedDB.open(this.name,this.version);n.onsuccess=e=>{const i=e.target.result;t(i)},n.onblocked=()=>{i(new sg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},n.onerror=t=>{const n=t.target.error;"VersionError"===n.name?i(new yu(Cu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?i(new yu(Cu.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):i(new sg(e,n))},n.onupgradeneeded=e=>{gu("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.S.$(t,n.transaction,e.oldVersion,this.version).next((()=>{gu("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,n){const o="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.F(e);const t=ig.open(this.db,e,o?"readonly":"readwrite",i),s=n(t).next((e=>(t.V(),e))).catch((e=>(t.abort(e),tg.reject(e)))).toPromise();return s.catch((()=>{})),await t.v,s}catch(e){const t=e,i="FirebaseError"!==t.name&&s<3;if(gu("SimpleDb","Transaction failed with error:",t.message,"Retrying:",i),this.close(),!i)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class og{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return lg(this.U.delete())}}class sg extends yu{constructor(e,t){super(Cu.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function rg(e){return"IndexedDbTransactionError"===e.name}class ag{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(gu("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(gu("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),lg(i)}add(e){return gu("SimpleDb","ADD",this.store.name,e,e),lg(this.store.add(e))}get(e){return lg(this.store.get(e)).next((t=>(void 0===t&&(t=null),gu("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return gu("SimpleDb","DELETE",this.store.name,e),lg(this.store.delete(e))}count(){return gu("SimpleDb","COUNT",this.store.name),lg(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const e=this.cursor(i),t=[];return this.H(e,((e,i)=>{t.push(i)})).next((()=>t))}{const e=this.store.getAll(i.range);return new tg(((t,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new tg(((e,t)=>{i.onerror=e=>{t(e.target.error)},i.onsuccess=t=>{e(t.target.result)}}))}Y(e,t){gu("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const n=this.cursor(i);return this.H(n,((e,t,i)=>i.delete()))}Z(e,t){let i;t?i=e:(i={},t=e);const n=this.cursor(i);return this.H(n,t)}tt(e){const t=this.cursor({});return new tg(((i,n)=>{t.onerror=e=>{const t=cg(e.target.error);n(t)},t.onsuccess=t=>{const n=t.target.result;n?e(n.primaryKey,n.value).next((e=>{e?n.continue():i()})):i()}}))}H(e,t){const i=[];return new tg(((n,o)=>{e.onerror=e=>{o(e.target.error)},e.onsuccess=e=>{const o=e.target.result;if(!o)return void n();const s=new og(o),r=t(o.primaryKey,o.value,s);if(r instanceof tg){const e=r.catch((e=>(s.done(),tg.reject(e))));i.push(e)}s.isDone?n():null===s.G?o.continue():o.continue(s.G)}})).next((()=>tg.waitFor(i)))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function lg(e){return new tg(((t,i)=>{e.onsuccess=e=>{const i=e.target.result;t(i)},e.onerror=e=>{const t=cg(e.target.error);i(t)}}))}let dg=!1;function cg(e){const t=ng.D(Lr());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new yu("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dg||(dg=!0,setTimeout((()=>{throw e}),0)),e}}return e}class hg{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){gu("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{gu("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(e){rg(e)?gu("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await eg(e)}await this.nt(6e4)}))}}class ug{constructor(e,t){this.localStore=e,this.persistence=t}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.it(t,e)))}it(e,t){const i=new Set;let n=t,o=!0;return tg.doWhile((()=>!0===o&&n>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!i.has(t))return gu("IndexBackiller",`Processing collection: ${t}`),this.rt(e,t,n).next((e=>{n-=e,i.add(t)}));o=!1})))).next((()=>t-n))}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((n=>this.localStore.localDocuments.getNextDocuments(e,t,n,i).next((i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next((()=>this.ot(n,i))).next((i=>(gu("IndexBackiller",`Updating offset: ${i}`),this.localStore.indexManager.updateCollectionGroup(e,t,i)))).next((()=>o.size))}))))}ot(e,t){let i=e;return t.changes.forEach(((e,t)=>{const n=Yu(t);Zu(n,i)>0&&(i=n)})),new Qu(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class gg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ut(e),this.ct=e=>t.writeSequenceNumber(e))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function pg(e){let t=0;for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t++;return t}function mg(e,t){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function fg(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}gg.at=-1;class vg{constructor(e,t){this.comparator=e,this.root=t||bg.EMPTY}insert(e,t){return new vg(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bg.BLACK,null,null))}remove(e){return new vg(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bg.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const n=this.comparator(e,i.key);if(0===n)return t+i.left.size;n<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _g(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _g(this.root,e,this.comparator,!1)}getReverseIterator(){return new _g(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _g(this.root,e,this.comparator,!0)}}class _g{constructor(e,t,i,n){this.isReverse=n,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&n&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bg{constructor(e,t,i,n,o){this.key=e,this.value=t,this.color=null!=i?i:bg.RED,this.left=null!=n?n:bg.EMPTY,this.right=null!=o?o:bg.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,n,o){return new bg(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=n?n:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let n=this;const o=i(e,n.key);return n=o<0?n.copy(null,null,null,n.left.insert(e,t,i),null):0===o?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,i)),n.fixUp()}removeMin(){if(this.left.isEmpty())return bg.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,n=this;if(t(e,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return bg.EMPTY;i=n.right.min(),n=n.copy(i.key,i.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bg.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bg.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vu();if(this.right.isRed())throw vu();const e=this.left.check();if(e!==this.right.check())throw vu();return e+(this.isRed()?0:1)}}bg.EMPTY=null,bg.RED=!0,bg.BLACK=!1,bg.EMPTY=new class{constructor(){this.size=0}get key(){throw vu()}get value(){throw vu()}get color(){throw vu()}get left(){throw vu()}get right(){throw vu()}copy(e,t,i,n,o){return this}insert(e,t,i){return new bg(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cg{constructor(e){this.comparator=e,this.data=new vg(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const n=i.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yg(this.data.getIterator())}getIteratorFrom(e){return new yg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Cg))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=i.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Cg(this.comparator);return t.data=e,t}}class yg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wg(e){return e.hasNext()?e.getNext():void 0}class Sg{constructor(e){this.fields=e,e.sort(Bu.comparator)}static empty(){return new Sg([])}unionWith(e){let t=new Cg(Bu.comparator);for(const e of this.fields)t=t.add(e);for(const i of e)t=t.add(i);return new Sg(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ru(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class kg{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new kg(t)}static fromUint8Array(e){const t=function(e){let t="";for(let i=0;i<e.length;++i)t+=String.fromCharCode(e[i]);return t}(e);return new kg(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kg.EMPTY_BYTE_STRING=new kg("");const Lg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xg(e){if(_u(!!e),"string"==typeof e){let t=0;const i=Lg.exec(e);if(_u(!!i),i[1]){let e=i[1];e=(e+"000000000").substr(0,9),t=Number(e)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Ig(e.seconds),nanos:Ig(e.nanos)}}function Ig(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Dg(e){return"string"==typeof e?kg.fromBase64String(e):kg.fromUint8Array(e)}function Ng(e){var t,i;return"server_timestamp"===(null===(i=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Eg(e){const t=e.mapValue.fields.__previous_value__;return Ng(t)?Eg(t):t}function Ag(e){const t=xg(e.mapValue.fields.__local_write_time__.timestampValue);return new Ou(t.seconds,t.nanos)}class Tg{constructor(e,t,i,n,o,s,r,a){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=n,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=r,this.useFetchStreams=a}}class Mg{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mg&&e.projectId===this.projectId&&e.database===this.database}}function Rg(e){return null==e}function Pg(e){return 0===e&&1/e==-1/0}function Og(e){return"number"==typeof e&&Number.isInteger(e)&&!Pg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Vg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fg={nullValue:"NULL_VALUE"};function Wg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ng(e)?4:Xg(e)?9007199254740991:10:vu()}function zg(e,t){if(e===t)return!0;const i=Wg(e);if(i!==Wg(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ag(e).isEqual(Ag(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const i=xg(e.timestampValue),n=xg(t.timestampValue);return i.seconds===n.seconds&&i.nanos===n.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Dg(e.bytesValue).isEqual(Dg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ig(e.geoPointValue.latitude)===Ig(t.geoPointValue.latitude)&&Ig(e.geoPointValue.longitude)===Ig(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ig(e.integerValue)===Ig(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const i=Ig(e.doubleValue),n=Ig(t.doubleValue);return i===n?Pg(i)===Pg(n):isNaN(i)&&isNaN(n)}return!1}(e,t);case 9:return Ru(e.arrayValue.values||[],t.arrayValue.values||[],zg);case 10:return function(e,t){const i=e.mapValue.fields||{},n=t.mapValue.fields||{};if(pg(i)!==pg(n))return!1;for(const e in i)if(i.hasOwnProperty(e)&&(void 0===n[e]||!zg(i[e],n[e])))return!1;return!0}(e,t);default:return vu()}}function Bg(e,t){return void 0!==(e.values||[]).find((e=>zg(e,t)))}function Ug(e,t){if(e===t)return 0;const i=Wg(e),n=Wg(t);if(i!==n)return Mu(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mu(e.booleanValue,t.booleanValue);case 2:return function(e,t){const i=Ig(e.integerValue||e.doubleValue),n=Ig(t.integerValue||t.doubleValue);return i<n?-1:i>n?1:i===n?0:isNaN(i)?isNaN(n)?0:-1:1}(e,t);case 3:return Hg(e.timestampValue,t.timestampValue);case 4:return Hg(Ag(e),Ag(t));case 5:return Mu(e.stringValue,t.stringValue);case 6:return function(e,t){const i=Dg(e),n=Dg(t);return i.compareTo(n)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const i=e.split("/"),n=t.split("/");for(let e=0;e<i.length&&e<n.length;e++){const t=Mu(i[e],n[e]);if(0!==t)return t}return Mu(i.length,n.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const i=Mu(Ig(e.latitude),Ig(t.latitude));return 0!==i?i:Mu(Ig(e.longitude),Ig(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const i=e.values||[],n=t.values||[];for(let e=0;e<i.length&&e<n.length;++e){const t=Ug(i[e],n[e]);if(t)return t}return Mu(i.length,n.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Vg.mapValue&&t===Vg.mapValue)return 0;if(e===Vg.mapValue)return 1;if(t===Vg.mapValue)return-1;const i=e.fields||{},n=Object.keys(i),o=t.fields||{},s=Object.keys(o);n.sort(),s.sort();for(let e=0;e<n.length&&e<s.length;++e){const t=Mu(n[e],s[e]);if(0!==t)return t;const r=Ug(i[n[e]],o[s[e]]);if(0!==r)return r}return Mu(n.length,s.length)}(e.mapValue,t.mapValue);default:throw vu()}}function Hg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mu(e,t);const i=xg(e),n=xg(t),o=Mu(i.seconds,n.seconds);return 0!==o?o:Mu(i.nanos,n.nanos)}function Gg(e){return jg(e)}function jg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=xg(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Dg(e.bytesValue).toBase64():"referenceValue"in e?(i=e.referenceValue,Uu.fromName(i).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",i=!0;for(const n of e.values||[])i?i=!1:t+=",",t+=jg(n);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let i="{",n=!0;for(const o of t)n?n=!1:i+=",",i+=`${o}:${jg(e.fields[o])}`;return i+"}"}(e.mapValue):vu();var t,i}function Kg(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function $g(e){return!!e&&"integerValue"in e}function qg(e){return!!e&&"arrayValue"in e}function Yg(e){return!!e&&"nullValue"in e}function Qg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zg(e){return!!e&&"mapValue"in e}function Jg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return mg(e.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Jg(i))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(e.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Jg(e.arrayValue.values[i]);return t}return Object.assign({},e)}function Xg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ep(e){return"nullValue"in e?Fg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Kg(Mg.empty(),Uu.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:vu()}function tp(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Kg(Mg.empty(),Uu.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Vg:vu()}function ip(e,t){const i=Ug(e.value,t.value);return 0!==i?i:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function np(e,t){const i=Ug(e.value,t.value);return 0!==i?i:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class op{constructor(e){this.value=e}static empty(){return new op({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Zg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jg(t)}setAll(e){let t=Bu.emptyPath(),i={},n=[];e.forEach(((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,i,n),i={},n=[],t=o.popLast()}e?i[o.lastSegment()]=Jg(e):n.push(o.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,i,n)}delete(e){const t=this.field(e.popLast());Zg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zg(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let n=t.mapValue.fields[e.get(i)];Zg(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,i){mg(t,((t,i)=>e[t]=i));for(const t of i)delete e[t]}clone(){return new op(Jg(this.value))}}function sp(e){const t=[];return mg(e.fields,((e,i)=>{const n=new Bu([e]);if(Zg(i)){const e=sp(i.mapValue).fields;if(0===e.length)t.push(n);else for(const i of e)t.push(n.child(i))}else t.push(n)})),new Sg(t)}class rp{constructor(e,t,i,n,o,s){this.key=e,this.documentType=t,this.version=i,this.readTime=n,this.data=o,this.documentState=s}static newInvalidDocument(e){return new rp(e,0,Vu.min(),Vu.min(),op.empty(),0)}static newFoundDocument(e,t,i){return new rp(e,1,t,Vu.min(),i,0)}static newNoDocument(e,t){return new rp(e,2,t,Vu.min(),op.empty(),0)}static newUnknownDocument(e,t){return new rp(e,3,t,Vu.min(),op.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=op.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=op.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vu.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rp&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rp(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ap{constructor(e,t=null,i=[],n=[],o=null,s=null,r=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=n,this.limit=o,this.startAt=s,this.endAt=r,this.ht=null}}function lp(e,t=null,i=[],n=[],o=null,s=null,r=null){return new ap(e,t,i,n,o,s,r)}function dp(e){const t=bu(e);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>{return(t=e).field.canonicalString()+t.op.toString()+Gg(t.value);var t})).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Rg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Gg(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Gg(e))).join(",")),t.ht=e}return t.ht}function cp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!xp(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let o=0;o<e.filters.length;o++)if(i=e.filters[o],n=t.filters[o],i.op!==n.op||!i.field.isEqual(n.field)||!zg(i.value,n.value))return!1;var i,n;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Dp(e.startAt,t.startAt)&&Dp(e.endAt,t.endAt)}function hp(e){return Uu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function up(e,t){return e.filters.filter((e=>e instanceof mp&&e.field.isEqual(t)))}function gp(e,t,i){let n=Fg,o=!0;for(const i of up(e,t)){let e=Fg,t=!0;switch(i.op){case"<":case"<=":e=ep(i.value);break;case"==":case"in":case">=":e=i.value;break;case">":e=i.value,t=!1;break;case"!=":case"not-in":e=Fg}ip({value:n,inclusive:o},{value:e,inclusive:t})<0&&(n=e,o=t)}if(null!==i)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=i.position[s];ip({value:n,inclusive:o},{value:e,inclusive:i.inclusive})<0&&(n=e,o=i.inclusive);break}return{value:n,inclusive:o}}function pp(e,t,i){let n=Vg,o=!0;for(const i of up(e,t)){let e=Vg,t=!0;switch(i.op){case">=":case">":e=tp(i.value),t=!1;break;case"==":case"in":case"<=":e=i.value;break;case"<":e=i.value,t=!1;break;case"!=":case"not-in":e=Vg}np({value:n,inclusive:o},{value:e,inclusive:t})>0&&(n=e,o=t)}if(null!==i)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=i.position[s];np({value:n,inclusive:o},{value:e,inclusive:i.inclusive})>0&&(n=e,o=i.inclusive);break}return{value:n,inclusive:o}}class mp extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new fp(e,t,i):"array-contains"===t?new Cp(e,i):"in"===t?new yp(e,i):"not-in"===t?new wp(e,i):"array-contains-any"===t?new Sp(e,i):new mp(e,t,i)}static lt(e,t,i){return"in"===t?new vp(e,i):new _p(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ug(t,this.value)):null!==t&&Wg(this.value)===Wg(t)&&this.ft(Ug(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vu()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class fp extends mp{constructor(e,t,i){super(e,t,i),this.key=Uu.fromName(i.referenceValue)}matches(e){const t=Uu.comparator(e.key,this.key);return this.ft(t)}}class vp extends mp{constructor(e,t){super(e,"in",t),this.keys=bp(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class _p extends mp{constructor(e,t){super(e,"not-in",t),this.keys=bp(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function bp(e,t){var i;return((null===(i=t.arrayValue)||void 0===i?void 0:i.values)||[]).map((e=>Uu.fromName(e.referenceValue)))}class Cp extends mp{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qg(t)&&Bg(t.arrayValue,this.value)}}class yp extends mp{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bg(this.value.arrayValue,t)}}class wp extends mp{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Bg(this.value.arrayValue,t)}}class Sp extends mp{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Bg(this.value.arrayValue,e)))}}class kp{constructor(e,t){this.position=e,this.inclusive=t}}class Lp{constructor(e,t="asc"){this.field=e,this.dir=t}}function xp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ip(e,t,i){let n=0;for(let o=0;o<e.position.length;o++){const s=t[o],r=e.position[o];if(n=s.field.isKeyField()?Uu.comparator(Uu.fromName(r.referenceValue),i.key):Ug(r,i.data.field(s.field)),"desc"===s.dir&&(n*=-1),0!==n)break}return n}function Dp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let i=0;i<e.position.length;i++)if(!zg(e.position[i],t.position[i]))return!1;return!0}class Np{constructor(e,t=null,i=[],n=[],o=null,s="F",r=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=n,this.limit=o,this.limitType=s,this.startAt=r,this.endAt=a,this._t=null,this.wt=null,this.startAt,this.endAt}}function Ep(e,t,i,n,o,s,r,a){return new Np(e,t,i,n,o,s,r,a)}function Ap(e){return new Np(e)}function Tp(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Mp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Rp(e){for(const t of e.filters)if(t.dt())return t.field;return null}function Pp(e){return null!==e.collectionGroup}function Op(e){const t=bu(e);if(null===t._t){t._t=[];const e=Rp(t),i=Mp(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new Lp(e)),t._t.push(new Lp(Bu.keyField(),"asc"));else{let e=!1;for(const i of t.explicitOrderBy)t._t.push(i),i.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Lp(Bu.keyField(),e))}}}return t._t}function Vp(e){const t=bu(e);if(!t.wt)if("F"===t.limitType)t.wt=lp(t.path,t.collectionGroup,Op(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Op(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Lp(i.field,t))}const i=t.endAt?new kp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new kp(t.startAt.position,t.startAt.inclusive):null;t.wt=lp(t.path,t.collectionGroup,e,t.filters,t.limit,i,n)}return t.wt}function Fp(e,t,i){return new Np(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,i,e.startAt,e.endAt)}function Wp(e,t){return cp(Vp(e),Vp(t))&&e.limitType===t.limitType}function zp(e){return`${dp(Vp(e))}|lt:${e.limitType}`}function Bp(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Gg(t.value)}`;var t})).join(", ")}]`),Rg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Gg(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Gg(e))).join(",")),`Target(${t})`}(Vp(e))}; limitType=${e.limitType})`}function Up(e,t){return t.isFoundDocument()&&function(e,t){const i=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(i):Uu.isDocumentKey(e.path)?e.path.isEqual(i):e.path.isImmediateParentOf(i)}(e,t)&&function(e,t){for(const i of e.explicitOrderBy)if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1;return!0}(e,t)&&function(e,t){for(const i of e.filters)if(!i.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,i){const n=Ip(e,t,i);return e.inclusive?n<=0:n<0}(e.startAt,Op(e),t)||e.endAt&&!function(e,t,i){const n=Ip(e,t,i);return e.inclusive?n>=0:n>0}(e.endAt,Op(e),t))}(e,t)}function Hp(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Gp(e){return(t,i)=>{let n=!1;for(const o of Op(e)){const e=jp(o,t,i);if(0!==e)return e;n=n||o.field.isKeyField()}return 0}}function jp(e,t,i){const n=e.field.isKeyField()?Uu.comparator(t.key,i.key):function(e,t,i){const n=t.data.field(e),o=i.data.field(e);return null!==n&&null!==o?Ug(n,o):vu()}(e.field,t,i);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return vu()}}function Kp(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pg(t)?"-0":t}}function $p(e){return{integerValue:""+e}}function qp(e,t){return Og(t)?$p(t):Kp(e,t)}class Yp{constructor(){this._=void 0}}function Qp(e,t,i){return e instanceof Xp?function(e,t){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(i.fields.__previous_value__=t),{mapValue:i}}(i,t):e instanceof em?tm(e,t):e instanceof im?nm(e,t):function(e,t){const i=Jp(e,t),n=sm(i)+sm(e.yt);return $g(i)&&$g(e.yt)?$p(n):Kp(e.It,n)}(e,t)}function Zp(e,t,i){return e instanceof em?tm(e,t):e instanceof im?nm(e,t):i}function Jp(e,t){return e instanceof om?$g(i=t)||function(e){return!!e&&"doubleValue"in e}(i)?t:{integerValue:0}:null;var i}class Xp extends Yp{}class em extends Yp{constructor(e){super(),this.elements=e}}function tm(e,t){const i=rm(t);for(const t of e.elements)i.some((e=>zg(e,t)))||i.push(t);return{arrayValue:{values:i}}}class im extends Yp{constructor(e){super(),this.elements=e}}function nm(e,t){let i=rm(t);for(const t of e.elements)i=i.filter((e=>!zg(e,t)));return{arrayValue:{values:i}}}class om extends Yp{constructor(e,t){super(),this.It=e,this.yt=t}}function sm(e){return Ig(e.integerValue||e.doubleValue)}function rm(e){return qg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class am{constructor(e,t){this.field=e,this.transform=t}}class lm{constructor(e,t){this.version=e,this.transformResults=t}}class dm{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dm}static exists(e){return new dm(void 0,e)}static updateTime(e){return new dm(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class hm{}function um(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new wm(e.key,dm.none()):new vm(e.key,e.data,dm.none());{const i=e.data,n=op.empty();let o=new Cg(Bu.comparator);for(let e of t.fields)if(!o.has(e)){let t=i.field(e);null===t&&e.length>1&&(e=e.popLast(),t=i.field(e)),null===t?n.delete(e):n.set(e,t),o=o.add(e)}return new _m(e.key,n,new Sg(o.toArray()),dm.none())}}function gm(e,t,i){e instanceof vm?function(e,t,i){const n=e.value.clone(),o=Cm(e.fieldTransforms,t,i.transformResults);n.setAll(o),t.convertToFoundDocument(i.version,n).setHasCommittedMutations()}(e,t,i):e instanceof _m?function(e,t,i){if(!cm(e.precondition,t))return void t.convertToUnknownDocument(i.version);const n=Cm(e.fieldTransforms,t,i.transformResults),o=t.data;o.setAll(bm(e)),o.setAll(n),t.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(e,t,i):function(e,t,i){t.convertToNoDocument(i.version).setHasCommittedMutations()}(0,t,i)}function pm(e,t,i,n){return e instanceof vm?function(e,t,i,n){if(!cm(e.precondition,t))return i;const o=e.value.clone(),s=ym(e.fieldTransforms,n,t);return o.setAll(s),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null}(e,t,i,n):e instanceof _m?function(e,t,i,n){if(!cm(e.precondition,t))return i;const o=ym(e.fieldTransforms,n,t),s=t.data;return s.setAll(bm(e)),s.setAll(o),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===i?null:i.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,i,n):function(e,t,i){return cm(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):i}(e,t,i)}function mm(e,t){let i=null;for(const n of e.fieldTransforms){const e=t.data.field(n.field),o=Jp(n.transform,e||null);null!=o&&(null===i&&(i=op.empty()),i.set(n.field,o))}return i||null}function fm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ru(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof em&&t instanceof em||e instanceof im&&t instanceof im?Ru(e.elements,t.elements,zg):e instanceof om&&t instanceof om?zg(e.yt,t.yt):e instanceof Xp&&t instanceof Xp}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vm extends hm{constructor(e,t,i,n=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class _m extends hm{constructor(e,t,i,n,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=n,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bm(e){const t=new Map;return e.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const n=e.data.field(i);t.set(i,n)}})),t}function Cm(e,t,i){const n=new Map;_u(e.length===i.length);for(let o=0;o<i.length;o++){const s=e[o],r=s.transform,a=t.data.field(s.field);n.set(s.field,Zp(r,a,i[o]))}return n}function ym(e,t,i){const n=new Map;for(const o of e){const e=o.transform,s=i.data.field(o.field);n.set(o.field,Qp(e,s,t))}return n}class wm extends hm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sm extends hm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class km{constructor(e){this.count=e}}var Lm,xm;function Im(e){switch(e){default:return vu();case Cu.CANCELLED:case Cu.UNKNOWN:case Cu.DEADLINE_EXCEEDED:case Cu.RESOURCE_EXHAUSTED:case Cu.INTERNAL:case Cu.UNAVAILABLE:case Cu.UNAUTHENTICATED:return!1;case Cu.INVALID_ARGUMENT:case Cu.NOT_FOUND:case Cu.ALREADY_EXISTS:case Cu.PERMISSION_DENIED:case Cu.FAILED_PRECONDITION:case Cu.ABORTED:case Cu.OUT_OF_RANGE:case Cu.UNIMPLEMENTED:case Cu.DATA_LOSS:return!0}}function Dm(e){if(void 0===e)return pu("GRPC error has no .code"),Cu.UNKNOWN;switch(e){case Lm.OK:return Cu.OK;case Lm.CANCELLED:return Cu.CANCELLED;case Lm.UNKNOWN:return Cu.UNKNOWN;case Lm.DEADLINE_EXCEEDED:return Cu.DEADLINE_EXCEEDED;case Lm.RESOURCE_EXHAUSTED:return Cu.RESOURCE_EXHAUSTED;case Lm.INTERNAL:return Cu.INTERNAL;case Lm.UNAVAILABLE:return Cu.UNAVAILABLE;case Lm.UNAUTHENTICATED:return Cu.UNAUTHENTICATED;case Lm.INVALID_ARGUMENT:return Cu.INVALID_ARGUMENT;case Lm.NOT_FOUND:return Cu.NOT_FOUND;case Lm.ALREADY_EXISTS:return Cu.ALREADY_EXISTS;case Lm.PERMISSION_DENIED:return Cu.PERMISSION_DENIED;case Lm.FAILED_PRECONDITION:return Cu.FAILED_PRECONDITION;case Lm.ABORTED:return Cu.ABORTED;case Lm.OUT_OF_RANGE:return Cu.OUT_OF_RANGE;case Lm.UNIMPLEMENTED:return Cu.UNIMPLEMENTED;case Lm.DATA_LOSS:return Cu.DATA_LOSS;default:return vu()}}(xm=Lm||(Lm={}))[xm.OK=0]="OK",xm[xm.CANCELLED=1]="CANCELLED",xm[xm.UNKNOWN=2]="UNKNOWN",xm[xm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xm[xm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xm[xm.NOT_FOUND=5]="NOT_FOUND",xm[xm.ALREADY_EXISTS=6]="ALREADY_EXISTS",xm[xm.PERMISSION_DENIED=7]="PERMISSION_DENIED",xm[xm.UNAUTHENTICATED=16]="UNAUTHENTICATED",xm[xm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xm[xm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xm[xm.ABORTED=10]="ABORTED",xm[xm.OUT_OF_RANGE=11]="OUT_OF_RANGE",xm[xm.UNIMPLEMENTED=12]="UNIMPLEMENTED",xm[xm.INTERNAL=13]="INTERNAL",xm[xm.UNAVAILABLE=14]="UNAVAILABLE",xm[xm.DATA_LOSS=15]="DATA_LOSS";class Nm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[t,n]of i)if(this.equalsFn(t,e))return n}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),n=this.inner[i];if(void 0===n)return this.inner[i]=[[e,t]],void this.innerSize++;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return void(n[i]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],e))return 1===i.length?delete this.inner[t]:i.splice(n,1),this.innerSize--,!0;return!1}forEach(e){mg(this.inner,((t,i)=>{for(const[t,n]of i)e(t,n)}))}isEmpty(){return fg(this.inner)}size(){return this.innerSize}}const Em=new vg(Uu.comparator);function Am(){return Em}const Tm=new vg(Uu.comparator);function Mm(...e){let t=Tm;for(const i of e)t=t.insert(i.key,i);return t}function Rm(e){let t=Tm;return e.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Pm(){return Vm()}function Om(){return Vm()}function Vm(){return new Nm((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Fm=new vg(Uu.comparator),Wm=new Cg(Uu.comparator);function zm(...e){let t=Wm;for(const i of e)t=t.add(i);return t}const Bm=new Cg(Mu);function Um(){return Bm}class Hm{constructor(e,t,i,n,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=n,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const n=new Map;return n.set(e,Gm.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Hm(Vu.min(),n,Um(),Am(),zm())}}class Gm{constructor(e,t,i,n,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=n,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Gm(i,t,zm(),zm(),zm())}}class jm{constructor(e,t,i,n){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=n}}class Km{constructor(e,t){this.targetId=e,this.At=t}}class $m{constructor(e,t,i=kg.EMPTY_BYTE_STRING,n=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=n}}class qm{constructor(){this.Rt=0,this.bt=Zm(),this.Pt=kg.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=zm(),t=zm(),i=zm();return this.bt.forEach(((n,o)=>{switch(o){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:i=i.add(n);break;default:vu()}})),new Gm(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=Zm()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Ym{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Am(),this.qt=Qm(),this.Kt=new Cg(Mu)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,(t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:vu()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach(((e,i)=>{this.Ht(i)&&t(i)}))}Yt(e){const t=e.targetId,i=e.At.count,n=this.Xt(t);if(n){const e=n.target;if(hp(e))if(0===i){const i=new Uu(e.path);this.jt(t,i,rp.newNoDocument(i,Vu.min()))}else _u(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach(((i,n)=>{const o=this.Xt(n);if(o){if(i.current&&hp(o.target)){const t=new Uu(o.target.path);null!==this.Ut.get(t)||this.ee(n,t)||this.jt(n,t,rp.newNoDocument(t,e))}i.Dt&&(t.set(n,i.xt()),i.Nt())}}));let i=zm();this.qt.forEach(((e,t)=>{let n=!0;t.forEachWhile((e=>{const t=this.Xt(e);return!t||2===t.purpose||(n=!1,!1)})),n&&(i=i.add(e))})),this.Ut.forEach(((t,i)=>i.setReadTime(e)));const n=new Hm(e,t,this.Kt,this.Ut,i);return this.Ut=Am(),this.qt=Qm(),this.Kt=new Cg(Mu),n}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const n=this.zt(e);this.ee(e,t)?n.kt(t,1):n.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new qm,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Cg(Mu),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||gu("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new qm),this.Bt.getRemoteKeysForTarget(e).forEach((t=>{this.jt(e,t,null)}))}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Qm(){return new vg(Uu.comparator)}function Zm(){return new vg(Uu.comparator)}const Jm={asc:"ASCENDING",desc:"DESCENDING"},Xm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ef{constructor(e,t){this.databaseId=e,this.gt=t}}function tf(e,t){return e.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nf(e,t){return e.gt?t.toBase64():t.toUint8Array()}function of(e,t){return tf(e,t.toTimestamp())}function sf(e){return _u(!!e),Vu.fromTimestamp(function(e){const t=xg(e);return new Ou(t.seconds,t.nanos)}(e))}function rf(e,t){return function(e){return new Wu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function af(e){const t=Wu.fromString(e);return _u(Nf(t)),t}function lf(e,t){return rf(e.databaseId,t.path)}function df(e,t){const i=af(t);if(i.get(1)!==e.databaseId.projectId)throw new yu(Cu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+e.databaseId.projectId);if(i.get(3)!==e.databaseId.database)throw new yu(Cu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+e.databaseId.database);return new Uu(gf(i))}function cf(e,t){return rf(e.databaseId,t)}function hf(e){const t=af(e);return 4===t.length?Wu.emptyPath():gf(t)}function uf(e){return new Wu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gf(e){return _u(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pf(e,t,i){return{name:lf(e,t),fields:i.value.mapValue.fields}}function mf(e,t,i){const n=df(e,t.name),o=sf(t.updateTime),s=new op({mapValue:{fields:t.fields}}),r=rp.newFoundDocument(n,o,s);return i&&r.setHasCommittedMutations(),i?r.setHasCommittedMutations():r}function ff(e,t){let i;if(t instanceof vm)i={update:pf(e,t.key,t.value)};else if(t instanceof wm)i={delete:lf(e,t.key)};else if(t instanceof _m)i={update:pf(e,t.key,t.data),updateMask:Df(t.fieldMask)};else{if(!(t instanceof Sm))return vu();i={verify:lf(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const i=t.transform;if(i instanceof Xp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(i instanceof em)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:i.elements}};if(i instanceof im)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:i.elements}};if(i instanceof om)return{fieldPath:t.field.canonicalString(),increment:i.yt};throw vu()}(0,e)))),t.precondition.isNone||(i.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:of(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:vu()}(e,t.precondition)),i}function vf(e,t){const i=t.currentDocument?function(e){return void 0!==e.updateTime?dm.updateTime(sf(e.updateTime)):void 0!==e.exists?dm.exists(e.exists):dm.none()}(t.currentDocument):dm.none(),n=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let i=null;if("setToServerValue"in t)_u("REQUEST_TIME"===t.setToServerValue),i=new Xp;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];i=new em(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];i=new im(e)}else"increment"in t?i=new om(e,t.increment):vu();const n=Bu.fromServerFormat(t.fieldPath);return new am(n,i)}(e,t))):[];if(t.update){t.update.name;const o=df(e,t.update.name),s=new op({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Sg(t.map((e=>Bu.fromServerFormat(e))))}(t.updateMask);return new _m(o,s,e,i,n)}return new vm(o,s,i,n)}if(t.delete){const n=df(e,t.delete);return new wm(n,i)}if(t.verify){const n=df(e,t.verify);return new Sm(n,i)}return vu()}function _f(e,t){return{documents:[cf(e,t.path)]}}function bf(e,t){const i={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(i.parent=cf(e,n),i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i.parent=cf(e,n.popLast()),i.structuredQuery.from=[{collectionId:n.lastSegment()}]);const o=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Qg(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NAN"}};if(Yg(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Qg(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NOT_NAN"}};if(Yg(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kf(e.field),op:Sf(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);o&&(i.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:kf(e.field),direction:wf(e.dir)}}(e)))}(t.orderBy);s&&(i.structuredQuery.orderBy=s);const r=function(e,t){return e.gt||Rg(t)?t:{value:t}}(e,t.limit);var a;return null!==r&&(i.structuredQuery.limit=r),t.startAt&&(i.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(i.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),i}function Cf(e){let t=hf(e.parent);const i=e.structuredQuery,n=i.from?i.from.length:0;let o=null;if(n>0){_u(1===n);const e=i.from[0];e.allDescendants?o=e.collectionId:t=t.child(e.collectionId)}let s=[];i.where&&(s=yf(i.where));let r=[];i.orderBy&&(r=i.orderBy.map((e=>function(e){return new Lp(Lf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;i.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Rg(t)?null:t}(i.limit));let l=null;i.startAt&&(l=function(e){const t=!!e.before,i=e.values||[];return new kp(i,t)}(i.startAt));let d=null;return i.endAt&&(d=function(e){const t=!e.before,i=e.values||[];return new kp(i,t)}(i.endAt)),Ep(t,o,r,s,a,"F",l,d)}function yf(e){return e?void 0!==e.unaryFilter?[If(e)]:void 0!==e.fieldFilter?[xf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>yf(e))).reduce(((e,t)=>e.concat(t))):vu():[]}function wf(e){return Jm[e]}function Sf(e){return Xm[e]}function kf(e){return{fieldPath:e.canonicalString()}}function Lf(e){return Bu.fromServerFormat(e.fieldPath)}function xf(e){return mp.create(Lf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vu()}}(e.fieldFilter.op),e.fieldFilter.value)}function If(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Lf(e.unaryFilter.field);return mp.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Lf(e.unaryFilter.field);return mp.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=Lf(e.unaryFilter.field);return mp.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Lf(e.unaryFilter.field);return mp.create(o,"!=",{nullValue:"NULL_VALUE"});default:return vu()}}function Df(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Nf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ef(e){let t="";for(let i=0;i<e.length;i++)t.length>0&&(t=Tf(t)),t=Af(e.get(i),t);return Tf(t)}function Af(e,t){let i=t;const n=e.length;for(let t=0;t<n;t++){const n=e.charAt(t);switch(n){case"\0":i+="";break;case"":i+="";break;default:i+=n}}return i}function Tf(e){return e+""}function Mf(e){const t=e.length;if(_u(t>=2),2===t)return _u(""===e.charAt(0)&&""===e.charAt(1)),Wu.emptyPath();const i=t-2,n=[];let o="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>i)&&vu(),e.charAt(t+1)){case"":const i=e.substring(s,t);let r;0===o.length?r=i:(o+=i,r=o,o=""),n.push(r);break;case"":o+=e.substring(s,t),o+="\0";break;case"":o+=e.substring(s,t+1);break;default:vu()}s=t+2}return new Wu(n)}const Rf=["userId","batchId"];function Pf(e,t){return[e,Ef(t)]}function Of(e,t,i){return[e,Ef(t),i]}const Vf={},Ff=["prefixPath","collectionGroup","readTime","documentId"],Wf=["prefixPath","collectionGroup","documentId"],zf=["collectionGroup","readTime","prefixPath","documentId"],Bf=["canonicalId","targetId"],Uf=["targetId","path"],Hf=["path","targetId"],Gf=["collectionId","parent"],jf=["indexId","uid"],Kf=["uid","sequenceNumber"],$f=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qf=["indexId","uid","orderedDocumentKey"],Yf=["userId","collectionPath","documentId"],Qf=["userId","collectionPath","largestBatchId"],Zf=["userId","collectionGroup","largestBatchId"],Jf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Xf=[...Jf,"documentOverlays"],ev=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tv=ev,iv=[...tv,"indexConfiguration","indexState","indexEntries"];class nv extends Xu{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function ov(e,t){const i=bu(e);return ng.M(i.ie,t)}class sv{constructor(e,t,i,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=n}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const n=this.mutations[t];n.key.isEqual(e.key)&&gm(n,e,i[t])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=pm(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=pm(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Om();return this.mutations.forEach((n=>{const o=e.get(n.key),s=o.overlayedDocument;let r=this.applyToLocalView(s,o.mutatedFields);r=t.has(n.key)?null:r;const a=um(s,r);null!==a&&i.set(n.key,a),s.isValidDocument()||s.convertToNoDocument(Vu.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),zm())}isEqual(e){return this.batchId===e.batchId&&Ru(this.mutations,e.mutations,((e,t)=>fm(e,t)))&&Ru(this.baseMutations,e.baseMutations,((e,t)=>fm(e,t)))}}class rv{constructor(e,t,i,n){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=n}static from(e,t,i){_u(e.mutations.length===i.length);let n=Fm;const o=e.mutations;for(let e=0;e<o.length;e++)n=n.insert(o[e].key,i[e].version);return new rv(e,t,i,n)}}class av{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lv{constructor(e,t,i,n,o=Vu.min(),s=Vu.min(),r=kg.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=n,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=r}withSequenceNumber(e){return new lv(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new lv(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new lv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class dv{constructor(e){this.re=e}}function cv(e,t){const i=t.key,n={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:hv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())n.document=function(e,t){return{name:lf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:tf(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())n.noDocument={path:i.path.toArray(),readTime:uv(t.version)};else{if(!t.isUnknownDocument())return vu();n.unknownDocument={path:i.path.toArray(),version:uv(t.version)}}return n}function hv(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function uv(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function gv(e){const t=new Ou(e.seconds,e.nanoseconds);return Vu.fromTimestamp(t)}function pv(e,t){const i=(t.baseMutations||[]).map((t=>vf(e.re,t)));for(let e=0;e<t.mutations.length-1;++e){const i=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const n=t.mutations[e+1];i.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const n=t.mutations.map((t=>vf(e.re,t))),o=Ou.fromMillis(t.localWriteTimeMs);return new sv(t.batchId,o,i,n)}function mv(e){const t=gv(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?gv(e.lastLimboFreeSnapshotVersion):Vu.min();let n;var o;return void 0!==e.query.documents?(_u(1===(o=e.query).documents.length),n=Vp(Ap(hf(o.documents[0])))):n=function(e){return Vp(Cf(e))}(e.query),new lv(n,e.targetId,0,e.lastListenSequenceNumber,t,i,kg.fromBase64String(e.resumeToken))}function fv(e,t){const i=uv(t.snapshotVersion),n=uv(t.lastLimboFreeSnapshotVersion);let o;o=hp(t.target)?_f(e.re,t.target):bf(e.re,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:dp(t.target),readTime:i,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:o}}function vv(e){const t=Cf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Fp(t,t.limit,"L"):t}function _v(e,t){return new av(t.largestBatchId,vf(e.re,t.overlayMutation))}function bv(e,t){const i=t.path.lastSegment();return[e,Ef(t.path.popLast()),i]}function Cv(e,t,i,n){return{indexId:e,uid:t.uid||"",sequenceNumber:i,readTime:uv(n.readTime),documentKey:Ef(n.documentKey.path),largestBatchId:n.largestBatchId}}class yv{getBundleMetadata(e,t){return wv(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:gv(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return wv(e).put({bundleId:(i=t).id,createTime:uv(sf(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return Sv(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:vv(t.bundledQuery),readTime:gv(t.readTime)};var t}))}saveNamedQuery(e,t){return Sv(e).put(function(e){return{name:e.name,readTime:uv(sf(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function wv(e){return ov(e,"bundles")}function Sv(e){return ov(e,"namedQueries")}class kv{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){const i=t.uid||"";return new kv(e,i)}getOverlay(e,t){return Lv(e).get(bv(this.userId,t)).next((e=>e?_v(this.It,e):null))}getOverlays(e,t){const i=Pm();return tg.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&i.set(t,e)})))).next((()=>i))}saveOverlays(e,t,i){const n=[];return i.forEach(((i,o)=>{const s=new av(t,o);n.push(this.ue(e,s))})),tg.waitFor(n)}removeOverlaysForBatchId(e,t,i){const n=new Set;t.forEach((e=>n.add(Ef(e.getCollectionPath()))));const o=[];return n.forEach((t=>{const n=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,i+1],!1,!0);o.push(Lv(e).Y("collectionPathOverlayIndex",n))})),tg.waitFor(o)}getOverlaysForCollection(e,t,i){const n=Pm(),o=Ef(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Lv(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=_v(this.It,t);n.set(e.getKey(),e)}return n}))}getOverlaysForCollectionGroup(e,t,i,n){const o=Pm();let s;const r=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Lv(e).Z({index:"collectionGroupOverlayIndex",range:r},((e,t,i)=>{const r=_v(this.It,t);o.size()<n||r.largestBatchId===s?(o.set(r.getKey(),r),s=r.largestBatchId):i.done()})).next((()=>o))}ue(e,t){return Lv(e).put(function(e,t,i){const[n,o,s]=bv(t,i.mutation.key);return{userId:t,collectionPath:o,documentId:s,collectionGroup:i.mutation.key.getCollectionGroup(),largestBatchId:i.largestBatchId,overlayMutation:ff(e.re,i.mutation)}}(this.It,this.userId,t))}}function Lv(e){return ov(e,"documentOverlays")}class xv{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ig(e.integerValue));else if("doubleValue"in e){const i=Ig(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),Pg(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Dg(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Xg(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):vu()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const e of Object.keys(i))this._e(e,t),this.ae(i[e],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const e of i)this.ae(e,t)}ge(e,t){this.le(t,37),Uu.fromName(e).path.forEach((e=>{this.le(t,60),this.Ie(e,t)}))}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Iv(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Dv(e){const t=64-function(e){let t=0;for(let i=0;i<8;++i){const n=Iv(255&e[i]);if(t+=n,8!==n)break}return t}(e);return Math.ceil(t/8)}xv.Te=new xv;class Nv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ae(e);else if(e<2048)this.Ae(960|e>>>6),this.Ae(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|e>>>12),this.Ae(128|63&e>>>6),this.Ae(128|63&e);else{const e=t.codePointAt(0);this.Ae(240|e>>>18),this.Ae(128|63&e>>>12),this.Ae(128|63&e>>>6),this.Ae(128|63&e)}}this.Re()}Se(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Pe(e);else if(e<2048)this.Pe(960|e>>>6),this.Pe(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|e>>>12),this.Pe(128|63&e>>>6),this.Pe(128|63&e);else{const e=t.codePointAt(0);this.Pe(240|e>>>18),this.Pe(128|63&e>>>12),this.Pe(128|63&e>>>6),this.Pe(128|63&e)}}this.ve()}De(e){const t=this.Ce(e),i=Dv(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let e=t.length-i;e<t.length;++e)this.buffer[this.position++]=255&t[e]}Ne(e){const t=this.Ce(e),i=Dv(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let e=t.length-i;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let e=1;e<t.length;++e)t[e]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const n=new Uint8Array(i);n.set(this.buffer),this.buffer=n}}class Ev{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Av{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Tv{constructor(){this.Be=new Nv,this.Le=new Ev(this.Be),this.Ue=new Av(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Mv{constructor(e,t,i,n){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=n}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Mv(this.indexId,this.documentKey,this.arrayValue,i)}}function Rv(e,t){let i=e.indexId-t.indexId;return 0!==i?i:(i=Pv(e.arrayValue,t.arrayValue),0!==i?i:(i=Pv(e.directionalValue,t.directionalValue),0!==i?i:Uu.comparator(e.documentKey,t.documentKey)))}function Pv(e,t){for(let i=0;i<e.length&&i<t.length;++i){const n=e[i]-t[i];if(0!==n)return n}return e.length-t.length}class Ov{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const e=t;e.dt()?this.je=e:this.Qe.push(e)}}We(e){const t=Gu(e);if(void 0!==t&&!this.ze(t))return!1;const i=ju(e);let n=0,o=0;for(;n<i.length&&this.ze(i[n]);++n);if(n===i.length)return!0;if(void 0!==this.je){const e=i[n];if(!this.He(this.je,e)||!this.Je(this.Ge[o++],e))return!1;++n}for(;n<i.length;++n){const e=i[n];if(o>=this.Ge.length||!this.Je(this.Ge[o++],e))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const i="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===i}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Vv{constructor(){this.Ye=new Fv}addToCollectionParentIndex(e,t){return this.Ye.add(t),tg.resolve()}getCollectionParents(e,t){return tg.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return tg.resolve()}deleteFieldIndex(e,t){return tg.resolve()}getDocumentsMatchingTarget(e,t){return tg.resolve(null)}getIndexType(e,t){return tg.resolve(0)}getFieldIndexes(e,t){return tg.resolve([])}getNextCollectionGroupToUpdate(e){return tg.resolve(null)}getMinOffset(e,t){return tg.resolve(Qu.min())}getMinOffsetFromCollectionGroup(e,t){return tg.resolve(Qu.min())}updateCollectionGroup(e,t,i){return tg.resolve()}updateIndexEntries(e,t){return tg.resolve()}}class Fv{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),n=this.index[t]||new Cg(Wu.comparator),o=!n.has(i);return this.index[t]=n.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),n=this.index[t];return n&&n.has(i)}getEntries(e){return(this.index[e]||new Cg(Wu.comparator)).toArray()}}const Wv=new Uint8Array(0);class zv{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Fv,this.Ze=new Nm((e=>dp(e)),((e,t)=>cp(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),n=t.popLast();e.addOnCommittedListener((()=>{this.Xe.add(t)}));const o={collectionId:i,parent:Ef(n)};return Bv(e).put(o)}return tg.resolve()}getCollectionParents(e,t){const i=[],n=IDBKeyRange.bound([t,""],[Pu(t),""],!1,!0);return Bv(e).W(n).next((e=>{for(const n of e){if(n.collectionId!==t)break;i.push(Mf(n.parent))}return i}))}addFieldIndex(e,t){const i=Hv(e),n=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete n.indexId;const o=i.add(n);if(t.indexState){const i=Gv(e);return o.next((e=>{i.put(Cv(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const i=Hv(e),n=Gv(e),o=Uv(e);return i.delete(t.indexId).next((()=>n.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const i=Uv(e);let n=!0;const o=new Map;return tg.forEach(this.tn(t),(t=>this.en(e,t).next((e=>{n&&(n=!!e),o.set(t,e)})))).next((()=>{if(n){let e=zm();const n=[];return tg.forEach(o,((o,s)=>{var r;gu("IndexedDbIndexManager",`Using index ${r=o,`id=${r.indexId}|cg=${r.collectionGroup}|f=${r.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`} to execute ${dp(t)}`);const a=function(e,t){const i=Gu(t);if(void 0===i)return null;for(const t of up(e,i.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}(s,o),l=function(e,t){const i=new Map;for(const n of ju(t))for(const t of up(e,n.fieldPath))switch(t.op){case"==":case"in":i.set(n.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return i.set(n.fieldPath.canonicalString(),t.value),Array.from(i.values())}return null}(s,o),d=function(e,t){const i=[];let n=!0;for(const o of ju(t)){const t=0===o.kind?gp(e,o.fieldPath,e.startAt):pp(e,o.fieldPath,e.startAt);i.push(t.value),n&&(n=t.inclusive)}return new kp(i,n)}(s,o),c=function(e,t){const i=[];let n=!0;for(const o of ju(t)){const t=0===o.kind?pp(e,o.fieldPath,e.endAt):gp(e,o.fieldPath,e.endAt);i.push(t.value),n&&(n=t.inclusive)}return new kp(i,n)}(s,o),h=this.nn(o,s,d),u=this.nn(o,s,c),g=this.sn(o,s,l),p=this.rn(o.indexId,a,h,d.inclusive,u,c.inclusive,g);return tg.forEach(p,(o=>i.J(o,t.limit).next((t=>{t.forEach((t=>{const i=Uu.fromSegments(t.documentKey);e.has(i)||(e=e.add(i),n.push(i))}))}))))})).next((()=>n))}return tg.resolve(null)}))}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,n,o,s,r){const a=(null!=t?t.length:1)*Math.max(i.length,o.length),l=a/(null!=t?t.length:1),d=[];for(let c=0;c<a;++c){const a=t?this.on(t[c/l]):Wv,h=this.un(e,a,i[c%l],n),u=this.cn(e,a,o[c%l],s),g=r.map((t=>this.un(e,a,t,!0)));d.push(...this.createRange(h,u,g))}return d}un(e,t,i,n){const o=new Mv(e,Uu.empty(),t,i);return n?o:o.Ke()}cn(e,t,i,n){const o=new Mv(e,Uu.empty(),t,i);return n?o.Ke():o}en(e,t){const i=new Ov(t),n=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,n).next((e=>{let t=null;for(const n of e)i.We(n)&&(!t||n.fields.length>t.fields.length)&&(t=n);return t}))}getIndexType(e,t){let i=2;return tg.forEach(this.tn(t),(t=>this.en(e,t).next((e=>{e?0!==i&&e.fields.length<function(e){let t=new Cg(Bu.comparator),i=!1;for(const n of e.filters){const e=n;e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?i=!0:t=t.add(e.field))}for(const i of e.orderBy)i.field.isKeyField()||(t=t.add(i.field));return t.size+(i?1:0)}(t)&&(i=1):i=0})))).next((()=>i))}an(e,t){const i=new Tv;for(const n of ju(e)){const e=t.data.field(n.fieldPath);if(null==e)return null;const o=i.qe(n.kind);xv.Te.ce(e,o)}return i.$e()}on(e){const t=new Tv;return xv.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new Tv;return xv.Te.ce(Kg(this.databaseId,t),i.qe(function(e){const t=ju(e);return 0===t.length?0:t[t.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let n=[];n.push(new Tv);let o=0;for(const s of ju(e)){const e=i[o++];for(const i of n)if(this.ln(t,s.fieldPath)&&qg(e))n=this.fn(n,s,e);else{const t=i.qe(s.kind);xv.Te.ce(e,t)}}return this.dn(n)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const n=[...e],o=[];for(const e of i.arrayValue.values||[])for(const i of n){const n=new Tv;n.seed(i.$e()),xv.Te.ce(e,n.qe(t.kind)),o.push(n)}return o}ln(e,t){return!!e.filters.find((e=>e instanceof mp&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const i=Hv(e),n=Gv(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next((e=>{const t=[];return tg.forEach(e,(e=>n.get([e.indexId,this.uid]).next((i=>{t.push(function(e,t){const i=t?new $u(t.sequenceNumber,new Qu(gv(t.readTime),new Uu(Mf(t.documentKey)),t.largestBatchId)):$u.empty(),n=e.fields.map((([e,t])=>new Ku(Bu.fromServerFormat(e),t)));return new Hu(e.indexId,e.collectionGroup,n,i)}(e,i))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const i=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==i?i:Mu(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,i){const n=Hv(e),o=Gv(e);return this._n(e).next((e=>n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>tg.forEach(t,(t=>o.put(Cv(t.indexId,this.user,e,i))))))))}updateIndexEntries(e,t){const i=new Map;return tg.forEach(t,((t,n)=>{const o=i.get(t.collectionGroup);return(o?tg.resolve(o):this.getFieldIndexes(e,t.collectionGroup)).next((o=>(i.set(t.collectionGroup,o),tg.forEach(o,(i=>this.wn(e,t,i).next((t=>{const o=this.mn(n,i);return t.isEqual(o)?tg.resolve():this.gn(e,n,i,t,o)})))))))}))}yn(e,t,i,n){return Uv(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,n){return Uv(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const n=Uv(e);let o=new Cg(Rv);return n.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},((e,n)=>{o=o.add(new Mv(i.indexId,t,n.arrayValue,n.directionalValue))})).next((()=>o))}mn(e,t){let i=new Cg(Rv);const n=this.an(t,e);if(null==n)return i;const o=Gu(t);if(null!=o){const s=e.data.field(o.fieldPath);if(qg(s))for(const o of s.arrayValue.values||[])i=i.add(new Mv(t.indexId,e.key,this.on(o),n))}else i=i.add(new Mv(t.indexId,e.key,Wv,n));return i}gn(e,t,i,n,o){gu("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,i,n,o){const s=e.getIterator(),r=t.getIterator();let a=wg(s),l=wg(r);for(;a||l;){let e=!1,t=!1;if(a&&l){const n=i(a,l);n<0?t=!0:n>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(n(l),l=wg(r)):t?(o(a),a=wg(s)):(a=wg(s),l=wg(r))}}(n,o,Rv,(n=>{s.push(this.yn(e,t,i,n))}),(n=>{s.push(this.pn(e,t,i,n))})),tg.waitFor(s)}_n(e){let t=1;return Gv(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,i,n)=>{n.done(),t=i.sequenceNumber+1})).next((()=>t))}createRange(e,t,i){i=i.sort(((e,t)=>Rv(e,t))).filter(((e,t,i)=>!t||0!==Rv(e,i[t-1])));const n=[];n.push(e);for(const o of i){const i=Rv(o,e),s=Rv(o,t);if(0===i)n[0]=e.Ke();else if(i>0&&s<0)n.push(o),n.push(o.Ke());else if(s>0)break}n.push(t);const o=[];for(let e=0;e<n.length;e+=2)o.push(IDBKeyRange.bound([n[e].indexId,this.uid,n[e].arrayValue,n[e].directionalValue,Wv,[]],[n[e+1].indexId,this.uid,n[e+1].arrayValue,n[e+1].directionalValue,Wv,[]]));return o}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(jv)}getMinOffset(e,t){return tg.mapArray(this.tn(t),(t=>this.en(e,t).next((e=>e||vu())))).next(jv)}}function Bv(e){return ov(e,"collectionParents")}function Uv(e){return ov(e,"indexEntries")}function Hv(e){return ov(e,"indexConfiguration")}function Gv(e){return ov(e,"indexState")}function jv(e){_u(0!==e.length);let t=e[0].indexState.offset,i=t.largestBatchId;for(let n=1;n<e.length;n++){const o=e[n].indexState.offset;Zu(o,t)<0&&(t=o),i<o.largestBatchId&&(i=o.largestBatchId)}return new Qu(t.readTime,t.documentKey,i)}const Kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $v{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new $v(e,$v.DEFAULT_COLLECTION_PERCENTILE,$v.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qv(e,t,i){const n=e.store("mutations"),o=e.store("documentMutations"),s=[],r=IDBKeyRange.only(i.batchId);let a=0;const l=n.Z({range:r},((e,t,i)=>(a++,i.delete())));s.push(l.next((()=>{_u(1===a)})));const d=[];for(const e of i.mutations){const n=Of(t,e.key.path,i.batchId);s.push(o.delete(n)),d.push(e.key)}return tg.waitFor(s).next((()=>d))}function Yv(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw vu();t=e.noDocument}return JSON.stringify(t).length}$v.DEFAULT_COLLECTION_PERCENTILE=10,$v.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$v.DEFAULT=new $v(41943040,$v.DEFAULT_COLLECTION_PERCENTILE,$v.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$v.DISABLED=new $v(-1,0,0);class Qv{constructor(e,t,i,n){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=n,this.In={}}static oe(e,t,i,n){_u(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new Qv(o,t,i,n)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jv(e).Z({index:"userMutationsIndex",range:i},((e,i,n)=>{t=!1,n.done()})).next((()=>t))}addMutationBatch(e,t,i,n){const o=Xv(e),s=Jv(e);return s.add({}).next((r=>{_u("number"==typeof r);const a=new sv(r,t,i,n),l=function(e,t,i){const n=i.baseMutations.map((t=>ff(e.re,t))),o=i.mutations.map((t=>ff(e.re,t)));return{userId:t,batchId:i.batchId,localWriteTimeMs:i.localWriteTime.toMillis(),baseMutations:n,mutations:o}}(this.It,this.userId,a),d=[];let c=new Cg(((e,t)=>Mu(e.canonicalString(),t.canonicalString())));for(const e of n){const t=Of(this.userId,e.key.path,r);c=c.add(e.key.path.popLast()),d.push(s.put(l)),d.push(o.put(t,Vf))}return c.forEach((t=>{d.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.In[r]=a.keys()})),tg.waitFor(d).next((()=>a))}))}lookupMutationBatch(e,t){return Jv(e).get(t).next((e=>e?(_u(e.userId===this.userId),pv(this.It,e)):null))}Tn(e,t){return this.In[t]?tg.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const i=e.keys();return this.In[t]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,n=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Jv(e).Z({index:"userMutationsIndex",range:n},((e,t,n)=>{t.userId===this.userId&&(_u(t.batchId>=i),o=pv(this.It,t)),n.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Jv(e).Z({index:"userMutationsIndex",range:t,reverse:!0},((e,t,n)=>{i=t.batchId,n.done()})).next((()=>i))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jv(e).W("userMutationsIndex",t).next((e=>e.map((e=>pv(this.It,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Pf(this.userId,t.path),n=IDBKeyRange.lowerBound(i),o=[];return Xv(e).Z({range:n},((i,n,s)=>{const[r,a,l]=i,d=Mf(a);if(r===this.userId&&t.path.isEqual(d))return Jv(e).get(l).next((e=>{if(!e)throw vu();_u(e.userId===this.userId),o.push(pv(this.It,e))}));s.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Cg(Mu);const n=[];return t.forEach((t=>{const o=Pf(this.userId,t.path),s=IDBKeyRange.lowerBound(o),r=Xv(e).Z({range:s},((e,n,o)=>{const[s,r,a]=e,l=Mf(r);s===this.userId&&t.path.isEqual(l)?i=i.add(a):o.done()}));n.push(r)})),tg.waitFor(n).next((()=>this.En(e,i)))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,n=i.length+1,o=Pf(this.userId,i),s=IDBKeyRange.lowerBound(o);let r=new Cg(Mu);return Xv(e).Z({range:s},((e,t,o)=>{const[s,a,l]=e,d=Mf(a);s===this.userId&&i.isPrefixOf(d)?d.length===n&&(r=r.add(l)):o.done()})).next((()=>this.En(e,r)))}En(e,t){const i=[],n=[];return t.forEach((t=>{n.push(Jv(e).get(t).next((e=>{if(null===e)throw vu();_u(e.userId===this.userId),i.push(pv(this.It,e))})))})),tg.waitFor(n).next((()=>i))}removeMutationBatch(e,t){return qv(e.ie,this.userId,t).next((i=>(e.addOnCommittedListener((()=>{this.An(t.batchId)})),tg.forEach(i,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return tg.resolve();const i=IDBKeyRange.lowerBound([this.userId]),n=[];return Xv(e).Z({range:i},((e,t,i)=>{if(e[0]===this.userId){const t=Mf(e[1]);n.push(t)}else i.done()})).next((()=>{_u(0===n.length)}))}))}containsKey(e,t){return Zv(e,this.userId,t)}Rn(e){return e_(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Zv(e,t,i){const n=Pf(t,i.path),o=n[1],s=IDBKeyRange.lowerBound(n);let r=!1;return Xv(e).Z({range:s,X:!0},((e,i,n)=>{const[s,a,l]=e;s===t&&a===o&&(r=!0),n.done()})).next((()=>r))}function Jv(e){return ov(e,"mutations")}function Xv(e){return ov(e,"documentMutations")}function e_(e){return ov(e,"mutationQueues")}class t_{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new t_(0)}static vn(){return new t_(-1)}}class i_{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next((t=>{const i=new t_(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Vn(e).next((e=>Vu.fromTimestamp(new Ou(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Vn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,i){return this.Vn(e).next((n=>(n.highestListenSequenceNumber=t,i&&(n.lastRemoteSnapshotVersion=i.toTimestamp()),t>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t),this.Sn(e,n))))}addTargetData(e,t){return this.Dn(e,t).next((()=>this.Vn(e).next((i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>n_(e).delete(t.targetId))).next((()=>this.Vn(e))).next((t=>(_u(t.targetCount>0),t.targetCount-=1,this.Sn(e,t))))}removeTargets(e,t,i){let n=0;const o=[];return n_(e).Z(((s,r)=>{const a=mv(r);a.sequenceNumber<=t&&null===i.get(a.targetId)&&(n++,o.push(this.removeTargetData(e,a)))})).next((()=>tg.waitFor(o))).next((()=>n))}forEachTarget(e,t){return n_(e).Z(((e,i)=>{const n=mv(i);t(n)}))}Vn(e){return o_(e).get("targetGlobalKey").next((e=>(_u(null!==e),e)))}Sn(e,t){return o_(e).put("targetGlobalKey",t)}Dn(e,t){return n_(e).put(fv(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next((e=>e.targetCount))}getTargetData(e,t){const i=dp(t),n=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return n_(e).Z({range:n,index:"queryTargetsIndex"},((e,i,n)=>{const s=mv(i);cp(t,s.target)&&(o=s,n.done())})).next((()=>o))}addMatchingKeys(e,t,i){const n=[],o=s_(e);return t.forEach((t=>{const s=Ef(t.path);n.push(o.put({targetId:i,path:s})),n.push(this.referenceDelegate.addReference(e,i,t))})),tg.waitFor(n)}removeMatchingKeys(e,t,i){const n=s_(e);return tg.forEach(t,(t=>{const o=Ef(t.path);return tg.waitFor([n.delete([i,o]),this.referenceDelegate.removeReference(e,i,t)])}))}removeMatchingKeysForTargetId(e,t){const i=s_(e),n=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(n)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),n=s_(e);let o=zm();return n.Z({range:i,X:!0},((e,t,i)=>{const n=Mf(e[1]),s=new Uu(n);o=o.add(s)})).next((()=>o))}containsKey(e,t){const i=Ef(t.path),n=IDBKeyRange.bound([i],[Pu(i)],!1,!0);let o=0;return s_(e).Z({index:"documentTargetsIndex",X:!0,range:n},(([e,t],i,n)=>{0!==e&&(o++,n.done())})).next((()=>o>0))}se(e,t){return n_(e).get(t).next((e=>e?mv(e):null))}}function n_(e){return ov(e,"targets")}function o_(e){return ov(e,"targetGlobal")}function s_(e){return ov(e,"targetDocuments")}function r_([e,t],[i,n]){const o=Mu(e,i);return 0===o?Mu(t,n):o}class a_{constructor(e){this.xn=e,this.buffer=new Cg(r_),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();r_(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class l_{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){gu("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Mn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){rg(e)?gu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await eg(e)}await this.Fn(3e5)}))}}class d_{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return tg.resolve(gg.at);const i=new a_(t);return this.$n.forEachTarget(e,(e=>i.On(e.sequenceNumber))).next((()=>this.$n.Ln(e,(e=>i.On(e))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(gu("LruGarbageCollector","Garbage collection skipped; disabled"),tg.resolve(Kv)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(gu("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kv):this.Un(e,t)))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,n,o,s,r,a,l;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(gu("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),n=this.params.maximumSequenceNumbersToCollect):n=t,s=Date.now(),this.nthSequenceNumber(e,n)))).next((n=>(i=n,r=Date.now(),this.removeTargets(e,i,t)))).next((t=>(o=t,a=Date.now(),this.removeOrphanedDocuments(e,i)))).next((e=>(l=Date.now(),uu()<=ea.DEBUG&&gu("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${n} in `+(r-s)+"ms\n"+`\tRemoved ${o} targets in `+(a-r)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-d}ms`),tg.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:o,documentsRemoved:e}))))}}class c_{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new d_(e,t)}(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}qn(e){let t=0;return this.Ln(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,((e,i)=>t(i)))}addReference(e,t,i){return h_(e,i)}removeReference(e,t,i){return h_(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return h_(e,t)}Gn(e,t){return function(e,t){let i=!1;return e_(e).tt((n=>Zv(e,n,t).next((e=>(e&&(i=!0),tg.resolve(!e)))))).next((()=>i))}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),n=[];let o=0;return this.Kn(e,((s,r)=>{if(r<=t){const t=this.Gn(e,s).next((t=>{if(!t)return o++,i.getEntry(e,s).next((()=>(i.removeEntry(s,Vu.min()),s_(e).delete([0,Ef(s.path)]))))}));n.push(t)}})).next((()=>tg.waitFor(n))).next((()=>i.apply(e))).next((()=>o))}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return h_(e,t)}Kn(e,t){const i=s_(e);let n,o=gg.at;return i.Z({index:"documentTargetsIndex"},(([e,i],{path:s,sequenceNumber:r})=>{0===e?(o!==gg.at&&t(new Uu(Mf(n)),o),o=r,n=s):o=gg.at})).next((()=>{o!==gg.at&&t(new Uu(Mf(n)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function h_(e,t){return s_(e).put(function(e,t){return{targetId:0,path:Ef(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class u_{constructor(){this.changes=new Nm((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rp.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?tg.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class g_{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return v_(e).put(i)}removeEntry(e,t,i){return v_(e).delete(function(e,t){const i=e.path.toArray();return[i.slice(0,i.length-2),i[i.length-2],hv(t),i[i.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next((i=>(i.byteSize+=t,this.Qn(e,i))))}getEntry(e,t){let i=rp.newInvalidDocument(t);return v_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(__(t))},((e,n)=>{i=this.jn(t,n)})).next((()=>i))}Wn(e,t){let i={size:0,document:rp.newInvalidDocument(t)};return v_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(__(t))},((e,n)=>{i={document:this.jn(t,n),size:Yv(n)}})).next((()=>i))}getEntries(e,t){let i=Am();return this.zn(e,t,((e,t)=>{const n=this.jn(e,t);i=i.insert(e,n)})).next((()=>i))}Hn(e,t){let i=Am(),n=new vg(Uu.comparator);return this.zn(e,t,((e,t)=>{const o=this.jn(e,t);i=i.insert(e,o),n=n.insert(e,Yv(t))})).next((()=>({documents:i,Jn:n})))}zn(e,t,i){if(t.isEmpty())return tg.resolve();let n=new Cg(C_);t.forEach((e=>n=n.add(e)));const o=IDBKeyRange.bound(__(n.first()),__(n.last())),s=n.getIterator();let r=s.getNext();return v_(e).Z({index:"documentKeyIndex",range:o},((e,t,n)=>{const o=Uu.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;r&&C_(r,o)<0;)i(r,null),r=s.getNext();r&&r.isEqual(o)&&(i(r,t),r=s.hasNext()?s.getNext():null),r?n.j(__(r)):n.done()})).next((()=>{for(;r;)i(r,null),r=s.hasNext()?s.getNext():null}))}getAllFromCollection(e,t,i){const n=[t.popLast().toArray(),t.lastSegment(),hv(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return v_(e).W(IDBKeyRange.bound(n,o,!0)).next((e=>{let t=Am();for(const i of e){const e=this.jn(Uu.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);t=t.insert(e.key,e)}return t}))}getAllFromCollectionGroup(e,t,i,n){let o=Am();const s=b_(t,i),r=b_(t,Qu.max());return v_(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,r,!0)},((e,t,i)=>{const s=this.jn(Uu.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);o=o.insert(s.key,s),o.size===n&&i.done()})).next((()=>o))}newChangeBuffer(e){return new m_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return f_(e).get("remoteDocumentGlobalKey").next((e=>(_u(!!e),e)))}Qn(e,t){return f_(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const e=function(e,t){let i;if(t.document)i=mf(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Uu.fromSegments(t.noDocument.path),n=gv(t.noDocument.readTime);i=rp.newNoDocument(e,n),t.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!t.unknownDocument)return vu();{const e=Uu.fromSegments(t.unknownDocument.path),n=gv(t.unknownDocument.version);i=rp.newUnknownDocument(e,n)}}return t.readTime&&i.setReadTime(function(e){const t=new Ou(e[0],e[1]);return Vu.fromTimestamp(t)}(t.readTime)),i}(this.It,t);if(!e.isNoDocument()||!e.version.isEqual(Vu.min()))return e}return rp.newInvalidDocument(e)}}function p_(e){return new g_(e)}class m_ extends u_{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Nm((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let i=0,n=new Cg(((e,t)=>Mu(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((o,s)=>{const r=this.Xn.get(o);if(t.push(this.Yn.removeEntry(e,o,r.readTime)),s.isValidDocument()){const a=cv(this.Yn.It,s);n=n.add(o.path.popLast());const l=Yv(a);i+=l-r.size,t.push(this.Yn.addEntry(e,o,a))}else if(i-=r.size,this.trackRemovals){const i=cv(this.Yn.It,s.convertToNoDocument(Vu.min()));t.push(this.Yn.addEntry(e,o,i))}})),n.forEach((i=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,i))})),t.push(this.Yn.updateMetadata(e,i)),tg.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next((e=>(this.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next((({documents:e,Jn:t})=>(t.forEach(((t,i)=>{this.Xn.set(t,{size:i,readTime:e.get(t).readTime})})),e)))}}function f_(e){return ov(e,"remoteDocumentGlobal")}function v_(e){return ov(e,"remoteDocumentsV14")}function __(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function b_(e,t){const i=t.documentKey.path.toArray();return[e,hv(t.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function C_(e,t){const i=e.path.toArray(),n=t.path.toArray();let o=0;for(let e=0;e<i.length-2&&e<n.length-2;++e)if(o=Mu(i[e],n[e]),o)return o;return o=Mu(i.length,n.length),o||(o=Mu(i[i.length-2],n[n.length-2]),o||Mu(i[i.length-1],n[n.length-1]))}class y_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class w_{constructor(e,t,i,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=n}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((n=>(i=n,this.getBaseDocument(e,t,i)))).next((e=>(null!==i&&pm(i.mutation,e,Sg.empty(),Ou.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,zm()).next((()=>t))))}getLocalViewOfDocuments(e,t,i=zm()){const n=Pm();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,i).next((e=>{let t=Mm();return e.forEach(((e,i)=>{t=t.insert(e,i.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const i=Pm();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,zm())))}populateOverlays(e,t,i){const n=[];return i.forEach((e=>{t.has(e)||n.push(e)})),this.documentOverlayCache.getOverlays(e,n).next((e=>{e.forEach(((e,i)=>{t.set(e,i)}))}))}computeViews(e,t,i,n){let o=Am();const s=Vm(),r=Vm();return t.forEach(((e,t)=>{const r=i.get(t.key);n.has(t.key)&&(void 0===r||r.mutation instanceof _m)?o=o.insert(t.key,t):void 0!==r&&(s.set(t.key,r.mutation.getFieldMask()),pm(r.mutation,t,r.mutation.getFieldMask(),Ou.now()))})),this.recalculateAndSaveOverlays(e,o).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var i;return r.set(e,new y_(t,null!==(i=s.get(e))&&void 0!==i?i:null))})),r)))}recalculateAndSaveOverlays(e,t){const i=Vm();let n=new vg(((e,t)=>e-t)),o=zm();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const o of e)o.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let r=i.get(e)||Sg.empty();r=o.applyToLocalView(s,r),i.set(e,r);const a=(n.get(o.batchId)||zm()).add(e);n=n.insert(o.batchId,a)}))})).next((()=>{const s=[],r=n.getReverseIterator();for(;r.hasNext();){const n=r.getNext(),a=n.key,l=n.value,d=Om();l.forEach((e=>{if(!o.has(e)){const n=um(t.get(e),i.get(e));null!==n&&d.set(e,n),o=o.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,d))}return tg.waitFor(s)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,i){return function(e){return Uu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Pp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i)}getNextDocuments(e,t,i,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,n).next((o=>{const s=n-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,n-o.size):tg.resolve(Pm());let r=-1,a=o;return s.next((t=>tg.forEach(t,((t,i)=>(r<i.largestBatchId&&(r=i.largestBatchId),o.get(t)?tg.resolve():this.getBaseDocument(e,t,i).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,o))).next((()=>this.computeViews(e,a,t,zm()))).next((e=>({batchId:r,changes:Rm(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Uu(t)).next((e=>{let t=Mm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,i){const n=t.collectionGroup;let o=Mm();return this.indexManager.getCollectionParents(e,n).next((s=>tg.forEach(s,(s=>{const r=function(e,t){return new Np(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(n));return this.getDocumentsMatchingCollectionQuery(e,r,i).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,i){let n;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next((o=>(n=o,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId)))).next((e=>{e.forEach(((e,t)=>{const i=t.getKey();null===n.get(i)&&(n=n.insert(i,rp.newInvalidDocument(i)))}));let i=Mm();return n.forEach(((n,o)=>{const s=e.get(n);void 0!==s&&pm(s.mutation,o,Sg.empty(),Ou.now()),Up(t,o)&&(i=i.insert(n,o))})),i}))}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):tg.resolve(rp.newInvalidDocument(t))}}class S_{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return tg.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:sf(i.createTime)}),tg.resolve()}getNamedQuery(e,t){return tg.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:vv(e.bundledQuery),readTime:sf(e.readTime)}}(t)),tg.resolve()}}class k_{constructor(){this.overlays=new vg(Uu.comparator),this.es=new Map}getOverlay(e,t){return tg.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Pm();return tg.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&i.set(t,e)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((i,n)=>{this.ue(e,t,n)})),tg.resolve()}removeOverlaysForBatchId(e,t,i){const n=this.es.get(i);return void 0!==n&&(n.forEach((e=>this.overlays=this.overlays.remove(e))),this.es.delete(i)),tg.resolve()}getOverlaysForCollection(e,t,i){const n=Pm(),o=t.length+1,s=new Uu(t.child("")),r=this.overlays.getIteratorFrom(s);for(;r.hasNext();){const e=r.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===o&&e.largestBatchId>i&&n.set(e.getKey(),e)}return tg.resolve(n)}getOverlaysForCollectionGroup(e,t,i,n){let o=new vg(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>i){let t=o.get(e.largestBatchId);null===t&&(t=Pm(),o=o.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const r=Pm(),a=o.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>r.set(e,t))),!(r.size()>=n)););return tg.resolve(r)}ue(e,t,i){const n=this.overlays.get(i.key);if(null!==n){const e=this.es.get(n.largestBatchId).delete(i.key);this.es.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(i.key,new av(t,i));let o=this.es.get(t);void 0===o&&(o=zm(),this.es.set(t,o)),this.es.set(t,o.add(i.key))}}class L_{constructor(){this.ns=new Cg(x_.ss),this.rs=new Cg(x_.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new x_(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.cs(new x_(e,t))}hs(e,t){e.forEach((e=>this.removeReference(e,t)))}ls(e){const t=new Uu(new Wu([])),i=new x_(t,e),n=new x_(t,e+1),o=[];return this.rs.forEachInRange([i,n],(e=>{this.cs(e),o.push(e.key)})),o}fs(){this.ns.forEach((e=>this.cs(e)))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Uu(new Wu([])),i=new x_(t,e),n=new x_(t,e+1);let o=zm();return this.rs.forEachInRange([i,n],(e=>{o=o.add(e.key)})),o}containsKey(e){const t=new x_(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class x_{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Uu.comparator(e.key,t.key)||Mu(e._s,t._s)}static os(e,t){return Mu(e._s,t._s)||Uu.comparator(e.key,t.key)}}class I_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Cg(x_.ss)}checkEmpty(e){return tg.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,n){const o=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new sv(o,t,i,n);this.mutationQueue.push(s);for(const t of n)this.gs=this.gs.add(new x_(t.key,o)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return tg.resolve(s)}lookupMutationBatch(e,t){return tg.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,n=this.ps(i),o=n<0?0:n;return tg.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return tg.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return tg.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new x_(t,0),n=new x_(t,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([i,n],(e=>{const t=this.ys(e._s);o.push(t)})),tg.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Cg(Mu);return t.forEach((e=>{const t=new x_(e,0),n=new x_(e,Number.POSITIVE_INFINITY);this.gs.forEachInRange([t,n],(e=>{i=i.add(e._s)}))})),tg.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,n=i.length+1;let o=i;Uu.isDocumentKey(o)||(o=o.child(""));const s=new x_(new Uu(o),0);let r=new Cg(Mu);return this.gs.forEachWhile((e=>{const t=e.key.path;return!!i.isPrefixOf(t)&&(t.length===n&&(r=r.add(e._s)),!0)}),s),tg.resolve(this.Is(r))}Is(e){const t=[];return e.forEach((e=>{const i=this.ys(e);null!==i&&t.push(i)})),t}removeMutationBatch(e,t){_u(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return tg.forEach(t.mutations,(n=>{const o=new x_(n.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)})).next((()=>{this.gs=i}))}An(e){}containsKey(e,t){const i=new x_(t,0),n=this.gs.firstAfterOrEqual(i);return tg.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,tg.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class D_{constructor(e){this.Es=e,this.docs=new vg(Uu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,n=this.docs.get(i),o=n?n.size:0,s=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return tg.resolve(i?i.document.mutableCopy():rp.newInvalidDocument(t))}getEntries(e,t){let i=Am();return t.forEach((e=>{const t=this.docs.get(e);i=i.insert(e,t?t.document.mutableCopy():rp.newInvalidDocument(e))})),tg.resolve(i)}getAllFromCollection(e,t,i){let n=Am();const o=new Uu(t.child("")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||Zu(Yu(o),i)<=0||(n=n.insert(o.key,o.mutableCopy()))}return tg.resolve(n)}getAllFromCollectionGroup(e,t,i,n){vu()}As(e,t){return tg.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new N_(this)}getSize(e){return tg.resolve(this.size)}}class N_ extends u_{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach(((i,n)=>{n.isValidDocument()?t.push(this.Yn.addEntry(e,n)):this.Yn.removeEntry(i)})),tg.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class E_{constructor(e){this.persistence=e,this.Rs=new Nm((e=>dp(e)),cp),this.lastRemoteSnapshotVersion=Vu.min(),this.highestTargetId=0,this.bs=0,this.Ps=new L_,this.targetCount=0,this.vs=t_.Pn()}forEachTarget(e,t){return this.Rs.forEach(((e,i)=>t(i))),tg.resolve()}getLastRemoteSnapshotVersion(e){return tg.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tg.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),tg.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),tg.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new t_(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,tg.resolve()}updateTargetData(e,t){return this.Dn(t),tg.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,tg.resolve()}removeTargets(e,t,i){let n=0;const o=[];return this.Rs.forEach(((s,r)=>{r.sequenceNumber<=t&&null===i.get(r.targetId)&&(this.Rs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,r.targetId)),n++)})),tg.waitFor(o).next((()=>n))}getTargetCount(e){return tg.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return tg.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),tg.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const n=this.persistence.referenceDelegate,o=[];return n&&t.forEach((t=>{o.push(n.markPotentiallyOrphaned(e,t))})),tg.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),tg.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return tg.resolve(i)}containsKey(e,t){return tg.resolve(this.Ps.containsKey(t))}}class A_{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new gg(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new E_(this),this.indexManager=new Vv,this.remoteDocumentCache=function(e){return new D_(e)}((e=>this.referenceDelegate.xs(e))),this.It=new dv(t),this.Ns=new S_(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new k_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new I_(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){gu("MemoryPersistence","Starting transaction:",e);const n=new T_(this.Ss.next());return this.referenceDelegate.ks(),i(n).next((e=>this.referenceDelegate.Os(n).next((()=>e)))).toPromise().then((e=>(n.raiseOnCommittedEvent(),e)))}Ms(e,t){return tg.or(Object.values(this.Vs).map((i=>()=>i.containsKey(e,t))))}}class T_ extends Xu{constructor(e){super(),this.currentSequenceNumber=e}}class M_{constructor(e){this.persistence=e,this.Fs=new L_,this.$s=null}static Bs(e){return new M_(e)}get Ls(){if(this.$s)return this.$s;throw vu()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),tg.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),tg.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),tg.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach((e=>this.Ls.add(e.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ls.add(e.toString())))})).next((()=>i.removeTargetData(e,t)))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tg.forEach(this.Ls,(i=>{const n=Uu.fromPath(i);return this.Us(e,n).next((e=>{e||t.removeEntry(n,Vu.min())}))})).next((()=>(this.$s=null,t.apply(e))))}updateLimboDocument(e,t){return this.Us(e,t).next((e=>{e?this.Ls.delete(t.toString()):this.Ls.add(t.toString())}))}xs(e){return 0}Us(e,t){return tg.or([()=>tg.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class R_{constructor(e){this.It=e}$(e,t,i,n){const o=new ig("createOrUpgrade",t);i<1&&n>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rf,{unique:!0}),e.createObjectStore("documentMutations")}(e),P_(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=tg.resolve();return i<3&&n>=3&&(0!==i&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),P_(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),i={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vu.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",i)}(o)))),i<4&&n>=4&&(0!==i&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((i=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rf,{unique:!0});const n=t.store("mutations"),o=i.map((e=>n.put(e)));return tg.waitFor(o)}))}(e,o)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),i<5&&n>=5&&(s=s.next((()=>this.qs(o)))),i<6&&n>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(o))))),i<7&&n>=7&&(s=s.next((()=>this.Gs(o)))),i<8&&n>=8&&(s=s.next((()=>this.Qs(e,o)))),i<9&&n>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),i<10&&n>=10&&(s=s.next((()=>this.js(o)))),i<11&&n>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),i<12&&n>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Yf});t.createIndex("collectionPathOverlayIndex",Qf,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Zf,{unique:!1})}(e)}))),i<13&&n>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ff});t.createIndex("documentKeyIndex",Wf),t.createIndex("collectionGroupIndex",zf)}(e))).next((()=>this.Ws(e,o))).next((()=>e.deleteObjectStore("remoteDocuments")))),i<14&&n>=14&&(s=s.next((()=>this.zs(e,o)))),i<15&&n>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:jf}).createIndex("sequenceNumberIndex",Kf,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:$f}).createIndex("documentKeyIndex",qf,{unique:!1})}(e)))),s}Ks(e){let t=0;return e.store("remoteDocuments").Z(((e,i)=>{t+=Yv(i)})).next((()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)}))}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next((t=>tg.forEach(t,(t=>{const n=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",n).next((i=>tg.forEach(i,(i=>{_u(i.userId===t.userId);const n=pv(this.It,i);return qv(e,t.userId,n).next((()=>{}))}))))}))))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const n=[];return i.Z(((i,o)=>{const s=new Wu(i),r=function(e){return[0,Ef(e)]}(s);n.push(t.get(r).next((i=>i?tg.resolve():(i=>t.put({targetId:0,path:Ef(i),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>tg.waitFor(n)))}))}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Gf});const i=t.store("collectionParents"),n=new Fv,o=e=>{if(n.add(e)){const t=e.lastSegment(),n=e.popLast();return i.put({collectionId:t,parent:Ef(n)})}};return t.store("remoteDocuments").Z({X:!0},((e,t)=>{const i=new Wu(e);return o(i.popLast())})).next((()=>t.store("documentMutations").Z({X:!0},(([e,t,i],n)=>{const s=Mf(t);return o(s.popLast())}))))}js(e){const t=e.store("targets");return t.Z(((e,i)=>{const n=mv(i),o=fv(this.It,n);return t.put(o)}))}Ws(e,t){const i=t.store("remoteDocuments"),n=[];return i.Z(((e,i)=>{const o=t.store("remoteDocumentsV14"),s=(r=i,r.document?new Uu(Wu.fromString(r.document.name).popFirst(5)):r.noDocument?Uu.fromSegments(r.noDocument.path):r.unknownDocument?Uu.fromSegments(r.unknownDocument.path):vu()).path.toArray();var r;const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:i.readTime||[0,0],unknownDocument:i.unknownDocument,noDocument:i.noDocument,document:i.document,hasCommittedMutations:!!i.hasCommittedMutations};n.push(o.put(a))})).next((()=>tg.waitFor(n)))}zs(e,t){const i=t.store("mutations"),n=p_(this.It),o=new A_(M_.Bs,this.It.re);return i.W().next((e=>{const i=new Map;return e.forEach((e=>{var t;let n=null!==(t=i.get(e.userId))&&void 0!==t?t:zm();pv(this.It,e).keys().forEach((e=>n=n.add(e))),i.set(e.userId,n)})),tg.forEach(i,((e,i)=>{const s=new du(i),r=kv.oe(this.It,s),a=o.getIndexManager(s),l=Qv.oe(s,this.It,a,o.referenceDelegate);return new w_(n,l,r,a).recalculateAndSaveOverlaysForDocumentKeys(new nv(t,gg.at),e).next()}))}))}}function P_(e){e.createObjectStore("targetDocuments",{keyPath:Uf}).createIndex("documentTargetsIndex",Hf,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Bf,{unique:!0}),e.createObjectStore("targetGlobal")}const O_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class V_{constructor(e,t,i,n,o,s,r,a,l,d,c=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=o,this.window=s,this.document=r,this.Js=l,this.Ys=d,this.Xs=c,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=e=>Promise.resolve(),!V_.C())throw new yu(Cu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new c_(this,n),this.ii=t+"main",this.It=new dv(a),this.ri=new ng(this.ii,this.Xs,new R_(this.It)),this.Cs=new i_(this.referenceDelegate,this.It),this.remoteDocumentCache=p_(this.It),this.Ns=new yv,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===d&&pu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new yu(Cu.FAILED_PRECONDITION,O_);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Cs.getHighestSequenceNumber(e)))})).then((e=>{this.Ss=new gg(e,this.Js)})).then((()=>{this.Ds=!0})).catch((e=>(this.ri&&this.ri.close(),Promise.reject(e))))}li(e){return this.si=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((async()=>{this.started&&await this.ui()})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>W_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable((()=>this.si(!1))))}))})).next((()=>this.di(e))).next((t=>this.isPrimary&&!t?this._i(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(rg(e))return gu("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return gu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable((()=>this.si(e))),this.isPrimary=e}))}fi(e){return F_(e).get("owner").next((e=>tg.resolve(this.mi(e))))}gi(e){return W_(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=ov(e,"clientMetadata");return t.W().next((e=>{const i=this.Ii(e,18e5),n=e.filter((e=>-1===i.indexOf(e)));return tg.forEach(n,(e=>t.delete(e.clientId))).next((()=>n))}))})).catch((()=>[]));if(this.oi)for(const t of e)this.oi.removeItem(this.Ti(t.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.ui().then((()=>this.yi())).then((()=>this.hi()))))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?tg.resolve(!0):F_(e).get("owner").next((t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new yu(Cu.FAILED_PRECONDITION,O_);return!1}}return!(!this.networkEnabled||!this.inForeground)||W_(e).W().next((e=>void 0===this.Ii(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,i=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(t||i&&n)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&gu("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new nv(e,gg.at);return this._i(t).next((()=>this.gi(t)))})),this.ri.close(),this.Pi()}Ii(e,t){return e.filter((e=>this.pi(e.updateTimeMs,t)&&!this.Ei(e.clientId)))}vi(){return this.runTransaction("getActiveClients","readonly",(e=>W_(e).W().next((e=>this.Ii(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ds}getMutationQueue(e,t){return Qv.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zv(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return kv.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){gu("IndexedDbPersistence","Starting transaction:",e);const n="readonly"===t?"readonly":"readwrite",o=15===(s=this.Xs)?iv:14===s?tv:13===s?ev:12===s?Xf:11===s?Jf:void vu();var s;let r;return this.ri.runTransaction(e,n,o,(n=>(r=new nv(n,this.Ss?this.Ss.next():gg.at),"readwrite-primary"===t?this.fi(r).next((e=>!!e||this.di(r))).next((t=>{if(!t)throw pu(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable((()=>this.si(!1))),new yu(Cu.FAILED_PRECONDITION,Ju);return i(r)})).next((e=>this.wi(r).next((()=>e)))):this.Vi(r).next((()=>i(r)))))).then((e=>(r.raiseOnCommittedEvent(),e)))}Vi(e){return F_(e).get("owner").next((e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new yu(Cu.FAILED_PRECONDITION,O_)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return F_(e).put("owner",t)}static C(){return ng.C()}_i(e){const t=F_(e);return t.get("owner").next((e=>this.mi(e)?(gu("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):tg.resolve()))}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(pu(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.ui())))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),!xr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return gu("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(e){return pu("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){pu("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function F_(e){return ov(e,"owner")}function W_(e){return ov(e,"clientMetadata")}function z_(e,t){let i=e.projectId;return e.isDefaultDatabase||(i+="."+e.database),"firestore/"+t+"/"+i+"/"}class B_{constructor(e,t,i,n){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=n}static Ci(e,t){let i=zm(),n=zm();for(const e of t.docChanges)switch(e.type){case 0:i=i.add(e.doc.key);break;case 1:n=n.add(e.doc.key)}return new B_(e,t.fromCache,i,n)}}class U_{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,n){return this.ki(e,t).next((o=>o||this.Oi(e,t,n,i))).next((i=>i||this.Mi(e,t)))}ki(e,t){if(Tp(t))return tg.resolve(null);let i=Vp(t);return this.indexManager.getIndexType(e,i).next((n=>0===n?null:(null!==t.limit&&1===n&&(t=Fp(t,null,"F"),i=Vp(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((n=>{const o=zm(...n);return this.Ni.getDocuments(e,o).next((n=>this.indexManager.getMinOffset(e,i).next((i=>{const s=this.Fi(t,n);return this.$i(t,s,o,i.readTime)?this.ki(e,Fp(t,null,"F")):this.Bi(e,s,t,i)}))))})))))}Oi(e,t,i,n){return Tp(t)||n.isEqual(Vu.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next((o=>{const s=this.Fi(t,o);return this.$i(t,s,i,n)?this.Mi(e,t):(uu()<=ea.DEBUG&&gu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Bp(t)),this.Bi(e,s,t,qu(n,-1)))}))}Fi(e,t){let i=new Cg(Gp(e));return t.forEach(((t,n)=>{Up(e,n)&&(i=i.add(n))})),i}$i(e,t,i,n){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(n)>0)}Mi(e,t){return uu()<=ea.DEBUG&&gu("QueryEngine","Using full collection scan to execute query:",Bp(t)),this.Ni.getDocumentsMatchingQuery(e,t,Qu.min())}Bi(e,t,i,n){return this.Ni.getDocumentsMatchingQuery(e,i,n).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class H_{constructor(e,t,i,n){this.persistence=e,this.Li=t,this.It=n,this.Ui=new vg(Mu),this.qi=new Nm((e=>dp(e)),cp),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w_(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ui)))}}function G_(e,t,i,n){return new H_(e,t,i,n)}async function j_(e,t){const i=bu(e);return await i.persistence.runTransaction("Handle user change","readonly",(e=>{let n;return i.mutationQueue.getAllMutationBatches(e).next((o=>(n=o,i.Qi(t),i.mutationQueue.getAllMutationBatches(e)))).next((t=>{const o=[],s=[];let r=zm();for(const e of n){o.push(e.batchId);for(const t of e.mutations)r=r.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)r=r.add(t.key)}return i.localDocuments.getDocuments(e,r).next((e=>({ji:e,removedBatchIds:o,addedBatchIds:s})))}))}))}function K_(e){const t=bu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Cs.getLastRemoteSnapshotVersion(e)))}function $_(e,t,i){let n=zm(),o=zm();return i.forEach((e=>n=n.add(e))),t.getEntries(e,n).next((e=>{let n=Am();return i.forEach(((i,s)=>{const r=e.get(i);s.isFoundDocument()!==r.isFoundDocument()&&(o=o.add(i)),s.isNoDocument()&&s.version.isEqual(Vu.min())?(t.removeEntry(i,s.readTime),n=n.insert(i,s)):!r.isValidDocument()||s.version.compareTo(r.version)>0||0===s.version.compareTo(r.version)&&r.hasPendingWrites?(t.addEntry(s),n=n.insert(i,s)):gu("LocalStore","Ignoring outdated watch update for ",i,". Current version:",r.version," Watch version:",s.version)})),{Wi:n,zi:o}}))}function q_(e,t){const i=bu(e);return i.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Y_(e,t){const i=bu(e);return i.persistence.runTransaction("Allocate target","readwrite",(e=>{let n;return i.Cs.getTargetData(e,t).next((o=>o?(n=o,tg.resolve(n)):i.Cs.allocateTargetId(e).next((o=>(n=new lv(t,o,0,e.currentSequenceNumber),i.Cs.addTargetData(e,n).next((()=>n)))))))})).then((e=>{const n=i.Ui.get(e.targetId);return(null===n||e.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(i.Ui=i.Ui.insert(e.targetId,e),i.qi.set(t,e.targetId)),e}))}async function Q_(e,t,i){const n=bu(e),o=n.Ui.get(t),s=i?"readwrite":"readwrite-primary";try{i||await n.persistence.runTransaction("Release target",s,(e=>n.persistence.referenceDelegate.removeTarget(e,o)))}catch(e){if(!rg(e))throw e;gu("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}n.Ui=n.Ui.remove(t),n.qi.delete(o.target)}function Z_(e,t,i){const n=bu(e);let o=Vu.min(),s=zm();return n.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,i){const n=bu(e),o=n.qi.get(i);return void 0!==o?tg.resolve(n.Ui.get(o)):n.Cs.getTargetData(t,i)}(n,e,Vp(t)).next((t=>{if(t)return o=t.lastLimboFreeSnapshotVersion,n.Cs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>n.Li.getDocumentsMatchingQuery(e,t,i?o:Vu.min(),i?s:zm()))).next((e=>(eb(n,Hp(t),e),{documents:e,Hi:s})))))}function J_(e,t){const i=bu(e),n=bu(i.Cs),o=i.Ui.get(t);return o?Promise.resolve(o.target):i.persistence.runTransaction("Get target data","readonly",(e=>n.se(e,t).next((e=>e?e.target:null))))}function X_(e,t){const i=bu(e),n=i.Ki.get(t)||Vu.min();return i.persistence.runTransaction("Get new document changes","readonly",(e=>i.Gi.getAllFromCollectionGroup(e,t,qu(n,-1),Number.MAX_SAFE_INTEGER))).then((e=>(eb(i,t,e),e)))}function eb(e,t,i){let n=e.Ki.get(t)||Vu.min();i.forEach(((e,t)=>{t.readTime.compareTo(n)>0&&(n=t.readTime)})),e.Ki.set(t,n)}async function tb(e,t,i=zm()){const n=await Y_(e,Vp(vv(t.bundledQuery))),o=bu(e);return o.persistence.runTransaction("Save named query","readwrite",(e=>{const s=sf(t.readTime);if(n.snapshotVersion.compareTo(s)>=0)return o.Ns.saveNamedQuery(e,t);const r=n.withResumeToken(kg.EMPTY_BYTE_STRING,s);return o.Ui=o.Ui.insert(r.targetId,r),o.Cs.updateTargetData(e,r).next((()=>o.Cs.removeMatchingKeysForTargetId(e,n.targetId))).next((()=>o.Cs.addMatchingKeys(e,i,n.targetId))).next((()=>o.Ns.saveNamedQuery(e,t)))}))}function ib(e,t){return`firestore_clients_${e}_${t}`}function nb(e,t,i){let n=`firestore_mutations_${e}_${i}`;return t.isAuthenticated()&&(n+=`_${t.uid}`),n}function ob(e,t){return`firestore_targets_${e}_${t}`}class sb{constructor(e,t,i,n){this.user=e,this.batchId=t,this.state=i,this.error=n}static Zi(e,t,i){const n=JSON.parse(i);let o,s="object"==typeof n&&-1!==["pending","acknowledged","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return s&&n.error&&(s="string"==typeof n.error.message&&"string"==typeof n.error.code,s&&(o=new yu(n.error.code,n.error.message))),s?new sb(e,t,n.state,o):(pu("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rb{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let n,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(n=new yu(i.error.code,i.error.message))),o?new rb(e,i.state,n):(pu("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ab{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let n="object"==typeof i&&i.activeTargetIds instanceof Array,o=Um();for(let e=0;n&&e<i.activeTargetIds.length;++e)n=Og(i.activeTargetIds[e]),o=o.add(i.activeTargetIds[e]);return n?new ab(e,o):(pu("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class lb{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new lb(t.clientId,t.onlineState):(pu("SharedClientState",`Failed to parse online state: ${e}`),null)}}class db{constructor(){this.activeTargetIds=Um()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cb{constructor(e,t,i,n,o){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=n,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new vg(Mu),this.started=!1,this.cr=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=ib(this.persistenceKey,this.sr),this.hr=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new db),this.lr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.wr=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.mr=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.vi();for(const t of e){if(t===this.sr)continue;const e=this.getItem(ib(this.persistenceKey,t));if(e){const i=ab.Zi(t,e);i&&(this.ur=this.ur.insert(i.clientId,i))}}this.gr();const t=this.storage.getItem(this.wr);if(t){const e=this.yr(t);e&&this.pr(e)}for(const e of this.cr)this.rr(e);this.cr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach(((i,n)=>{n.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(ob(this.persistenceKey,e));if(i){const n=rb.Zi(e,i);n&&(t=n.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ob(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach((e=>{this.Er(e)})),this.currentUser=e,i.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return gu("SharedClientState","READ",e,t),t}setItem(e,t){gu("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){gu("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){const t=e;if(t.storageArea===this.storage){if(gu("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ar)return void pu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.lr.test(t.key)){if(null==t.newValue){const e=this.vr(t.key);return this.Vr(e,null)}{const e=this.Sr(t.key,t.newValue);if(e)return this.Vr(e.clientId,e)}}else if(this.dr.test(t.key)){if(null!==t.newValue){const e=this.Dr(t.key,t.newValue);if(e)return this.Cr(e)}}else if(this._r.test(t.key)){if(null!==t.newValue){const e=this.Nr(t.key,t.newValue);if(e)return this.kr(e)}}else if(t.key===this.wr){if(null!==t.newValue){const e=this.yr(t.newValue);if(e)return this.pr(e)}}else if(t.key===this.hr){const e=function(e){let t=gg.at;if(null!=e)try{const i=JSON.parse(e);_u("number"==typeof i),t=i}catch(e){pu("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==gg.at&&this.sequenceNumberHandler(e)}else if(t.key===this.mr){const e=this.Or(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Mr(e))))}}else this.cr.push(t)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const n=new sb(this.currentUser,e,t,i),o=nb(this.persistenceKey,this.currentUser,e);this.setItem(o,n.tr())}Er(e){const t=nb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){const t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}Rr(e,t,i){const n=ob(this.persistenceKey,e),o=new rb(e,t,i);this.setItem(n,o.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return ab.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),n=Number(i[1]),o=void 0!==i[2]?i[2]:null;return sb.Zi(new du(o),n,t)}Nr(e,t){const i=this._r.exec(e),n=Number(i[1]);return rb.Zi(n,t)}yr(e){return lb.Zi(e)}Or(e){return JSON.parse(e)}async Cr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Fr(e.batchId,e.state,e.error);gu("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),n=this.Ir(this.ur),o=this.Ir(i),s=[],r=[];return o.forEach((e=>{n.has(e)||s.push(e)})),n.forEach((e=>{o.has(e)||r.push(e)})),this.syncEngine.Br(s,r).then((()=>{this.ur=i}))}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Um();return e.forEach(((e,i)=>{t=t.unionWith(i.activeTargetIds)})),t}}class hb{constructor(){this.Lr=new db,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new db,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ub{qr(e){}shutdown(){}}class gb{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){gu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){gu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const pb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mb{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class fb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.oo=t+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,n,o){const s=this.ho(e,t);gu("RestConnection","Sending: ",s,i);const r={};return this.lo(r,n,o),this.fo(e,s,r,i).then((e=>(gu("RestConnection","Received: ",e),e)),(t=>{throw mu("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",i),t}))}_o(e,t,i,n,o,s){return this.ao(e,t,i,n,o)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+cu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,i)=>e[i]=t)),i&&i.headers.forEach(((t,i)=>e[i]=t))}ho(e,t){const i=pb[e];return`${this.oo}/v1/${t}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,n){return new Promise(((o,s)=>{const r=new au;r.setWithCredentials(!0),r.listenOnce(iu.COMPLETE,(()=>{var t;try{switch(r.getLastErrorCode()){case tu.NO_ERROR:const i=r.getResponseJson();gu("Connection","XHR received:",JSON.stringify(i)),o(i);break;case tu.TIMEOUT:gu("Connection",'RPC "'+e+'" timed out'),s(new yu(Cu.DEADLINE_EXCEEDED,"Request time out"));break;case tu.HTTP_ERROR:const n=r.getStatus();if(gu("Connection",'RPC "'+e+'" failed with status:',n,"response text:",r.getResponseText()),n>0){let e=r.getResponseJson();Array.isArray(e)&&(e=e[0]);const i=null===(t=e)||void 0===t?void 0:t.error;if(i&&i.status&&i.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Cu).indexOf(t)>=0?t:Cu.UNKNOWN}(i.status);s(new yu(e,i.message))}else s(new yu(Cu.UNKNOWN,"Server responded with status "+r.getStatus()))}else s(new yu(Cu.UNAVAILABLE,"Connection failed."));break;default:vu()}}finally{gu("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(n);r.send(t,"POST",a,i,15)}))}wo(e,t,i){const n=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Xh(),s=eu(),r={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(r.xmlHttpFactory=new su({})),this.lo(r.initMessageHeaders,t,i),r.encodeInitMessageHeaders=!0;const a=n.join("");gu("Connection","Creating WebChannel: "+a,r);const l=o.createWebChannel(a,r);let d=!1,c=!1;const h=new mb({Hr:e=>{c?gu("Connection","Not sending because WebChannel is closed:",e):(d||(gu("Connection","Opening WebChannel transport."),l.open(),d=!0),gu("Connection","WebChannel sending:",e),l.send(e))},Jr:()=>l.close()}),u=(e,t,i)=>{e.listen(t,(e=>{try{i(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return u(l,ru.EventType.OPEN,(()=>{c||gu("Connection","WebChannel transport opened.")})),u(l,ru.EventType.CLOSE,(()=>{c||(c=!0,gu("Connection","WebChannel transport closed"),h.io())})),u(l,ru.EventType.ERROR,(e=>{c||(c=!0,mu("Connection","WebChannel transport errored:",e),h.io(new yu(Cu.UNAVAILABLE,"The operation could not be completed")))})),u(l,ru.EventType.MESSAGE,(e=>{var t;if(!c){const i=e.data[0];_u(!!i);const n=i,o=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(o){gu("Connection","WebChannel received error:",o);const e=o.status;let t=function(e){const t=Lm[e];if(void 0!==t)return Dm(t)}(e),i=o.message;void 0===t&&(t=Cu.INTERNAL,i="Unknown error status: "+e+" with message "+o.message),c=!0,h.io(new yu(t,i)),l.close()}else gu("Connection","WebChannel received:",i),h.ro(i)}})),u(s,nu.STAT_EVENT,(e=>{e.stat===ou.PROXY?gu("Connection","Detected buffering proxy"):e.stat===ou.NOPROXY&&gu("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.so()}),0),h}}function vb(){return"undefined"!=typeof window?window:null}function _b(){return"undefined"!=typeof document?document:null}function bb(e){return new ef(e,!0)}class Cb{constructor(e,t,i=1e3,n=1.5,o=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=n,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),n=Math.max(0,t-i);n>0&&gu("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,n,(()=>(this.Eo=Date.now(),e()))),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class yb{constructor(e,t,i,n,o,s,r,a){this.Hs=e,this.vo=i,this.Vo=n,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=r,this.listener=a,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Cb(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(()=>this.$o())))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,t){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==e?this.xo.reset():t&&t.code===Cu.RESOURCE_EXHAUSTED?(pu(t.toString()),pu("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):t&&t.code===Cu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(t)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,i])=>{this.So===t&&this.Go(e,i)}),(t=>{e((()=>{const e=new yu(Cu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Qo(e)}))}))}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((()=>{i((()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,(()=>(this.ko()&&(this.state=3),Promise.resolve()))),this.listener.Yr())))})),this.stream.Zr((e=>{i((()=>this.Qo(e)))})),this.stream.onMessage((e=>{i((()=>this.onMessage(e)))}))}Oo(){this.state=5,this.xo.Ro((async()=>{this.state=0,this.start()}))}Qo(e){return gu("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget((()=>this.So===e?t():(gu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wb extends yb{constructor(e,t,i,n,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,n,s),this.It=o}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function(e,t){let i;if("targetChange"in t){t.targetChange;const n=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:vu()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],s=function(e,t){return e.gt?(_u(void 0===t||"string"==typeof t),kg.fromBase64String(t||"")):(_u(void 0===t||t instanceof Uint8Array),kg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),r=t.targetChange.cause,a=r&&function(e){const t=void 0===e.code?Cu.UNKNOWN:Dm(e.code);return new yu(t,e.message||"")}(r);i=new $m(n,o,s,a||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const o=df(e,n.document.name),s=sf(n.document.updateTime),r=new op({mapValue:{fields:n.document.fields}}),a=rp.newFoundDocument(o,s,r),l=n.targetIds||[],d=n.removedTargetIds||[];i=new jm(l,d,a.key,a)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const o=df(e,n.document),s=n.readTime?sf(n.readTime):Vu.min(),r=rp.newNoDocument(o,s),a=n.removedTargetIds||[];i=new jm([],a,r.key,r)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const o=df(e,n.document),s=n.removedTargetIds||[];i=new jm([],s,o,null)}else{if(!("filter"in t))return vu();{t.filter;const e=t.filter;e.targetId;const n=e.count||0,o=new km(n),s=e.targetId;i=new Km(s,o)}}return i}(this.It,e),i=function(e){if(!("targetChange"in e))return Vu.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Vu.min():t.readTime?sf(t.readTime):Vu.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=uf(this.It),t.addTarget=function(e,t){let i;const n=t.target;return i=hp(n)?{documents:_f(e,n)}:{query:bf(e,n)},i.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?i.resumeToken=nf(e,t.resumeToken):t.snapshotVersion.compareTo(Vu.min())>0&&(i.readTime=tf(e,t.snapshotVersion.toTimestamp())),i}(this.It,e);const i=function(e,t){const i=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vu()}}(0,t.purpose);return null==i?null:{"goog-listen-tags":i}}(this.It,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=uf(this.It),t.removeTarget=e,this.Bo(t)}}class Sb extends yb{constructor(e,t,i,n,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,n,s),this.It=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(_u(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function(e,t){return e&&e.length>0?(_u(void 0!==t),e.map((e=>function(e,t){let i=e.updateTime?sf(e.updateTime):sf(t);return i.isEqual(Vu.min())&&(i=sf(t)),new lm(i,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),i=sf(e.commitTime);return this.listener.Zo(i,t)}return _u(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=uf(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>ff(this.It,e)))};this.Bo(t)}}class kb extends class{}{constructor(e,t,i,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.It=n,this.nu=!1}su(){if(this.nu)throw new yu(Cu.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([n,o])=>this.connection.ao(e,t,i,n,o))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Cu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yu(Cu.UNKNOWN,e.toString())}))}_o(e,t,i,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection._o(e,t,i,o,s,n))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Cu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yu(Cu.UNKNOWN,e.toString())}))}terminate(){this.nu=!0}}class Lb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve()))))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(pu(t),this.ou=!1):gu("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class xb{constructor(e,t,i,n,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.qr((e=>{i.enqueueAndForget((async()=>{Pb(this)&&(gu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=bu(e);t._u.add(4),await Db(t),t.gu.set("Unknown"),t._u.delete(4),await Ib(t)}(this))}))})),this.gu=new Lb(i,n)}}async function Ib(e){if(Pb(e))for(const t of e.wu)await t(!0)}async function Db(e){for(const t of e.wu)await t(!1)}function Nb(e,t){const i=bu(e);i.du.has(t.targetId)||(i.du.set(t.targetId,t),Rb(i)?Mb(i):Xb(i).ko()&&Ab(i,t))}function Eb(e,t){const i=bu(e),n=Xb(i);i.du.delete(t),n.ko()&&Tb(i,t),0===i.du.size&&(n.ko()?n.Fo():Pb(i)&&i.gu.set("Unknown"))}function Ab(e,t){e.yu.Mt(t.targetId),Xb(e).zo(t)}function Tb(e,t){e.yu.Mt(t),Xb(e).Ho(t)}function Mb(e){e.yu=new Ym({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),se:t=>e.du.get(t)||null}),Xb(e).start(),e.gu.uu()}function Rb(e){return Pb(e)&&!Xb(e).No()&&e.du.size>0}function Pb(e){return 0===bu(e)._u.size}function Ob(e){e.yu=void 0}async function Vb(e){e.du.forEach(((t,i)=>{Ab(e,t)}))}async function Fb(e,t){Ob(e),Rb(e)?(e.gu.hu(t),Mb(e)):e.gu.set("Unknown")}async function Wb(e,t,i){if(e.gu.set("Online"),t instanceof $m&&2===t.state&&t.cause)try{await async function(e,t){const i=t.cause;for(const n of t.targetIds)e.du.has(n)&&(await e.remoteSyncer.rejectListen(n,i),e.du.delete(n),e.yu.removeTarget(n))}(e,t)}catch(i){gu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await zb(e,i)}else if(t instanceof jm?e.yu.Gt(t):t instanceof Km?e.yu.Yt(t):e.yu.Wt(t),!i.isEqual(Vu.min()))try{const t=await K_(e.localStore);i.compareTo(t)>=0&&await function(e,t){const i=e.yu.te(t);return i.targetChanges.forEach(((i,n)=>{if(i.resumeToken.approximateByteSize()>0){const o=e.du.get(n);o&&e.du.set(n,o.withResumeToken(i.resumeToken,t))}})),i.targetMismatches.forEach((t=>{const i=e.du.get(t);if(!i)return;e.du.set(t,i.withResumeToken(kg.EMPTY_BYTE_STRING,i.snapshotVersion)),Tb(e,t);const n=new lv(i.target,t,1,i.sequenceNumber);Ab(e,n)})),e.remoteSyncer.applyRemoteEvent(i)}(e,i)}catch(t){gu("RemoteStore","Failed to raise snapshot:",t),await zb(e,t)}}async function zb(e,t,i){if(!rg(t))throw t;e._u.add(1),await Db(e),e.gu.set("Offline"),i||(i=()=>K_(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{gu("RemoteStore","Retrying IndexedDB access"),await i(),e._u.delete(1),await Ib(e)}))}function Bb(e,t){return t().catch((i=>zb(e,i,t)))}async function Ub(e){const t=bu(e),i=eC(t);let n=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;Hb(t);)try{const e=await q_(t.localStore,n);if(null===e){0===t.fu.length&&i.Fo();break}n=e.batchId,Gb(t,e)}catch(e){await zb(t,e)}jb(t)&&Kb(t)}function Hb(e){return Pb(e)&&e.fu.length<10}function Gb(e,t){e.fu.push(t);const i=eC(e);i.ko()&&i.Yo&&i.Xo(t.mutations)}function jb(e){return Pb(e)&&!eC(e).No()&&e.fu.length>0}function Kb(e){eC(e).start()}async function $b(e){eC(e).eu()}async function qb(e){const t=eC(e);for(const i of e.fu)t.Xo(i.mutations)}async function Yb(e,t,i){const n=e.fu.shift(),o=rv.from(n,t,i);await Bb(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await Ub(e)}async function Qb(e,t){t&&eC(e).Yo&&await async function(e,t){if(Im(i=t.code)&&i!==Cu.ABORTED){const i=e.fu.shift();eC(e).Mo(),await Bb(e,(()=>e.remoteSyncer.rejectFailedWrite(i.batchId,t))),await Ub(e)}var i}(e,t),jb(e)&&Kb(e)}async function Zb(e,t){const i=bu(e);i.asyncQueue.verifyOperationInProgress(),gu("RemoteStore","RemoteStore received new credentials");const n=Pb(i);i._u.add(3),await Db(i),n&&i.gu.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i._u.delete(3),await Ib(i)}async function Jb(e,t){const i=bu(e);t?(i._u.delete(2),await Ib(i)):t||(i._u.add(2),await Db(i),i.gu.set("Unknown"))}function Xb(e){return e.pu||(e.pu=function(e,t,i){const n=bu(e);return n.su(),new wb(t,n.connection,n.authCredentials,n.appCheckCredentials,n.It,i)}(e.datastore,e.asyncQueue,{Yr:Vb.bind(null,e),Zr:Fb.bind(null,e),Wo:Wb.bind(null,e)}),e.wu.push((async t=>{t?(e.pu.Mo(),Rb(e)?Mb(e):e.gu.set("Unknown")):(await e.pu.stop(),Ob(e))}))),e.pu}function eC(e){return e.Iu||(e.Iu=function(e,t,i){const n=bu(e);return n.su(),new Sb(t,n.connection,n.authCredentials,n.appCheckCredentials,n.It,i)}(e.datastore,e.asyncQueue,{Yr:$b.bind(null,e),Zr:Qb.bind(null,e),tu:qb.bind(null,e),Zo:Yb.bind(null,e)}),e.wu.push((async t=>{t?(e.Iu.Mo(),await Ub(e)):(await e.Iu.stop(),e.fu.length>0&&(gu("RemoteStore",`Stopping write stream with ${e.fu.length} pending writes`),e.fu=[]))}))),e.Iu}class tC{constructor(e,t,i,n,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=n,this.removalCallback=o,this.deferred=new wu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,i,n,o){const s=Date.now()+i,r=new tC(e,t,s,n,o);return r.start(i),r}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yu(Cu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iC(e,t){if(pu("AsyncQueue",`${t}: ${e}`),rg(e))return new yu(Cu.UNAVAILABLE,`${t}: ${e}`);throw e}class nC{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Uu.comparator(t.key,i.key):(e,t)=>Uu.comparator(e.key,t.key),this.keyedMap=Mm(),this.sortedSet=new vg(this.comparator)}static emptySet(e){return new nC(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nC))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=i.getNext().key;if(!e.isEqual(n))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new nC;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class oC{constructor(){this.Tu=new vg(Uu.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):vu():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal(((t,i)=>{e.push(i)})),e}}class sC{constructor(e,t,i,n,o,s,r,a,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=n,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=r,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,i,n,o){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new sC(e,t,nC.emptySet(t),s,i,n,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==i[e].type||!t[e].doc.isEqual(i[e].doc))return!1;return!0}}class rC{constructor(){this.Au=void 0,this.listeners=[]}}class aC{constructor(){this.queries=new Nm((e=>zp(e)),Wp),this.onlineState="Unknown",this.Ru=new Set}}async function lC(e,t){const i=bu(e),n=t.query;let o=!1,s=i.queries.get(n);if(s||(o=!0,s=new rC),o)try{s.Au=await i.onListen(n)}catch(e){const i=iC(e,`Initialization of query '${Bp(t.query)}' failed`);return void t.onError(i)}i.queries.set(n,s),s.listeners.push(t),t.bu(i.onlineState),s.Au&&t.Pu(s.Au)&&uC(i)}async function dC(e,t){const i=bu(e),n=t.query;let o=!1;const s=i.queries.get(n);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),o=0===s.listeners.length)}if(o)return i.queries.delete(n),i.onUnlisten(n)}function cC(e,t){const i=bu(e);let n=!1;for(const e of t){const t=e.query,o=i.queries.get(t);if(o){for(const t of o.listeners)t.Pu(e)&&(n=!0);o.Au=e}}n&&uC(i)}function hC(e,t,i){const n=bu(e),o=n.queries.get(t);if(o)for(const e of o.listeners)e.onError(i);n.queries.delete(t)}function uC(e){e.Ru.forEach((e=>{e.next()}))}class gC{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const t=[];for(const i of e.docChanges)3!==i.type&&t.push(i);e=new sC(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){if(!e.fromCache)return!0;const i="Offline"!==t;return(!this.options.Nu||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){if(e.docChanges.length>0)return!0;const t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}xu(e){e=sC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class pC{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class mC{constructor(e){this.It=e}Ji(e){return df(this.It,e)}Yi(e){return e.metadata.exists?mf(this.It,e.document,!1):rp.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return sf(e)}}class fC{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vC(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=Wu.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new mC(this.It);for(const n of e)if(n.metadata.queries){const e=i.Ji(n.metadata.name);for(const i of n.metadata.queries){const n=(t.get(i)||zm()).add(e);t.set(i,n)}}return t}async complete(){const e=await async function(e,t,i,n){const o=bu(e);let s=zm(),r=Am();for(const e of i){const i=t.Ji(e.metadata.name);e.document&&(s=s.add(i));const n=t.Yi(e);n.setReadTime(t.Xi(e.metadata.readTime)),r=r.insert(i,n)}const a=o.Gi.newChangeBuffer({trackRemovals:!0}),l=await Y_(o,function(e){return Vp(Ap(Wu.fromString(`__bundle__/docs/${e}`)))}(n));return o.persistence.runTransaction("Apply bundle documents","readwrite",(e=>$_(e,a,r).next((t=>(a.apply(e),t))).next((t=>o.Cs.removeMatchingKeysForTargetId(e,l.targetId).next((()=>o.Cs.addMatchingKeys(e,s,l.targetId))).next((()=>o.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi))).next((()=>t.Wi))))))}(this.localStore,new mC(this.It),this.documents,this.Mu.id),t=this.$u(this.documents);for(const e of this.queries)await tb(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:e}}}function vC(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class _C{constructor(e){this.key=e}}class bC{constructor(e){this.key=e}}class CC{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=zm(),this.mutatedKeys=zm(),this.Gu=Gp(e),this.Qu=new nC(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new oC,n=t?t.Qu:this.Qu;let o=t?t.mutatedKeys:this.mutatedKeys,s=n,r=!1;const a="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,l="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal(((e,t)=>{const d=n.get(e),c=Up(this.query,t)?t:null,h=!!d&&this.mutatedKeys.has(d.key),u=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let g=!1;d&&c?d.data.isEqual(c.data)?h!==u&&(i.track({type:3,doc:c}),g=!0):this.Hu(d,c)||(i.track({type:2,doc:c}),g=!0,(a&&this.Gu(c,a)>0||l&&this.Gu(c,l)<0)&&(r=!0)):!d&&c?(i.track({type:0,doc:c}),g=!0):d&&!c&&(i.track({type:1,doc:d}),g=!0,(a||l)&&(r=!0)),g&&(c?(s=s.add(c),o=u?o.add(e):o.delete(e)):(s=s.delete(e),o=o.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),o=o.delete(e.key),i.track({type:1,doc:e})}return{Qu:s,zu:i,$i:r,mutatedKeys:o}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const n=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Eu();o.sort(((e,t)=>function(e,t){const i=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vu()}};return i(e)-i(t)}(e.type,t.type)||this.Gu(e.doc,t.doc))),this.Ju(i);const s=t?this.Yu():[],r=0===this.Ku.size&&this.current?1:0,a=r!==this.qu;return this.qu=r,0!==o.length||a?{snapshot:new sC(this.query,e.Qu,n,o,e.mutatedKeys,0===r,a,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:s}:{Xu:s}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new oC,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach((e=>this.Uu=this.Uu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Uu=this.Uu.delete(e))),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=zm(),this.Qu.forEach((e=>{this.Zu(e.key)&&(this.Ku=this.Ku.add(e.key))}));const t=[];return e.forEach((e=>{this.Ku.has(e)||t.push(new bC(e))})),this.Ku.forEach((i=>{e.has(i)||t.push(new _C(i))})),t}tc(e){this.Uu=e.Hi,this.Ku=zm();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return sC.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class yC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class wC{constructor(e){this.key=e,this.nc=!1}}class SC{constructor(e,t,i,n,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=n,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.sc={},this.ic=new Nm((e=>zp(e)),Wp),this.rc=new Map,this.oc=new Set,this.uc=new vg(Uu.comparator),this.cc=new Map,this.ac=new L_,this.hc={},this.lc=new Map,this.fc=t_.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}async function kC(e,t){const i=QC(e);let n,o;const s=i.ic.get(t);if(s)n=s.targetId,i.sharedClientState.addLocalQueryTarget(n),o=s.view.ec();else{const e=await Y_(i.localStore,Vp(t));i.isPrimaryClient&&Nb(i.remoteStore,e);const s=i.sharedClientState.addLocalQueryTarget(e.targetId);n=e.targetId,o=await LC(i,t,n,"current"===s,e.resumeToken)}return o}async function LC(e,t,i,n,o){e._c=(t,i,n)=>async function(e,t,i,n){let o=t.view.Wu(i);o.$i&&(o=await Z_(e.localStore,t.query,!1).then((({documents:e})=>t.view.Wu(e,o))));const s=n&&n.targetChanges.get(t.targetId),r=t.view.applyChanges(o,e.isPrimaryClient,s);return OC(e,t.targetId,r.Xu),r.snapshot}(e,t,i,n);const s=await Z_(e.localStore,t,!0),r=new CC(t,s.Hi),a=r.Wu(s.documents),l=Gm.createSynthesizedTargetChangeForCurrentChange(i,n&&"Offline"!==e.onlineState,o),d=r.applyChanges(a,e.isPrimaryClient,l);OC(e,i,d.Xu);const c=new yC(t,i,r);return e.ic.set(t,c),e.rc.has(i)?e.rc.get(i).push(t):e.rc.set(i,[t]),d.snapshot}async function xC(e,t){const i=bu(e),n=i.ic.get(t),o=i.rc.get(n.targetId);if(o.length>1)return i.rc.set(n.targetId,o.filter((e=>!Wp(e,t)))),void i.ic.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(n.targetId),i.sharedClientState.isActiveQueryTarget(n.targetId)||await Q_(i.localStore,n.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(n.targetId),Eb(i.remoteStore,n.targetId),RC(i,n.targetId)})).catch(eg)):(RC(i,n.targetId),await Q_(i.localStore,n.targetId,!0))}async function IC(e,t){const i=bu(e);try{const e=await function(e,t){const i=bu(e),n=t.snapshotVersion;let o=i.Ui;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=i.Gi.newChangeBuffer({trackRemovals:!0});o=i.Ui;const r=[];t.targetChanges.forEach(((s,a)=>{const l=o.get(a);if(!l)return;r.push(i.Cs.removeMatchingKeys(e,s.removedDocuments,a).next((()=>i.Cs.addMatchingKeys(e,s.addedDocuments,a))));let d=l.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?d=d.withResumeToken(kg.EMPTY_BYTE_STRING,Vu.min()).withLastLimboFreeSnapshotVersion(Vu.min()):s.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(s.resumeToken,n)),o=o.insert(a,d),function(e,t,i){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size>0}(l,d,s)&&r.push(i.Cs.updateTargetData(e,d))}));let a=Am(),l=zm();if(t.documentUpdates.forEach((n=>{t.resolvedLimboDocuments.has(n)&&r.push(i.persistence.referenceDelegate.updateLimboDocument(e,n))})),r.push($_(e,s,t.documentUpdates).next((e=>{a=e.Wi,l=e.zi}))),!n.isEqual(Vu.min())){const t=i.Cs.getLastRemoteSnapshotVersion(e).next((t=>i.Cs.setTargetsMetadata(e,e.currentSequenceNumber,n)));r.push(t)}return tg.waitFor(r).next((()=>s.apply(e))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(i.Ui=o,e)))}(i.localStore,t);t.targetChanges.forEach(((e,t)=>{const n=i.cc.get(t);n&&(_u(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?_u(n.nc):e.removedDocuments.size>0&&(_u(n.nc),n.nc=!1))})),await WC(i,e,t)}catch(e){await eg(e)}}function DC(e,t,i){const n=bu(e);if(n.isPrimaryClient&&0===i||!n.isPrimaryClient&&1===i){const e=[];n.ic.forEach(((i,n)=>{const o=n.view.bu(t);o.snapshot&&e.push(o.snapshot)})),function(e,t){const i=bu(e);i.onlineState=t;let n=!1;i.queries.forEach(((e,i)=>{for(const e of i.listeners)e.bu(t)&&(n=!0)})),n&&uC(i)}(n.eventManager,t),e.length&&n.sc.Wo(e),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function NC(e,t,i){const n=bu(e);n.sharedClientState.updateQueryState(t,"rejected",i);const o=n.cc.get(t),s=o&&o.key;if(s){let e=new vg(Uu.comparator);e=e.insert(s,rp.newNoDocument(s,Vu.min()));const i=zm().add(s),o=new Hm(Vu.min(),new Map,new Cg(Mu),e,i);await IC(n,o),n.uc=n.uc.remove(s),n.cc.delete(t),FC(n)}else await Q_(n.localStore,t,!1).then((()=>RC(n,t,i))).catch(eg)}async function EC(e,t){const i=bu(e),n=t.batch.batchId;try{const e=await function(e,t){const i=bu(e);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const n=t.batch.keys(),o=i.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,i,n){const o=i.batch,s=o.keys();let r=tg.resolve();return s.forEach((e=>{r=r.next((()=>n.getEntry(t,e))).next((t=>{const s=i.docVersions.get(e);_u(null!==s),t.version.compareTo(s)<0&&(o.applyToRemoteDocument(t,i),t.isValidDocument()&&(t.setReadTime(i.commitVersion),n.addEntry(t)))}))})),r.next((()=>e.mutationQueue.removeMutationBatch(t,o)))}(i,e,t,o).next((()=>o.apply(e))).next((()=>i.mutationQueue.performConsistencyCheck(e))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(e,n,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=zm();for(let i=0;i<e.mutationResults.length;++i)e.mutationResults[i].transformResults.length>0&&(t=t.add(e.batch.mutations[i].key));return t}(t)))).next((()=>i.localDocuments.getDocuments(e,n)))}))}(i.localStore,t);MC(i,n,null),TC(i,n),i.sharedClientState.updateMutationState(n,"acknowledged"),await WC(i,e)}catch(e){await eg(e)}}async function AC(e,t,i){const n=bu(e);try{const e=await function(e,t){const i=bu(e);return i.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let n;return i.mutationQueue.lookupMutationBatch(e,t).next((t=>(_u(null!==t),n=t.keys(),i.mutationQueue.removeMutationBatch(e,t)))).next((()=>i.mutationQueue.performConsistencyCheck(e))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(e,n,t))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n))).next((()=>i.localDocuments.getDocuments(e,n)))}))}(n.localStore,t);MC(n,t,i),TC(n,t),n.sharedClientState.updateMutationState(t,"rejected",i),await WC(n,e)}catch(i){await eg(i)}}function TC(e,t){(e.lc.get(t)||[]).forEach((e=>{e.resolve()})),e.lc.delete(t)}function MC(e,t,i){const n=bu(e);let o=n.hc[n.currentUser.toKey()];if(o){const e=o.get(t);e&&(i?e.reject(i):e.resolve(),o=o.remove(t)),n.hc[n.currentUser.toKey()]=o}}function RC(e,t,i=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.rc.get(t))e.ic.delete(n),i&&e.sc.wc(n,i);e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((t=>{e.ac.containsKey(t)||PC(e,t)}))}function PC(e,t){e.oc.delete(t.path.canonicalString());const i=e.uc.get(t);null!==i&&(Eb(e.remoteStore,i),e.uc=e.uc.remove(t),e.cc.delete(i),FC(e))}function OC(e,t,i){for(const n of i)n instanceof _C?(e.ac.addReference(n.key,t),VC(e,n)):n instanceof bC?(gu("SyncEngine","Document no longer in limbo: "+n.key),e.ac.removeReference(n.key,t),e.ac.containsKey(n.key)||PC(e,n.key)):vu()}function VC(e,t){const i=t.key,n=i.path.canonicalString();e.uc.get(i)||e.oc.has(n)||(gu("SyncEngine","New document in limbo: "+i),e.oc.add(n),FC(e))}function FC(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){const t=e.oc.values().next().value;e.oc.delete(t);const i=new Uu(Wu.fromString(t)),n=e.fc.next();e.cc.set(n,new wC(i)),e.uc=e.uc.insert(i,n),Nb(e.remoteStore,new lv(Vp(Ap(i.path)),n,2,gg.at))}}async function WC(e,t,i){const n=bu(e),o=[],s=[],r=[];n.ic.isEmpty()||(n.ic.forEach(((e,a)=>{r.push(n._c(a,t,i).then((e=>{if((e||i)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){o.push(e);const t=B_.Ci(a.targetId,e);s.push(t)}})))})),await Promise.all(r),n.sc.Wo(o),await async function(e,t){const i=bu(e);try{await i.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>tg.forEach(t,(t=>tg.forEach(t.Si,(n=>i.persistence.referenceDelegate.addReference(e,t.targetId,n))).next((()=>tg.forEach(t.Di,(n=>i.persistence.referenceDelegate.removeReference(e,t.targetId,n)))))))))}catch(e){if(!rg(e))throw e;gu("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=i.Ui.get(t),n=e.snapshotVersion,o=e.withLastLimboFreeSnapshotVersion(n);i.Ui=i.Ui.insert(t,o)}}}(n.localStore,s))}async function zC(e,t){const i=bu(e);if(!i.currentUser.isEqual(t)){gu("SyncEngine","User change. New user:",t.toKey());const e=await j_(i.localStore,t);i.currentUser=t,function(e,t){e.lc.forEach((e=>{e.forEach((e=>{e.reject(new yu(Cu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(i),i.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await WC(i,e.ji)}}function BC(e,t){const i=bu(e),n=i.cc.get(t);if(n&&n.nc)return zm().add(n.key);{let e=zm();const n=i.rc.get(t);if(!n)return e;for(const t of n){const n=i.ic.get(t);e=e.unionWith(n.view.ju)}return e}}async function UC(e,t){const i=bu(e),n=await Z_(i.localStore,t.query,!0),o=t.view.tc(n);return i.isPrimaryClient&&OC(i,t.targetId,o.Xu),o}async function HC(e,t){const i=bu(e);return X_(i.localStore,t).then((e=>WC(i,e)))}async function GC(e,t,i,n){const o=bu(e),s=await function(e,t){const i=bu(e),n=bu(i.mutationQueue);return i.persistence.runTransaction("Lookup mutation documents","readonly",(e=>n.Tn(e,t).next((t=>t?i.localDocuments.getDocuments(e,t):tg.resolve(null)))))}(o.localStore,t);null!==s?("pending"===i?await Ub(o.remoteStore):"acknowledged"===i||"rejected"===i?(MC(o,t,n||null),TC(o,t),function(e,t){bu(bu(e).mutationQueue).An(t)}(o.localStore,t)):vu(),await WC(o,s)):gu("SyncEngine","Cannot apply mutation batch with id: "+t)}async function jC(e,t,i){const n=bu(e),o=[],s=[];for(const e of t){let t;const i=n.rc.get(e);if(i&&0!==i.length){t=await Y_(n.localStore,Vp(i[0]));for(const e of i){const t=n.ic.get(e),i=await UC(n,t);i.snapshot&&s.push(i.snapshot)}}else{const i=await J_(n.localStore,e);t=await Y_(n.localStore,i),await LC(n,KC(i),e,!1,t.resumeToken)}o.push(t)}return n.sc.Wo(s),o}function KC(e){return Ep(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function $C(e){const t=bu(e);return bu(bu(t.localStore).persistence).vi()}async function qC(e,t,i,n){const o=bu(e);if(o.dc)return void gu("SyncEngine","Ignoring unexpected query state notification.");const s=o.rc.get(t);if(s&&s.length>0)switch(i){case"current":case"not-current":{const e=await X_(o.localStore,Hp(s[0])),n=Hm.createSynthesizedRemoteEventForCurrentChange(t,"current"===i,kg.EMPTY_BYTE_STRING);await WC(o,e,n);break}case"rejected":await Q_(o.localStore,t,!0),RC(o,t,n);break;default:vu()}}async function YC(e,t,i){const n=QC(e);if(n.dc){for(const e of t){if(n.rc.has(e)){gu("SyncEngine","Adding an already active target "+e);continue}const t=await J_(n.localStore,e),i=await Y_(n.localStore,t);await LC(n,KC(t),i.targetId,!1,i.resumeToken),Nb(n.remoteStore,i)}for(const e of i)n.rc.has(e)&&await Q_(n.localStore,e,!1).then((()=>{Eb(n.remoteStore,e),RC(n,e)})).catch(eg)}}function QC(e){const t=bu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=IC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=NC.bind(null,t),t.sc.Wo=cC.bind(null,t.eventManager),t.sc.wc=hC.bind(null,t.eventManager),t}function ZC(e){const t=bu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=EC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AC.bind(null,t),t}class JC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=bb(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return G_(this.persistence,new U_,e.initialUser,this.It)}yc(e){return new A_(M_.Bs,this.It)}gc(e){return new hb}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class XC extends JC{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ac.initialize(this,e),await ZC(this.Ac.syncEngine),await Ub(this.Ac.remoteStore),await this.persistence.li((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}Ic(e){return G_(this.persistence,new U_,e.initialUser,this.It)}Tc(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new l_(i,e.asyncQueue,t)}Ec(e,t){const i=new ug(t,this.persistence);return new hg(e.asyncQueue,i)}yc(e){const t=z_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?$v.withCacheSize(this.cacheSizeBytes):$v.DEFAULT;return new V_(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,vb(),_b(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new hb}}class ey extends XC{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Ac.syncEngine;this.sharedClientState instanceof cb&&(this.sharedClientState.syncEngine={Fr:GC.bind(null,t),$r:qC.bind(null,t),Br:YC.bind(null,t),vi:$C.bind(null,t),Mr:HC.bind(null,t)},await this.sharedClientState.start()),await this.persistence.li((async e=>{await async function(e,t){const i=bu(e);if(QC(i),ZC(i),!0===t&&!0!==i.dc){const e=i.sharedClientState.getAllActiveQueryTargets(),t=await jC(i,e.toArray());i.dc=!0,await Jb(i.remoteStore,!0);for(const e of t)Nb(i.remoteStore,e)}else if(!1===t&&!1!==i.dc){const e=[];let t=Promise.resolve();i.rc.forEach(((n,o)=>{i.sharedClientState.isLocalQueryTarget(o)?e.push(o):t=t.then((()=>(RC(i,o),Q_(i.localStore,o,!0)))),Eb(i.remoteStore,o)})),await t,await jC(i,e),function(e){const t=bu(e);t.cc.forEach(((e,i)=>{Eb(t.remoteStore,i)})),t.ac.fs(),t.cc=new Map,t.uc=new vg(Uu.comparator)}(i),i.dc=!1,await Jb(i.remoteStore,!1)}}(this.Ac.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}gc(e){const t=vb();if(!cb.C(t))throw new yu(Cu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=z_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cb(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class ty{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>DC(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=zC.bind(null,this.syncEngine),await Jb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new aC}createDatastore(e){const t=bb(e.databaseInfo.databaseId),i=(n=e.databaseInfo,new fb(n));var n;return function(e,t,i,n){return new kb(e,t,i,n)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,n=e.asyncQueue,o=e=>DC(this.syncEngine,e,0),s=gb.C()?new gb:new ub,new xb(t,i,n,o,s);var t,i,n,o,s}createSyncEngine(e,t){return function(e,t,i,n,o,s,r){const a=new SC(e,t,i,n,o,s);return r&&(a.dc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=bu(e);gu("RemoteStore","RemoteStore shutting down."),t._u.add(5),await Db(t),t.mu.shutdown(),t.gu.set("Unknown")}(this.remoteStore)}}function iy(e,t,i){if(!i)throw new yu(Cu.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ny(e,t,i,n){if(!0===t&&!0===n)throw new yu(Cu.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)}function oy(e){if(!Uu.isDocumentKey(e))throw new yu(Cu.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function sy(e){if(Uu.isDocumentKey(e))throw new yu(Cu.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ry(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":vu()}function ay(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yu(Cu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ry(e);throw new yu(Cu.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}function ly(e,t){if(t<=0)throw new yu(Cu.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}const dy=new Map;class cy{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new yu(Cu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yu(Cu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ny("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hy{constructor(e,t,i,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yu(Cu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yu(Cu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cy(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ku;switch(e.type){case"gapi":const t=e.client;return new Du(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new yu(Cu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dy.get(e);t&&(gu("ComponentProvider","Removing Datastore"),dy.delete(e),t.terminate())}(this),Promise.resolve()}}class uy{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new py(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uy(this.firestore,e,this._key)}}class gy{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new gy(this.firestore,e,this._query)}}class py extends gy{constructor(e,t,i){super(e,t,Ap(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uy(this.firestore,null,new Uu(e))}withConverter(e){return new py(this.firestore,e,this._path)}}function my(e,t,...i){if(e=qr(e),iy("collection","path",t),e instanceof hy){const n=Wu.fromString(t,...i);return sy(n),new py(e,null,n)}{if(!(e instanceof uy||e instanceof py))throw new yu(Cu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Wu.fromString(t,...i));return sy(n),new py(e.firestore,null,n)}}function fy(e,t,...i){if(e=qr(e),1===arguments.length&&(t=Tu.R()),iy("doc","path",t),e instanceof hy){const n=Wu.fromString(t,...i);return oy(n),new uy(e,null,new Uu(n))}{if(!(e instanceof uy||e instanceof py))throw new yu(Cu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Wu.fromString(t,...i));return oy(n),new uy(e.firestore,e instanceof py?e.converter:null,new Uu(n))}}function vy(e,t){return e=qr(e),t=qr(t),(e instanceof uy||e instanceof py)&&(t instanceof uy||t instanceof py)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function _y(e,t){return e=qr(e),t=qr(t),e instanceof gy&&t instanceof gy&&e.firestore===t.firestore&&Wp(e._query,t._query)&&e.converter===t.converter}function by(e,t=10240){let i=0;return{async read(){if(i<e.byteLength){const n={value:e.slice(i,i+t),done:!1};return i+=t,n}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class Cy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):pu("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class yy{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new wu,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((e=>{e&&e.Ou()?this.metadata.resolve(e.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.ku)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Pc.cancel()}async getMetadata(){return this.metadata.promise}async mc(){return await this.getMetadata(),this.Vc()}async Vc(){const e=await this.Sc();if(null===e)return null;const t=this.vc.decode(e),i=Number(t);isNaN(i)&&this.Dc(`length string (${t}) is not valid number`);const n=await this.Cc(i);return new pC(JSON.parse(n),e.length+i)}xc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Sc(){for(;this.xc()<0&&!await this.Nc(););if(0===this.buffer.length)return null;const e=this.xc();e<0&&this.Dc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Cc(e){for(;this.buffer.length<e;)await this.Nc()&&this.Dc("Reached the end of bundle when more is expected.");const t=this.vc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Nc(){const e=await this.Pc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class wy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new yu(Cu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const i=bu(e),n=uf(i.It)+"/documents",o={documents:t.map((e=>lf(i.It,e)))},s=await i._o("BatchGetDocuments",n,o,t.length),r=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){_u(!!t.found),t.found.name,t.found.updateTime;const i=df(e,t.found.name),n=sf(t.found.updateTime),o=new op({mapValue:{fields:t.found.fields}});return rp.newFoundDocument(i,n,o)}(e,t):"missing"in t?function(e,t){_u(!!t.missing),_u(!!t.readTime);const i=df(e,t.missing),n=sf(t.readTime);return rp.newNoDocument(i,n)}(e,t):vu()}(i.It,e);r.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=r.get(e.toString());_u(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new wm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const i=Uu.fromPath(t);this.mutations.push(new Sm(i,this.precondition(i)))})),await async function(e,t){const i=bu(e),n=uf(i.It)+"/documents",o={writes:t.map((e=>ff(i.It,e)))};await i.ao("Commit",n,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw vu();t=Vu.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new yu(Cu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Vu.min())?dm.exists(!1):dm.updateTime(t):dm.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vu.min()))throw new yu(Cu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dm.updateTime(t)}return dm.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Sy{constructor(e,t,i,n,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=n,this.deferred=o,this.kc=i.maxAttempts,this.xo=new Cb(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){this.xo.Ro((async()=>{const e=new wy(this.datastore),t=this.Mc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Fc(e)}))))})).catch((e=>{this.Fc(e)}))}))}Mc(e){try{const t=this.updateFunction(e);return!Rg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Oc(),Promise.resolve())))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Im(t)}return!1}}class ky{constructor(e,t,i,n){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=n,this.user=du.UNAUTHENTICATED,this.clientId=Tu.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,(async e=>{gu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(i,(e=>(gu("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yu(Cu.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=iC(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Ly(e,t){e.asyncQueue.verifyOperationInProgress(),gu("FirestoreClient","Initializing OfflineComponentProvider");const i=await e.getConfiguration();await t.initialize(i);let n=i.initialUser;e.setCredentialChangeListener((async e=>{n.isEqual(e)||(await j_(t.localStore,e),n=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function xy(e,t){e.asyncQueue.verifyOperationInProgress();const i=await Iy(e);gu("FirestoreClient","Initializing OnlineComponentProvider");const n=await e.getConfiguration();await t.initialize(i,n),e.setCredentialChangeListener((e=>Zb(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,i)=>Zb(t.remoteStore,i))),e.onlineComponents=t}async function Iy(e){return e.offlineComponents||(gu("FirestoreClient","Using default OfflineComponentProvider"),await Ly(e,new JC)),e.offlineComponents}async function Dy(e){return e.onlineComponents||(gu("FirestoreClient","Using default OnlineComponentProvider"),await xy(e,new ty)),e.onlineComponents}function Ny(e){return Iy(e).then((e=>e.persistence))}function Ey(e){return Iy(e).then((e=>e.localStore))}function Ay(e){return Dy(e).then((e=>e.remoteStore))}function Ty(e){return Dy(e).then((e=>e.syncEngine))}async function My(e){const t=await Dy(e),i=t.eventManager;return i.onListen=kC.bind(null,t.syncEngine),i.onUnlisten=xC.bind(null,t.syncEngine),i}function Ry(e,t,i={}){const n=new wu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,i,n,o){const s=new Cy({next:s=>{t.enqueueAndForget((()=>dC(e,r)));const a=s.docs.has(i);!a&&s.fromCache?o.reject(new yu(Cu.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&n&&"server"===n.source?o.reject(new yu(Cu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(s)},error:e=>o.reject(e)}),r=new gC(Ap(i.path),s,{includeMetadataChanges:!0,Nu:!0});return lC(e,r)}(await My(e),e.asyncQueue,t,i,n))),n.promise}function Py(e,t,i={}){const n=new wu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,i,n,o){const s=new Cy({next:i=>{t.enqueueAndForget((()=>dC(e,r))),i.fromCache&&"server"===n.source?o.reject(new yu(Cu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(i)},error:e=>o.reject(e)}),r=new gC(i,s,{includeMetadataChanges:!0,Nu:!0});return lC(e,r)}(await My(e),e.asyncQueue,t,i,n))),n.promise}class Oy{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Cb(this,"async_queue_retry"),this.Wc=()=>{const e=_b();e&&gu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const e=_b();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=_b();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise((()=>{}));const t=new wu;return this.Hc((()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Lc.push(e),this.Jc())))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!rg(e))throw e;gu("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro((()=>this.Jc()))}}Hc(e){const t=this.Bc.then((()=>(this.Gc=!0,e().catch((e=>{this.Kc=e,this.Gc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw pu("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Gc=!1,e))))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const n=tC.createAndSchedule(this,e,t,i,(e=>this.Yc(e)));return this.qc.push(n),n}zc(){this.Kc&&vu()}verifyOperationInProgress(){}async Xc(){let e;do{e=this.Bc,await e}while(e!==this.Bc)}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then((()=>{this.qc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()}))}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Vy(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const e of["next","error","complete"])if(e in i&&"function"==typeof i[e])return!0;return!1}(e)}class Fy{constructor(){this._progressObserver={},this._taskCompletionResolver=new wu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Wy extends hy{constructor(e,t,i,n){super(e,t,i,n),this.type="firestore",this._queue=new Oy,this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||By(this),this._firestoreClient.terminate()}}function zy(e){return e._firestoreClient||By(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function By(e){var t;const i=e._freezeSettings(),n=function(e,t,i,n){return new Tg(e,t,i,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,n.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new ky(e._authCredentials,e._appCheckCredentials,e._queue,n)}function Uy(e,t,i){const n=new wu;return e.asyncQueue.enqueue((async()=>{try{await Ly(e,i),await xy(e,t),n.resolve()}catch(e){const t=e;if(!function(e){return"FirebaseError"===e.name?e.code===Cu.FAILED_PRECONDITION||e.code===Cu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(t))throw t;mu("Error enabling offline persistence. Falling back to persistence disabled: "+t),n.reject(t)}})).then((()=>n.promise))}function Hy(e){if(e._initialized||e._terminated)throw new yu(Cu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gy(kg.fromBase64String(e))}catch(e){throw new yu(Cu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Gy(kg.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jy{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new yu(Cu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bu(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ky{constructor(e){this._methodName=e}}class $y{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yu(Cu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yu(Cu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mu(this._lat,e._lat)||Mu(this._long,e._long)}}const qy=/^__.*__$/;class Yy{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new _m(e,this.data,this.fieldMask,t,this.fieldTransforms):new vm(e,this.data,t,this.fieldTransforms)}}class Qy{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new _m(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Zy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vu()}}class Jy{constructor(e,t,i,n,o,s){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=n,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Jy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.ia({path:i,oa:!1});return n.ua(e),n}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.ia({path:i,oa:!1});return n.na(),n}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return _w(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Zy(this.sa)&&qy.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Xy{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||bb(e)}da(e,t,i,n=!1){return new Jy({sa:e,methodName:t,fa:i,path:Bu.emptyPath(),oa:!1,la:n},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function ew(e){const t=e._freezeSettings(),i=bb(e._databaseId);return new Xy(e._databaseId,!!t.ignoreUndefinedProperties,i)}function tw(e,t,i,n,o,s={}){const r=e.da(s.merge||s.mergeFields?2:0,t,i,o);pw("Data must be an object, but it was:",r,n);const a=uw(n,r);let l,d;if(s.merge)l=new Sg(r.fieldMask),d=r.fieldTransforms;else if(s.mergeFields){const e=[];for(const n of s.mergeFields){const o=mw(t,n,i);if(!r.contains(o))throw new yu(Cu.INVALID_ARGUMENT,`Field '${o}' is specified in your field mask but missing from your input data.`);bw(e,o)||e.push(o)}l=new Sg(e),d=r.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,d=r.fieldTransforms;return new Yy(new op(a),l,d)}class iw extends Ky{_toFieldTransform(e){if(2!==e.sa)throw 1===e.sa?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof iw}}function nw(e,t,i){return new Jy({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:i},t.databaseId,t.It,t.ignoreUndefinedProperties)}class ow extends Ky{_toFieldTransform(e){return new am(e.path,new Xp)}isEqual(e){return e instanceof ow}}class sw extends Ky{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=nw(this,e,!0),i=this._a.map((e=>hw(e,t))),n=new em(i);return new am(e.path,n)}isEqual(e){return this===e}}class rw extends Ky{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=nw(this,e,!0),i=this._a.map((e=>hw(e,t))),n=new im(i);return new am(e.path,n)}isEqual(e){return this===e}}class aw extends Ky{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new om(e.It,qp(e.It,this.wa));return new am(e.path,t)}isEqual(e){return this===e}}function lw(e,t,i,n){const o=e.da(1,t,i);pw("Data must be an object, but it was:",o,n);const s=[],r=op.empty();mg(n,((e,n)=>{const a=vw(t,e,i);n=qr(n);const l=o.ca(a);if(n instanceof iw)s.push(a);else{const e=hw(n,l);null!=e&&(s.push(a),r.set(a,e))}}));const a=new Sg(s);return new Qy(r,a,o.fieldTransforms)}function dw(e,t,i,n,o,s){const r=e.da(1,t,i),a=[mw(t,n,i)],l=[o];if(s.length%2!=0)throw new yu(Cu.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)a.push(mw(t,s[e])),l.push(s[e+1]);const d=[],c=op.empty();for(let e=a.length-1;e>=0;--e)if(!bw(d,a[e])){const t=a[e];let i=l[e];i=qr(i);const n=r.ca(t);if(i instanceof iw)d.push(t);else{const e=hw(i,n);null!=e&&(d.push(t),c.set(t,e))}}const h=new Sg(d);return new Qy(c,h,r.fieldTransforms)}function cw(e,t,i,n=!1){return hw(i,e.da(n?4:3,t))}function hw(e,t){if(gw(e=qr(e)))return pw("Unsupported field value:",t,e),uw(e,t);if(e instanceof Ky)return function(e,t){if(!Zy(t.sa))throw t.ha(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.ha(`${e._methodName}() is not currently supported inside arrays`);const i=e._toFieldTransform(t);i&&t.fieldTransforms.push(i)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){const i=[];let n=0;for(const o of e){let e=hw(o,t.aa(n));null==e&&(e={nullValue:"NULL_VALUE"}),i.push(e),n++}return{arrayValue:{values:i}}}(e,t)}return function(e,t){if(null===(e=qr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return qp(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const i=Ou.fromDate(e);return{timestampValue:tf(t.It,i)}}if(e instanceof Ou){const i=new Ou(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:tf(t.It,i)}}if(e instanceof $y)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gy)return{bytesValue:nf(t.It,e._byteString)};if(e instanceof uy){const i=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(i))throw t.ha(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:rf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha(`Unsupported field value: ${ry(e)}`)}(e,t)}function uw(e,t){const i={};return fg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mg(e,((e,n)=>{const o=hw(n,t.ra(e));null!=o&&(i[e]=o)})),{mapValue:{fields:i}}}function gw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ou||e instanceof $y||e instanceof Gy||e instanceof uy||e instanceof Ky)}function pw(e,t,i){if(!gw(i)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(i)){const n=ry(i);throw"an object"===n?t.ha(e+" a custom object"):t.ha(e+" "+n)}}function mw(e,t,i){if((t=qr(t))instanceof jy)return t._internalPath;if("string"==typeof t)return vw(e,t);throw _w("Field path arguments must be of type string or ",e,!1,void 0,i)}const fw=new RegExp("[~\\*/\\[\\]]");function vw(e,t,i){if(t.search(fw)>=0)throw _w(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,i);try{return new jy(...t.split("."))._internalPath}catch(n){throw _w(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,i)}}function _w(e,t,i,n,o){const s=n&&!n.isEmpty(),r=void 0!==o;let a=`Function ${t}() called with invalid data`;i&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||r)&&(l+=" (found",s&&(l+=` in field ${n}`),r&&(l+=` in document ${o}`),l+=")"),new yu(Cu.INVALID_ARGUMENT,a+e+l)}function bw(e,t){return e.some((e=>e.isEqual(t)))}class Cw{constructor(e,t,i,n,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=n,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new uy(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ww("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yw extends Cw{data(){return super.data()}}function ww(e,t){return"string"==typeof t?vw(e,t):t instanceof jy?t._internalPath:t._delegate._internalPath}function Sw(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new yu(Cu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kw{}function Lw(e,...t){for(const i of t)e=i._apply(e);return e}class xw extends kw{constructor(e,t,i){super(),this.ma=e,this.ga=t,this.ya=i,this.type="where"}_apply(e){const t=ew(e.firestore),i=function(e,t,i,n,o,s,r){let a;if(o.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new yu(Cu.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Mw(r,s);const t=[];for(const i of r)t.push(Tw(n,e,i));a={arrayValue:{values:t}}}else a=Tw(n,e,r)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Mw(r,s),a=cw(i,"where",r,"in"===s||"not-in"===s);const l=mp.create(o,s,a);return function(e,t){if(t.dt()){const i=Rp(e);if(null!==i&&!i.isEqual(t.field))throw new yu(Cu.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${t.field.toString()}'`);const n=Mp(e);null!==n&&Rw(0,t.field,n)}const i=function(e,t){for(const i of e.filters)if(t.indexOf(i.op)>=0)return i.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new yu(Cu.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new yu(Cu.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}(e,l),l}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new gy(e.firestore,e.converter,function(e,t){const i=e.filters.concat([t]);return new Np(e.path,e.collectionGroup,e.explicitOrderBy.slice(),i,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,i))}}class Iw extends kw{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(e,t,i){if(null!==e.startAt)throw new yu(Cu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new yu(Cu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const n=new Lp(t,i);return function(e,t){if(null===Mp(e)){const i=Rp(e);null!==i&&Rw(0,i,t.field)}}(e,n),n}(e._query,this.ma,this.pa);return new gy(e.firestore,e.converter,function(e,t){const i=e.explicitOrderBy.concat([t]);return new Np(e.path,e.collectionGroup,i,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Dw extends kw{constructor(e,t,i){super(),this.type=e,this.Ia=t,this.Ta=i}_apply(e){return new gy(e.firestore,e.converter,Fp(e._query,this.Ia,this.Ta))}}class Nw extends kw{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=Aw(e,this.type,this.Ea,this.Aa);return new gy(e.firestore,e.converter,function(e,t){return new Np(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Ew extends kw{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=Aw(e,this.type,this.Ea,this.Aa);return new gy(e.firestore,e.converter,function(e,t){return new Np(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Aw(e,t,i,n){if(i[0]=qr(i[0]),i[0]instanceof Cw)return function(e,t,i,n,o){if(!n)throw new yu(Cu.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${i}().`);const s=[];for(const i of Op(e))if(i.field.isKeyField())s.push(Kg(t,n.key));else{const e=n.data.field(i.field);if(Ng(e))throw new yu(Cu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+i.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=i.field.canonicalString();throw new yu(Cu.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new kp(s,o)}(e._query,e.firestore._databaseId,t,i[0]._document,n);{const o=ew(e.firestore);return function(e,t,i,n,o,s){const r=e.explicitOrderBy;if(o.length>r.length)throw new yu(Cu.INVALID_ARGUMENT,`Too many arguments provided to ${n}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let s=0;s<o.length;s++){const l=o[s];if(r[s].field.isKeyField()){if("string"!=typeof l)throw new yu(Cu.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${n}(), but got a ${typeof l}`);if(!Pp(e)&&-1!==l.indexOf("/"))throw new yu(Cu.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${n}() must be a plain document ID, but '${l}' contains a slash.`);const i=e.path.child(Wu.fromString(l));if(!Uu.isDocumentKey(i))throw new yu(Cu.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${n}() must result in a valid document path, but '${i}' is not because it contains an odd number of segments.`);const o=new Uu(i);a.push(Kg(t,o))}else{const e=cw(i,n,l);a.push(e)}}return new kp(a,s)}(e._query,e.firestore._databaseId,o,t,i,n)}}function Tw(e,t,i){if("string"==typeof(i=qr(i))){if(""===i)throw new yu(Cu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pp(t)&&-1!==i.indexOf("/"))throw new yu(Cu.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const n=t.path.child(Wu.fromString(i));if(!Uu.isDocumentKey(n))throw new yu(Cu.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Kg(e,new Uu(n))}if(i instanceof uy)return Kg(e,i._key);throw new yu(Cu.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ry(i)}.`)}function Mw(e,t){if(!Array.isArray(e)||0===e.length)throw new yu(Cu.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new yu(Cu.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Rw(e,t,i){if(!i.isEqual(t))throw new yu(Cu.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class Pw{convertValue(e,t="none"){switch(Wg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ig(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vu()}}convertObject(e,t){const i={};return mg(e.fields,((e,n)=>{i[e]=this.convertValue(n,t)})),i}convertGeoPoint(e){return new $y(Ig(e.latitude),Ig(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Eg(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ag(e));default:return null}}convertTimestamp(e){const t=xg(e);return new Ou(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Wu.fromString(e);_u(Nf(i));const n=new Mg(i.get(1),i.get(3)),o=new Uu(i.popFirst(5));return n.isEqual(t)||pu(`Document ${o} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function Ow(e,t,i){let n;return n=e?i&&(i.merge||i.mergeFields)?e.toFirestore(t,i):e.toFirestore(t):t,n}class Vw extends Pw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gy(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new uy(this.firestore,null,t)}}class Fw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ww extends Cw{constructor(e,t,i,n,o,s){super(e,t,i,n,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ww("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class zw extends Ww{data(e={}){return super.data(e)}}class Bw{constructor(e,t,i,n){this._firestore=e,this._userDataWriter=t,this._snapshot=n,this.metadata=new Fw(n.hasPendingWrites,n.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new zw(this._firestore,this._userDataWriter,i.key,i,new Fw(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new yu(Cu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((i=>{const n=new zw(e._firestore,e._userDataWriter,i.doc.key,i.doc,new Fw(e._snapshot.mutatedKeys.has(i.doc.key),e._snapshot.fromCache),e.query.converter);return i.doc,{type:"added",doc:n,oldIndex:-1,newIndex:t++}}))}{let i=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const n=new zw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Fw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let o=-1,s=-1;return 0!==t.type&&(o=i.indexOf(t.doc.key),i=i.delete(t.doc.key)),1!==t.type&&(i=i.add(t.doc),s=i.indexOf(t.doc.key)),{type:Uw(t.type),doc:n,oldIndex:o,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Uw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vu()}}function Hw(e,t){return e instanceof Ww&&t instanceof Ww?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Bw&&t instanceof Bw&&e._firestore===t._firestore&&_y(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class Gw extends Pw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gy(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new uy(this.firestore,null,t)}}function jw(e,t,i){e=ay(e,uy);const n=ay(e.firestore,Wy),o=Ow(e.converter,t,i);return qw(n,[tw(ew(n),"setDoc",e._key,o,null!==e.converter,i).toMutation(e._key,dm.none())])}function Kw(e,t,i,...n){e=ay(e,uy);const o=ay(e.firestore,Wy),s=ew(o);let r;return r="string"==typeof(t=qr(t))||t instanceof jy?dw(s,"updateDoc",e._key,t,i,n):lw(s,"updateDoc",e._key,t),qw(o,[r.toMutation(e._key,dm.exists(!0))])}function $w(e,...t){var i,n,o;e=qr(e);let s={includeMetadataChanges:!1},r=0;"object"!=typeof t[r]||Vy(t[r])||(s=t[r],r++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Vy(t[r])){const e=t[r];t[r]=null===(i=e.next)||void 0===i?void 0:i.bind(e),t[r+1]=null===(n=e.error)||void 0===n?void 0:n.bind(e),t[r+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let l,d,c;if(e instanceof uy)d=ay(e.firestore,Wy),c=Ap(e._key.path),l={next:i=>{t[r]&&t[r](Yw(d,e,i))},error:t[r+1],complete:t[r+2]};else{const i=ay(e,gy);d=ay(i.firestore,Wy),c=i._query;const n=new Gw(d);l={next:e=>{t[r]&&t[r](new Bw(d,n,i,e))},error:t[r+1],complete:t[r+2]},Sw(e._query)}return function(e,t,i,n){const o=new Cy(n),s=new gC(t,o,i);return e.asyncQueue.enqueueAndForget((async()=>lC(await My(e),s))),()=>{o.bc(),e.asyncQueue.enqueueAndForget((async()=>dC(await My(e),s)))}}(zy(d),c,a,l)}function qw(e,t){return function(e,t){const i=new wu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,i){const n=ZC(e);try{const e=await function(e,t){const i=bu(e),n=Ou.now(),o=t.reduce(((e,t)=>e.add(t.key)),zm());let s,r;return i.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Am(),l=zm();return i.Gi.getEntries(e,o).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>i.localDocuments.getOverlayedDocuments(e,a))).next((o=>{s=o;const r=[];for(const e of t){const t=mm(e,s.get(e.key).overlayedDocument);null!=t&&r.push(new _m(e.key,t,sp(t.value.mapValue),dm.exists(!0)))}return i.mutationQueue.addMutationBatch(e,n,r,t)})).next((t=>{r=t;const n=t.applyToLocalDocumentSet(s,l);return i.documentOverlayCache.saveOverlays(e,t.batchId,n)}))})).then((()=>({batchId:r.batchId,changes:Rm(s)})))}(n.localStore,t);n.sharedClientState.addPendingMutation(e.batchId),function(e,t,i){let n=e.hc[e.currentUser.toKey()];n||(n=new vg(Mu)),n=n.insert(t,i),e.hc[e.currentUser.toKey()]=n}(n,e.batchId,i),await WC(n,e.changes),await Ub(n.remoteStore)}catch(e){const t=iC(e,"Failed to persist write");i.reject(t)}}(await Ty(e),t,i))),i.promise}(zy(e),t)}function Yw(e,t,i){const n=i.docs.get(t._key),o=new Gw(e);return new Ww(e,o,t._key,n,new Fw(i.hasPendingWrites,i.fromCache),t.converter)}const Qw={maxAttempts:5};class Zw{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ew(e)}set(e,t,i){this._verifyNotCommitted();const n=Jw(e,this._firestore),o=Ow(n.converter,t,i),s=tw(this._dataReader,"WriteBatch.set",n._key,o,null!==n.converter,i);return this._mutations.push(s.toMutation(n._key,dm.none())),this}update(e,t,i,...n){this._verifyNotCommitted();const o=Jw(e,this._firestore);let s;return s="string"==typeof(t=qr(t))||t instanceof jy?dw(this._dataReader,"WriteBatch.update",o._key,t,i,n):lw(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,dm.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Jw(e,this._firestore);return this._mutations=this._mutations.concat(new wm(t._key,dm.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new yu(Cu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jw(e,t){if((e=qr(e)).firestore!==t)throw new yu(Cu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Xw extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ew(e)}get(e){const t=Jw(e,this._firestore),i=new Vw(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return vu();const n=e[0];if(n.isFoundDocument())return new Cw(this._firestore,i,n.key,n,t.converter);if(n.isNoDocument())return new Cw(this._firestore,i,t._key,null,t.converter);throw vu()}))}set(e,t,i){const n=Jw(e,this._firestore),o=Ow(n.converter,t,i),s=tw(this._dataReader,"Transaction.set",n._key,o,null!==n.converter,i);return this._transaction.set(n._key,s),this}update(e,t,i,...n){const o=Jw(e,this._firestore);let s;return s="string"==typeof(t=qr(t))||t instanceof jy?dw(this._dataReader,"Transaction.update",o._key,t,i,n):lw(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,s),this}delete(e){const t=Jw(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Jw(e,this._firestore),i=new Gw(this._firestore);return super.get(e).then((e=>new Ww(this._firestore,i,t._key,e._document,new Fw(!1,!1),t.converter)))}}function eS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new yu("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function tS(){if("undefined"==typeof Uint8Array)throw new yu("unimplemented","Uint8Arrays are not available in this environment.")}function iS(){if("undefined"==typeof atob)throw new yu("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){cu=e}(Wa),Ma(new Yr("firestore",((e,{instanceIdentifier:i,options:n})=>{const o=e.getProvider("app").getImmediate(),s=new Wy(new xu(e.getProvider("auth-internal")),new Eu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yu(Cu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mg(e.options.projectId,t)}(o,i),o);return n=Object.assign({useFetchStreams:t},n),s._setSettings(n),s}),"PUBLIC").setMultipleInstances(!0)),Ga(lu,"3.7.3",e),Ga(lu,"3.7.3","esm2017")}();class nS{constructor(e){this._delegate=e}static fromBase64String(e){return iS(),new nS(Gy.fromBase64String(e))}static fromUint8Array(e){return tS(),new nS(Gy.fromUint8Array(e))}toBase64(){return iS(),this._delegate.toBase64()}toUint8Array(){return tS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function oS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const e of["next","error","complete"])if(e in i&&"function"==typeof i[e])return!0;return!1}(e)}class sS{enableIndexedDbPersistence(e,t){return function(e,t){Hy(e=ay(e,Wy));const i=zy(e),n=e._freezeSettings(),o=new ty;return Uy(i,o,new XC(o,n.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Hy(e=ay(e,Wy));const t=zy(e),i=e._freezeSettings(),n=new ty;return Uy(t,n,new ey(n,i.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new yu(Cu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new wu;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!ng.C())return Promise.resolve();const t=e+"main";await ng.delete(t)}(z_(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class rS{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mg||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||mu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function(e,t,i,n={}){var o;const s=(e=ay(e,hy))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&mu("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${i}`,ssl:!1})),n.mockUserToken){let t,i;if("string"==typeof n.mockUserToken)t=n.mockUserToken,i=du.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",n=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:n,exp:n+3600,auth_time:n,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[wr(JSON.stringify({alg:"none",type:"JWT"})),wr(JSON.stringify(s)),""].join(".")}(n.mockUserToken,null===(o=e._app)||void 0===o?void 0:o.options.projectId);const s=n.mockUserToken.sub||n.mockUserToken.user_id;if(!s)throw new yu(Cu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i=new du(s)}e._authCredentials=new Lu(new Su(t,i))}}(this._delegate,e,t,i)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Ny(e),i=await Ay(e);return t.setNetworkEnabled(!0),function(e){const t=bu(e);return t._u.delete(0),Ib(t)}(i)}))}(zy(e=ay(e,Wy)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Ny(e),i=await Ay(e);return t.setNetworkEnabled(!1),async function(e){const t=bu(e);t._u.add(0),await Db(t),t.gu.set("Offline")}(i)}))}(zy(e=ay(e,Wy)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,ny("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new wu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const i=bu(e);Pb(i.remoteStore)||gu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=bu(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(i.localStore);if(-1===e)return void t.resolve();const n=i.lc.get(e)||[];n.push(t),i.lc.set(e,n)}catch(e){const i=iC(e,"Initialization of waitForPendingWrites() operation failed");t.reject(i)}}(await Ty(e),t))),t.promise}(zy(e=ay(e,Wy)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const i=new Cy(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){bu(e).Ru.add(t),t.next()}(await My(e),i))),()=>{i.bc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){bu(e).Ru.delete(t)}(await My(e),i)))}}(zy(e=ay(e,Wy)),Vy(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new yu("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new CS(this,my(this._delegate,e))}catch(e){throw uS(e,"collection()","Firestore.collection()")}}doc(e){try{return new hS(this,fy(this._delegate,e))}catch(e){throw uS(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new vS(this,function(e,t){if(e=ay(e,hy),iy("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new yu(Cu.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new gy(e,null,function(e){return new Np(Wu.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw uS(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,i){e=ay(e,Wy);const n=Object.assign(Object.assign({},Qw),void 0);return function(e){if(e.maxAttempts<1)throw new yu(Cu.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(e,t,i){const n=new wu;return e.asyncQueue.enqueueAndForget((async()=>{const o=await function(e){return Dy(e).then((e=>e.datastore))}(e);new Sy(e.asyncQueue,o,i,t,n).run()})),n.promise}(zy(e),(i=>t(new Xw(e,i))),n)}(this._delegate,(t=>e(new lS(this,t))))}batch(){return zy(this._delegate),new dS(new Zw(this._delegate,(e=>qw(this._delegate,e))))}loadBundle(e){return function(e,t){const i=zy(e=ay(e,Wy)),n=new Fy;return function(e,t,i,n){const o=function(e,t){let i;return i="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new yy(e,t)}(function(e,t){if(e instanceof Uint8Array)return by(e,t);if(e instanceof ArrayBuffer)return by(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(i),t)}(i,bb(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,i){const n=bu(e);(async function(e,t,i){try{const n=await t.getMetadata();if(await function(e,t){const i=bu(e),n=sf(t.createTime);return i.persistence.runTransaction("hasNewerBundle","readonly",(e=>i.Ns.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(n)>=0))}(e.localStore,n))return await t.close(),i._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(n)),Promise.resolve(new Set);i._updateProgress(vC(n));const o=new fC(n,e.localStore,t.It);let s=await t.mc();for(;s;){const e=await o.Fu(s);e&&i._updateProgress(e),s=await t.mc()}const r=await o.complete();return await WC(e,r.Lu,void 0),await function(e,t){const i=bu(e);return i.persistence.runTransaction("Save bundle","readwrite",(e=>i.Ns.saveBundleMetadata(e,t)))}(e.localStore,n),i._completeWith(r.progress),Promise.resolve(r.Bu)}catch(e){return mu("SyncEngine",`Loading bundle failed with ${e}`),i._failWith(e),Promise.resolve(new Set)}})(n,t,i).then((e=>{n.sharedClientState.notifyBundleLoaded(e)}))}(await Ty(e),o,n)}))}(i,e._databaseId,t,n),n}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const i=bu(e);return i.persistence.runTransaction("Get named query","readonly",(e=>i.Ns.getNamedQuery(e,t)))}(await Ey(e),t)))}(zy(e=ay(e,Wy)),t).then((t=>t?new gy(e,null,t.query):null))}(this._delegate,e).then((e=>e?new vS(this,e):null))}}class aS extends Pw{constructor(e){super(),this.firestore=e}convertBytes(e){return new nS(new Gy(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return hS.forKey(t,this.firestore,null)}}class lS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new aS(e)}get(e){const t=yS(e);return this._delegate.get(t).then((e=>new mS(this._firestore,new Ww(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,i){const n=yS(e);return i?(eS("Transaction.set",i),this._delegate.set(n,t,i)):this._delegate.set(n,t),this}update(e,t,i,...n){const o=yS(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...n),this}delete(e){const t=yS(e);return this._delegate.delete(t),this}}class dS{constructor(e){this._delegate=e}set(e,t,i){const n=yS(e);return i?(eS("WriteBatch.set",i),this._delegate.set(n,t,i)):this._delegate.set(n,t),this}update(e,t,i,...n){const o=yS(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...n),this}delete(e){const t=yS(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class cS{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new zw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fS(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=cS.INSTANCES;let n=i.get(e);n||(n=new WeakMap,i.set(e,n));let o=n.get(t);return o||(o=new cS(e,new aS(e),t),n.set(t,o)),o}}cS.INSTANCES=new WeakMap;class hS{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aS(e)}static forPath(e,t,i){if(e.length%2!=0)throw new yu("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new hS(t,new uy(t._delegate,i,new Uu(e)))}static forKey(e,t,i){return new hS(t,new uy(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new CS(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new CS(this.firestore,my(this._delegate,e))}catch(e){throw uS(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=qr(e))instanceof uy&&vy(this._delegate,e)}set(e,t){t=eS("DocumentReference.set",t);try{return t?jw(this._delegate,e,t):jw(this._delegate,e)}catch(e){throw uS(e,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Kw(this._delegate,e):Kw(this._delegate,e,t,...i)}catch(e){throw uS(e,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return qw(ay(e.firestore,Wy),[new wm(e._key,dm.none())])}(this._delegate)}onSnapshot(...e){const t=gS(e),i=pS(e,(e=>new mS(this.firestore,new Ww(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return $w(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=ay(e,uy);const t=ay(e.firestore,Wy),i=zy(t),n=new Gw(t);return function(e,t){const i=new wu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,i){try{const n=await function(e,t){const i=bu(e);return i.persistence.runTransaction("read document","readonly",(e=>i.localDocuments.getDocument(e,t)))}(e,t);n.isFoundDocument()?i.resolve(n):n.isNoDocument()?i.resolve(null):i.reject(new yu(Cu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const n=iC(e,`Failed to get document '${t} from cache`);i.reject(n)}}(await Ey(e),t,i))),i.promise}(i,e._key).then((i=>new Ww(t,n,e._key,i,new Fw(null!==i&&i.hasLocalMutations,!0),e.converter)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=ay(e,uy);const t=ay(e.firestore,Wy);return Ry(zy(t),e._key,{source:"server"}).then((i=>Yw(t,e,i)))}(this._delegate):function(e){e=ay(e,uy);const t=ay(e.firestore,Wy);return Ry(zy(t),e._key).then((i=>Yw(t,e,i)))}(this._delegate),t.then((e=>new mS(this.firestore,new Ww(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new hS(this.firestore,e?this._delegate.withConverter(cS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function uS(e,t,i){return e.message=e.message.replace(t,i),e}function gS(e){for(const t of e)if("object"==typeof t&&!oS(t))return t;return{}}function pS(e,t){var i,n;let o;return o=oS(e[0])?e[0]:oS(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{o.next&&o.next(t(e))},error:null===(i=o.error)||void 0===i?void 0:i.bind(o),complete:null===(n=o.complete)||void 0===n?void 0:n.bind(o)}}class mS{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new hS(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Hw(this._delegate,e._delegate)}}class fS extends mS{data(e){const t=this._delegate.data(e);return function(e,t){e||vu()}(void 0!==t),t}}class vS{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aS(e)}where(e,t,i){try{return new vS(this.firestore,Lw(this._delegate,function(e,t,i){const n=t,o=ww("where",e);return new xw(o,n,i)}(e,t,i)))}catch(e){throw uS(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new vS(this.firestore,Lw(this._delegate,function(e,t="asc"){const i=t,n=ww("orderBy",e);return new Iw(n,i)}(e,t)))}catch(e){throw uS(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new vS(this.firestore,Lw(this._delegate,function(e){return ly("limit",e),new Dw("limit",e,"F")}(e)))}catch(e){throw uS(e,"limit()","Query.limit()")}}limitToLast(e){try{return new vS(this.firestore,Lw(this._delegate,function(e){return ly("limitToLast",e),new Dw("limitToLast",e,"L")}(e)))}catch(e){throw uS(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new vS(this.firestore,Lw(this._delegate,function(...e){return new Nw("startAt",e,!0)}(...e)))}catch(e){throw uS(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new vS(this.firestore,Lw(this._delegate,function(...e){return new Nw("startAfter",e,!1)}(...e)))}catch(e){throw uS(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new vS(this.firestore,Lw(this._delegate,function(...e){return new Ew("endBefore",e,!1)}(...e)))}catch(e){throw uS(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new vS(this.firestore,Lw(this._delegate,function(...e){return new Ew("endAt",e,!0)}(...e)))}catch(e){throw uS(e,"endAt()","Query.endAt()")}}isEqual(e){return _y(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=ay(e,gy);const t=ay(e.firestore,Wy),i=zy(t),n=new Gw(t);return function(e,t){const i=new wu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,i){try{const n=await Z_(e,t,!0),o=new CC(t,n.Hi),s=o.Wu(n.documents),r=o.applyChanges(s,!1);i.resolve(r.snapshot)}catch(e){const n=iC(e,`Failed to execute query '${t} against cache`);i.reject(n)}}(await Ey(e),t,i))),i.promise}(i,e._query).then((i=>new Bw(t,n,e,i)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=ay(e,gy);const t=ay(e.firestore,Wy),i=zy(t),n=new Gw(t);return Py(i,e._query,{source:"server"}).then((i=>new Bw(t,n,e,i)))}(this._delegate):function(e){e=ay(e,gy);const t=ay(e.firestore,Wy),i=zy(t),n=new Gw(t);return Sw(e._query),Py(i,e._query).then((i=>new Bw(t,n,e,i)))}(this._delegate),t.then((e=>new bS(this.firestore,new Bw(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=gS(e),i=pS(e,(e=>new bS(this.firestore,new Bw(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return $w(this._delegate,t,i)}withConverter(e){return new vS(this.firestore,e?this._delegate.withConverter(cS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class _S{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new fS(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new vS(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new fS(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new _S(this._firestore,e)))}forEach(e,t){this._delegate.forEach((i=>{e.call(t,new fS(this._firestore,i))}))}isEqual(e){return Hw(this._delegate,e._delegate)}}class CS extends vS{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new hS(this.firestore,e):null}doc(e){try{return new hS(this.firestore,void 0===e?fy(this._delegate):fy(this._delegate,e))}catch(e){throw uS(e,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const i=ay(e.firestore,Wy),n=fy(e),o=Ow(e.converter,t);return qw(i,[tw(ew(e.firestore),"addDoc",n._key,o,null!==e.converter,{}).toMutation(n._key,dm.exists(!1))]).then((()=>n))}(this._delegate,e).then((e=>new hS(this.firestore,e)))}isEqual(e){return vy(this._delegate,e._delegate)}withConverter(e){return new CS(this.firestore,e?this._delegate.withConverter(cS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function yS(e){return ay(e,uy)}class wS{constructor(...e){this._delegate=new jy(...e)}static documentId(){return new wS(Bu.keyField().canonicalString())}isEqual(e){return(e=qr(e))instanceof jy&&this._delegate._internalPath.isEqual(e._internalPath)}}class SS{constructor(e){this._delegate=e}static serverTimestamp(){const e=new ow("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new SS(e)}static delete(){const e=new iw("deleteField");return e._methodName="FieldValue.delete",new SS(e)}static arrayUnion(...e){const t=function(...e){return new sw("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new SS(t)}static arrayRemove(...e){const t=function(...e){return new rw("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new SS(t)}static increment(e){const t=function(e){return new aw("increment",e)}(e);return t._methodName="FieldValue.increment",new SS(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const kS={Firestore:rS,GeoPoint:$y,Timestamp:Ou,Blob:nS,Transaction:lS,WriteBatch:dS,DocumentReference:hS,DocumentSnapshot:mS,Query:vS,QueryDocumentSnapshot:fS,QuerySnapshot:bS,CollectionReference:CS,FieldPath:wS,FieldValue:SS,setLogLevel:function(e){!function(e){hu.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var LS;(function(e,t){e.INTERNAL.registerComponent(new Yr("firestore-compat",(e=>((e,t)=>new rS(e,t,new sS))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate())),"PUBLIC").setServiceProps(Object.assign({},kS)))})(LS=rl),LS.registerVersion("@firebase/firestore-compat","0.2.3");const xS="@firebase/installations",IS="0.5.16",DS=`w:${IS}`,NS="FIS_v2",ES=new Or("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function AS(e){return e instanceof Pr&&e.code.includes("request-failed")}function TS({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function MS(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function RS(e,t){const i=(await t.json()).error;return ES.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function PS({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function OS(e){const t=await e();return t.status>=500&&t.status<600?e():t}function VS(e){return new Promise((t=>{setTimeout(t,e)}))}const FS=/^[cdef][\w-]{21}$/;function WS(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){var t;return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22)}(e);return FS.test(t)?t:""}catch(e){return""}}function zS(e){return`${e.appName}!${e.appId}`}const BS=new Map;function US(e,t){const i=zS(e);HS(i,t),function(e,t){const i=(!GS&&"BroadcastChannel"in self&&(GS=new BroadcastChannel("[Firebase] FID Change"),GS.onmessage=e=>{HS(e.data.key,e.data.fid)}),GS);i&&i.postMessage({key:e,fid:t}),0===BS.size&&GS&&(GS.close(),GS=null)}(i,t)}function HS(e,t){const i=BS.get(e);if(i)for(const e of i)e(t)}let GS=null;const jS="firebase-installations-store";let KS=null;function $S(){return KS||(KS=va("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(jS)}})),KS}async function qS(e,t){const i=zS(e),n=(await $S()).transaction(jS,"readwrite"),o=n.objectStore(jS),s=await o.get(i);return await o.put(t,i),await n.done,s&&s.fid===t.fid||US(e,t.fid),t}async function YS(e){const t=zS(e),i=(await $S()).transaction(jS,"readwrite");await i.objectStore(jS).delete(t),await i.done}async function QS(e,t){const i=zS(e),n=(await $S()).transaction(jS,"readwrite"),o=n.objectStore(jS),s=await o.get(i),r=t(s);return void 0===r?await o.delete(i):await o.put(r,i),await n.done,!r||s&&s.fid===r.fid||US(e,r.fid),r}async function ZS(e){let t;const i=await QS(e.appConfig,(i=>{const n=function(e){return ek(e||{fid:WS(),registrationStatus:0})}(i),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(ES.create("app-offline"))};const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=async function(e,t){try{const i=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:i}){const n=TS(e),o=PS(e),s=t.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const r={fid:i,authVersion:NS,appId:e.appId,sdkVersion:DS},a={method:"POST",headers:o,body:JSON.stringify(r)},l=await OS((()=>fetch(n,a)));if(l.ok){const e=await l.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:MS(e.authToken)}}throw await RS("Create Installation",l)}(e,t);return qS(e.appConfig,i)}catch(i){throw AS(i)&&409===i.customData.serverCode?await YS(e.appConfig):await qS(e.appConfig,{fid:t.fid,registrationStatus:0}),i}}(e,i);return{installationEntry:i,registrationPromise:n}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:JS(e)}:{installationEntry:t}}(e,n);return t=o.registrationPromise,o.installationEntry}));return""===i.fid?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}async function JS(e){let t=await XS(e.appConfig);for(;1===t.registrationStatus;)await VS(100),t=await XS(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:i}=await ZS(e);return i||t}return t}function XS(e){return QS(e,(e=>{if(!e)throw ES.create("installation-not-found");return ek(e)}))}function ek(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function tk({appConfig:e,heartbeatServiceProvider:t},i){const n=function(e,{fid:t}){return`${TS(e)}/${t}/authTokens:generate`}(e,i),o=function(e,{refreshToken:t}){const i=PS(e);return i.append("Authorization",function(e){return`${NS} ${e}`}(t)),i}(e,i),s=t.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const r={installation:{sdkVersion:DS,appId:e.appId}},a={method:"POST",headers:o,body:JSON.stringify(r)},l=await OS((()=>fetch(n,a)));if(l.ok)return MS(await l.json());throw await RS("Generate Auth Token",l)}async function ik(e,t=!1){let i;const n=await QS(e.appConfig,(n=>{if(!ok(n))throw ES.create("not-registered");const o=n.authToken;if(!t&&(2===(s=o).requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(s)))return n;var s;if(1===o.requestStatus)return i=async function(e,t){let i=await nk(e.appConfig);for(;1===i.authToken.requestStatus;)await VS(100),i=await nk(e.appConfig);const n=i.authToken;return 0===n.requestStatus?ik(e,t):n}(e,t),n;{if(!navigator.onLine)throw ES.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(n);return i=async function(e,t){try{const i=await tk(e,t),n=Object.assign(Object.assign({},t),{authToken:i});return await qS(e.appConfig,n),i}catch(i){if(!AS(i)||401!==i.customData.serverCode&&404!==i.customData.serverCode){const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await qS(e.appConfig,i)}else await YS(e.appConfig);throw i}}(e,t),t}}));return i?await i:n.authToken}function nk(e){return QS(e,(e=>{if(!ok(e))throw ES.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t}))}function ok(e){return void 0!==e&&2===e.registrationStatus}function sk(e){return ES.create("missing-app-config-values",{valueName:e})}const rk="installations";Ma(new Yr(rk,(e=>{const t=e.getProvider("app").getImmediate(),i=function(e){if(!e||!e.options)throw sk("App Configuration");if(!e.name)throw sk("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!e.options[i])throw sk(i);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:i,heartbeatServiceProvider:Ra(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),Ma(new Yr("installations-internal",(e=>{const t=Ra(e.getProvider("app").getImmediate(),rk).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:i,registrationPromise:n}=await ZS(t);return n?n.catch(console.error):ik(t).catch(console.error),i.fid}(t),getToken:e=>async function(e,t=!1){const i=e;return await async function(e){const{registrationPromise:t}=await ZS(e);t&&await t}(i),(await ik(i,t)).token}(t,e)}}),"PRIVATE")),Ga(xS,IS),Ga(xS,IS,"esm2017");const ak="analytics",lk="https://www.googletagmanager.com/gtag/js",dk=new sa("@firebase/analytics");function ck(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}const hk=new Or("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),uk=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function gk(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function pk(e,t=uk,i){const{appId:n,apiKey:o,measurementId:s}=e.options;if(!n)throw hk.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:n};throw hk.create("no-api-key")}const r=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new fk;return setTimeout((async()=>{a.abort()}),void 0!==i?i:6e4),mk({appId:n,apiKey:o,measurementId:s},r,a,t)}async function mk(e,{throttleEndTimeMillis:t,backoffCount:i},n,o=uk){var s,r;const{appId:a,measurementId:l}=e;try{await function(e,t){return new Promise(((i,n)=>{const o=Math.max(t-Date.now(),0),s=setTimeout(i,o);e.addEventListener((()=>{clearTimeout(s),n(hk.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,t)}catch(e){if(l)return dk.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===(s=e)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:l};throw e}try{const t=await async function(e){var t;const{appId:i,apiKey:n}=e,o={method:"GET",headers:gk(n)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",i),r=await fetch(s,o);if(200!==r.status&&304!==r.status){let e="";try{const i=await r.json();(null===(t=i.error)||void 0===t?void 0:t.message)&&(e=i.error.message)}catch(e){}throw hk.create("config-fetch-failed",{httpStatus:r.status,responseMessage:e})}return r.json()}(e);return o.deleteThrottleMetadata(a),t}catch(t){const s=t;if(!function(e){if(!(e instanceof Pr&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(s)){if(o.deleteThrottleMetadata(a),l)return dk.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null==s?void 0:s.message}]`),{appId:a,measurementId:l};throw t}const d=503===Number(null===(r=null==s?void 0:s.customData)||void 0===r?void 0:r.httpStatus)?$r(i,o.intervalMillis,30):$r(i,o.intervalMillis),c={throttleEndTimeMillis:Date.now()+d,backoffCount:i+1};return o.setThrottleMetadata(a,c),dk.debug(`Calling attemptFetch again in ${d} millis`),mk(e,c,n,o)}}class fk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let vk,_k;async function bk(e,t,i,n,o,s,r){var a;const l=pk(e);l.then((t=>{i[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&dk.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>dk.error(e))),t.push(l);const d=async function(){var e;if(!Er())return dk.warn(hk.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Ar()}catch(t){return dk.warn(hk.create("indexeddb-unavailable",{errorInfo:null===(e=t)||void 0===e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?n.getId():void 0)),[c,h]=await Promise.all([l,d]);(function(e){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(lk)&&i.src.includes(e))return i;return null})(s)||function(e,t){const i=document.createElement("script");i.src=`${lk}?l=${e}&id=${t}`,i.async=!0,document.head.appendChild(i)}(s,c.measurementId),_k&&(o("consent","default",_k),_k=void 0),o("js",new Date);const u=null!==(a=null==r?void 0:r.config)&&void 0!==a?a:{};return u.origin="firebase",u.update=!0,null!=h&&(u.firebase_id=h),o("config",c.measurementId,u),vk&&(o("set",vk),vk=void 0),c.measurementId}class Ck{constructor(e){this.app=e}_delete(){return delete yk[this.app.options.appId],Promise.resolve()}}let yk={},wk=[];const Sk={};let kk,Lk,xk="dataLayer",Ik="gtag",Dk=!1;function Nk(e){if(Dk)throw hk.create("already-initialized");e.dataLayerName&&(xk=e.dataLayerName),e.gtagName&&(Ik=e.gtagName)}function Ek(e,t,i){!function(){const e=[];if(Ir()&&e.push("This is a browser extension environment."),Tr()||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),i=hk.create("invalid-analytics-context",{errorInfo:t});dk.warn(i.message)}}();const n=e.options.appId;if(!n)throw hk.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw hk.create("no-api-key");dk.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=yk[n])throw hk.create("already-exists",{id:n});if(!Dk){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(xk);const{wrappedGtag:e,gtagCore:t}=function(e,t,i,n,o){let s=function(...e){window[n].push(arguments)};return window[o]&&"function"==typeof window[o]&&(s=window[o]),window[o]=function(e,t,i,n){return async function(o,s,r){try{"event"===o?await async function(e,t,i,n,o){try{let s=[];if(o&&o.send_to){let e=o.send_to;Array.isArray(e)||(e=[e]);const n=await ck(i);for(const i of e){const e=n.find((e=>e.measurementId===i)),o=e&&t[e.appId];if(!o){s=[];break}s.push(o)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",n,o||{})}catch(e){dk.error(e)}}(e,t,i,s,r):"config"===o?await async function(e,t,i,n,o,s){const r=n[o];try{if(r)await t[r];else{const e=(await ck(i)).find((e=>e.measurementId===o));e&&await t[e.appId]}}catch(e){dk.error(e)}e("config",o,s)}(e,t,i,n,s,r):"consent"===o?e("consent","update",r):e("set",s)}catch(e){dk.error(e)}}}(s,e,t,i),{gtagCore:s,wrappedGtag:window[o]}}(yk,wk,Sk,xk,Ik);Lk=e,kk=t,Dk=!0}return yk[n]=bk(e,wk,Sk,t,kk,xk,i),new Ck(e)}async function Ak(){if(Ir())return!1;if(!Tr())return!1;if(!Er())return!1;try{return await Ar()}catch(e){return!1}}function Tk(e,t,i,n){e=qr(e),async function(e,t,i,n,o){if(o&&o.global)e("event",i,n);else{const o=await t;e("event",i,Object.assign(Object.assign({},n),{send_to:o}))}}(Lk,yk[e.app.options.appId],t,i,n).catch((e=>dk.error(e)))}const Mk="@firebase/analytics",Rk="0.8.4";Ma(new Yr(ak,((e,{options:t})=>Ek(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)),"PUBLIC")),Ma(new Yr("analytics-internal",(function(e){try{const t=e.getProvider(ak).getImmediate();return{logEvent:(e,i,n)=>Tk(t,e,i,n)}}catch(e){throw hk.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),Ga(Mk,Rk),Ga(Mk,Rk,"esm2017");class Pk{constructor(e,t){this.app=e,this._delegate=t}logEvent(e,t,i){Tk(this._delegate,e,t,i)}setCurrentScreen(e,t){!function(e,t,i){e=qr(e),async function(e,t,i,n){if(n&&n.global)return e("set",{screen_name:i}),Promise.resolve();e("config",await t,{update:!0,screen_name:i})}(Lk,yk[e.app.options.appId],t,i).catch((e=>dk.error(e)))}(this._delegate,e,t)}setUserId(e,t){!function(e,t,i){e=qr(e),async function(e,t,i,n){if(n&&n.global)return e("set",{user_id:i}),Promise.resolve();e("config",await t,{update:!0,user_id:i})}(Lk,yk[e.app.options.appId],t,i).catch((e=>dk.error(e)))}(this._delegate,e,t)}setUserProperties(e,t){!function(e,t,i){e=qr(e),async function(e,t,i,n){if(n&&n.global){const t={};for(const e of Object.keys(i))t[`user_properties.${e}`]=i[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:i})}(Lk,yk[e.app.options.appId],t,i).catch((e=>dk.error(e)))}(this._delegate,e,t)}setAnalyticsCollectionEnabled(e){!function(e,t){e=qr(e),async function(e,t){const i=await e;window[`ga-disable-${i}`]=!t}(yk[e.app.options.appId],t).catch((e=>dk.error(e)))}(this._delegate,e)}}var Ok;!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(Ok||(Ok={}));const Vk=e=>{const t=e.getProvider("app-compat").getImmediate(),i=e.getProvider("analytics").getImmediate();return new Pk(t,i)};function Fk(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i}!function(){const e={Analytics:Pk,settings:Nk,isSupported:Ak,EventName:Ok};rl.INTERNAL.registerComponent(new Yr("analytics-compat",Vk,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),rl.registerVersion("@firebase/analytics-compat","0.1.17"),Object.create,Object.create;const Wk=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},zk=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Bk=new Or("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Uk=new sa("@firebase/auth");function Hk(e,...t){Uk.logLevel<=ea.ERROR&&Uk.error(`Auth (${Wa}): ${e}`,...t)}function Gk(e,...t){throw qk(e,...t)}function jk(e,...t){return qk(e,...t)}function Kk(e,t,i){const n=Object.assign(Object.assign({},zk()),{[t]:i});return new Or("auth","Firebase",n).create(t,{appName:e.name})}function $k(e,t,i){if(!(t instanceof i))throw i.name!==t.constructor.name&&Gk(e,"argument-error"),Kk(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qk(e,...t){if("string"!=typeof e){const i=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(i,...n)}return Bk.create(e,...t)}function Yk(e,t,...i){if(!e)throw qk(t,...i)}function Qk(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Hk(t),new Error(t)}function Zk(e,t){e||Qk(t)}const Jk=new Map;function Xk(e){Zk(e instanceof Function,"Expected a class definition");let t=Jk.get(e);return t?(Zk(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Jk.set(e,t),t)}function eL(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function tL(){return"http:"===iL()||"https:"===iL()}function iL(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class nL{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zk(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lr())||Dr()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(tL()||Ir()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function oL(e,t){Zk(e.emulator,"Emulator should always be set here");const{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class sL{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Qk("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Qk("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Qk("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},aL=new nL(3e4,6e4);function lL(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function dL(e,t,i,n,o={}){return cL(e,o,(async()=>{let o={},s={};n&&("GET"===t?s=n:o={body:JSON.stringify(n)});const r=Br(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),sL.fetch()(uL(e,e.config.apiHost,i,r),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},o))}))}async function cL(e,t,i){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},rL),t);try{const t=new gL(e),o=await Promise.race([i(),t.promise]);t.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw pL(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const t=o.ok?s.errorMessage:s.error.message,[i,r]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===i)throw pL(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===i)throw pL(e,"email-already-in-use",s);if("USER_DISABLED"===i)throw pL(e,"user-disabled",s);const a=n[i]||i.toLowerCase().replace(/[_\s]+/g,"-");if(r)throw Kk(e,a,r);Gk(e,a)}}catch(t){if(t instanceof Pr)throw t;Gk(e,"network-request-failed")}}async function hL(e,t,i,n,o={}){const s=await dL(e,t,i,n,o);return"mfaPendingCredential"in s&&Gk(e,"multi-factor-auth-required",{_serverResponse:s}),s}function uL(e,t,i,n){const o=`${t}${i}?${n}`;return e.config.emulator?oL(e.config,o):`${e.config.apiScheme}://${o}`}class gL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(jk(this.auth,"network-request-failed"))),aL.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function pL(e,t,i){const n={appName:e.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);const o=jk(e,t,n);return o.customData._tokenResponse=i,o}function mL(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function fL(e){return 1e3*Number(e)}function vL(e){var t;const[i,n,o]=e.split(".");if(void 0===i||void 0===n||void 0===o)return Hk("JWT malformed, contained fewer than 3 sections"),null;try{const e=Sr(n);return e?JSON.parse(e):(Hk("Failed to decode base64 JWT payload"),null)}catch(e){return Hk("Caught error parsing JWT payload as JSON",null===(t=e)||void 0===t?void 0:t.toString()),null}}async function _L(e,t,i=!1){if(i)return t;try{return await t}catch(t){throw t instanceof Pr&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class bL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null===(e=t)||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class CL{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=mL(this.lastLoginAt),this.creationTime=mL(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yL(e){var t;const i=e.auth,n=await e.getIdToken(),o=await _L(e,async function(e,t){return dL(e,"POST","/v1/accounts:lookup",t)}(i,{idToken:n}));Yk(null==o?void 0:o.users.length,i,"internal-error");const s=o.users[0];e._notifyReloadListener(s);const r=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,i=Fk(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})):[],a=(l=e.providerData,d=r,[...l.filter((e=>!d.some((t=>t.providerId===e.providerId)))),...d]);var l,d;const c=e.isAnonymous,h=!(e.email&&s.passwordHash||(null==a?void 0:a.length)),u=!!c&&h,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new CL(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,g)}class wL{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Yk(e.idToken,"internal-error"),Yk(void 0!==e.idToken,"internal-error"),Yk(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=vL(e);return Yk(t,"internal-error"),Yk(void 0!==t.exp,"internal-error"),Yk(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Yk(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:n,expiresIn:o}=await async function(e,t){const i=await cL(e,{},(async()=>{const i=Br({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:o}=e.config,s=uL(e,n,"/v1/token",`key=${o}`),r=await e._getAdditionalHeaders();return r["Content-Type"]="application/x-www-form-urlencoded",sL.fetch()(s,{method:"POST",headers:r,body:i})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}(e,t);this.updateTokensAndExpiration(i,n,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:n,expirationTime:o}=t,s=new wL;return i&&(Yk("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),n&&(Yk("string"==typeof n,"internal-error",{appName:e}),s.accessToken=n),o&&(Yk("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wL,this.toJSON())}_performRefresh(){return Qk("not implemented")}}function SL(e,t){Yk("string"==typeof e||void 0===e,"internal-error",{appName:t})}class kL{constructor(e){var{uid:t,auth:i,stsTokenManager:n}=e,o=Fk(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new CL(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await _L(this,this.stsTokenManager.getToken(this.auth,e));return Yk(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const i=qr(e),n=await i.getIdToken(t),o=vL(n);Yk(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const s="object"==typeof o.firebase?o.firebase:void 0,r=null==s?void 0:s.sign_in_provider;return{claims:o,token:n,authTime:mL(fL(o.auth_time)),issuedAtTime:mL(fL(o.iat)),expirationTime:mL(fL(o.exp)),signInProvider:r||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=qr(e);await yL(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Yk(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new kL(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Yk(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await yL(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _L(this,async function(e,t){return dL(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,n,o,s,r,a,l,d;const c=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(n=t.email)&&void 0!==n?n:void 0,u=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,g=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(r=t.tenantId)&&void 0!==r?r:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,f=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(d=t.lastLoginAt)&&void 0!==d?d:void 0,{uid:_,emailVerified:b,isAnonymous:C,providerData:y,stsTokenManager:w}=t;Yk(_&&w,e,"internal-error");const S=wL.fromJSON(this.name,w);Yk("string"==typeof _,e,"internal-error"),SL(c,e.name),SL(h,e.name),Yk("boolean"==typeof b,e,"internal-error"),Yk("boolean"==typeof C,e,"internal-error"),SL(u,e.name),SL(g,e.name),SL(p,e.name),SL(m,e.name),SL(f,e.name),SL(v,e.name);const k=new kL({uid:_,auth:e,email:h,emailVerified:b,displayName:c,isAnonymous:C,photoURL:g,phoneNumber:u,tenantId:p,stsTokenManager:S,createdAt:f,lastLoginAt:v});return y&&Array.isArray(y)&&(k.providerData=y.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t,i=!1){const n=new wL;n.updateFromServerResponse(t);const o=new kL({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:i});return await yL(o),o}}class LL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}LL.type="NONE";const xL=LL;function IL(e,t,i){return`firebase:${e}:${t}:${i}`}class DL{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:n,name:o}=this.auth;this.fullUserKey=IL(this.userKey,n.apiKey,o),this.fullPersistenceKey=IL("persistence",n.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kL._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new DL(Xk(xL),e,i);const n=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let o=n[0]||Xk(xL);const s=IL(i,e.config.apiKey,e.name);let r=null;for(const i of t)try{const t=await i._get(s);if(t){const n=kL._fromJSON(e,t);i!==o&&(r=n),o=i;break}}catch(e){}const a=n.filter((e=>e._shouldAllowMigration));return o._shouldAllowMigration&&a.length?(o=a[0],r&&await o._set(s,r.toJSON()),await Promise.all(t.map((async e=>{if(e!==o)try{await e._remove(s)}catch(e){}}))),new DL(o,e,i)):new DL(o,e,i)}}function NL(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ML(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(EL(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(PL(t))return"Blackberry";if(OL(t))return"Webos";if(AL(t))return"Safari";if((t.includes("chrome/")||TL(t))&&!t.includes("edge/"))return"Chrome";if(RL(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(t);if(2===(null==i?void 0:i.length))return i[1]}return"Other"}function EL(e=Lr()){return/firefox\//i.test(e)}function AL(e=Lr()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function TL(e=Lr()){return/crios\//i.test(e)}function ML(e=Lr()){return/iemobile/i.test(e)}function RL(e=Lr()){return/android/i.test(e)}function PL(e=Lr()){return/blackberry/i.test(e)}function OL(e=Lr()){return/webos/i.test(e)}function VL(e=Lr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function FL(e=Lr()){return VL(e)||RL(e)||OL(e)||PL(e)||/windows phone/i.test(e)||ML(e)}function WL(e,t=[]){let i;switch(e){case"Browser":i=NL(Lr());break;case"Worker":i=`${NL(Lr())}-${e}`;break;default:i=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Wa}/${n}`}class zL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=t=>new Promise(((i,n)=>{try{i(e(t))}catch(e){n(e)}}));i.onAbort=t,this.queue.push(i);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){var t;if(this.auth.currentUser===e)return;const i=[];try{for(const t of this.queue)await t(e),t.onAbort&&i.push(t.onAbort)}catch(e){i.reverse();for(const e of i)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(t=e)||void 0===t?void 0:t.message})}}}class BL{constructor(e,t,i){this.app=e,this.heartbeatServiceProvider=t,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HL(this),this.idTokenSubscription=new HL(this),this.beforeStateQueue=new zL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bk,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xk(t)),this._initializationPromise=this.queue((async()=>{var i,n;if(!this._deleted&&(this.persistenceManager=await DL.create(this,e),!this._deleted)){if(null===(i=this._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const i=await this.assertedPersistence.getCurrentUser();let n=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==n?void 0:n._redirectEventId,r=await this.tryRedirectSignIn(e);i&&i!==s||!(null==r?void 0:r.user)||(n=r.user,o=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=i,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Yk(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){var t;try{await yL(e)}catch(e){if("auth/network-request-failed"!==(null===(t=e)||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?qr(e):null;return t&&Yk(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Yk(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Xk(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Or("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xk(e)||this._popupRedirectResolver;Yk(t,this,"argument-error"),this.redirectPersistenceManager=await DL.create(this,[Xk(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,n){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Yk(s,this,"internal-error"),s.then((()=>o(this.currentUser))),"function"==typeof t?e.addObserver(t,i,n):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Yk(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return i&&(t["X-Firebase-Client"]=i),t}}function UL(e){return qr(e)}class HL{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gr((e=>this.observer=e))}get next(){return Yk(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function GL(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function jL(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class KL{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qk("not implemented")}_getIdTokenResponse(e){return Qk("not implemented")}_linkToIdToken(e,t){return Qk("not implemented")}_getReauthenticationResolver(e){return Qk("not implemented")}}async function $L(e,t){return dL(e,"POST","/v1/accounts:resetPassword",lL(e,t))}async function qL(e,t){return dL(e,"POST","/v1/accounts:update",t)}async function YL(e,t){return dL(e,"POST","/v1/accounts:sendOobCode",lL(e,t))}class QL extends KL{constructor(e,t,i,n=null){super("password",i),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new QL(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new QL(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return hL(e,"POST","/v1/accounts:signInWithPassword",lL(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return hL(e,"POST","/v1/accounts:signInWithEmailLink",lL(e,t))}(e,{email:this._email,oobCode:this._password});default:Gk(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return qL(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return hL(e,"POST","/v1/accounts:signInWithEmailLink",lL(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Gk(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ZL(e,t){return hL(e,"POST","/v1/accounts:signInWithIdp",lL(e,t))}class JL extends KL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new JL(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gk("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:i,signInMethod:n}=t,o=Fk(t,["providerId","signInMethod"]);if(!i||!n)return null;const s=new JL(i,n);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){return ZL(e,this.buildRequest())}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ZL(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ZL(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Br(t)}return e}}const XL={USER_NOT_FOUND:"user-not-found"};class ex extends KL{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ex({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ex({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return hL(e,"POST","/v1/accounts:signInWithPhoneNumber",lL(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const i=await hL(e,"POST","/v1/accounts:signInWithPhoneNumber",lL(e,t));if(i.temporaryProof)throw pL(e,"account-exists-with-different-credential",i);return i}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return hL(e,"POST","/v1/accounts:signInWithPhoneNumber",lL(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),XL)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:n}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:i,phoneNumber:n,temporaryProof:o}=e;return i||t||n||o?new ex({verificationId:t,verificationCode:i,phoneNumber:n,temporaryProof:o}):null}}class tx{constructor(e){var t,i,n,o,s,r;const a=Ur(Hr(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,d=null!==(i=a.oobCode)&&void 0!==i?i:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(n=a.mode)&&void 0!==n?n:null);Yk(l&&d&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=d,this.continueUrl=null!==(o=a.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(r=a.tenantId)&&void 0!==r?r:null}static parseLink(e){const t=function(e){const t=Ur(Hr(e)).link,i=t?Ur(Hr(t)).deep_link_id:null,n=Ur(Hr(e)).deep_link_id;return(n?Ur(Hr(n)).link:null)||n||i||t||e}(e);try{return new tx(t)}catch(e){return null}}}class ix{constructor(){this.providerId=ix.PROVIDER_ID}static credential(e,t){return QL._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=tx.parseLink(t);return Yk(i,"argument-error"),QL._fromEmailAndCode(e,i.code,i.tenantId)}}ix.PROVIDER_ID="password",ix.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ix.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class nx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ox extends nx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sx extends ox{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return Yk("providerId"in t&&"signInMethod"in t,"argument-error"),JL._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Yk(e.idToken||e.accessToken,"argument-error"),JL._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return sx.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return sx.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:n,pendingToken:o,nonce:s,providerId:r}=e;if(!(i||n||t||o))return null;if(!r)return null;try{return new sx(r)._credential({idToken:t,accessToken:i,nonce:s,pendingToken:o})}catch(e){return null}}}class rx extends ox{constructor(){super("facebook.com")}static credential(e){return JL._fromParams({providerId:rx.PROVIDER_ID,signInMethod:rx.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rx.credentialFromTaggedObject(e)}static credentialFromError(e){return rx.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return rx.credential(e.oauthAccessToken)}catch(e){return null}}}rx.FACEBOOK_SIGN_IN_METHOD="facebook.com",rx.PROVIDER_ID="facebook.com";class ax extends ox{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return JL._fromParams({providerId:ax.PROVIDER_ID,signInMethod:ax.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ax.credentialFromTaggedObject(e)}static credentialFromError(e){return ax.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ax.credential(t,i)}catch(e){return null}}}ax.GOOGLE_SIGN_IN_METHOD="google.com",ax.PROVIDER_ID="google.com";class lx extends ox{constructor(){super("github.com")}static credential(e){return JL._fromParams({providerId:lx.PROVIDER_ID,signInMethod:lx.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lx.credentialFromTaggedObject(e)}static credentialFromError(e){return lx.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return lx.credential(e.oauthAccessToken)}catch(e){return null}}}lx.GITHUB_SIGN_IN_METHOD="github.com",lx.PROVIDER_ID="github.com";class dx extends KL{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ZL(e,this.buildRequest())}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ZL(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ZL(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:i,signInMethod:n,pendingToken:o}=t;return i&&n&&o&&i===n?new dx(i,o):null}static _create(e,t){return new dx(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class cx extends nx{constructor(e){Yk(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return cx.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return cx.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=dx.fromJSON(e);return Yk(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:i}=e;if(!t||!i)return null;try{return dx._create(i,t)}catch(e){return null}}}class hx extends ox{constructor(){super("twitter.com")}static credential(e,t){return JL._fromParams({providerId:hx.PROVIDER_ID,signInMethod:hx.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hx.credentialFromTaggedObject(e)}static credentialFromError(e){return hx.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return hx.credential(t,i)}catch(e){return null}}}async function ux(e,t){return hL(e,"POST","/v1/accounts:signUp",lL(e,t))}hx.TWITTER_SIGN_IN_METHOD="twitter.com",hx.PROVIDER_ID="twitter.com";class gx{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,n=!1){const o=await kL._fromIdTokenResponse(e,i,n),s=px(i);return new gx({user:o,providerId:s,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const n=px(i);return new gx({user:e,providerId:n,_tokenResponse:i,operationType:t})}}function px(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class mx extends Pr{constructor(e,t,i,n){var o;super(t.code,t.message),this.operationType=i,this.user=n,Object.setPrototypeOf(this,mx.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,n){return new mx(e,t,i,n)}}function fx(e,t,i,n){return("reauthenticate"===t?i._getReauthenticationResolver(e):i._getIdTokenResponse(e)).catch((i=>{if("auth/multi-factor-auth-required"===i.code)throw mx._fromErrorAndOperation(e,i,t,n);throw i}))}function vx(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function _x(e,t,i=!1){const n=await _L(e,t._linkToIdToken(e.auth,await e.getIdToken()),i);return gx._forOperation(e,"link",n)}async function bx(e,t,i){await yL(t);const n=!1===e?"provider-already-linked":"no-such-provider";Yk(vx(t.providerData).has(i)===e,t.auth,n)}async function Cx(e,t,i=!1){var n;const{auth:o}=e,s="reauthenticate";try{const n=await _L(e,fx(o,s,t,e),i);Yk(n.idToken,o,"internal-error");const r=vL(n.idToken);Yk(r,o,"internal-error");const{sub:a}=r;return Yk(e.uid===a,o,"user-mismatch"),gx._forOperation(e,s,n)}catch(e){throw"auth/user-not-found"===(null===(n=e)||void 0===n?void 0:n.code)&&Gk(o,"user-mismatch"),e}}async function yx(e,t,i=!1){const n="signIn",o=await fx(e,n,t),s=await gx._fromIdTokenResponse(e,n,o);return i||await e._updateCurrentUser(s.user),s}async function wx(e,t){return yx(UL(e),t)}async function Sx(e,t){const i=qr(e);return await bx(!1,i,t.providerId),_x(i,t)}async function kx(e,t){return Cx(qr(e),t)}class Lx{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?xx._fromServerResponse(e,t):Gk(e,"internal-error")}}class xx extends Lx{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new xx(t)}}function Ix(e,t,i){var n;Yk((null===(n=i.url)||void 0===n?void 0:n.length)>0,e,"invalid-continue-uri"),Yk(void 0===i.dynamicLinkDomain||i.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=i.url,t.dynamicLinkDomain=i.dynamicLinkDomain,t.canHandleCodeInApp=i.handleCodeInApp,i.iOS&&(Yk(i.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=i.iOS.bundleId),i.android&&(Yk(i.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=i.android.installApp,t.androidMinimumVersionCode=i.android.minimumVersion,t.androidPackageName=i.android.packageName)}async function Dx(e,t){const i=qr(e),n=await $L(i,{oobCode:t}),o=n.requestType;switch(Yk(o,i,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Yk(n.newEmail,i,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Yk(n.mfaInfo,i,"internal-error");default:Yk(n.email,i,"internal-error")}let s=null;return n.mfaInfo&&(s=Lx._fromServerResponse(UL(i),n.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===n.requestType?n.newEmail:n.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===n.requestType?n.email:n.newEmail)||null,multiFactorInfo:s},operation:o}}async function Nx(e,t,i){const{auth:n}=e,o={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(o.email=t),i&&(o.password=i);const s=await _L(e,qL(n,o));await e._updateTokensIfNecessary(s,!0)}class Ex{constructor(e,t,i={}){this.isNewUser=e,this.providerId=t,this.profile=i}}class Ax extends Ex{constructor(e,t,i,n){super(e,t,i),this.username=n}}class Tx extends Ex{constructor(e,t){super(e,"facebook.com",t)}}class Mx extends Ax{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class Rx extends Ex{constructor(e,t){super(e,"google.com",t)}}class Px extends Ax{constructor(e,t,i){super(e,"twitter.com",t,i)}}function Ox(e){const{user:t,_tokenResponse:i}=e;return t.isAnonymous&&!i?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,i;if(!e)return null;const{providerId:n}=e,o=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!n&&(null==e?void 0:e.idToken)){const n=null===(i=null===(t=vL(e.idToken))||void 0===t?void 0:t.firebase)||void 0===i?void 0:i.sign_in_provider;if(n)return new Ex(s,"anonymous"!==n&&"custom"!==n?n:null)}if(!n)return null;switch(n){case"facebook.com":return new Tx(s,o);case"github.com":return new Mx(s,o);case"google.com":return new Rx(s,o);case"twitter.com":return new Px(s,o,e.screenName||null);case"custom":case"anonymous":return new Ex(s,null);default:return new Ex(s,n,o)}}(i)}class Vx{constructor(e,t,i){this.type=e,this.credential=t,this.auth=i}static _fromIdtoken(e,t){return new Vx("enroll",e,t)}static _fromMfaPendingCredential(e){return new Vx("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,i;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Vx._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(i=e.multiFactorSession)||void 0===i?void 0:i.idToken)return Vx._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Fx{constructor(e,t,i){this.session=e,this.hints=t,this.signInResolver=i}static _fromError(e,t){const i=UL(e),n=t.customData._serverResponse,o=(n.mfaInfo||[]).map((e=>Lx._fromServerResponse(i,e)));Yk(n.mfaPendingCredential,i,"internal-error");const s=Vx._fromMfaPendingCredential(n.mfaPendingCredential);return new Fx(s,o,(async e=>{const o=await e._process(i,s);delete n.mfaInfo,delete n.mfaPendingCredential;const r=Object.assign(Object.assign({},n),{idToken:o.idToken,refreshToken:o.refreshToken});switch(t.operationType){case"signIn":const e=await gx._fromIdTokenResponse(i,t.operationType,r);return await i._updateCurrentUser(e.user),e;case"reauthenticate":return Yk(t.user,i,"internal-error"),gx._forOperation(t.user,t.operationType,r);default:Gk(i,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Wx{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Lx._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Wx(e)}async getSession(){return Vx._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const i=e,n=await this.getSession(),o=await _L(this.user,i._process(this.user.auth,n,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){var t;const i="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),o=await _L(this.user,(s=this.user.auth,r={idToken:n,mfaEnrollmentId:i},dL(s,"POST","/v2/accounts/mfaEnrollment:withdraw",lL(s,r))));var s,r;this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==i)),await this.user._updateTokensIfNecessary(o);try{await this.user.reload()}catch(e){if("auth/user-token-expired"!==(null===(t=e)||void 0===t?void 0:t.code))throw e}}}const zx=new WeakMap,Bx="__sak";class Ux{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bx,"1"),this.storage.removeItem(Bx),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Hx extends Ux{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Lr();return AL(e)||VL(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=FL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),n=this.localCache[t];i!==n&&e(t,n,i)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,i)=>{this.notifyListeners(e,i)}));const i=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const n=this.storage.getItem(i);if(e.newValue!==n)null!==e.newValue?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!t)return}const n=()=>{const e=this.storage.getItem(i);(t||this.localCache[i]!==e)&&this.notifyListeners(i,e)},o=this.storage.getItem(i);Nr()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(n,10):n()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const e of Array.from(i))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hx.type="LOCAL";const Gx=Hx;class jx extends Ux{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jx.type="SESSION";const Kx=jx;class $x{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const i=new $x(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:n,data:o}=t.data,s=this.handlersMap[n];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:n});const r=Array.from(s).map((async e=>e(t.origin,o))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(r);t.ports[0].postMessage({status:"done",eventId:i,eventType:n,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function qx(e="",t=10){let i="";for(let e=0;e<t;e++)i+=Math.floor(10*Math.random());return e+i}$x.receivers=[];class Yx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const n="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let o,s;return new Promise(((r,a)=>{const l=qx("",20);n.port1.start();const d=setTimeout((()=>{a(new Error("unsupported_event"))}),i);s={messageChannel:n,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(d),o=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),r(t.data.response);break;default:clearTimeout(d),clearTimeout(o),a(new Error("invalid_response"))}}},this.handlers.add(s),n.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[n.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Qx(){return window}function Zx(){return void 0!==Qx().WorkerGlobalScope&&"function"==typeof Qx().importScripts}const Jx="firebaseLocalStorageDb",Xx="firebaseLocalStorage",eI="fbase_key";class tI{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function iI(e,t){return e.transaction([Xx],t?"readwrite":"readonly").objectStore(Xx)}function nI(){const e=indexedDB.open(Jx,1);return new Promise(((t,i)=>{e.addEventListener("error",(()=>{i(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Xx,{keyPath:eI})}catch(e){i(e)}})),e.addEventListener("success",(async()=>{const i=e.result;i.objectStoreNames.contains(Xx)?t(i):(i.close(),await function(){const e=indexedDB.deleteDatabase(Jx);return new tI(e).toPromise()}(),t(await nI()))}))}))}async function oI(e,t,i){const n=iI(e,!0).put({[eI]:t,value:i});return new tI(n).toPromise()}function sI(e,t){const i=iI(e,!0).delete(t);return new tI(i).toPromise()}class rI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await nI()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$x._getInstance(Zx()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Yx(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&(null===(e=i[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=i[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nI();return await oI(e,Bx,"1"),await sI(e,Bx),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((i=>oI(i,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const i=iI(e,!1).get(t),n=await new tI(i).toPromise();return void 0===n?null:n.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>sI(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=iI(e,!1).getAll();return new tI(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],i=new Set;for(const{fbase_key:n,value:o}of e)i.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(o)&&(this.notifyListeners(n,o),t.push(n));for(const e of Object.keys(this.localCache))this.localCache[e]&&!i.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const e of Array.from(i))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}rI.type="LOCAL";const aI=rI;function lI(e){return new Promise(((t,i)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=e=>{const t=jk("internal-error");t.customData=e,i(t)},n.type="text/javascript",n.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(n)}))}function dI(e){return`__${e}${Math.floor(1e6*Math.random())}`}const cI=1e12;class hI{constructor(e){this.auth=e,this.counter=cI,this._widgets=new Map}render(e,t){const i=this.counter;return this._widgets.set(i,new uI(e,this.auth.name,t||{})),this.counter++,i}reset(e){var t;const i=e||cI;null===(t=this._widgets.get(i))||void 0===t||t.delete(),this._widgets.delete(i)}getResponse(e){var t;const i=e||cI;return(null===(t=this._widgets.get(i))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const i=e||cI;return null===(t=this._widgets.get(i))||void 0===t||t.execute(),""}}class uI{constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const n="string"==typeof e?document.getElementById(e):e;Yk(n,"argument-error",{appName:t}),this.container=n,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],i="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(i.charAt(Math.floor(Math.random()*i.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gI=dI("rcb"),pI=new nL(3e4,6e4);class mI{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Qx().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return Yk(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Qx().grecaptcha):new Promise(((i,n)=>{const o=Qx().setTimeout((()=>{n(jk(e,"network-request-failed"))}),pI.get());Qx()[gI]=()=>{Qx().clearTimeout(o),delete Qx()[gI];const s=Qx().grecaptcha;if(!s)return void n(jk(e,"internal-error"));const r=s.render;s.render=(e,t)=>{const i=r(e,t);return this.counter++,i},this.hostLanguage=t,i(s)},lI(`https://www.google.com/recaptcha/api.js??${Br({onload:gI,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(o),n(jk(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Qx().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fI{async load(e){return new hI(e)}clearedOneInstance(){}}const vI="recaptcha",_I={theme:"light",type:"image"};class bI{constructor(e,t=Object.assign({},_I),i){this.parameters=t,this.type=vI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=UL(i),this.isInvisible="invisible"===this.parameters.size,Yk("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const n="string"==typeof e?document.getElementById(e):e;Yk(n,this.auth,"argument-error"),this.container=n,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fI:new mI,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise((i=>{const n=e=>{e&&(this.tokenChangeListeners.delete(n),i(e))};this.tokenChangeListeners.add(n),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Yk(!this.parameters.sitekey,this.auth,"argument-error"),Yk(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Yk("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const i=Qx()[e];"function"==typeof i&&i(t)}}}assertNotDestroyed(){Yk(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Yk(tL()&&!Zx(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await dL(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Yk(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Yk(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class CI{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ex._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function yI(e,t,i){var n;const o=await i.verify();try{let s;if(Yk("string"==typeof o,e,"argument-error"),Yk(i.type===vI,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Yk("enroll"===t.type,e,"internal-error");const i=await function(e,t){return dL(e,"POST","/v2/accounts/mfaEnrollment:start",lL(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:o}});return i.phoneSessionInfo.sessionInfo}{Yk("signin"===t.type,e,"internal-error");const i=(null===(n=s.multiFactorHint)||void 0===n?void 0:n.uid)||s.multiFactorUid;Yk(i,e,"missing-multi-factor-info");const r=await function(e,t){return dL(e,"POST","/v2/accounts/mfaSignIn:start",lL(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{recaptchaToken:o}});return r.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return dL(e,"POST","/v1/accounts:sendVerificationCode",lL(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:o});return t}}finally{i._reset()}}class wI{constructor(e){this.providerId=wI.PROVIDER_ID,this.auth=UL(e)}verifyPhoneNumber(e,t){return yI(this.auth,e,qr(t))}static credential(e,t){return ex._fromVerification(e,t)}static credentialFromResult(e){const t=e;return wI.credentialFromTaggedObject(t)}static credentialFromError(e){return wI.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:i}=e;return t&&i?ex._fromTokenResponse(t,i):null}}function SI(e,t){return t?Xk(t):(Yk(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}wI.PROVIDER_ID="phone",wI.PHONE_SIGN_IN_METHOD="phone";class kI extends KL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ZL(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ZL(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ZL(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LI(e){return yx(e.auth,new kI(e),e.bypassAuthState)}function xI(e){const{auth:t,user:i}=e;return Yk(i,t,"internal-error"),Cx(i,new kI(e),e.bypassAuthState)}async function II(e){const{auth:t,user:i}=e;return Yk(i,t,"internal-error"),_x(i,new kI(e),e.bypassAuthState)}class DI{constructor(e,t,i,n,o=!1){this.auth=e,this.resolver=i,this.user=n,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:n,tenantId:o,error:s,type:r}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(r)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LI;case"linkViaPopup":case"linkViaRedirect":return II;case"reauthViaPopup":case"reauthViaRedirect":return xI;default:Gk(this.auth,"internal-error")}}resolve(e){Zk(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zk(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const NI=new nL(2e3,1e4);class EI extends DI{constructor(e,t,i,n,o){super(e,t,n,o),this.provider=i,this.authWindow=null,this.pollId=null,EI.currentPopupAction&&EI.currentPopupAction.cancel(),EI.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Yk(e,this.auth,"internal-error"),e}async onExecution(){Zk(1===this.filter.length,"Popup operations only handle one event");const e=qx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(jk(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(jk(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,EI.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;(null===(i=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===i?void 0:i.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(jk(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,NI.get())};e()}}EI.currentPopupAction=null;const AI=new Map;class TI extends DI{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=AI.get(this.auth._key());if(!e){try{const t=await async function(e,t){const i=OI(t),n=PI(e);if(!await n._isAvailable())return!1;const o="true"===await n._get(i);return await n._remove(i),o}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}AI.set(this.auth._key(),e)}return this.bypassAuthState||AI.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function MI(e,t){return PI(e)._set(OI(t),"true")}function RI(e,t){AI.set(e._key(),t)}function PI(e){return Xk(e._redirectPersistence)}function OI(e){return IL("pendingRedirect",e.config.apiKey,e.name)}async function VI(e,t,i=!1){const n=UL(e),o=SI(n,t),s=new TI(n,o,i),r=await s.execute();return r&&!i&&(delete r.user._redirectEventId,await n._persistUserIfCurrent(r.user),await n._setRedirectUser(null,t)),r}async function FI(e){const t=qx(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class WI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BI(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!BI(e)){const n=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(jk(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zI(e))}saveEventToCache(e){this.cachedEventUids.add(zI(e)),this.lastProcessedEventTime=Date.now()}}function zI(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function BI({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function UI(e,t={}){return dL(e,"GET","/v1/projects",t)}const HI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GI=/^https?/;function jI(e){const t=eL(),{protocol:i,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===n?"chrome-extension:"===i&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===i&&o.hostname===n}if(!GI.test(i))return!1;if(HI.test(e))return n===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(n)}const KI=new nL(3e4,6e4);function $I(){const e=Qx().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let qI=null;function YI(e){return qI=qI||function(e){return new Promise(((t,i)=>{var n,o,s;function r(){$I(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$I(),i(jk(e,"network-request-failed"))},timeout:KI.get()})}if(null===(o=null===(n=Qx().gapi)||void 0===n?void 0:n.iframes)||void 0===o?void 0:o.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Qx().gapi)||void 0===s?void 0:s.load)){const t=dI("iframefcb");return Qx()[t]=()=>{gapi.load?r():i(jk(e,"network-request-failed"))},lI(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>i(e)))}r()}})).catch((e=>{throw qI=null,e}))}(e),qI}const QI=new nL(5e3,15e3),ZI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XI(e){const t=e.config;Yk(t.authDomain,e,"auth-domain-config-required");const i=t.emulator?oL(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,n={apiKey:t.apiKey,appName:e.name,v:Wa},o=JI.get(e.config.apiHost);o&&(n.eid=o);const s=e._getFrameworks();return s.length&&(n.fw=s.join(",")),`${i}?${Br(n).slice(1)}`}const eD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function iD(e,t,i,n,o,s){Yk(e.config.authDomain,e,"auth-domain-config-required"),Yk(e.config.apiKey,e,"invalid-api-key");const r={apiKey:e.config.apiKey,appName:e.name,authType:i,redirectUrl:n,v:Wa,eventId:o};if(t instanceof nx){t.setDefaultLanguage(e.languageCode),r.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(r.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))r[e]=t}if(t instanceof ox){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(r.scopes=e.join(","))}e.tenantId&&(r.tid=e.tenantId);const a=r;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];return`${function({config:e}){return e.emulator?oL(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${Br(a).slice(1)}`}const nD="webStorageSupport",oD=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kx,this._completeRedirectFn=VI,this._overrideRedirectResult=RI}async _openPopup(e,t,i,n){var o;return Zk(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),function(e,t,i,n=500,o=600){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),r=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const l=Object.assign(Object.assign({},eD),{width:n.toString(),height:o.toString(),top:s,left:r}),d=Lr().toLowerCase();i&&(a=TL(d)?"_blank":i),EL(d)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,[t,i])=>`${e}${t}=${i},`),"");if(function(e=Lr()){var t;return VL(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(d)&&"_self"!==a)return function(e,t){const i=document.createElement("a");i.href=e,i.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}(t||"",a),new tD(null);const h=window.open(t||"",a,c);Yk(h,e,"popup-blocked");try{h.focus()}catch(e){}return new tD(h)}(e,iD(e,t,i,eL(),n),qx())}async _openRedirect(e,t,i,n){var o;return await this._originValidation(e),o=iD(e,t,i,eL(),n),Qx().location.href=o,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:i}=this.eventManagers[t];return e?Promise.resolve(e):(Zk(i,"If manager is not set, promise should be"),i)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch((()=>{delete this.eventManagers[t]})),i}async initAndGetManager(e){const t=await async function(e){const t=await YI(e),i=Qx().gapi;return Yk(i,e,"internal-error"),t.open({where:document.body,url:XI(e),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZI,dontclear:!0},(t=>new Promise((async(i,n)=>{await t.restyle({setHideOnLeave:!1});const o=jk(e,"network-request-failed"),s=Qx().setTimeout((()=>{n(o)}),QI.get());function r(){Qx().clearTimeout(s),i(t)}t.ping(r).then(r,(()=>{n(o)}))}))))}(e),i=new WI(e);return t.register("authEvent",(t=>(Yk(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:i.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nD,{type:nD},(i=>{var n;const o=null===(n=null==i?void 0:i[0])||void 0===n?void 0:n[nD];void 0!==o&&t(!!o),Gk(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await UI(e);for(const e of t)try{if(jI(e))return}catch(e){}Gk(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return FL()||AL()||VL()}};class sD{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return Qk("unexpected MultiFactorSessionType")}}}class rD extends sD{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new rD(e)}_finalizeEnroll(e,t,i){return function(e,t){return dL(e,"POST","/v2/accounts/mfaEnrollment:finalize",lL(e,t))}(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return dL(e,"POST","/v2/accounts/mfaSignIn:finalize",lL(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class aD{constructor(){}static assertion(e){return rD._fromCredential(e)}}aD.FACTOR_ID="phone";var lD,dD="@firebase/auth",cD="0.20.11";class hD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var i;e((null===(i=t)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Yk(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uD(){return window}(e=>{var t;null===(t=Mr())||void 0===t||t._authIdTokenMaxAge})(),lD="Browser",Ma(new Yr("auth",((e,{options:t})=>{const i=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat"),{apiKey:o,authDomain:s}=i.options;return((e,i)=>{Yk(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Yk(!(null==s?void 0:s.includes(":")),"argument-error",{appName:e.name});const n={apiKey:o,authDomain:s,clientPlatform:lD,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WL(lD)},r=new BL(e,i,n);return function(e,t){const i=(null==t?void 0:t.persistence)||[],n=(Array.isArray(i)?i:[i]).map(Xk);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null==t?void 0:t.popupRedirectResolver)}(r,t),r})(i,n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,i)=>{e.getProvider("auth-internal").initialize()}))),Ma(new Yr("auth-internal",(e=>{return t=UL(e.getProvider("auth").getImmediate()),new hD(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ga(dD,cD,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(lD)),Ga(dD,cD,"esm2017");class gD extends WI{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function pD(e){const t=await fD()._get(vD(e));return t&&await fD()._remove(vD(e)),t}function mD(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<20;i++){const i=Math.floor(Math.random()*t.length);e.push(t.charAt(i))}return e.join("")}function fD(){return Xk(Gx)}function vD(e){return IL("authEvent",e.config.apiKey,e.name)}function _D(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...i]=e.split("?");return Ur(i.join("?"))}const bD=class{constructor(){this._redirectPersistence=Kx,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=VI,this._overrideRedirectResult=RI}async _initialize(e){const t=e._key();let i=this.eventManagers.get(t);return i||(i=new gD(e),this.eventManagers.set(t,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){Gk(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,i,n){!function(e){var t,i,n,o,s,r,a,l,d,c;const h=uD();Yk("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Yk(void 0!==(null===(i=null==h?void 0:h.BuildInfo)||void 0===i?void 0:i.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Yk("function"==typeof(null===(s=null===(o=null===(n=null==h?void 0:h.cordova)||void 0===n?void 0:n.plugins)||void 0===o?void 0:o.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Yk("function"==typeof(null===(l=null===(a=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Yk("function"==typeof(null===(c=null===(d=null==h?void 0:h.cordova)||void 0===d?void 0:d.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),AI.clear(),await this._originValidation(e);const s=function(e,t,i=null){return{type:t,eventId:i,urlResponse:null,sessionId:mD(),postBody:null,tenantId:e.tenantId,error:jk(e,"no-auth-event")}}(e,i,n);await function(e,t){return fD()._set(vD(e),t)}(e,s);const r=await async function(e,t,i){var n;const{BuildInfo:o}=uD();Zk(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Zk(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),i=new Uint8Array(t);for(let t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i}(e),i=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(i)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),r={};return VL()?r.ibi=o.packageName:RL()?r.apn=o.packageName:Gk(e,"operation-not-supported-in-this-environment"),o.displayName&&(r.appDisplayName=o.displayName),r.sessionId=s,iD(e,i,t.type,void 0,null!==(n=t.eventId)&&void 0!==n?n:void 0,r)}(e,s,t);return async function(e,t,i){const{cordova:n}=uD();let o=()=>{};try{await new Promise(((s,r)=>{let a=null;function l(){var e;s();const t=null===(e=n.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==i?void 0:i.close)&&i.close()}function d(){a||(a=window.setTimeout((()=>{r(jk(e,"redirect-cancelled-by-user"))}),2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&d()}t.addPassiveListener(l),document.addEventListener("resume",d,!1),RL()&&document.addEventListener("visibilitychange",c,!1),o=()=>{t.removePassiveListener(l),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}}))}finally{o()}}(e,o,await function(e){const{cordova:t}=uD();return new Promise((i=>{t.plugins.browsertab.isAvailable((n=>{let o=null;n?t.plugins.browsertab.openUrl(e):o=t.InAppBrowser.open(e,function(e=Lr()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),i(o)}))}))}(r))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=uD(),i={};VL()?i.iosBundleId=t.packageName:RL()?i.androidPackageName=t.packageName:Gk(e,"operation-not-supported-in-this-environment"),await UI(e,i)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:i,handleOpenURL:n,BuildInfo:o}=uD(),s=setTimeout((async()=>{await pD(e),t.onEvent(CD())}),500),r=async i=>{clearTimeout(s);const n=await pD(e);let o=null;n&&(null==i?void 0:i.url)&&(o=function(e,t){var i,n;const o=function(e){const t=_D(e),i=t.link?decodeURIComponent(t.link):void 0,n=_D(i).link,o=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return _D(o).link||o||n||i||e}(t);if(o.includes("/__/auth/callback")){const t=_D(o),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,r=null===(n=null===(i=null==s?void 0:s.code)||void 0===i?void 0:i.split("auth/"))||void 0===n?void 0:n[1],a=r?jk(r):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:o,postBody:null}}return null}(n,i.url)),t.onEvent(o||CD())};void 0!==i&&"function"==typeof i.subscribe&&i.subscribe(null,r);const a=n,l=`${o.packageName.toLowerCase()}://`;uD().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&r({url:e}),"function"==typeof a)try{a(e)}catch(e){console.error(e)}}}};function CD(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:jk("no-auth-event")}}function yD(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function wD(e=Lr()){return!("file:"!==yD()&&"ionic:"!==yD()&&"capacitor:"!==yD()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function SD(){try{const e=self.localStorage,t=qx();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=Lr()){return Nr()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=Lr()){return/Edge\/\d+/.test(e)}(e)}()||Er()}catch(e){return kD()&&Er()}return!1}function kD(){return void 0!==o.g&&"WorkerGlobalScope"in o.g&&"importScripts"in o.g}function LD(){return("http:"===yD()||"https:"===yD()||Ir()||wD())&&!(Dr()||xr())&&SD()&&!kD()}function xD(){return wD()&&"undefined"!=typeof document}const ID={LOCAL:"local",NONE:"none",SESSION:"session"},DD=Yk,ND="persistence";async function ED(e){await e._initializationPromise;const t=AD(),i=IL(ND,e.config.apiKey,e.name);t&&t.setItem(i,e._getPersistence())}function AD(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(e){return null}}const TD=Yk;class MD{constructor(){this.browserResolver=Xk(oD),this.cordovaResolver=Xk(bD),this.underlyingResolver=null,this._redirectPersistence=Kx,this._completeRedirectFn=VI,this._overrideRedirectResult=RI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,i,n){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,i,n)}async _openRedirect(e,t,i,n){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,i,n)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return xD()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return TD(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!xD()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function RD(e){return e.unwrap()}function PD(e){const{_tokenResponse:t}=e instanceof Pr?e.customData:e;if(!t)return null;if(!(e instanceof Pr)&&"temporaryProof"in t&&"phoneNumber"in t)return wI.credentialFromResult(e);const i=t.providerId;if(!i||"password"===i)return null;let n;switch(i){case"google.com":n=ax;break;case"facebook.com":n=rx;break;case"github.com":n=lx;break;case"twitter.com":n=hx;break;default:const{oauthIdToken:e,oauthAccessToken:o,oauthTokenSecret:s,pendingToken:r,nonce:a}=t;return o||s||e||r?r?i.startsWith("saml.")?dx._create(i,r):JL._fromParams({providerId:i,signInMethod:i,pendingToken:r,idToken:e,accessToken:o}):new sx(i).credential({idToken:e,accessToken:o,rawNonce:a}):null}return e instanceof Pr?n.credentialFromError(e):n.credentialFromResult(e)}function OD(e,t){return t.catch((t=>{throw t instanceof Pr&&function(e,t){var i,n;const o=null===(i=t.customData)||void 0===i?void 0:i._tokenResponse;if("auth/multi-factor-auth-required"===(null===(n=t)||void 0===n?void 0:n.code))t.resolver=new FD(e,function(e,t){var i;const n=qr(e),o=t;return Yk(t.customData.operationType,n,"argument-error"),Yk(null===(i=o.customData._serverResponse)||void 0===i?void 0:i.mfaPendingCredential,n,"argument-error"),Fx._fromError(n,o)}(e,t));else if(o){const e=PD(t),i=t;e&&(i.credential=e,i.tenantId=o.tenantId||void 0,i.email=o.email||void 0,i.phoneNumber=o.phoneNumber||void 0)}}(e,t),t})).then((e=>{const t=e.operationType,i=e.user;return{operationType:t,credential:(n=e,PD(n)),additionalUserInfo:Ox(e),user:WD.getOrCreate(i)};var n}))}async function VD(e,t){const i=await t;return{verificationId:i.verificationId,confirm:t=>OD(e,i.confirm(t))}}class FD{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return OD(RD(this.auth),this.resolver.resolveSignIn(e))}}class WD{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=qr(e);return zx.has(t)||zx.set(t,Wx._fromUser(t)),zx.get(t)}(e)}static getOrCreate(e){return WD.USER_MAP.has(e)||WD.USER_MAP.set(e,new WD(e)),WD.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return OD(this.auth,Sx(this._delegate,e))}async linkWithPhoneNumber(e,t){return VD(this.auth,async function(e,t,i){const n=qr(e);await bx(!1,n,"phone");const o=await yI(n.auth,t,qr(i));return new CI(o,(e=>Sx(n,e)))}(this._delegate,e,t))}async linkWithPopup(e){return OD(this.auth,async function(e,t,i){const n=qr(e);$k(n.auth,t,nx);const o=SI(n.auth,i);return new EI(n.auth,"linkViaPopup",t,o,n).executeNotNull()}(this._delegate,e,MD))}async linkWithRedirect(e){return await ED(UL(this.auth)),function(e,t,i){return async function(e,t,i){const n=qr(e);$k(n.auth,t,nx);const o=SI(n.auth,i);await bx(!1,n,t.providerId),await MI(o,n.auth);const s=await FI(n);return o._openRedirect(n.auth,t,"linkViaRedirect",s)}(e,t,i)}(this._delegate,e,MD)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return OD(this.auth,kx(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return VD(this.auth,async function(e,t,i){const n=qr(e),o=await yI(n.auth,t,qr(i));return new CI(o,(e=>kx(n,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return OD(this.auth,async function(e,t,i){const n=qr(e);$k(n.auth,t,nx);const o=SI(n.auth,i);return new EI(n.auth,"reauthViaPopup",t,o,n).executeNotNull()}(this._delegate,e,MD))}async reauthenticateWithRedirect(e){return await ED(UL(this.auth)),function(e,t,i){return async function(e,t,i){const n=qr(e);$k(n.auth,t,nx);const o=SI(n.auth,i);await MI(o,n.auth);const s=await FI(n);return o._openRedirect(n.auth,t,"reauthViaRedirect",s)}(e,t,i)}(this._delegate,e,MD)}sendEmailVerification(e){return async function(e,t){const i=qr(e),n={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Ix(i.auth,n,t);const{email:o}=await async function(e,t){return YL(e,t)}(i.auth,n);o!==e.email&&await e.reload()}(this._delegate,e)}async unlink(e){return await async function(e,t){const i=qr(e);await bx(!0,i,t);const{providerUserInfo:n}=await async function(e,t){return dL(e,"POST","/v1/accounts:update",t)}(i.auth,{idToken:await i.getIdToken(),deleteProvider:[t]}),o=vx(n||[]);return i.providerData=i.providerData.filter((e=>o.has(e.providerId))),o.has("phone")||(i.phoneNumber=null),await i.auth._persistUserIfCurrent(i),i}(this._delegate,e),this}updateEmail(e){return function(e,t){return Nx(qr(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Nx(qr(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await _x(qr(e),t)}(this._delegate,e)}updateProfile(e){return async function(e,{displayName:t,photoURL:i}){if(void 0===t&&void 0===i)return;const n=qr(e),o={idToken:await n.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},s=await _L(n,async function(e,t){return dL(e,"POST","/v1/accounts:update",t)}(n.auth,o));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;const r=n.providerData.find((({providerId:e})=>"password"===e));r&&(r.displayName=n.displayName,r.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return async function(e,t,i){const n=qr(e),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};i&&Ix(n.auth,o,i);const{email:s}=await async function(e,t){return YL(e,t)}(n.auth,o);s!==e.email&&await e.reload()}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}WD.USER_MAP=new WeakMap;const zD=Yk;class BD{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:i}=e.options;zD(i,"invalid-api-key",{appName:e.name}),zD(i,"invalid-api-key",{appName:e.name});const n="undefined"!=typeof window?MD:void 0;this._delegate=t.initialize({options:{persistence:HD(i,e.name),popupRedirectResolver:n}}),this._delegate._updateErrorMap(Wk),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?WD.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,i){const n=UL(e);Yk(n._canInitEmulator,n,"emulator-config-failed"),Yk(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const o=!!(null==i?void 0:i.disableWarnings),s=GL(t),{host:r,port:a}=function(e){const t=GL(e),i=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!i)return{host:"",port:null};const n=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(n);if(o){const e=o[1];return{host:e,port:jL(n.substr(e.length+1))}}{const[e,t]=n.split(":");return{host:e,port:jL(t)}}}(t),l=null===a?"":`:${a}`;n.config.emulator={url:`${s}//${r}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:r,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return async function(e,t){await async function(e,t){return dL(e,"POST","/v1/accounts:update",lL(e,t))}(qr(e),{oobCode:t})}(this._delegate,e)}checkActionCode(e){return Dx(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,i){await $L(qr(e),{oobCode:t,newPassword:i})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return OD(this._delegate,async function(e,t,i){const n=UL(e),o=await ux(n,{returnSecureToken:!0,email:t,password:i}),s=await gx._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return async function(e,t){const i={identifier:t,continueUri:tL()?eL():"http://localhost"},{signinMethods:n}=await async function(e,t){return dL(e,"POST","/v1/accounts:createAuthUri",lL(e,t))}(qr(e),i);return n||[]}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const i=tx.parseLink(t);return"EMAIL_SIGNIN"===(null==i?void 0:i.operation)}(this._delegate,e)}async getRedirectResult(){zD(LD(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await UL(e)._initializationPromise,VI(e,t,!1)}(this._delegate,MD);return e?OD(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){UL(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,i){const{next:n,error:o,complete:s}=UD(e,t,i);return this._delegate.onAuthStateChanged(n,o,s)}onIdTokenChanged(e,t,i){const{next:n,error:o,complete:s}=UD(e,t,i);return this._delegate.onIdTokenChanged(n,o,s)}sendSignInLinkToEmail(e,t){return async function(e,t,i){const n=qr(e),o={requestType:"EMAIL_SIGNIN",email:t};Yk(i.handleCodeInApp,n,"argument-error"),i&&Ix(n,o,i),await async function(e,t){return YL(e,t)}(n,o)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,i){const n=qr(e),o={requestType:"PASSWORD_RESET",email:t};i&&Ix(n,o,i),await async function(e,t){return YL(e,t)}(n,o)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){DD(Object.values(ID).includes(t),e,"invalid-persistence-type"),Dr()?DD(t!==ID.SESSION,e,"unsupported-persistence-type"):xr()?DD(t===ID.NONE,e,"unsupported-persistence-type"):kD()?DD(t===ID.NONE||t===ID.LOCAL&&Er(),e,"unsupported-persistence-type"):DD(t===ID.NONE||SD(),e,"unsupported-persistence-type")}(this._delegate,e),e){case ID.SESSION:t=Kx;break;case ID.LOCAL:t=await Xk(aI)._isAvailable()?aI:Gx;break;case ID.NONE:t=xL;break;default:return Gk("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return OD(this._delegate,async function(e){var t;const i=UL(e);if(await i._initializationPromise,null===(t=i.currentUser)||void 0===t?void 0:t.isAnonymous)return new gx({user:i.currentUser,providerId:null,operationType:"signIn"});const n=await ux(i,{returnSecureToken:!0}),o=await gx._fromIdTokenResponse(i,"signIn",n,!0);return await i._updateCurrentUser(o.user),o}(this._delegate))}signInWithCredential(e){return OD(this._delegate,wx(this._delegate,e))}signInWithCustomToken(e){return OD(this._delegate,async function(e,t){const i=UL(e),n=await async function(e,t){return hL(e,"POST","/v1/accounts:signInWithCustomToken",lL(e,t))}(i,{token:t,returnSecureToken:!0}),o=await gx._fromIdTokenResponse(i,"signIn",n);return await i._updateCurrentUser(o.user),o}(this._delegate,e))}signInWithEmailAndPassword(e,t){return OD(this._delegate,function(e,t,i){return wx(qr(e),ix.credential(t,i))}(this._delegate,e,t))}signInWithEmailLink(e,t){return OD(this._delegate,async function(e,t,i){const n=qr(e),o=ix.credentialWithLink(t,i||eL());return Yk(o._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),wx(n,o)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return VD(this._delegate,async function(e,t,i){const n=UL(e),o=await yI(n,t,qr(i));return new CI(o,(e=>wx(n,e)))}(this._delegate,e,t))}async signInWithPopup(e){return zD(LD(),this._delegate,"operation-not-supported-in-this-environment"),OD(this._delegate,async function(e,t,i){const n=UL(e);$k(e,t,nx);const o=SI(n,i);return new EI(n,"signInViaPopup",t,o).executeNotNull()}(this._delegate,e,MD))}async signInWithRedirect(e){return zD(LD(),this._delegate,"operation-not-supported-in-this-environment"),await ED(this._delegate),function(e,t,i){return async function(e,t,i){const n=UL(e);$k(e,t,nx);const o=SI(n,i);return await MI(o,n),o._openRedirect(n,t,"signInViaRedirect")}(e,t,i)}(this._delegate,e,MD)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:i}=await Dx(qr(e),t);return i.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function UD(e,t,i){let n=e;"function"!=typeof e&&({next:n,error:t,complete:i}=e);const o=n;return{next:e=>o(e&&WD.getOrCreate(e)),error:t,complete:i}}function HD(e,t){const i=function(e,t){const i=AD();if(!i)return[];const n=IL(ND,e,t);switch(i.getItem(n)){case ID.NONE:return[xL];case ID.LOCAL:return[aI,Kx];case ID.SESSION:return[Kx];default:return[]}}(e,t);if("undefined"==typeof self||i.includes(aI)||i.push(aI),"undefined"!=typeof window)for(const e of[Gx,Kx])i.includes(e)||i.push(e);return i.includes(xL)||i.push(xL),i}BD.Persistence=ID;class GD{constructor(){this.providerId="phone",this._delegate=new wI(RD(rl.auth()))}static credential(e,t){return wI.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}GD.PHONE_SIGN_IN_METHOD=wI.PHONE_SIGN_IN_METHOD,GD.PROVIDER_ID=wI.PROVIDER_ID;const jD=Yk;class KD{constructor(e,t,i=rl.app()){var n;jD(null===(n=i.options)||void 0===n?void 0:n.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new bI(e,t,i.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}function $D(){rl.initializeApp({apiKey:"AIzaSyDFV9DY9TO1wKlKa4JNlG-J3XPh162X6tk",authDomain:"editsvgcode-db.firebaseapp.com",databaseURL:"https://editsvgcode-db.firebaseio.com",projectId:"editsvgcode-db",storageBucket:"editsvgcode-db.appspot.com",messagingSenderId:"112195396800",appId:"1:112195396800:web:2d89974b60aacf6ac3b925",measurementId:"G-EZ58N4GC8Z"}),rl.analytics(),this.db=rl.firestore(),rl.auth().onAuthStateChanged((function(e){e?document.dispatchEvent(new Event("dbinit")):rl.auth().signInAnonymously().catch((function(e){console.error("Unable to authenticate: "+e.message)}))}))}!function(e){e.INTERNAL.registerComponent(new Yr("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new BD(t,i)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ix,FacebookAuthProvider:rx,GithubAuthProvider:lx,GoogleAuthProvider:ax,OAuthProvider:sx,SAMLAuthProvider:cx,PhoneAuthProvider:GD,PhoneMultiFactorGenerator:aD,RecaptchaVerifier:KD,TwitterAuthProvider:hx,Auth:BD,AuthCredential:KL,Error:Pr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.24")}(rl),$D.prototype.loadDocument=function(e){let t=this.db.collection("files").doc(e);return new Promise((function(i,n){t.get().then((function(t){if(t.exists){let e=t.data();i(e.text)}else console.warn("file id does not exist: "+e),i("")})).catch((function(e){console.error("Error reading document: ",e),n(e)}))}))},$D.prototype.saveDocument=function(e,t){let i=this.db.collection("files").doc(e);return new Promise((function(e,n){i.set({text:t,modified:new Date}).then((function(t){e(t)})).catch((function(e){console.error("Error adding document: ",e),n(e)}))}))},o(522),o(4066),o(3314),function(e,t){if(void 0===t&&(t={}),Js)return{};var i,n,o,s,r,a,l=e;Array.from&&(l=Array.from(l));var d=cr(l[0]).parentNode,c=getComputedStyle?getComputedStyle(d):null,h=c?c.flexDirection:null,u=hr(t,"sizes")||l.map((function(){return 100/l.length})),g=hr(t,"minSize",100),p=Array.isArray(g)?g:l.map((function(){return g})),m=hr(t,"maxSize",1/0),f=Array.isArray(m)?m:l.map((function(){return m})),v=hr(t,"expandToMin",!1),_=hr(t,"gutterSize",10),b=hr(t,"gutterAlign","center"),C=hr(t,"snapOffset",30),y=Array.isArray(C)?C:l.map((function(){return C})),w=hr(t,"dragInterval",1),S=hr(t,"direction",rr),k=hr(t,"cursor",S===rr?"col-resize":"row-resize"),L=hr(t,"gutter",gr),x=hr(t,"elementStyle",pr),I=hr(t,"gutterStyle",mr);function D(e,t,n,o){var s=x(i,t,n,o);Object.keys(s).forEach((function(t){e.style[t]=s[t]}))}function N(){return a.map((function(e){return e.size}))}function E(e){return"touches"in e?e.touches[0][n]:e[n]}function A(e){var t=a[this.a],i=a[this.b],n=t.size+i.size;t.size=e/this.size*n,i.size=n-e/this.size*n,D(t.element,t.size,this[or],t.i),D(i.element,i.size,this[sr],i.i)}function T(e){var i,n=a[this.a],o=a[this.b];this.dragging&&(i=E(e)-this.start+(this[or]-this.dragOffset),w>1&&(i=Math.round(i/w)*w),i<=n.minSize+n.snapOffset+this[or]?i=n.minSize+this[or]:i>=this.size-(o.minSize+o.snapOffset+this[sr])&&(i=this.size-(o.minSize+this[sr])),i>=n.maxSize-n.snapOffset+this[or]?i=n.maxSize+this[or]:i<=this.size-(o.maxSize-o.snapOffset+this[sr])&&(i=this.size-(o.maxSize+this[sr])),A.call(this,i),hr(t,"onDrag",ar)(N()))}function M(){var e=a[this.a].element,t=a[this.b].element,n=e[ir](),r=t[ir]();this.size=n[i]+r[i]+this[or]+this[sr],this.start=n[o],this.end=n[s]}function R(e){var t=function(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;var i=e[r];return 0===i?null:i-=S===rr?parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)}(d);if(null===t)return e;if(p.reduce((function(e,t){return e+t}),0)>t)return e;var i=0,n=[],o=e.map((function(o,s){var r=t*o/100,a=ur(_,0===s,s===e.length-1,b),l=p[s]+a;return r<l?(i+=l-r,n.push(0),l):(n.push(r-l),r)}));return 0===i?e:o.map((function(e,o){var s=e;if(i>0&&n[o]-i>0){var r=Math.min(i,n[o]-i);i-=r,s=e-r}return s/t*100}))}function P(){var e=this,i=a[e.a].element,n=a[e.b].element;e.dragging&&hr(t,"onDragEnd",ar)(N()),e.dragging=!1,Zs[tr]("mouseup",e.stop),Zs[tr]("touchend",e.stop),Zs[tr]("touchcancel",e.stop),Zs[tr]("mousemove",e.move),Zs[tr]("touchmove",e.move),e.stop=null,e.move=null,i[tr]("selectstart",ar),i[tr]("dragstart",ar),n[tr]("selectstart",ar),n[tr]("dragstart",ar),i.style.userSelect="",i.style.webkitUserSelect="",i.style.MozUserSelect="",i.style.pointerEvents="",n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",e.gutter.style.cursor="",e.parent.style.cursor="",Xs.body.style.cursor=""}function O(e){if(!("button"in e)||0===e.button){var i=this,n=a[i.a].element,o=a[i.b].element;i.dragging||hr(t,"onDragStart",ar)(N()),e.preventDefault(),i.dragging=!0,i.move=T.bind(i),i.stop=P.bind(i),Zs[er]("mouseup",i.stop),Zs[er]("touchend",i.stop),Zs[er]("touchcancel",i.stop),Zs[er]("mousemove",i.move),Zs[er]("touchmove",i.move),n[er]("selectstart",ar),n[er]("dragstart",ar),o[er]("selectstart",ar),o[er]("dragstart",ar),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none",n.style.pointerEvents="none",o.style.userSelect="none",o.style.webkitUserSelect="none",o.style.MozUserSelect="none",o.style.pointerEvents="none",i.gutter.style.cursor=k,i.parent.style.cursor=k,Xs.body.style.cursor=k,M.call(i),i.dragOffset=E(e)-i.end}}S===rr?(i="width",n="clientX",o="left",s="right",r="clientWidth"):"vertical"===S&&(i="height",n="clientY",o="top",s="bottom",r="clientHeight"),u=R(u);var V=[];function F(e){var t=e.i===V.length,i=t?V[e.i-1]:V[e.i];M.call(i);var n=t?i.size-e.minSize-i[sr]:e.minSize+i[or];A.call(i,n)}a=l.map((function(e,t){var n,o={element:cr(e),size:u[t],minSize:p[t],maxSize:f[t],snapOffset:y[t],i:t};if(t>0&&((n={a:t-1,b:t,dragging:!1,direction:S,parent:d})[or]=ur(_,t-1==0,!1,b),n[sr]=ur(_,!1,t===l.length-1,b),"row-reverse"===h||"column-reverse"===h)){var s=n.a;n.a=n.b,n.b=s}if(t>0){var r=L(t,S,o.element);!function(e,t,n){var o=I(i,t,n);Object.keys(o).forEach((function(t){e.style[t]=o[t]}))}(r,_,t),n[nr]=O.bind(n),r[er]("mousedown",n[nr]),r[er]("touchstart",n[nr]),d.insertBefore(r,o.element),n.gutter=r}return D(o.element,o.size,ur(_,0===t,t===l.length-1,b),t),t>0&&V.push(n),o})),a.forEach((function(e){var t=e.element[ir]()[i];t<e.minSize&&(v?F(e):e.minSize=t)}))}(["#editor","#output","#sidebar"],{gutterSize:5,sizes:[45,45,10],minSize:[0,0,150]});const qD=i.editor.create(document.getElementById("editor"),{theme:"vs-dark",language:"xml",automaticLayout:!0,tabSize:2,value:"Loading please wait...",readOnly:!0});function YD(e){const t=" ".repeat(2);let i=0;return(e=e.replace(/(>)(<)(\/*)/g,"$1\r\n$2$3")).split("\r\n").map(((e,n)=>{let o=0;return e.match(/.+<\/\w[^>]*>$/)?o=0:e.match(/^<\/\w/)&&i>0?i-=1:o=e.match(/^<\w[^>]*[^/]>.*$/)?1:0,i+=o,t.repeat(i-o)+e})).join("\r\n")}var QD;i.languages.registerDocumentFormattingEditProvider("xml",{provideDocumentFormattingEdits:async(e,t,i)=>[{range:e.getFullModelRange(),text:YD(e.getValue())}]}),i.languages.registerCompletionItemProvider("xml",(QD=i,{triggerCharacters:["<"],provideCompletionItems:function(e,t){let i=e.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:t.lineNumber,endColumn:t.column}),n=vr(i);if(!n.isCompletionAvailable)return[];var o=_r(n.clearedText),s=(new DOMParser).parseFromString(i,"text/xml"),r=[],a=[],l=o&&o.isAttributeSearch;if(o)for(var d=s.lastElementChild;d;){if(r.push(d.tagName),d.tagName===o.tagName){if(o.isAttributeSearch)for(var c=d.attributes,h=0;h<c.length;h++)a.push(c[h].nodeName);else{var u=d.children;for(h=0;h<u.length;h++)a.push(u[h].tagName)}break}d=d.lastElementChild}const g=o?l?function(e,t,i){var n=[],o=fr[t.tagName];if(!o||!o.attributes)return[];for(var s=0;s<o.attributes.length;s++){var r=o.attributes[s];br(r.name,r.maxOccurs,i)&&n.push({label:r.name,insertText:`${r.name}="\${1}"`,kind:e.languages.CompletionItemKind.Property,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:r.detail,documentation:{value:r.description||"",isTrusted:!0}})}return n}(QD,o,a):function(e,t,i){var n=[],o=fr[t.tagName];if(!o||!o.elements)return[];for(var s=0;s<o.elements.length;s++){var r=o.elements[s],a=fr[r];n.push({label:r,insertText:`${r}>\${1}</${r}`,kind:e.languages.CompletionItemKind.Class,detail:a.detail,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:{value:a.description||"",isTrusted:!0}})}return n}(QD,o):[];return console.log(g),{suggestions:g}}})),i.languages.registerHoverProvider("xml",function(e){return{provideHover:function(t,i,n){let o=t.getWordAtPosition(i);if(o)if("<"==t.getLineContent(i.lineNumber).substr(o.startColumn-2,1)){let t=fr[o.word];if(t)return{contents:[{value:`**${o.word}**`},{value:t.description}],range:new e.Range(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn)}}else{let n=vr(t.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column}));if(n.isCompletionAvailable){var s=_r(n.clearedText);let t=fr[s.tagName];if(t&&t.attributes)for(var r=0;r<t.attributes.length;r++){var a=t.attributes[r];if(a.name===o.word)return{contents:[{value:`**${o.word}**`},{value:a.description}],range:new e.Range(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn)}}}}}}}(i)),qD.onDidChangeModelContent((e=>{document.getElementById("output").innerHTML=qD.getValue()}));var ZD=new $D;function JD(){return document.location.pathname.split("/")[1]}function XD(){return Math.random().toString(36).substring(2)+Date.now().toString(36)}const eN=document.getElementById("save");eN.addEventListener("click",(function(){let e=JD()||XD(),t=qD.getValue();eN.disabled=!0,ZD.saveDocument(e,t).then((function(){history.pushState({},"Saved","/"+e)})).finally((function(){eN.disabled=!1}))})),document.getElementById("file_upload").addEventListener("change",(function(){var e=new FileReader;e.onload=function(e){var t=e.target.result;t=t.replace("data:image/svg+xml;base64,",""),qD.setValue(window.atob(t))},e.readAsDataURL(this.files[0])})),document.getElementById("download").addEventListener("click",(function(){const e=qD.getValue();var t=JD()||XD(),i=document.createElement("a");i.setAttribute("href","data:image/svg+xml;base64,"+window.btoa(e)),i.setAttribute("download",t+".svg"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)})),document.getElementById("upload").addEventListener("click",(function(){document.getElementById("file_upload").click()})),document.addEventListener("dbinit",(function(){const e=JD();e?ZD.loadDocument(e).then((function(e){qD.setValue(e),qD.updateOptions({readOnly:!1})})):(qD.setValue('\x3c!-- sample rectangle --\x3e\n<svg width="200" height="200" xmlns="http://www.w3.org/2000/svg">\n  <rect width="100" height="100" x="50" y="50" fill="red" />\n</svg>'),qD.updateOptions({readOnly:!1}))})),bt("#upload",{content:"Upload a SVG file from local computer to edit",theme:"editsvgcode"}),bt("#download",{content:"Download the file to the local computer",theme:"editsvgcode"}),bt("#save",{content:"Save the contents of the file in the cloud",theme:"editsvgcode"})})()})();